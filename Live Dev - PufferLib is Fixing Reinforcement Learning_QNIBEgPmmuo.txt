Kind: captions
Language: en
we are back
we are back
live
hi we have some experiments to check and
hi we have some experiments to check and
finally it looks like um we no longer
finally it looks like um we no longer
have
have
crashing I mean those are nice right
crashing I mean those are nice right
those are very nice
doesn't have the new grad Norm stuff in
doesn't have the new grad Norm stuff in
it
but we get them
uh some grass
what is this
what is this
one for
okay so this is set beta to
.96 and just put this on the stream as
.96 and just put this on the stream as
well uh what else
oh interesting that it increased the
oh interesting that it increased the
preconditioning learning rate because
preconditioning learning rate because
they all told me to decrease it goes to
they all told me to decrease it goes to
show you that intuition does not
show you that intuition does not
match like intuition really doesn't help
match like intuition really doesn't help
you at the moment in a lot of these
you at the moment in a lot of these
things
things
and by intuition I mean like the way you
and by intuition I mean like the way you
would think it would work based on the
would think it would work based on the
math doesn't always happen that
way but hey this is
way but hey this is
cool so I think we let this uh this
cool so I think we let this uh this
sweep keep going for a bit and then what
sweep keep going for a bit and then what
I'll do is tonight I'll queue up um you
I'll do is tonight I'll queue up um you
know a long run looking for the best
know a long run looking for the best
prams so we haven't checked in on
prams so we haven't checked in on
our our best run in a while
way if I just do
this oh it's almost
this oh it's almost
done almost
done almost
done this is stable over the whole thing
done this is stable over the whole thing
so far as
so far as
well to
well to
4.12 when I checked it before
4.12 when I checked it before
3.7 that's
3.7 that's
nice very solid
nice very solid
curve
for e
all right
that's very
that's very
weird I'll have to look at
weird I'll have to look at
that um
okay my head's a little fuzzy at the
okay my head's a little fuzzy at the
moment with uh these results cuz things
moment with uh these results cuz things
don't don't all behave the way I
don't don't all behave the way I
expected I mean it looks like we're
expected I mean it looks like we're
getting good results so I think what I
getting good results so I think what I
want to do here for a bit is kind of
want to do here for a bit is kind of
just hang out and talk through out
just hang out and talk through out
loud a little bit of uh of what all this
loud a little bit of uh of what all this
could mean and where to go from here
could mean and where to go from here
so let's start with muan this Baseline
so let's start with muan this Baseline
is
is
muan we tuned muan
muan we tuned muan
for breakout and then roughly the same
for breakout and then roughly the same
hyper parameters worked on everything
else actually I don't know about this
else actually I don't know about this
one I think we had to except this one
one I think we had to except this one
this one I think we had to use a few
this one I think we had to use a few
different things but basically all the
different things but basically all the
other Ms mu on worked pretty much out of
other Ms mu on worked pretty much out of
the box with a few hyper Prem tweaks
the box with a few hyper Prem tweaks
that you would more or less expect to
that you would more or less expect to
have to make felt very very stable and
have to make felt very very stable and
consistent now with neural Mo 3 it
consistent now with neural Mo 3 it
didn't quite work out of the box um so I
didn't quite work out of the box um so I
went and I used the old tuned neural MMO
went and I used the old tuned neural MMO
prams hey linky I got to look at that
prams hey linky I got to look at that
let me finish thinking I I want to
let me finish thinking I I want to
finish thinking through this first
finish thinking through this first
because I got this on my
because I got this on my
mind
mind
um I think
um I think
so I'm pretty sure this is the old tuned
so I'm pretty sure this is the old tuned
forams right this one right here
just double check make sure I'm looking
just double check make sure I'm looking
at this
correctly yeah you can see these are the
correctly yeah you can see these are the
old tuned neurom
MMO and that gives you this state of the
MMO and that gives you this state of the
art
art
here um so why do we need to tune the
here um so why do we need to tune the
params for neural MMO but not for
params for neural MMO but not for
anything
else well one
else well one
option is it was the back size I think I
option is it was the back size I think I
tried
tried
that um mini batch size rather I don't
that um mini batch size rather I don't
know if I tried with muan
know if I tried with muan
though just doing like 32k mini
though just doing like 32k mini
batch might have
actually I guess the question is how
actually I guess the question is how
much how much do you actually have to
much how much do you actually have to
change the hypers to get to work on nurm
change the hypers to get to work on nurm
Mo 3
Mo 3
right so the mini batch one that's kind
right so the mini batch one that's kind
of
of
explainable it's related to the how AI
explainable it's related to the how AI
training scales
training scales
paper um and it seems that from my
paper um and it seems that from my
initial results
initial results
here uh you kind of just want to keep
here uh you kind of just want to keep
increasing the mini batch
increasing the mini batch
size until you hit a critical point
size until you hit a critical point
which depends on the
which depends on the
environment and for neural Mo it's
environment and for neural Mo it's
clearly just
clearly just
higher so I mean that's a good reason
higher so I mean that's a good reason
for me to go in Implement gradient
for me to go in Implement gradient
accumulation cuz the mini batches are
accumulation cuz the mini batches are
getting too high to do in one pass
getting too high to do in one pass
probably actually will be slower to do
probably actually will be slower to do
them in one pass at some
them in one pass at some
point and then we'll be able to tune
point and then we'll be able to tune
that parameter
that parameter
higher um you know but the original did
higher um you know but the original did
work relatively
work relatively
well without any of that noise
well without any of that noise
right or did
right or did
it how well did the original work
it how well did the original work
actually cuz this is the only Baseline
actually cuz this is the only Baseline
we have
we have
any any reason to expect to be right we
any any reason to expect to be right we
only get up to like
2.5 and 100 Mil if I look at like 20
2.5 and 100 Mil if I look at like 20
it's like
2.25
2.25
okay
okay
so and that's right around here
and again we didn't tunee
and again we didn't tunee
muon for this
m I don't know if I ran it long
enough I guess I can't really say for
enough I guess I can't really say for
sure that um it doesn't work with
sure that um it doesn't work with
roughly the same
roughly the same
hypers it's pretty likely that it works
hypers it's pretty likely that it works
with similar hypers at the least
learning rate 025 was the best for psgd
learning rate 025 was the best for psgd
but that's a different
algorithm
okay see what I really would like is to
okay see what I really would like is to
have something that just feels stable
have something that just feels stable
and works across a bunch of different
and works across a bunch of different
ranges mini batch it seems is going to
ranges mini batch it seems is going to
have to just be
have to just be
tuned you know it starts at 8192 you
tuned you know it starts at 8192 you
start it at whatever's Hardware
start it at whatever's Hardware
efficient and then uh it goes up from
efficient and then uh it goes up from
there is
fine what about batch
size probably also gets tuned
size probably also gets tuned
right usually will work out of the box
right usually will work out of the box
but gets tuned
cuz that gives you data
cuz that gives you data
Stillness so if you have a really big
Stillness so if you have a really big
batch size right um you start getting
batch size right um you start getting
more and more off
policy it'll be interesting to actually
policy it'll be interesting to actually
see what the optimal mini batch size
see what the optimal mini batch size
ends up
ends up
being if I just rerun these experiments
being if I just rerun these experiments
with uh with gradient accumulation I
with uh with gradient accumulation I
think we definitely do that today
think we definitely do that today
not run the full experiment but at least
not run the full experiment but at least
implement the grading
accumulation I mean even if this thing
accumulation I mean even if this thing
does level out eventually right
does level out eventually right
like this would still be if let's say
like this would still be if let's say
that this does it in
I mean this is like 100x more sample
I mean this is like 100x more sample
efficient actually than the original
efficient actually than the original
Baseline if I had it on the same plot CU
Baseline if I had it on the same plot CU
it
it
took maybe a maybe 50x more sample
took maybe a maybe 50x more sample
ficient actually because it levels out
ficient actually because it levels out
the original levels out at
the original levels out at
2.5 with like the same everything
else I don't actually think that the
else I don't actually think that the
algorithm is 100 times better as much as
algorithm is 100 times better as much as
it's probably 100 times less fidd
it's probably 100 times less fidd
so it's probably just easier to find
so it's probably just easier to find
good
good
settings plus we give it a little credit
settings plus we give it a little credit
there are a few nice things it does as
well so like priorities wise
well so like priorities wise
here um grading accumulation is really
here um grading accumulation is really
easy to implement I can just do that
easy to implement I can just do that
won't take me very
won't take me very
long
long
um there are more algorithms to try I
um there are more algorithms to try I
don't think I want to do that just yet
don't think I want to do that just yet
though until I finish getting these
though until I finish getting these
sweeps
I guess the two options would be we kind
I guess the two options would be we kind
of like lock in this stuff
and we say okay you know once we get
and we say okay you know once we get
this to
this to
work we're going to run like really
work we're going to run like really
large scale
large scale
experiments um with this method to see
experiments um with this method to see
how stable we can get all of our
how stable we can get all of our
ends and the other option would be to
ends and the other option would be to
keep going ahead and try to get ggae
keep going ahead and try to get ggae
working or
P30 wait what
I'm
confused I guess he's watching stream or
was variance correction so similar idea
in a diffusion model with batch size
in a diffusion model with batch size
four
all right well we'll try with and
all right well we'll try with and
without on the optimize settings
I legit don't tune any except for
I legit don't tune any except for
LR so no idea
you got to tune your pams
you got to tune your pams
man got to tune your hypers
uh protein
uh protein
algorithm I like
it so we'll try Mars I doubt it solves
it so we'll try Mars I doubt it solves
fully like just the mini badge thing but
fully like just the mini badge thing but
we can see
get popped up with froin yeah
[Laughter]
[Music]
[Music]
funny okay
funny okay
um the other
um the other
thing you know I think that I kind of
thing you know I think that I kind of
should just start running these like
should just start running these like
large scale sweeps and
stuff but the generalized Advantage
stuff but the generalized Advantage
estimation thing bothers
estimation thing bothers
me that Pam is still going to need to
me that Pam is still going to need to
change a bit
may I could fix the
may I could fix the
Pam and see what happens
let's look at some of these curves so
let's look at some of these curves so
they have Lambda
here Lambda equal
1 and equals z
0.85
0.85
0.92 these seem
good
98 it's down there
needing both of these tuned is really
obnoxious though I mean admittedly right
obnoxious though I mean admittedly right
if you're just not too
if you're just not too
worried with this is no value
worried with this is no value
function is Lambda was this gamma equals
one so that's
reinforce so it's possible to
reinforce so it's possible to
underperform reinforce here if you don't
underperform reinforce here if you don't
tune
these I mean in practice though it seems
these I mean in practice though it seems
like it's always just a bit lower
like it's always just a bit lower
[Music]
[Music]
than than gamma
like 96
like 96
here and then this is
here and then this is
1 so yeah there's no way in hell you can
1 so yeah there's no way in hell you can
have the same gamas and lambdas for
have the same gamas and lambdas for
everything even if it's working in our
everything even if it's working in our
case right it's probably just working
case right it's probably just working
because we have a ludicrous x axis
I I don't think if I can do this in
I I don't think if I can do this in
segments
though does it make sense that entp
though does it make sense that entp
needs to be tuned per
task maybe we don't don't worry about
task maybe we don't don't worry about
those three so much
those three so much
actually if we don't worry about those
actually if we don't worry about those
three parameters a ton because we assume
three parameters a ton because we assume
that we're going to do algorithmic
that we're going to do algorithmic
followup then what's left
followup then what's left
right you have your optimizer params
I mean fundamentally this is all
I mean fundamentally this is all
like the question is if you tune
like the question is if you tune
everything how much better can you do
everything how much better can you do
than if you like fix a bunch of defaults
I mean I could realistically right 500
I mean I could realistically right 500
mil is a bit short for nurma Mo
3 but I could realistically do like a
3 but I could realistically do like a
neural MMO one bill
Benchmark and I could full sweep
Benchmark and I could full sweep
everything
okay well then here's another question
okay well then here's another question
right
so if if I then take
so if if I then take
the if I take the neural MMO pams maybe
the if I take the neural MMO pams maybe
those work on the simps right maybe the
those work on the simps right maybe the
simpler mtune pams don't work on neural
simpler mtune pams don't work on neural
Mo but maybe the neural Mo prams work on
Mo but maybe the neural Mo prams work on
the simpler
M I was playing around with o25 for
this so it's o25
is the optimal learning
is the optimal learning
rate so what if I just do this
rate so what if I just do this
um Recon
does this solve
breakout actually let's not do the
breakout actually let's not do the
stupid mini batch thing as well
it's got its reasonable cramps
go find the Neptune plot for this
that actually works better than before
that actually works better than before
doesn't
doesn't
it yeah that works a little better than
it yeah that works a little better than
before this one is not comparable this
before this one is not comparable this
one's
one's
slower in wall
slower in wall
clock so this actually does
clock so this actually does
work hey man welcome grats on the end
work hey man welcome grats on the end
I saw I saw
that I think did I review the code for
that I think did I review the code for
that or
no no you haven't okay well if I don't
no no you haven't okay well if I don't
know if it's open source but if you're
know if it's open source but if you're
interested in pring uh new M to
interested in pring uh new M to
puffer we will be very happy to get you
puffer we will be very happy to get you
set up with all sorts of fun sweeps and
set up with all sorts of fun sweeps and
stuff on that
let me link you the repo
let me link you the repo
awesome yeah up to you what you want to
awesome yeah up to you what you want to
do pretty much for any new contributions
do pretty much for any new contributions
I'll do at least like one full pass line
I'll do at least like one full pass line
by line code review if you want it
by line code review if you want it
um and I also help with
integration and then the end just
integration and then the end just
becomes you know part of uh part of the
becomes you know part of uh part of the
puffer test suite and you can you know
puffer test suite and you can you know
it gets optimized aggressively with all
it gets optimized aggressively with all
our stuff just want to learn contribute
our stuff just want to learn contribute
as much as I can well I mean this is a
as much as I can well I mean this is a
good way to do it
right if you make the end of a part of
right if you make the end of a part of
the Benchmark right then every time we
the Benchmark right then every time we
come up with a new
come up with a new
method every time we come up with
method every time we come up with
something new and puffer we just will
something new and puffer we just will
throw it on that so like for instance
throw it on that so like for instance
yesterday right I was doing work with
yesterday right I was doing work with
muan and psgd and I ran I ran both
muan and psgd and I ran I ran both
algorithms on every single anent
puffer
cool that's not bad is it ready for uh
cool that's not bad is it ready for uh
for Cod review or do I hold off like
for Cod review or do I hold off like
what how would you like me to do this
what how would you like me to do this
cuz I can go through this right now line
cuz I can go through this right now line
by line if it's
useful and then just PR
directly should be
directly should be
ready
ready
okay if I if you got a minute let me go
okay if I if you got a minute let me go
make myself a new cup of tea so I wake
make myself a new cup of tea so I wake
up a little bit and then uh we will go
up a little bit and then uh we will go
through we'll do a full review we'll get
through we'll do a full review we'll get
it
it
PR any little little things that need to
PR any little little things that need to
be fixed we can fix and then we'll throw
be fixed we can fix and then we'll throw
our latest algorithms at it and see uh
our latest algorithms at it and see uh
see how much better of a policy we can
see how much better of a policy we can
learn for
learn for
you bit masking not optimal could be
you bit masking not optimal could be
replaced all right well we'll see how
replaced all right well we'll see how
fast it is I'll run some tests on it'll
fast it is I'll run some tests on it'll
be fun let me get myself a cup of tea
though
e
e
e
e
e
e
e
e e
okay so if you
okay so if you
want um you can jump on Discord and we
want um you can jump on Discord and we
can do this uh through voice if you
can do this uh through voice if you
don't mind being on stream otherwise I
don't mind being on stream otherwise I
can just review it like this your
can just review it like this your
choice all right great that makes it a
choice all right great that makes it a
lot easier
lot easier
we do pay for the nice voice
we do pay for the nice voice
channels hello hello hey how's it going
channels hello hello hey how's it going
man yeah good good cool looking n I'm
man yeah good good cool looking n I'm
excited to try this
excited to try this
out um thank
out um thank
you let me see I'm probably going to do
you let me see I'm probably going to do
a quick like once through make sure that
a quick like once through make sure that
it looks good first and then I'll
it looks good first and then I'll
probably just let me see what's the
probably just let me see what's the
easiest way to do this I guess I'll do
easiest way to do this I guess I'll do
the line by line first H mhm I actually
the line by line first H mhm I actually
I the one thing is I want to know how it
I the one thing is I want to know how it
works before I review it fully so I'm
works before I review it fully so I'm
trying to think what the easiest way is
trying to think what the easiest way is
for me to try it I guess I can just uh
for me to try it I guess I can just uh
grab your build real quick before I pr
grab your build real quick before I pr
it hang
on
on
um just be aware that in the since I'm
um just be aware that in the since I'm
only running on CPU in the config anyi
only running on CPU in the config anyi
I've set up the CPU by default so you
I've set up the CPU by default so you
might
that is totally
fine yeah definitely if you're looking
fine yeah definitely if you're looking
to get into a bunch of RL stuff this is
to get into a bunch of RL stuff this is
uh a place to be we're a little low on
uh a place to be we're a little low on
Hardware now but the goal is that uh we
Hardware now but the goal is that uh we
will be providing Hardware to all
will be providing Hardware to all
contributors as well for experiments uh
contributors as well for experiments uh
for stuff that
for stuff that
so yeah I've heard there's a lot of bues
so yeah I've heard there's a lot of bues
on the way uh they're not on the way yet
on the way uh they're not on the way yet
uh we have one test machine I basically
uh we have one test machine I basically
I got to make sure the 5090 boxes are
I got to make sure the 5090 boxes are
good before we put in a big order um
good before we put in a big order um
because there's also there's some some
because there's also there's some some
sketchy reports of some hardware issues
sketchy reports of some hardware issues
with those and we've dealt with enough
with those and we've dealt with enough
hardware issues already believe me um
hardware issues already believe me um
but yeah I think we actually we should
but yeah I think we actually we should
be getting a couple boxes back anyways
be getting a couple boxes back anyways
so what m is this this is we are just
so what m is this this is we are just
reviewing this end right now brand new
reviewing this end right now brand new
contribution
contribution
um I actually don't know exactly what it
um I actually don't know exactly what it
is yet so I'm going to
see I can talk you through if you if
see I can talk you through if you if
You' like or otherwise I just let you
You' like or otherwise I just let you
let me let me first
um uh what's it called CPR CPR
um uh what's it called CPR CPR
yeah Rel live
ocean this is a different branch oh it
ocean this is a different branch oh it
is a different
BR okay
awesome so we got some puffers running
around does CPR what so what first of
around does CPR what so what first of
all what does it stand for this it's not
all what does it stand for this it's not
a medical end right no it's called a
a medical end right no it's called a
common pool resource so I see as you see
common pool resource so I see as you see
yeah there are two two different type of
yeah there are two two different type of
foods the gray one which can be
foods the gray one which can be
collected just by going on the same cell
collected just by going on the same cell
as the the foods mhm and the yellow ones
as the the foods mhm and the yellow ones
need uh two agents to stand next to them
need uh two agents to stand next to them
to be harvested oh okay and and they
to be harvested oh okay and and they
reward more obviously but and then
reward more obviously but and then
there's the respawn so there's a you can
there's the respawn so there's a you can
basically deplete the entire resource
basically deplete the entire resource
because the food can only respond next
because the food can only respond next
to another food there is just a very
to another food there is just a very
very low probability of a spoon to of a
very low probability of a spoon to of a
food to randomly spawn somewhere on the
food to randomly spawn somewhere on the
map but other than that you can
map but other than that you can
basically learn to harvest uh super
basically learn to harvest uh super
efficiently and completely deplete the
efficiently and completely deplete the
resource and therefore you're left with
nothing okay this is a good end this is
nothing okay this is a good end this is
a good
a good
environment this is like a cool new type
environment this is like a cool new type
of
of
attest I like this
there's still a lot of work to do I mean
there's still a lot of work to do I mean
I I would like to put some health on the
I I would like to put some health on the
puffers and and make them able to die
puffers and and make them able to die
and give them bad reward and then die
and give them bad reward and then die
something like that just to make it more
something like that just to make it more
like push them
like push them
towards no no I don't think it's hard
towards no no I don't think it's hard
yeah just I've got a couple of things on
yeah just I've got a couple of things on
the list to to do
the list to to do
basically so let me go through this code
basically so let me go through this code
uh I think we'll just make
uh I think we'll just make
this PR this thing
I might have to do a manual merge
I might have to do a manual merge
because it seems like
because it seems like
um a fair bit of stuff has changed that
um a fair bit of stuff has changed that
all
all
right um I think you can skip all the in
right um I think you can skip all the in
files
files
oh I speak okay I I can't change it in
oh I speak okay I I can't change it in
your PR I don't think
right so I can just copy this folder in
right so I can just copy this folder in
and I can do the merge manually or if
and I can do the merge manually or if
you want to um if you want to do that so
you want to um if you want to do that so
you know you show up on the contributors
you know you show up on the contributors
on GitHub that's fine too you'll go on
on GitHub that's fine too you'll go on
the website either
the website either
way no it just yeah it's it's fine
way no it just yeah it's it's fine
whatever for me just what's easier for
whatever for me just what's easier for
you I mean I know I'm on a all the
you I mean I know I'm on a all the
commit from the dev branch that that
commit from the dev branch that that
might be why there's a lot of changes
but inflated
puff uh you know honestly I can probably
puff uh you know honestly I can probably
just cuz the only thing you merged is
just cuz the only thing you merged is
the or the only thing that you
the or the only thing that you
changed yeah you changed like a couple
changed yeah you changed like a couple
small things that I can just undo I
small things that I can just undo I
think um yeah I think this one in demo
think um yeah I think this one in demo
uh this that's one of the pr I made too
uh this that's one of the pr I made too
just so I wanted to abstract the Neptune
just so I wanted to abstract the Neptune
workspace into any file but it doesn't
workspace into any file but it doesn't
have to be in that
have to be in that
PR uh and and I and I made one about
PR uh and and I and I made one about
yeah okay yeah I made that one oh that's
yeah okay yeah I made that one oh that's
actually fine that's actually a good
actually fine that's actually a good
contribution
contribution
anyways yeah the only thing is that this
anyways yeah the only thing is that this
metric should go into the uh into your
metric should go into the uh into your
file not here that's fine though
file not here that's fine though
Comon yeah I'll just undo those no big
Comon yeah I'll just undo those no big
deal I mean let me know whatever is
deal I mean let me know whatever is
easier for you if I can I can deal
easier for you if I can I can deal
either way this it's not hard we're good
either way this it's not hard we're good
okay so you
have yeah this makes it the only thing
have yeah this makes it the only thing
with doing this type of thing cuz I did
with doing this type of thing cuz I did
this with my snake en as well to have
this with my snake en as well to have
like variable size in the same
like variable size in the same
experiment and it's really cool you can
experiment and it's really cool you can
do it but it does make it a little hard
do it but it does make it a little hard
to sweep over
to sweep over
cuz like how do you sweep like different
cuz like how do you sweep like different
combinations of maps in the same
combinations of maps in the same
experiment I mean you can keep it either
experiment I mean you can keep it either
way I'll show you what I did with neural
way I'll show you what I did with neural
Mo 3 like I kept this in neural Mo 3 but
Mo 3 like I kept this in neural Mo 3 but
I just made it so that
I just made it so that
here I'll show you how I did it with
here I'll show you how I did it with
nurl M
nurl M
mo3 we've been running more experiments
mo3 we've been running more experiments
on that last couple of
days so all I did here
is it has width and height and it also
is it has width and height and it also
has numb Ms I just made width and height
has numb Ms I just made width and height
like you're not going to need more than
like you're not going to need more than
eight of these because there are a ton
eight of these because there are a ton
of Agents each so you can just make this
of Agents each so you can just make this
longer and I just like prune it to the
longer and I just like prune it to the
number of
number of
ends that's an easy way of doing
it okay yeah that's an easy way of doing
it okay yeah that's an easy way of doing
it let's get let's get through your code
it let's get let's get through your code
where is it
where is it
uh where' it go I have too much stuff
open seriously where did I just secure
open seriously where did I just secure
PR
there we
there we
go okay so you've got some parameters
go okay so you've got some parameters
these are all
fine tiny number of time
fine tiny number of time
steps oh okay yeah I might have not
steps oh okay yeah I might have not
pushed the latest uh the one I used to
pushed the latest uh the one I used to
train with but yeah I can I can do if
train with but yeah I can I can do if
you're training on CPU I'm pretty sure
you're training on CPU I'm pretty sure
that whatever result you have will be
that whatever result you have will be
able to improve on very very quickly um
able to improve on very very quickly um
yeah cuz 300 million time steps uh train
yeah cuz 300 million time steps uh train
took me about 45 minutes so 300 million
took me about 45 minutes so 300 million
time steps on an optimized M should take
time steps on an optimized M should take
uh under 5 minutes yeah with I was
uh under 5 minutes yeah with I was
running on like 100k steps per second on
running on like 100k steps per second on
my CPU basically yeah so GPU version if
my CPU basically yeah so GPU version if
the end is optimized we'll be much
the end is optimized we'll be much
faster
cool these are fine
I Recon the C file is actually never
I Recon the C file is actually never
really use uh apart from when you're
really use uh apart from when you're
testing stuff from C directly right yeah
testing stuff from C directly right yeah
when you yeah
when you yeah
but I do that a lot I don't know if
but I do that a lot I don't know if
that's how you Dev your
that's how you Dev your
environments but I do all the
environments but I do all the
environment Dev see and then I only bind
environment Dev see and then I only bind
a puffer when it's ready because it's
a puffer when it's ready because it's
way faster to compile and you get better
way faster to compile and you get better
error messages yeah yeah I ended up
error messages yeah yeah I ended up
doing the same but that was the first
doing the same but that was the first
time I started touching C for my entire
time I started touching C for my entire
life so at first I wanted to do it in
life so at first I wanted to do it in
Python but I just ended up doing
Python but I just ended up doing
everything in C afterwards you end up
everything in C afterwards you end up
realizing very quickly it's not as scary
realizing very quickly it's not as scary
as you've been
told I I wrote python for 10 years and
told I I wrote python for 10 years and
then over the summer I just started
then over the summer I just started
writing purec and it's like oh yeah this
writing purec and it's like oh yeah this
is this is
Chill yeah Captain new
NPR Okay so we've got some bit
NPR Okay so we've got some bit
stuff
um yeah this type of stuff is fine I'm
um yeah this type of stuff is fine I'm
not a big fan of
not a big fan of
macros I'd rather just have an inline
macros I'd rather just have an inline
function but you know no big
deal here's my
logging this isn't logging anything
though oh wait no it's not here done
though oh wait no it's not here done
yeah it's I'm done it's down here okay
yeah it's I'm done it's down here okay
so you got
so you got
score yeah you definitely want
score yeah you definitely want
score moves is this episode
score moves is this episode
length uh no move is the should be the
length uh no move is the should be the
average number of steps each agent takes
average number of steps each agent takes
before reaching uh before getting
before reaching uh before getting
rewarded one food one or the other does
rewarded one food one or the other does
the M just never
the M just never
reset no it never
does yeah that's fine then
agent has r c and
ID so you just made a
ID so you just made a
vector yeah I figured so when I need to
vector yeah I figured so when I need to
SP to make the spawn food mechanic I
SP to make the spawn food mechanic I
need to this put the food spawn on next
need to this put the food spawn on next
to each other so I need to iterate
to each other so I need to iterate
through the food and I would rather have
through the food and I would rather have
a food list rather than iterate through
a food list rather than iterate through
each grid
cell when you spawn the food well the
cell when you spawn the food well the
way that I would do that is I would just
way that I would do that is I would just
so I I'd pick a
so I I'd pick a
random wait they have to spawn next to
random wait they have to spawn next to
each other you said oh
each other you said oh
yes um
so basically for each that it's fine
so basically for each that it's fine
that in that case that's fine yeah
that in that case that's fine yeah
okay I let me see how this is so you
allocate okay so s yeah okay so this is
allocate okay so s yeah okay so this is
a fixed array you're not doing Dynamic
a fixed array you're not doing Dynamic
anything it's just this is fixed um yeah
anything it's just this is fixed um yeah
that's fine
that's fine
then that's fine
that looks like pretty normal grid code
that looks like pretty normal grid code
what's this interactive food agent count
yeah so that's the thing I'm pretty sure
yeah so that's the thing I'm pretty sure
I'm like almost 90% sure I could remove
I'm like almost 90% sure I could remove
uh so for the interactive food the
uh so for the interactive food the
yellow food uh it needs to have two
yellow food uh it needs to have two
agents next to it to be collected MH and
agents next to it to be collected MH and
initially I started having just a uh so
initially I started having just a uh so
a bit masking for it uh setting the bit
a bit masking for it uh setting the bit
to uh to one for it to be ready to
to uh to one for it to be ready to
collect if an asine is next to it but
collect if an asine is next to it but
then I figured I could just basically
then I figured I could just basically
look at the the squares next to food and
look at the the squares next to food and
count the number of Agents but yeah yeah
count the number of Agents but yeah yeah
that will probably be
that will probably be
easier yeah called by C stuff Yep this
easier yeah called by C stuff Yep this
is well yeah this is called Yep this is
is well yeah this is called Yep this is
the allocated version that's fine
agent tile from
agent tile from
ID this is some offset it looks like yes
ID this is some offset it looks like yes
okay I've done the same sort of thing
okay I've done the same sort of thing
before agent ID from TI
before agent ID from TI
okay food
this can duplicate can't
it if it what happens if there's a food
it if it what happens if there's a food
on the tile
already um I think you're right I mean I
already um I think you're right I mean I
I'm definitely checking if the ti is
I'm definitely checking if the ti is
empty before calling that function but I
empty before calling that function but I
think that's fine yeah yeah it's just
think that's fine yeah yeah it's just
it's this will duplicate it's yeah
it's this will duplicate it's yeah
that's fine if you're tracking that it
that's fine if you're tracking that it
outside that's also
outside that's also
fine
uh for the when we reset the environment
uh for the when we reset the environment
I still need to randomly spawn some food
I still need to randomly spawn some food
at some point
man I miss do Wilds in Python because
man I miss do Wilds in Python because
they're just they're so nice
sometimes all right remove
food yeah so this is going to be the uh
food yeah so this is going to be the uh
if if there are performance issues with
if if there are performance issues with
this
this
it's going to be from this type of a
it's going to be from this type of a
thing of like making it um o
thing of like making it um o
of like oh of numb food to do stuff I
of like oh of numb food to do stuff I
think it's probably simple enough that
think it's probably simple enough that
stuff's going to still be fast
stuff's going to still be fast
regardless um okay but this type of
regardless um okay but this type of
thing is like you know let's say that
thing is like you know let's say that
you just want to make a really cool demo
you just want to make a really cool demo
of this environment how would you do it
of this environment how would you do it
with like the least amount of
effort well you probably put like a much
effort well you probably put like a much
bigger grid and right yeah exactly so if
bigger grid and right yeah exactly so if
doing this type of stuff if you go ah
doing this type of stuff if you go ah
shoot that's not going to scale well if
shoot that's not going to scale well if
I try to make the map super
I try to make the map super
big so this is like this is the one type
big so this is like this is the one type
of thing where you might want to rethink
of thing where you might want to rethink
data structures it'll be fine as is but
data structures it'll be fine as is but
let's say you wanted to do like the
let's say you wanted to do like the
snake demo that I have like this is a
snake demo that I have like this is a
really fun
really fun
demo because um yes the reason I made
demo because um yes the reason I made
the food list is because I reckon it
the food list is because I reckon it
would just use it a a bit more of memory
would just use it a a bit more of memory
but uh it's just o n for going through
but uh it's just o n for going through
the each food instead of going through
the each food instead of going through
the entire grid which should
the entire grid which should
be uh a bit longer
be uh a bit longer
but who's food from the grid and food
but who's food from the grid and food
list the thing is for each food that is
list the thing is for each food that is
already on the grid uh there is a a a
already on the grid uh there is a a a
small probability of a new food spawning
small probability of a new food spawning
next to each other so at some point I
next to each other so at some point I
need to iterate over each food that is
need to iterate over each food that is
already on the
grit there's got to be a a good data
grit there's got to be a a good data
structure for that my I'm not I'm
structure for that my I'm not I'm
blanking on that at the moment but
blanking on that at the moment but
there's got to be a better data
there's got to be a better data
structure for that I'll think about that
structure for that I'll think about that
um yeah might there might be like some
um yeah might there might be like some
combination of just like a food grid and
combination of just like a food grid and
indexing or I don't know we'll think of
indexing or I don't know we'll think of
something um like this would actually be
something um like this would actually be
a really cool really cool end to have a
a really cool really cool end to have a
big version
of yeah I've tried to make it big and
of yeah I've tried to make it big and
you I mean if the agents were acting
you I mean if the agents were acting
randomly but at least you can see some
randomly but at least you can see some
very cool patterns where the fot Spa
very cool patterns where the fot Spa
next to each other in some spots and
next to each other in some spots and
looks very
good so this is just trying to figure
good so this is just trying to figure
out how many food to spawn based on how
out how many food to spawn based on how
big the map is right yeah yeah I try
big the map is right yeah yeah I try
it's probably not perfect yet but it
it's probably not perfect yet but it
looks all right for couple of different
tests isn't this the spawn food function
um oh yeah yeah this is exactly the
um oh yeah yeah this is exactly the
spawn food function
spawn food function
yeah and this again would be the spawn
yeah and this again would be the spawn
food function if you just add a
food function if you just add a
parameter you just add a parameter which
parameter you just add a parameter which
is the type to spawn
is the type to spawn
right yeah you're 100% right so this
right yeah you're 100% right so this
will this would get all compacted which
will this would get all compacted which
would be
would be
nice
nice
um spawn Foods
hello hey how's it
hello hey how's it
going pretty
going pretty
good we stuff after I uh I finish we're
good we stuff after I uh I finish we're
we're reviewing this on stream I don't
we're reviewing this on stream I don't
know if you have it open oh okay for
know if you have it open oh okay for
sure no no I didn't I just hopped on
sure no no I didn't I just hopped on
yeah know you're good I got experiment
yeah know you're good I got experiment
running for I'm reviewing there's a cool
running for I'm reviewing there's a cool
new M contribution by m000 here uh I'm
new M contribution by m000 here uh I'm
excited to see I'll hop on stream really
excited to see I'll hop on stream really
quickly I'm going through the code first
quickly I'm going through the code first
and then we're going to see if we can
and then we're going to see if we can
get it bound uh nicely to puffer and
get it bound uh nicely to puffer and
then hey we'll throw your optimizers at
then hey we'll throw your optimizers at
it because why
it because why
not oh
not oh
yeah so we
have Min very minor pet peeve please do
have Min very minor pet peeve please do
a force Bas indents for puffer code
a force Bas indents for puffer code
submissions if you don't
mind the point of it right is that when
mind the point of it right is that when
you nest whole bunch of Loops that you
you nest whole bunch of Loops that you
actually have to see that you've made
actually have to see that you've made
Kamehameha here and then you think about
Kamehameha here and then you think about
you know you think about your life
you know you think about your life
choices
choices
um you know you got the the uh like this
um you know you got the the uh like this
Arc here it's the you know the
Arc here it's the you know the
Kamehameha with the code yeah yeah yeah
Kamehameha with the code yeah yeah yeah
of
of
course so how would you how would you
course so how would you how would you
it's not necessar it's not necessarily
it's not necessar it's not necessarily
bad that it is right but I'd rather see
bad that it is right but I'd rather see
it and I'd also rather not screw up what
it and I'd also rather not screw up what
codes aligned with what other Cod code
codes aligned with what other Cod code
um so that's just what we do by
um so that's just what we do by
default let me
default let me
see is
see is
anything the only thing the only thing
anything the only thing the only thing
that I would get rid of is this is
that I would get rid of is this is
trivially uh if it's not empty
trivially uh if it's not empty
continue right so early early continue
continue right so early early continue
or early
or early
return this is the the one pattern I
return this is the the one pattern I
tried to drill into everyone is if you
tried to drill into everyone is if you
have a trivial statement then don't Nest
have a trivial statement then don't Nest
deeper for no reason but everything else
deeper for no reason but everything else
here is fine there's no like triple for
here is fine there's no like triple for
Loop for something like this is totally
acceptable I don't understand like
acceptable I don't understand like
people don't get that for some reason
people don't get that for some reason
it's not that deeply nested code is bad
it's not that deeply nested code is bad
it's that deeply nested code that
it's that deeply nested code that
doesn't actually logically need to be
doesn't actually logically need to be
nested is bad like I don't know I
nested is bad like I don't know I
posted it it was like the weirdest thing
posted it it was like the weirdest thing
I posted this snippet on uh on Twitter
I posted this snippet on uh on Twitter
at one point and I said it's not pretty
at one point and I said it's not pretty
but it gets the J
but it gets the J
done right it's like this is was I
done right it's like this is was I
posted like yeah this isn't great but it
posted like yeah this isn't great but it
gets the job done and I posted this and
gets the job done and I posted this and
people are like oh H it's so bad cuz the
people are like oh H it's so bad cuz the
nesting you do the nesting it's like no
nesting you do the nesting it's like no
the thing I was referring to is that it
the thing I was referring to is that it
doesn't do tille Matrix multiplications
doesn't do tille Matrix multiplications
that's why it's bad like a com is just
that's why it's bad like a com is just
going to have this many Loops cuz that's
going to have this many Loops cuz that's
what a com is
right yeah like do ffts bro yeah just
right yeah like do ffts bro yeah just
replace all Solutions in AI with fft is
replace all Solutions in AI with fft is
brb
brb
yeah all right so they're not actually
yeah all right so they're not actually
always faster either no of course
not you can keep your switch statements
not you can keep your switch statements
if you
like I don't use them but I don't I do
like I don't use them but I don't I do
not ban them
not ban them
is there like it's it's normal code
is there like it's it's normal code
that's just me being a little
that's just me being a little
pedantic switch statements I don't like
pedantic switch statements I don't like
switch statements I I could never wrap
switch statements I I could never wrap
my brain around switch stat it's because
my brain around switch stat it's because
of the [ __ ] early returns right like
of the [ __ ] early returns right like
if you miss a bra you're screwed and
if you miss a bra you're screwed and
then it's like this weird thing where
then it's like this weird thing where
you like by default you don't indent it
you like by default you don't indent it
as well even like it's ah nuts no switch
as well even like it's ah nuts no switch
statements always um I was like yeah
statements always um I was like yeah
I'll just I'll just be I'll just be
I'll just I'll just be I'll just be
basic so
this is fine though otherwise this is
this is fine though otherwise this is
fine no maybe I would like put the Rand
fine no maybe I would like put the Rand
up here you know maybe I'd put it wait
up here you know maybe I'd put it wait
actually hold on is it wait if Case
actually hold on is it wait if Case
normal wait is this wrong wait double
normal wait is this wrong wait double
Rand but food based food spawn waight
Rand but food based food spawn waight
wait is this supposed to be two separate
wait is this supposed to be two separate
probability checks or is it supposed to
probability checks or is it supposed to
be is this supposed to be two separate
be is this supposed to be two separate
probability checks
probability checks
or no no because I'm only checking one
or no no because I'm only checking one
one at a time so the probability check
one at a time so the probability check
should be run one if uh on the on the
should be run one if uh on the on the
grid index but yeah okay so I could
grid index but yeah okay so I could
definitely put the Run double run Max
definitely put the Run double run Max
yeah right switch Yeah it depends right
yeah right switch Yeah it depends right
because if you do food based spawn
because if you do food based spawn
rate for
rate for
[Music]
[Music]
10 if it's weit less than and food
10 if it's weit less than and food
base yeah okay it's whatever it's if
base yeah okay it's whatever it's if
it's I don't know if these should be
it's I don't know if these should be
griped or not depends what you're trying
griped or not depends what you're trying
trying to
trying to
do
um
um
yes we just made a novel
yes we just made a novel
Optimizer oh well we'll go try it um
Optimizer oh well we'll go try it um
yeah it's a it's like it's like
yeah it's a it's like it's like
novel like I think it's novel in the
novel like I think it's novel in the
sense that like it hasn't been done even
sense that like it hasn't been done even
by Newton or anybody since
by Newton or anybody since
um wow we we'll see if it
um wow we we'll see if it
works y I have very hard test Ems for
you I'm like looking at this code seeing
you I'm like looking at this code seeing
if it's like s self similar but actually
if it's like s self similar but actually
no you are trying to do two separate
no you are trying to do two separate
probability checks it looks like here so
probability checks it looks like here so
this is fine
this is fine
right this is two separate probability
right this is two separate probability
checks so this is fine yeah but I guess
checks so this is fine yeah but I guess
I yeah I guess I could do it in one but
I yeah I guess I could do it in one but
you don't have to it's fine you don't
you don't have to it's fine you don't
need to cash if you're actually if you
need to cash if you're actually if you
want two separate checks like that
want two separate checks like that
that's
that's
fine um compute
observations does this handle
padding
padding
wait uh how does this sorry agent R
wait uh how does this sorry agent R
minus M Vision yeah
yeah CR
yeah CR
Index this can't can't this go negative
Index this can't can't this go negative
can't this go off the board or is the is
can't this go off the board or is the is
the environment itself padded around the
the environment itself padded around the
edges uh yeah yeah it is it is okay yeah
edges uh yeah yeah it is it is okay yeah
so either way is fine um I guess you
so either way is fine um I guess you
just don't render the padding is that
just don't render the padding is that
what it
what it
is yep yeah okay either is fine I've
is yep yeah okay either is fine I've
done both I either will just like pad
done both I either will just like pad
and not render the padding or if I don't
and not render the padding or if I don't
want to deal with like a border
want to deal with like a border
Dimension I just suck it up and I write
Dimension I just suck it up and I write
the uh you know the checks for the
the uh you know the checks for the
window that you want to actually go over
window that you want to actually go over
I've done it both ways well well
I've done it both ways well well
actually I think uh I'm rending the
actually I think uh I'm rending the
padding as white boxes I just need to
padding as white boxes I just need to
make sure that
but okay and then we have reset
here H
here H
gotcha well I guess it's it's a gotcha
gotcha well I guess it's it's a gotcha
but it doesn't really matter because
but it doesn't really matter because
this m is not designed to reset Midway
this m is not designed to reset Midway
through anyways so this function does
through anyways so this function does
not have to be fast but this is just a
not have to be fast but this is just a
mem
mem
set right oh this is literally just a
set right oh this is literally just a
mem set to empty and it's way faster as
mem set to empty and it's way faster as
well this is a this
well this is a this
is this is probably yeah this is a mem
is this is probably yeah this is a mem
set like most of these are going to be
set like most of these are going to be
mem sets a couple of these are not in
mem sets a couple of these are not in
contiguous memory right so like the the
contiguous memory right so like the the
vertical ones are not in contiguous
vertical ones are not in contiguous
memory but the rest of them
are so that's how you do fast uh fast
are so that's how you do fast uh fast
map reset okay and actually if you want
map reset okay and actually if you want
to be really smart about it uh what you
to be really smart about it uh what you
do is you save a default map right so
do is you save a default map right so
you save the empty map and then you just
you save the empty map and then you just
mem set or you mem copy the entire empty
mem set or you mem copy the entire empty
map right you just copy the entire so
map right you just copy the entire so
that's if you wanted to do faster resets
that's if you wanted to do faster resets
that's what you would do and then the
that's what you would do and then the
map scale kind of matters because if
map scale kind of matters because if
it's like a really sparse and empty map
it's like a really sparse and empty map
right then it's faster to just memet the
right then it's faster to just memet the
walls and loop but if you have smaller
walls and loop but if you have smaller
Maps it's faster to copy the whole thing
Maps it's faster to copy the whole thing
but it doesn't matter unless you're
but it doesn't matter unless you're
doing like
doing like
uh frequent resets but if you do if you
uh frequent resets but if you do if you
are going to do frequent resets on any
are going to do frequent resets on any
end like this then it matters a lot
end like this then it matters a lot
because reset is where you can leak a
because reset is where you can leak a
lot of
lot of
performance okay thanks so even though
performance okay thanks so even though
not applicable here I try to tell people
not applicable here I try to tell people
when they submit code I try to tell
when they submit code I try to tell
people like the common pitfalls like ah
people like the common pitfalls like ah
if you do a similar environment that
if you do a similar environment that
works just a little differently just be
works just a little differently just be
aware you can shoot yourself in the foot
aware you can shoot yourself in the foot
here now that's a great tips thanks
here now that's a great tips thanks
srand I don't usually SE it inside the
srand I don't usually SE it inside the
end like this but I think you can yeah
end like this but I think you can yeah
you can that's
you can that's
fine it really depends on the end
fine it really depends on the end
whether it matters or not you're going
whether it matters or not you're going
to get RNG from the actions from the
to get RNG from the actions from the
policy
policy
anyways
um okay
um okay
agent
get what is
get what is
this wait
this wait
agents this is in Rec set we go through
agents this is in Rec set we go through
the
the
agents while not
agents while not
allocated yeah we just place the agents
allocated yeah we just place the agents
in a grid somewhere oh okay yeah so this
in a grid somewhere oh okay yeah so this
is
is
like okay yeah this looks a little
like okay yeah this looks a little
different from the earlier this is the
different from the earlier this is the
same as the do while code for the spawn
food yeah all all grid code is going to
food yeah all all grid code is going to
look like that that's fine get agent
look like that that's fine get agent
tile from
tile from
ID yada you see you you don't know what
ID yada you see you you don't know what
a me it is look at
a me it is look at
that yeah you know it's my first writing
that yeah you know it's my first writing
in C so I I learned a little bit along
in C so I I learned a little bit along
the way well what we try to do what we
the way well what we try to do what we
try to do is I don't know if you notice
try to do is I don't know if you notice
from the code style of a lot of the M's
from the code style of a lot of the M's
but I don't do anything fancy right like
but I don't do anything fancy right like
all the stuff that I do even in like
all the stuff that I do even in like
neural I don't do anything that you're
neural I don't do anything that you're
not going to see in your literal first
not going to see in your literal first
undergrad course if you're to take one
undergrad course if you're to take one
undergrad systems course in C you'll see
undergrad systems course in C you'll see
everything I do and in fact I only do a
everything I do and in fact I only do a
very small subset of what you'll even
very small subset of what you'll even
see there it's basically like if you
see there it's basically like if you
know what loops and conditionals are and
know what loops and conditionals are and
you do have to know what a pointer is
you do have to know what a pointer is
but that's about it then you can read
but that's about it then you can read
the code that's the goal just really
simple reward agents
simple reward agents
near oh we have a fair few folks on
near oh we have a fair few folks on
Twitch watching this hello welcome code
Twitch watching this hello welcome code
review for uh new environment being
review for uh new environment being
contributed to puffer love I do this for
contributed to puffer love I do this for
all contributions if folks are
all contributions if folks are
interested
reward agent
near had to head out will be back P me
near had to head out will be back P me
when you do optimize your stuff
cool okay so this is checking if you're
cool okay so this is checking if you're
next to food I
next to food I
assume yeah so that's being called only
assume yeah so that's being called only
when and uh there's uh two agents next
when and uh there's uh two agents next
to the food and then which is
to the food and then which is
basically iterate through what's
basically iterate through what's
next it gets reward it
next it gets reward it
gets
score one small thing that I would do
score one small thing that I would do
here is I would probably make the score
here is I would probably make the score
plus one instead of plus the reward
plus one instead of plus the reward
because then what you can do is when you
because then what you can do is when you
uh when you specify what the reward
uh when you specify what the reward
coefficient is let's say you put this
coefficient is let's say you put this
coefficient into a hyperr sweep right to
coefficient into a hyperr sweep right to
see what reward scale is going to work
see what reward scale is going to work
the best then you can actually compare
the best then you can actually compare
runs directly with score but if not the
runs directly with score but if not the
score is going to depend on so you
score is going to depend on so you
always want to have a score metric that
always want to have a score metric that
ideally doesn't depend on the
ideally doesn't depend on the
reward right scale the reward but but if
reward right scale the reward but but if
I still want to scale the score based on
I still want to scale the score based on
the type of food that gting reward and I
the type of food that gting reward and I
can just hardcode it like a two and and
can just hardcode it like a two and and
one for normal food and that's fine yeah
one for normal food and that's fine yeah
yeah so you think of scores like points
yeah so you think of scores like points
you would get in a game and reward is
you would get in a game and reward is
separate right like this the amount that
separate right like this the amount that
you're going to actually give to the
you're going to actually give to the
agent for training could be different
agent for training could be different
from the
from the
score
okay though generally if it's like if
okay though generally if it's like if
they're both one anyways it'll probably
they're both one anyways it'll probably
be fine um but yeah but I get what
be fine um but yeah but I get what
you're saying because if you're you
you're saying because if you're you
start to sweep the the rewards just end
start to sweep the the rewards just end
up ending just put the max reward
up ending just put the max reward
exactly and like I mean if you only have
exactly and like I mean if you only have
one source of reward and it's always it
one source of reward and it's always it
like it's fine to just always have that
like it's fine to just always have that
be one because then you'll just adapt
be one because then you'll just adapt
the learning rate and stuff around it
the learning rate and stuff around it
you don't need to sweep like the
you don't need to sweep like the
coefficient as like zero to one you can
coefficient as like zero to one you can
just always have it be one you know um
just always have it be one you know um
but if you have a bunch of different
but if you have a bunch of different
rewards and you don't know how much they
rewards and you don't know how much they
matter relative to each other then
matter relative to each other then
that's when you need to start thinking
that's when you need to start thinking
about
about
this got
this got
you
you
so step agent
yep is this a
yep is this a
noop is there I think there is a no op
noop is there I think there is a no op
right
right
what what do you
what what do you
mean like this is wait if action not
mean like this is wait if action not
equal so four I assume is no
up uh yeah it means don't do
up uh yeah it means don't do
anything oh yeah yeah sorry okay
so can that go wrong in any
way uh the only way that this can go
way uh the only way that this can go
wrong for reference here I guess you're
wrong for reference here I guess you're
going to have this problem either way
going to have this problem either way
but
but
um so the way that the sweeps work right
um so the way that the sweeps work right
right it's going to wait until you get
right it's going to wait until you get
metric back from
metric back from
logging in order for it to like it needs
logging in order for it to like it needs
it needs to like keep running steps
it needs to like keep running steps
until it gets metrics right MH uh so if
until it gets metrics right MH uh so if
the agents don't ever get any reward or
the agents don't ever get any reward or
they don't ever like complete a log they
they don't ever like complete a log they
never get anything so they never trigger
never get anything so they never trigger
at log then the run will basically hang
at log then the run will basically hang
so um okay so that would happen if the
so um okay so that would happen if the
agent doesn't do anything basically yeah
agent doesn't do anything basically yeah
so like in breakout for instance I had
so like in breakout for instance I had
to delete the no op action because it
to delete the no op action because it
could just not it could just choose to
could just not it could just choose to
sit there and the episodes would go on
sit there and the episodes would go on
forever now this not quite the same for
forever now this not quite the same for
you because your episodes are designed
you because your episodes are designed
to go on forever
to go on forever
um so I you're probably going to need
um so I you're probably going to need
some sort of Safeguard where like if
some sort of Safeguard where like if
nobody gets any reward for 128 steps or
nobody gets any reward for 128 steps or
something you got to return a log of all
something you got to return a log of all
zeros okay so like that's the one thing
zeros okay so like that's the one thing
is you're going to probably have to spot
is you're going to probably have to spot
check that because I think that this
check that because I think that this
likely it's not guaranteed to break in
likely it's not guaranteed to break in
sweeps either but if you get bad enough
sweeps either but if you get bad enough
hyper parameters it can break
hyper parameters it can break
right if basically if you get hyper
right if basically if you get hyper
prams that are so bad that the agent
prams that are so bad that the agent
just decides I'm going to stand here I
just decides I'm going to stand here I
can't figure anything out right that's
can't figure anything out right that's
when it'll
when it'll
happen
Okay anything above should be
obstacle okay
interactive food
logic yeah so that's where probably
logic yeah so that's where probably
[ __ ] up and could get rid of the bit
[ __ ] up and could get rid of the bit
mask and find a much better way to do
it I see yep likely so but I will say so
it I see yep likely so but I will say so
far I haven't seen anything like I have
far I haven't seen anything like I have
not seen anything horrendous where it's
not seen anything horrendous where it's
like what on Earth are you doing which
like what on Earth are you doing which
is very very common for first
is very very common for first
environment submissions especially if
environment submissions especially if
you're new to
you're new to
see so this is generally all fine like I
see so this is generally all fine like I
bet that if you were to keep writing
bet that if you were to keep writing
these and then you were to go rewrite
these and then you were to go rewrite
this code in a few months you'd probably
this code in a few months you'd probably
be able to take you know 50 100 lines
be able to take you know 50 100 lines
off of it um but it's like this is all
off of it um but it's like this is all
fine relatively you know straightforward
fine relatively you know straightforward
code so you're good
set rewards to zero
I don't mind like magic constants like
I don't mind like magic constants like
this but uh if you're going to use them
this but uh if you're going to use them
multiple times I do suggest that you
multiple times I do suggest that you
make them like you could just make this
make them like you could just make this
like an inline function or whatever or
like an inline function or whatever or
just a just regular function it doesn't
just a just regular function it doesn't
even have to be in line it's not going
even have to be in line it's not going
to matter because otherwise you're going
to matter because otherwise you're going
to change this in one place and you're
to change this in one place and you're
going to forget to change the other one
going to forget to change the other one
you're going be really
you're going be really
sad so I actually I don't really mind
sad so I actually I don't really mind
magic constants um but I do if you're
magic constants um but I do if you're
going to do them only use them once
going to do them only use them once
right otherwise like separate it and put
right otherwise like separate it and put
it somewhere
it somewhere
okay and you have a step agent function
okay and you have a step agent function
which is fine you got spawn Foods you
which is fine you got spawn Foods you
get compute
OBS
colors
colors
okay UV is
okay UV is
is got the
renderer do you know the struct
renderer do you know the struct
initializer
syntax uh
syntax uh
no let me show you it it's one it's just
no let me show you it it's one it's just
it's the one nice thing it's like the
it's the one nice thing it's like the
one nice and tactic sugar thing I
one nice and tactic sugar thing I
actually use in
actually use in
see oh maybe I see what you mean but uh
see oh maybe I see what you mean but uh
yeah show me H here you mean to declare
yeah show me H here you mean to declare
one uh destruct in like uh in a single
one uh destruct in like uh in a single
LBC yeah yeah yeah you can do where is
LBC yeah yeah yeah you can do where is
it yeah like this yeah I think I've done
it yeah like this yeah I think I've done
it for Asians and stuff but
it for Asians and stuff but
uh yeah okay yeah I see okay and where
uh yeah okay yeah I see okay and where
did my review go it
is and then the renter
small map so it's fine um for larger
small map so it's fine um for larger
Maps what you do is you only render the
Maps what you do is you only render the
stuff that's not the
stuff that's not the
background okay but this will be this
background okay but this will be this
will be just fine for these small Maps
will be just fine for these small Maps
like this will be plenty
like this will be plenty
fast and then you have tile size you get
fast and then you have tile size you get
your UVS yeah so this is very similar to
your UVS yeah so this is very similar to
our other grid base Maps perfect and
our other grid base Maps perfect and
then you bound this here
here see you have yep that looks all the
here see you have yep that looks all the
same as you'd expect OB action forward
terminals you do my report interval
terminals you do my report interval
trick which is
trick which is
good the reason for this by the way is
good the reason for this by the way is
that if you send a ton of info over
that if you send a ton of info over
multiprocessing you will clog up the uh
multiprocessing you will clog up the uh
the pipe and you'll slow your M
the pipe and you'll slow your M
down okay that will eventually go away
down okay that will eventually go away
when we do um uh in Python 314 this is
when we do um uh in Python 314 this is
going to get easier because we have a
going to get easier because we have a
we'll be able to do a Threading based
factorization and you even did a nice
factorization and you even did a nice
perf test very good you
perf test very good you
do I'm not sure that works though
do I'm not sure that works though
because the SPs that gets printed there
because the SPs that gets printed there
is very different from the one from the
is very different from the one from the
dashboard it seems very bloated up
dashboard it seems very bloated up
but uh well how many agents do you have
but uh well how many agents do you have
in
in
here m. num
agents that should be by default I think
agents that should be by default I think
the default is like eight I think yeah
the default is like eight I think yeah
it's because you only have eight agents
it's because you only have eight agents
so this python Loop right this python
so this python Loop right this python
Loop is going to add a ton of overhead
Loop is going to add a ton of overhead
if you were to test this with a whole
if you were to test this with a whole
bunch of M's right because you know you
bunch of M's right because you know you
can set num M's greater than one so if
can set num M's greater than one so if
you were to set this to have like 4,000
you were to set this to have like 4,000
agents or whatever it should be way
agents or whatever it should be way
faster
okay because you're just you're timing
okay because you're just you're timing
this python Loop right
now and then Yep this is boilerplate
header and then sure that you got yeah
header and then sure that you got yeah
you got this from like my snake en or
you got this from like my snake en or
whatever most likely
yeah you can see that like you can just
yeah you can see that like you can just
build a ton of different environments
build a ton of different environments
with this kind of like really simple
with this kind of like really simple
style right and you even have like this
style right and you even have like this
the ability to have multiple different
the ability to have multiple different
sized environments all like nicely laid
sized environments all like nicely laid
out in memory quite powerful I'm sure
out in memory quite powerful I'm sure
you realize like most of my code has
you realize like most of my code has
been inspired but the square grid and
been inspired but the square grid and
and snake which is fine that's exactly
and snake which is fine that's exactly
what you should do for initial mends and
what you should do for initial mends and
then like that'll carry you pretty far
then like that'll carry you pretty far
it's only when you start doing like
it's only when you start doing like
fantas your not entirely tile based
fantas your not entirely tile based
stuff right that stuff gets harder but I
stuff right that stuff gets harder but I
mean to that point right like neural MO
mean to that point right like neural MO
is a technically a tile based M and it's
is a technically a tile based M and it's
our hardest M
right also has a full Dynamic economy
right also has a full Dynamic economy
and Market in
and Market in
it yeah that's crazy it's only a few
it yeah that's crazy it's only a few
hundred lines of code
hundred lines of code
not much more code than you just wrote
not much more code than you just wrote
here that's crazy when you think about
here that's crazy when you think about
it m you can just get a lot done if you
it m you can just get a lot done if you
just like if you just stick to like
just like if you just stick to like
really simple stuff and don't over
really simple stuff and don't over
complicate things you can get a lot
complicate things you can get a lot
done and you've added the puff first
done and you've added the puff first
very
good is this already wait I I think
good is this already wait I I think
there's the puffers yeah I found them
there's the puffers yeah I found them
some at some place sales but uh the the
some at some place sales but uh the the
first puffer uh no the second ones yeah
first puffer uh no the second ones yeah
they were there I
think um can't remember where exactly
think um can't remember where exactly
though but uh might have been in one
though but uh might have been in one
environment in one
folder um yeah wait I think I think I
folder um yeah wait I think I think I
just saw a mistake in
just saw a mistake in
the saw
the saw
mistake
yeah well technically you could get
yeah well technically you could get
these from resources and not have to
these from resources and not have to
have a second copy of them but it does
have a second copy of them but it does
it's 22 kiloby it's not a big deal okay
it's 22 kiloby it's not a big deal okay
yeah so technically you could just grab
yeah so technically you could just grab
these from just resources slash because
these from just resources slash because
it's already there it doesn't
it's already there it doesn't
matter yes there's a mistake in the
matter yes there's a mistake in the
setup. py uh they're missing a comma at
setup. py uh they're missing a comma at
the end of the line I don't
the end of the line I don't
know I'm pretty sure I have fixed that
know I'm pretty sure I have fixed that
in my own otherwise it wouldn't have
in my own otherwise it wouldn't have
worked but
worked but
okay cool well I'll merge this and I'll
okay cool well I'll merge this and I'll
fix that
fix that
comma
uh let me leave comments what did we say
um I mean remove the bit masking uh look
um I mean remove the bit masking uh look
at the stru insallation trick and I mean
at the stru insallation trick and I mean
these are smaller things for you right
these are smaller things for you right
the only one that's really important is
the only one that's really important is
make sure that
make sure that
adlog uh gets called yeah
if poers
if poers
don't word otherwise we can crash
don't word otherwise we can crash
sweets say
sweets say
log
log
zeros there's a thing though in this
zeros there's a thing though in this
environment is that if you don't solve
environment is that if you don't solve
it uh meaning that you deplete all the
it uh meaning that you deplete all the
food even if the agent keeps uh going
food even if the agent keeps uh going
around and around you might have
around and around you might have
hundreds of hundreds of St without
hundreds of hundreds of St without
having any any resource because
having any any resource because
basically you've just depleted
basically you've just depleted
everything that's fine as long as you
everything that's fine as long as you
actually like report that yeah okay oh
actually like report that yeah okay oh
did I merge it oh I oops my bad I
did I merge it oh I oops my bad I
approved it and there we
approved it and there we
go conflict solve
go conflict solve
conflicts uh I'm going to remove because
conflicts uh I'm going to remove because
this is just you commented all this
this is just you commented all this
stuff move that
I mean if I would have done it like a
I mean if I would have done it like a
proper P I wouldn't have had to push
proper P I wouldn't have had to push
that specific file cuz yeah but no big
deal what I
deal what I
miss I miss
miss I miss
something that's not letting me Mark is
completed is the UI
glitched yeah I saw something yeah I saw
glitched yeah I saw something yeah I saw
if you go back to the file you missed
if you go back to the file you missed
one I
one I
think oh
well yeah I'm going to probably take the
well yeah I'm going to probably take the
latest config
anyways yeah just need this to just need
anyways yeah just need this to just need
this
to lovely the only thing the only thing
to lovely the only thing the only thing
that really matters that I added in the
that really matters that I added in the
default at in is the workspace name for
default at in is the workspace name for
Neptune but other than that yep let
Neptune but other than that yep let
[Music]
[Music]
me set up this puffer box forward my
me set up this puffer box forward my
window
window
go we
are okay I know what experiment that
was uh this I want to save
I pr this to the wrong place
where was uh I think you appear to death
where was uh I think you appear to death
but oh I didn't I didn't click merge
apparently
apparently
oh very good
fix the setup.py real
quick should probably name it something
quick should probably name it something
uh either expand the acronym or
uh either expand the acronym or
something cuz people are going to think
something cuz people are going to think
that we've got like a you know a CPR on
that we've got like a you know a CPR on
like you know like just compressions
like you know like just compressions
oh somebody chokes on
oh somebody chokes on
something I was like kind of confused
something I was like kind of confused
because like I kept seeing your M I was
because like I kept seeing your M I was
like did somebody makes some like chest
like did somebody makes some like chest
compression M or something and uh no
compression M or something and uh no
it's this it's just a silly
it's this it's just a silly
acronym okay no I I didn't know about
acronym okay no I I didn't know about
the other one yeah yeah yeah that was
the other one yeah yeah yeah that was
going to confuse the hell out of people
going to confuse the hell out of people
uh let me go get the
uh let me go get the
original I want to just revert the the
original I want to just revert the the
one file which is the conf
okay so yeah I I'll rename it in the
okay so yeah I I'll rename it in the
future
y okay so I just
y okay so I just
grab which config this one
okay let's see if we can train your uh
okay let's see if we can train your uh
your
your
environment yeah that would be great
uhoh oh that's just
uhoh oh that's just
a oh that's probably the comma stuff
a oh that's probably the comma stuff
right looks like it should
be uh
huh why is it
concatenating it's like concatenating
concatenating it's like concatenating
Tower climb
maybe something
C oh wait I'm in the wrong REO this
why this is the right one
so we will see how fast of and how fast
so we will see how fast of and how fast
you have the environment
running we'll see how quickly we can
running we'll see how quickly we can
make it very fast
um let me go grab some water I'll be
um let me go grab some water I'll be
backing compile
this
for e
all right I'm
all right I'm
back okay so uh before I start
back okay so uh before I start
optimizing we're at
optimizing we're at
200k and 896
200k and 896
score but that's on CPU yeah cuz that's
score but that's on CPU yeah cuz that's
oh I guess so my CPU is just faster than
yours and you still have the 2 million
yours and you still have the 2 million
steps per second so
it's going to take it a second to just
it's going to take it a second to just
optimize some
optimize some
kernels okay
oh well it'll cash him so we won't have
oh well it'll cash him so we won't have
to wait for that
again all right 1.4 million oh wow
again all right 1.4 million oh wow
that's
that's
fast3 oh the M is so slow though so slow
fast3 oh the M is so slow though so slow
45% that is
45% that is
unacceptable we'll do this
unacceptable we'll do this
instead it how many agents per n is
instead it how many agents per n is
it uh by default like here in the cig is
it uh by default like here in the cig is
12 12 agents
12 12 agents
per that's a lot of Agents uh let me
think
think
340 so if I do 340
M's well times was it yeah
M's well times was it yeah
340m this
1.7 million steps per second
1.7 million steps per second
training oh well no I'm my bad it gets
training oh well no I'm my bad it gets
faster than that of
faster than that of
course can't be that embarrassingly slow
course can't be that embarrassingly slow
okay 2.3 know that's at least like
okay 2.3 know that's at least like
moderately
respectable now the score is getting
respectable now the score is getting
lower which I assume is the bad
lower which I assume is the bad
thing yeah out of here
bot it's like several Bots a day on
bot it's like several Bots a day on
stupid twitch yeah so looking at the
stupid twitch yeah so looking at the
score in the move it probably means that
score in the move it probably means that
it already depleted the resource
it already depleted the resource
entirely um and so basically it's just I
entirely um and so basically it's just I
don't know running around in
circles I mean they will just deplete
circles I mean they will just deplete
the
the
resources unless you uh yeah that's
resources unless you uh yeah that's
going to be a tricky thing to figure out
going to be a tricky thing to figure out
now we can at the very least
now we can at the very least
I think this is going to be funny we can
I think this is going to be funny we can
just do
this
this
oops hi learn about project today with
oops hi learn about project today with
the iceberg video nice and looks active
the iceberg video nice and looks active
welcome what M you looking at this is a
welcome what M you looking at this is a
newly uh merged in environment by m000
newly uh merged in environment by m000
who I'm on here with on the Discord it
who I'm on here with on the Discord it
is a collective resource collection
is a collective resource collection
problem is that a good description
problem is that a good description
tragedy of the commons kind of thing
tragedy of the commons kind of thing
yeah yeah yeah exactly that need to just
yeah yeah yeah exactly that need to just
balance the the harvesting speed
balance the the harvesting speed
basically so I'm just getting this
basically so I'm just getting this
nicely
nicely
integrated um and if you're looking to
integrated um and if you're looking to
get involved with all this stuff
get involved with all this stuff
discord.gg puffer get a whole bunch of
discord.gg puffer get a whole bunch of
folks in there building Ms and
folks in there building Ms and
contributing to
contributing to
research the score is no longer
research the score is no longer
completely messed up actually which is
completely messed up actually which is
kind of funny
I I don't
I I don't
know
know
huh so so there is still a very very
huh so so there is still a very very
slow probability of responding of food
slow probability of responding of food
in the middle of nowhere so I don't
in the middle of nowhere so I don't
remember exactly the probability it
remember exactly the probability it
might be like one once in 100,000 steps
might be like one once in 100,000 steps
or something oh that's
or something oh that's
real yeah so that was just fine on my
real yeah so that was just fine on my
CPU but since you know we're only
CPU but since you know we're only
running like a 135 minute step
yeah my guess is that's going to be an
yeah my guess is that's going to be an
issue I I see the problem you're trying
issue I I see the problem you're trying
to get him to learn it's just kind of
to get him to learn it's just kind of
tough to get them to learn to not take
tough to get them to learn to not take
the food when it's like a 100,000 or
the food when it's like a 100,000 or
whatever delay if they
whatever delay if they
do yeah we can see what these guys do my
do yeah we can see what these guys do my
guess is that they will have forgotten
guess is that they will have forgotten
how to do anything though because they
how to do anything though because they
won't have like there won't have been
won't have like there won't have been
anything for them to do for a while yeah
anything for them to do for a while yeah
the the thing I might think about it was
the the thing I might think about it was
just adding the the death um system to
just adding the the death um system to
it so basically they have health and if
it so basically they have health and if
they don't eat it just die and gets a
they don't eat it just die and gets a
very big negative reward so they would
very big negative reward so they would
just incentivize them
just incentivize them
to maybe keep eating at some rate but
to maybe keep eating at some rate but
not necessarily harvesting everything
not necessarily harvesting everything
for themselves I don't
for themselves I don't
know you definitely can play with it
know you definitely can play with it
it's uh you've gotten yourself into a
it's uh you've gotten yourself into a
problem with some tricky Dynamics you
problem with some tricky Dynamics you
can see the scores all the way down here
can see the scores all the way down here
now let's see if I just
oh yeah what that's actually you're
oh yeah what that's actually you're
actually answering one of the questions
actually answering one of the questions
I had on
I had on
Discord uh how to catch up on the latest
Discord uh how to catch up on the latest
experiment so how to catch up on the
experiment so how to catch up on the
latest
latest
experiments yeah so once you've been
experiments yeah so once you've been
training or sweeping experiments I
training or sweeping experiments I
wanted to find back I wanted to find
wanted to find back I wanted to find
back one experiment from the tune or
back one experiment from the tune or
something
something
so these guys don't look very
so these guys don't look very
smart I mean they're kind of doing some
smart I mean they're kind of doing some
stuff but my guess is they're not that
stuff but my guess is they're not that
smart because they haven't had much to
smart because they haven't had much to
do in a
do in a
while yeah I bet you that they'll be
while yeah I bet you that they'll be
like noticeably smarter if it's actually
like noticeably smarter if it's actually
weird that they're not even eating this
weird that they're not even eating this
food I guess they probably just ate all
food I guess they probably just ate all
of this food in the uh original
of this food in the uh original
ironically if we do this it'll probably
ironically if we do this it'll probably
be better
I'm glad people actually are finding the
I'm glad people actually are finding the
uh the project through that Iceberg
uh the project through that Iceberg
video because it didn't get very many
video because it didn't get very many
views and it was a lot of
work you know actually one thing we
work you know actually one thing we
could do is if I just do like
could do is if I just do like
this okay and I just put this on
neptun let's put this on Neptune
you don't have
you don't have
access yeah so that's the you need to
access yeah so that's the you need to
replace the workspace with yours in the
replace the workspace with yours in the
config file now right that's probably
config file now right that's probably
it uh you're doing great you can bring
it uh you're doing great you can bring
more audience from Twitter I mean
more audience from Twitter I mean
Twitter is my main thing so the only
Twitter is my main thing so the only
thing is I can't tell how many people
thing is I can't tell how many people
are actually ever watching on on X at
are actually ever watching on on X at
any given time it only tells you the
any given time it only tells you the
total view
total view
count so I don't know
count so I don't know
they got to fix
that I named it workspace I'm not sure
that I named it workspace I'm not sure
if it's on a default since you ER my
if it's on a default since you ER my
change yeah it's probably it's probably
change yeah it's probably it's probably
on my cpr. inii which is being
on my cpr. inii which is being
overwritten
B I would
B I would
assume yeah so what we'll do then is we
assume yeah so what we'll do then is we
will yes here you have score in here so
will yes here you have score in here so
you don't this CU you already have the
you don't this CU you already have the
same metric right which is score or yeah
same metric right which is score or yeah
yeah I used to have episode return I
yeah I used to have episode return I
just Chang it when I saw one of your
just Chang it when I saw one of your
streams talking about yeah just having
streams talking about yeah just having
score for everything is nice yeah so now
score for everything is nice yeah so now
I just have it for everything yeah so
I just have it for everything yeah so
what I'll do is I'll just put this into
what I'll do is I'll just put this into
a config
a config
default just do this
default just do this
right yeah
I wonder if the name is not the name of
I wonder if the name is not the name of
your workspace though so for you it
your workspace though so for you it
would be yeah
it's funny how we had a bunch of folks
it's funny how we had a bunch of folks
on Twitch and they left and now we have
on Twitch and they left and now we have
some folks on
YouTube okay so what I wanted to do here
YouTube okay so what I wanted to do here
is I wanted to see how moves changes
is I wanted to see how moves changes
over
time it's just easy thing we can do
time it's just easy thing we can do
right so we do
yes this is just going up over
time so my guess is they just eat all
time so my guess is they just eat all
the
the
food yeah I mean I had a system before
food yeah I mean I had a system before
where there were no depletion which is
where there were no depletion which is
obviously a completely different
obviously a completely different
environment but you could see that the
environment but you could see that the
the moves was going up and then down
the moves was going up and then down
after it learned correctly the thing but
after it learned correctly the thing but
now with
now with
depletion yeah so you should probably
depletion yeah so you should probably
just do some sanity stuff right like
just do some sanity stuff right like
have some sanity settings for the
have some sanity settings for the
environment so that you can actually get
environment so that you can actually get
the learn curves and stuff before you
the learn curves and stuff before you
try to go solve the harder problems um
try to go solve the harder problems um
that would be my my advice I left this
that would be my my advice I left this
like this because usually the defaults
like this because usually the defaults
are pretty good you know you can always
are pretty good you know you can always
put stuff back if you want to like the
put stuff back if you want to like the
defaults end up being pretty good at
defaults end up being pretty good at
this point um yeah they need to tune
this point um yeah they need to tune
like every individual hyper parameter
like every individual hyper parameter
just to get it to do something is very
just to get it to do something is very
much fixed by the new Optimizer changes
much fixed by the new Optimizer changes
which is really
which is really
exciting um I let's see I did 340 M's
exciting um I let's see I did 340 M's
for you you can see your M's at 1% uh 1%
for you you can see your M's at 1% uh 1%
of the time so that's really
of the time so that's really
good okay it's nice and fast
good okay it's nice and fast
training um I think if we do this if we
training um I think if we do this if we
do device equals
CPU tune
I mean I wonder if I could just make
I mean I wonder if I could just make
this uh the grid a bit bigger uh with
this uh the grid a bit bigger uh with
the same number of Agents so you know
the same number of Agents so you know
the time the agents learn to harvest the
the time the agents learn to harvest the
food in their own Corner the food would
food in their own Corner the food would
have just uh grow a lot much more in the
have just uh grow a lot much more in the
rest of the environment and then
and then uh yeah once you have once
and then uh yeah once you have once
you're ready and we have like a cool
you're ready and we have like a cool
policy that does something we will add
policy that does something we will add
it to the website and uh yeah that'll be
it to the website and uh yeah that'll be
fun yeah it sounds cool man I mean it's
fun yeah it sounds cool man I mean it's
pretty nice how easy this to just like
pretty nice how easy this to just like
stick everything on here we're missing a
stick everything on here we're missing a
few of them we got to put blastar on
few of them we got to put blastar on
here
here
obviously impulse force is going to get
obviously impulse force is going to get
up here at some point Spencer's got his
up here at some point Spencer's got his
uh Port of GPU drive so fair few new
uh Port of GPU drive so fair few new
M's that makes four now uh oh and then
M's that makes four now uh oh and then
bet also did like a quick cart pole
bet also did like a quick cart pole
implementation so five new M's will be
implementation so five new M's will be
added to
added to
this and that's
this and that's
great
great
cool any other questions for me on
cool any other questions for me on
this um yeah one last one last one I can
this um yeah one last one last one I can
think about is uh once you have one once
think about is uh once you have one once
you start a big sweep on Neptune and you
you start a big sweep on Neptune and you
find like one set of hyperparameters are
find like one set of hyperparameters are
great or something and you want to find
great or something and you want to find
back the model the do pt file uh back on
back the model the do pt file uh back on
your experiments how do you I don't know
your experiments how do you I don't know
if I have that set up at the moment
if I have that set up at the moment
honestly but the thing is the
honestly but the thing is the
experiments are like at least when I'm
experiments are like at least when I'm
running them on GPU the experiments are
running them on GPU the experiments are
so fast I just go grab the hyper
so fast I just go grab the hyper
parameters and like and you're R again
parameters and like and you're R again
yeah but then the thing is like I want
yeah but then the thing is like I want
to do that anyways cuz I want to make
to do that anyways cuz I want to make
sure that the experiment replicates
sure that the experiment replicates
right so okay that's usually what yeah
right so okay that's usually what yeah
um well the other thing is if you when
um well the other thing is if you when
you say how do you find back the uh The
you say how do you find back the uh The
Originals like if it's on your same
Originals like if it's on your same
machine which is I guess you it is
machine which is I guess you it is
because you have one
because you have one
machine um I think does it tell you the
name it gives you this
name it gives you this
ID I don't know if it tells you what
ID I don't know if it tells you what
this ID Maps do
this ID Maps do
though I think I've done stuff well if
though I think I've done stuff well if
you're running a sweep the experiments
you're running a sweep the experiments
are going to be short enough that it's
are going to be short enough that it's
probably not going to matter like if I'm
probably not going to matter like if I'm
running one experiment I'll just you
running one experiment I'll just you
know
know
LS okay and then that's like the most
LS okay and then that's like the most
recent
recent
ones very unique idea on the website
ones very unique idea on the website
thank you yeah the website's fun it took
thank you yeah the website's fun it took
a little bit of work like uh the neural
a little bit of work like uh the neural
that's running live in your
that's running live in your
browser
browser
is this C file right here we have like a
is this C file right here we have like a
version of the torch layers that exactly
version of the torch layers that exactly
matches torch but is just in pure so we
matches torch but is just in pure so we
can compile it to web
assembly this was a fun project to put
together
cool anything else or uh should I ping
cool anything else or uh should I ping
for uh Optimizer shenanigans
for uh Optimizer shenanigans
no everything is good thanks to death
no everything is good thanks to death
man really okay cool well thank you for
man really okay cool well thank you for
the contribution uh let me know when you
the contribution uh let me know when you
have like a policy that you think okay
have like a policy that you think okay
you know we have some something that
you know we have some something that
like something that trains and kind of
like something that trains and kind of
does something that you can see is cool
does something that you can see is cool
on the environment and then I will show
on the environment and then I will show
you how we uh report policies to to see
you how we uh report policies to to see
it's pretty simple especially for the
it's pretty simple especially for the
default policy and um yeah we'll get it
default policy and um yeah we'll get it
on the website we'll get you on the
on the website we'll get you on the
contributors list and everything and
contributors list and everything and
yeah thank you for the and I hope you
yeah thank you for the and I hope you
build some more M and keep staying
build some more M and keep staying
involved with puffer because we got lots
involved with puffer because we got lots
of fun research around here yeah same
of fun research around here yeah same
thank you good luck thank you bye
thank you good luck thank you bye
bye that was
fun always love when we have uh random
fun always love when we have uh random
new environment PRS this one looks
new environment PRS this one looks
pretty cool especially for some
pretty cool especially for some
multi-agent research as
multi-agent research as
well I'm going to
well I'm going to
take well let me just ping onid
okay I've pinged him and he'll probably
okay I've pinged him and he'll probably
be over in a minute and uh we'll do some
be over in a minute and uh we'll do some
Optimizer stuff and we'll see where we
Optimizer stuff and we'll see where we
go from there be right
back
e
e e
okay we are
backage should be here in a second and
backage should be here in a second and
uh we can look at a bit of Optimizer
uh we can look at a bit of Optimizer
stuff see where he is
is it I think it's 10 years per billion
is it I think it's 10 years per billion
no it's 20 years per
billion I remember I did the math for
billion I remember I did the math for
this a while
ago 5 by 365 days divide
by 15 years
oh wait no it is divide by
0.6 it's 10
0.6 it's 10
years 10 years of games yeah there it is
years 10 years of games yeah there it is
10 years of games
this guy
go they even have voice channels I guess
go they even have voice channels I guess
they
they
do all right uh let's see what uh
do all right uh let's see what uh
experiments we have
I think these
I think these
are we have a number of good candidates
are we have a number of good candidates
here we can take a look at uh we can
here we can take a look at uh we can
definitely take a look at some analysis
definitely take a look at some analysis
from this
oh sweet progress is going to be a
oh sweet progress is going to be a
little tricky because we don't have a
little tricky because we don't have a
score
score
metric let me think about
metric let me think about
that I could just make a new dashboard
that I could just make a new dashboard
real quick
hello hey how's it going man all right
hello hey how's it going man all right
sorry about that I don't know why it
sorry about that I don't know why it
wasn't um no good
wasn't um no good
we're on stream is that chill yeah it's
we're on stream is that chill yeah it's
chill all
chill all
right thanks for checking uhuh I just
right thanks for checking uhuh I just
like to tell people I I stream all my
like to tell people I I stream all my
death by default
death by default
so yeah but might as well just
so yeah but might as well just
check so this um it looks like psgd is
check so this um it looks like psgd is
doing
doing
well uh well at least on the initial
well uh well at least on the initial
test it is and I have some plots that uh
test it is and I have some plots that uh
I'm just adding right now from
I'm just adding right now from
I think 12 15 billion steps worth of
I think 12 15 billion steps worth of
experiments okay sweet it's about I
experiments okay sweet it's about I
think it's about 20 years of games per
think it's about 20 years of games per
billion
steps is how the I wonder how it like
steps is how the I wonder how it like
fares against
fares against
like like an IRL you
like like an IRL you
know well if I'm going to count if I get
know well if I'm going to count if I get
to count like 3.3 billion years worth of
to count like 3.3 billion years worth of
evolution then sure
I should be able to count that in my
x-axis yeah I mean like would it would
x-axis yeah I mean like would it would
it be as good as a a pro at this game
it be as good as a a pro at this game
you think oh no not even close it's
you think oh no not even close it's
they're pretty
they're pretty
dumb I see like yeah no this is this is
dumb I see like yeah no this is this is
a hard to learn Benchmark okay okay okay
a hard to learn Benchmark okay okay okay
can I sweep for a joint metric like a
can I sweep for a joint metric like a
plus b or do I need to create an A plus
plus b or do I need to create an A plus
b metc
b metc
metc in the
metc in the
M you need to create an A+ B metric in
M you need to create an A+ B metric in
the M
Spencer so I have right
Spencer so I have right
here I'm looking at the precon learning
here I'm looking at the precon learning
rate and the learning rate I'm going to
rate and the learning rate I'm going to
see if like we can figure out it's a
see if like we can figure out it's a
little weird it actually increased
little weird it actually increased
precon learning rate on the run I was
precon learning rate on the run I was
looking at that was good I didn't drw
looking at that was good I didn't drw
yeah so I think I think the thing that
yeah so I think I think the thing that
um helped was
um helped was
the
the
um was the what is it
called increase in
called increase in
momentum
momentum
momentum right that's what you had said
momentum right that's what you had said
right you had said well what what
right you had said well what what
controls momentum
controls momentum
uh B1 oh yeah let's let's go look at
uh B1 oh yeah let's let's go look at
beta 1
then I don't know if you have stream
then I don't know if you have stream
open because I'm making all these grabs
open because I'm making all these grabs
yeah I do I do all right so here we have
yeah I do I do all right so here we have
so the the really high point is the base
so the the really high point is the base
the MU on Baseline but that's been run
the MU on Baseline but that's been run
for uh close to 100 billion steps by
for uh close to 100 billion steps by
now um yeah I can take this one off real
now um yeah I can take this one off real
quick would like to see psgd catch up to
quick would like to see psgd catch up to
it in real time well I'm these runs are
it in real time well I'm these runs are
going for 500 million steps only I see I
going for 500 million steps only I see I
see that's pretty tough to do so I you
see that's pretty tough to do so I you
see over here we've got
see over here we've got
betas I mean I don't see yeah you'd see
betas I mean I don't see yeah you'd see
it it like didn't work well on these low
it it like didn't work well on these low
betas so it went to this High beta and
betas so it went to this High beta and
it looks like there's a there is a good
it looks like there's a there is a good
run at 0. n actually here oh no no no
run at 0. n actually here oh no no no
wait this is the other really long run
wait this is the other really long run
hang
hang
on yeah this is the other really long
run where is
it right here I'll just do
it right here I'll just do
this I need to move away from weights
this I need to move away from weights
and
and
biases I actually I said on stream like
biases I actually I said on stream like
yeah I've been using Neptune a bunch
yeah I've been using Neptune a bunch
lately I think it's a lot nicer now and
lately I think it's a lot nicer now and
I think I got a DM from the CTO I still
I think I got a DM from the CTO I still
have to answer of uh weights and bias so
have to answer of uh weights and bias so
I don't know if he was watching the
I don't know if he was watching the
stream or one of the engineers was
stream or one of the engineers was
watching stream but uh it's funny how
watching stream but uh it's funny how
that stuff
that stuff
happens yeah I mean I would I would uh
happens yeah I mean I would I would uh
definitely enjoy uh they're telling me I
definitely enjoy uh they're telling me I
need to pay now and I'm like leave me
need to pay now and I'm like leave me
alone I don't see the thing is I don't
alone I don't see the thing is I don't
even mind like I don't mind pay
even mind like I don't mind pay
but if you're going to try to make me
but if you're going to try to make me
have all of my open source users pay
have all of my open source users pay
then that's not going to
then that's not going to
fly yeah that's fair that's
fly yeah that's fair that's
fair that's the so I it's saying like
fair that's the so I it's saying like
around
around
0.95 yeah
0.95 yeah
is
is
okay and
okay and
then how do we okay
then how do we okay
and it's really weird
and it's really weird
how the learning rate
how the learning rate
so train learning rate we have one on
so train learning rate we have one on
the train learning rate that is like way
the train learning rate that is like way
higher that did
well they don't have
well they don't have
um logic as an access option for beta
um logic as an access option for beta
but you get the idea yeah
is this what Mars turned on uh no I
is this what Mars turned on uh no I
don't believe so okay I didn't see a big
don't believe so okay I didn't see a big
difference for Mars
difference for Mars
though wait the
though wait the
environment P what's the y- axis
environment P what's the y- axis
sorry mincom
sorry mincom
Prof yeah so this is You Can level up
Prof yeah so this is You Can level up
combat You Can level up your professions
combat You Can level up your professions
mincom Prof is the minimum of your
mincom Prof is the minimum of your
profession level and your combat level
profession level and your combat level
at the time that you
die
die
so so in order to
so so in order to
get in order to get two you in order to
get in order to get two you in order to
get from one to two one is the default
get from one to two one is the default
right in order to get to two you have to
right in order to get to two you have to
go find an enemy that you can kill kill
go find an enemy that you can kill kill
it pick up the tool that drops and then
it pick up the tool that drops and then
go equip the tool and harvest something
go equip the tool and harvest something
that you can Harvest with it I see level
that you can Harvest with it I see level
up yeah yes the higher is better um okay
up yeah yes the higher is better um okay
higher is
higher is
better the ma it's telling me that okay
better the ma it's telling me that okay
having too high of a learning rate not
having too high of a learning rate not
good somewhere
around 0 you know 01 the on learning
around 0 you know 01 the on learning
rate the optimal Mo on learning rate
rate the optimal Mo on learning rate
that we were using for a lot of stuff
that we were using for a lot of stuff
not for neural Mo but for all the other
not for neural Mo but for all the other
Ms was like 025
it's quite
it's quite
large yeah
so I don't want to say this
so I don't want to say this
but if you
also do psgd incorrectly you can have a
also do psgd incorrectly you can have a
higher learning
higher learning
rate um if you do psgd incorrectly yeah
rate um if you do psgd incorrectly yeah
so so if you if you like if you run the
so so if you if you like if you run the
momentum in a specific way it can it can
momentum in a specific way it can it can
change the so basically what we did for
change the so basically what we did for
for this is this is equivalent to atom
for this is this is equivalent to atom
right in its style because it's doing
right in its style because it's doing
gradient white gradient based whitening
gradient white gradient based whitening
right which is what muon should be doing
right which is what muon should be doing
as well and
as well and
somewhere I think they like to tout that
somewhere I think they like to tout that
they can use a Higher Learning rate but
they can use a Higher Learning rate but
that doesn't really mean anything it's
that doesn't really mean anything it's
it's
it's
just um well yeah the only thing it
just um well yeah the only thing it
means is like does your thing work
means is like does your thing work
faster than other algorithm right it's
faster than other algorithm right it's
like they can be differently
like they can be differently
scaled exactly exactly exactly exactly
scaled exactly exactly exactly exactly
um and so if you do the proper
um and so if you do the proper
scaling this is this is the number you
scaling this is this is the number you
should have for the learning rate um
should have for the learning rate um
which is nice because what would be nice
which is nice because what would be nice
is if we could see this actually for
is if we could see this actually for
adom and see how the learning rate in
adom and see how the learning rate in
beta
um like correlate with each other
um like correlate with each other
between
between
optimizers uh I have it for muan I don't
optimizers uh I have it for muan I don't
have it for Adam
have it for Adam
yeah um okay and precond conditioner
yeah um okay and precond conditioner
learning rate not too high not might for
learning rate not too high not might for
Adam hang on I do have it for Adam
here is 200 experiments worth of
atom yeah so we have 200 experiments
atom yeah so we have 200 experiments
worth of
atom okay find the
atom okay find the
betas this is
betas this is
sample yeah so here's your here are your
sample yeah so here's your here are your
atom param
atom param
and I can what I do usually is I limit
and I can what I do usually is I limit
it to the good runs so I say
it to the good runs so I say
okay let's say a minute minute's a good
okay let's say a minute minute's a good
budget for breakout so we do
budget for breakout so we do
cost
cost
um cost
so now this is these are the experiments
so now this is these are the experiments
we're looking
we're looking
at and we can
see okay so beta 1 would
see okay so beta 1 would
[Music]
[Music]
be yes it's around that
be yes it's around that
0.96
0.96
oops hang on
just make sure I'm not covering it there
just make sure I'm not covering it there
so beta 1 for muan is about the same it
so beta 1 for muan is about the same it
goes from about 0.
goes from about 0.
n96 yeah for uh for Adam 0.96 to
n96 yeah for uh for Adam 0.96 to
0995 so it just seems that it needs to
0995 so it just seems that it needs to
be higher than the default of
be higher than the default of
0.9 okay right and then beta
2 I I think the default is
2 I I think the default is
999 which seems fine yeah CU anything in
999 which seems fine yeah CU anything in
there is fine and then the
Epsilon well this one's interesting
Epsilon well this one's interesting
because I remember when I did this with
because I remember when I did this with
muon mu went Epsilon all the way to the
muon mu went Epsilon all the way to the
bottom but I guess mu doesn't have an
bottom but I guess mu doesn't have an
Epsilon I don't know so so mu's Epsilon
Epsilon I don't know so so mu's Epsilon
is just so muan can only handle two
is just so muan can only handle two
dimensional weights so for
dimensional weights so for
one-dimensional weights it just defaults
one-dimensional weights it just defaults
to Adam okay so anyways there's there's
to Adam okay so anyways there's there's
an Epsilon here it seems pretty high um
an Epsilon here it seems pretty high um
I think the muan one was a high but
I think the muan one was a high but
whatever yeah this is it set some weird
whatever yeah this is it set some weird
Epsilon one one thing um with muon
Epsilon one one thing um with muon
is they like to set and it's it's true
is they like to set and it's it's true
in general right if you have a
in general right if you have a
multi-layered kind of neural network
multi-layered kind of neural network
they like to set the learning rates of
they like to set the learning rates of
the um they have both an atom learning
the um they have both an atom learning
rate and a muon learning rate so like
rate and a muon learning rate so like
a like different portions of the network
a like different portions of the network
should be receiving different learning
should be receiving different learning
rates which would be is it just a biases
rates which would be is it just a biases
a
a
lot
lot
uh we don't have any like n and do
uh we don't have any like n and do
embedding
layers yeah so even for like if you look
layers yeah so even for like if you look
at um
at um
tell's uh ciar 10 speedrun he will use
tell's uh ciar 10 speedrun he will use
different learning rates for different
different learning rates for different
layers just in
layers just in
general well C far I trust less than GP
general well C far I trust less than GP
C far is like a freaking 3 second
C far is like a freaking 3 second
optimized run at this point um I think
optimized run at this point um I think
it's like two two point something but
it's like two two point something but
yeah I I've been I was looking at the
yeah I I've been I was looking at the
nanog GPT
nanog GPT
runs
runs
uh as of
uh as of
late I don't know if they use it there
late I don't know if they use it there
they do they
they do they
do but then like they have embedding
do but then like they have embedding
lers though they do oh [ __ ] I got to
lers though they do oh [ __ ] I got to
take a I'm getting a call give me a
sec e
em is here
em is here
hello yeah how's it
hello yeah how's it
going oh
good many experiments have been run
yeah I was
yeah I was
seeing
seeing
um so so far it seems like we've
um so so far it seems like we've
got pretty
got pretty
clear
clear
spikes beta of like
96 uh learning rate at what's this
0.25 and then precon at 0.15
0.15 yeah it increased
0.15 yeah it increased
it mu doesn't have the plasticity issue
it mu doesn't have the plasticity issue
that PSD is having right now
that PSD is having right now
right um well I don't know if there was
right um well I don't know if there was
a plasticity issue or if it was just a
a plasticity issue or if it was just a
hyper pram
hyper pram
issue right yeah it's a little tricky
issue right yeah it's a little tricky
like with everything else in puffer I
like with everything else in puffer I
can just be like oh yeah here 200 runs
can just be like oh yeah here 200 runs
that'll take a couple hours uh this one
that'll take a couple hours uh this one
it's like neural L mo3 is actually kind
it's like neural L mo3 is actually kind
of hard so each runs 500 million steps
of hard so each runs 500 million steps
so it takes a little longer but if I get
so it takes a little longer but if I get
the the graphs right here are
the the graphs right here are
graphs I can get you the Baseline for
graphs I can get you the Baseline for
this so this is the Bas line this is
this so this is the Bas line this is
muan so muan does this and if I go like
this we have
PSD why are you Shing that you're Shing
PSD why are you Shing that you're Shing
chat right uh on the
chat right uh on the
stream oh I don't see a screen though X
stream oh I don't see a screen though X
YouTube
twitch
twitch
oh so am I being streamed on Twitch
oh so am I being streamed on Twitch
right now yeah I told I told omed when
right now yeah I told I told omed when
he he hopped in but yeah like I my Dev
he he hopped in but yeah like I my Dev
is live by
is live by
default that's fine it's okay yeah my
default that's fine it's okay yeah my
bad I like I just I kind of just hopped
bad I like I just I kind of just hopped
in and I was like oh you're
in and I was like oh you're
here yeah I yeah okay let me just let me
here yeah I yeah okay let me just let me
see let me see uh yeah J Suarez on
see let me see uh yeah J Suarez on
Twitter yeah where is the
Twitter yeah where is the
stream
okay yeah I stream like a good 40 60
okay yeah I stream like a good 40 60
hours a week
hours a week
depending well yeah m is pretty cool we
depending well yeah m is pretty cool we
what what
what what
what is the gray one the the green white
what is the gray one the the green white
one at the top this is
one at the top this is
psvd these are all psgd but the thing is
psvd these are all psgd but the thing is
like so I had before I tuned this I was
like so I had before I tuned this I was
doing this let's see let me see if I can
doing this let's see let me see if I can
find either ones
find either ones
whoops so this was me trying to tune
whoops so this was me trying to tune
psgd
psgd
manually uhhuh and like it would be
manually uhhuh and like it would be
higher for a bit but then it would
higher for a bit but then it would
intersect it would stall right yeah it
intersect it would stall right yeah it
would stall and let's see did I do more
would stall and let's see did I do more
of
of
this yes technically we have these as
this yes technically we have these as
well that is just an a lar of sweep
well that is just an a lar of sweep
right do you didn't change anything else
right do you didn't change anything else
no just there's another sweep because um
no just there's another sweep because um
I had to fix some bugs in the way that
I had to fix some bugs in the way that
it was
it was
sweeping
sweeping
oh I maybe I like maybe I got the Fram
oh I maybe I like maybe I got the Fram
better or something but yeah latest one
better or something but yeah latest one
here the latest sweep that I have that's
here the latest sweep that I have that's
the good one where I'm actually getting
the good one where I'm actually getting
the
the
results is this one you can see that
results is this one you can see that
some of them are still below like some
some of them are still below like some
of these don't learn but uh now we
of these don't learn but uh now we
actually do
actually do
have results and they don't seem to
have results and they don't seem to
stall
anymore so I'd assume it's like one of
anymore so I'd assume it's like one of
these parameters that was just bad
these parameters that was just bad
because like this is not random search
because like this is not random search
right this is protein so either it was
right this is protein so either it was
the preconditioning or it was the
the preconditioning or it was the
learning rate or like beta one of these
learning rate or like beta one of these
was like causing it to
stall I mean you you were you using
stall I mean you you were you using
unconstrained beta search or
unconstrained beta search or
constraining it to something like
constraining it to something like
specific range uh it's constrained the
specific range uh it's constrained the
way it's it's like a it's a preo
way it's it's like a it's a preo
optimized genetic search and it's like
optimized genetic search and it's like
it's like a genetic search and log space
it's like a genetic search and log space
of some of the parameters or logic space
of some of the parameters or logic space
depending
depending
awesome what's PS uh
awesome what's PS uh
psgd ask these guys it's an
Optimizer is an Optimizer uh and is
Optimizer is an Optimizer uh and is
being
being
actively some fancy Optimizer I don't
actively some fancy Optimizer I don't
actually know how it works yet he's
actually know how it works yet he's
being actively advertised by
being actively advertised by
Omid it's not parallel s GD what what
Omid it's not parallel s GD what what
does it stand
does it stand
for preconditions
for preconditions
precondition okay preconditions to cast
precondition okay preconditions to cast
aadi in
aadi in
descent there you go it's like a very
descent there you go it's like a very
esoteric Optimizer to be honest with you
esoteric Optimizer to be honest with you
like uh it requires a lot of like a lot
like uh it requires a lot of like a lot
of dark
of dark
knowledge to understand I
knowledge to understand I
suppose unless you run exhaus
suppose unless you run exhaus
experiments
experiments
it takes it takes a lot of time to
it takes it takes a lot of time to
understand it but it really works so I
understand it but it really works so I
did run one other experiment that I
did run one other experiment that I
thought was kind of cool so yeah when I
thought was kind of cool so yeah when I
tried to run the breakout uh the
tried to run the breakout uh the
breakout parameters or whatever like the
breakout parameters or whatever like the
defaults uh the defaults worked on
defaults uh the defaults worked on
breakout but they didn't work on neural
breakout but they didn't work on neural
MMO but then I took
MMO but then I took
um I took like the precondition LR like
um I took like the precondition LR like
0.15 I took the beta and I took the
0.15 I took the beta and I took the
learning rate and I tried those on
learning rate and I tried those on
breakout so I tried to transfer from the
breakout so I tried to transfer from the
complicated m to the simple M and that
worked oh interesting so I think
worked oh interesting so I think
actually the defaults just might not be
actually the defaults just might not be
that good for RL in
that good for RL in
general uh wait just just just just just
general uh wait just just just just just
to be clear the way you uh the rewards
to be clear the way you uh the rewards
there parts right and they happen like
there parts right and they happen like
every and then for the complex M the
every and then for the complex M the
rewards are they delayed how does that
rewards are they delayed how does that
like how's the difference well the comp
like how's the difference well the comp
m is right
m is right
here not that that's
here not that that's
breakout I don't see are you
breakout I don't see are you
sure for the complex M the rewards are
sure for the complex M the rewards are
they delayed sorry I had to
they delayed sorry I had to
mute are they on I can't see it okay
mute are they on I can't see it okay
this stream takes a second to catch up
this stream takes a second to catch up
so this is neural MMO
3 you can see uh if it kills an enemy
3 you can see uh if it kills an enemy
it'll get a reward it can't kill this
it'll get a reward it can't kill this
enemy this enemy is level six it is too
enemy this enemy is level six it is too
strong this is the hard one right yeah
strong this is the hard one right yeah
this is a hard F so if I just unlock the
this is a hard F so if I just unlock the
camera like it could go kill this enemy
camera like it could go kill this enemy
over here it could not kill this one
over here it could not kill this one
it's got to go find something it can
it's got to go find something it can
kill uh and if I just take control of
kill uh and if I just take control of
this
this
thing now I'm I'm controlling this bot
thing now I'm I'm controlling this bot
right
right
now uh let me it's it's chasing
now uh let me it's it's chasing
me okay well I got to die so I can get a
me okay well I got to die so I can get a
full health bar I'll show you we get
full health bar I'll show you we get
reward so in order to get reward in this
reward so in order to get reward in this
m I got to go find an enemy that I can
m I got to go find an enemy that I can
kill you can see it takes a while I got
kill you can see it takes a while I got
to like look at their
to like look at their
levels that one's too
levels that one's too
strong this is a level one
strong this is a level one
perfect I attack
perfect I attack
it I go get this tool I equip this tool
it I go get this tool I equip this tool
so I got a reward for killing the enemy
so I got a reward for killing the enemy
and now if I go pick up an item I'll get
and now if I go pick up an item I'll get
a reward so I'll get a reward for that
a reward so I'll get a reward for that
this is a consumable I can use it to
heal and then I got I harvested an item
heal and then I got I harvested an item
but I got virtually just one shot by
but I got virtually just one shot by
that thing so yeah other one killed me
that thing so yeah other one killed me
with a bow but there you go so that's
with a bow but there you go so that's
neuro big map lots of different
neuro big map lots of different
resources lots of enemies lots of Agents
resources lots of enemies lots of Agents
there's no yeah oh this is the small
there's no yeah oh this is the small
version of the map that we use for the
version of the map that we use for the
web
web
version uh and also there's an economy
version uh and also there's an economy
you can buy and sell stuff so like if I
you can buy and sell stuff so like if I
try to buy something like there's this
try to buy something like there's this
menu other agents have to be selling
menu other agents have to be selling
stuff on the
stuff on the
market
market
but wow sorry I got a fancy and what
but wow sorry I got a fancy and what
issue is the psdd supposed to solve raw
issue is the psdd supposed to solve raw
eval or something else it's supposed to
eval or something else it's supposed to
be a better Optimizer uh omade can
be a better Optimizer uh omade can
advertise psgd to you uh in the Discord
advertise psgd to you uh in the Discord
I'm
I'm
sure but yeah this is too
sure but yeah this is too
and if I just hit control the policy
and if I just hit control the policy
will take back over and now Nur is
will take back over and now Nur is
playing it live in your
playing it live in your
browser unlock the C relock the
browser unlock the C relock the
camera see so right now you can see
camera see so right now you can see
there it went and it got a tool but it
there it went and it got a tool but it
got too close to that agent with a bow
got too close to that agent with a bow
it doesn't realize it can get hit from
it doesn't realize it can get hit from
range
it's got some Jukes
though so this is the end so you can see
though so this is the end so you can see
this is uh as far as rlms that are
this is uh as far as rlms that are
typically used in research go this is
typically used in research go this is
not exactly
easy yeah I mean I gu think the words
easy yeah I mean I gu think the words
are like less frequent and so some of
are like less frequent and so some of
the uh uh some of the M on the others
the uh uh some of the M on the others
they are I think that's going to be like
they are I think that's going to be like
that's going to make a lot of difference
that's going to make a lot of difference
on the
outcome every other enin puffer like uh
outcome every other enin puffer like uh
you can at least get some reasonable
you can at least get some reasonable
performance on like out of the box and
performance on like out of the box and
like in a couple minutes of
like in a couple minutes of
training no I mean like me transfers
training no I mean like me transfers
meally transfer them from the from the
meally transfer them from the from the
harder to I didn't do that one I did I
harder to I didn't do that one I did I
actually I haven't tried that yet CU I'd
actually I haven't tried that yet CU I'd
have to run a full hyper pram sweep on
have to run a full hyper pram sweep on
muan I haven't done that so this hyper
muan I haven't done that so this hyper
Pam here this is the learning rate in
Pam here this is the learning rate in
atom pams from uh tuned on breakout and
atom pams from uh tuned on breakout and
then the rest of the prams from like a
then the rest of the prams from like a
much earlier atom
much earlier atom
sweep so muan is not optimized here at
sweep so muan is not optimized here at
all if we wanted to do a head-to-head
all if we wanted to do a head-to-head
comparison we would have to do that uh
comparison we would have to do that uh
we'd have to you know run both sweeps
we'd have to you know run both sweeps
let's see yeah I think that makes sense
let's see yeah I think that makes sense
why you'd have to like sweep the
why you'd have to like sweep the
precondition a lot I I really don't know
precondition a lot I I really don't know
how phdd is good but I don't I don't
how phdd is good but I don't I don't
know how it works but uh I mean I I
know how it works but uh I mean I I
suppose there's there's a lot of things
suppose there's there's a lot of things
that you you have to be tuning or P um
that you you have to be tuning or P um
well it didn't I didn't need to on any
well it didn't I didn't need to on any
of the other apps it beat uh it beat
of the other apps it beat uh it beat
muan out of the box on most of
them how were the rewards were they spes
them how were the rewards were they spes
or like very close do they have the CL
or like very close do they have the CL
or we have it's a mix it's a mix it
or we have it's a mix it's a mix it
depends on the M right like you can just
depends on the M right like you can just
click around on all of these different
click around on all of these different
Ms like we've got Atari like Atari games
Ms like we've got Atari like Atari games
that are fast right we've got this like
that are fast right we've got this like
snake obviously you're going to get a
snake obviously you're going to get a
reward when you get food right so it's
reward when you get food right so it's
like every few steps there's sparer
like every few steps there's sparer
stuff like
stuff like
this what's that those have the simpler
this what's that those have the simpler
Ms yeah these are simpler
Ms yeah these are simpler
Ms yeah the simpler Ms you get rewards
Ms yeah the simpler Ms you get rewards
quickly yeah
quickly yeah
well there's a little bit of complexity
well there's a little bit of complexity
because this is I mean this is not this
because this is I mean this is not this
is not exactly simple because it's this
is not exactly simple because it's this
is also multi-agent competitive selfplay
is also multi-agent competitive selfplay
right like you kind of have to be aware
right like you kind of have to be aware
of what all the other snakes are
of what all the other snakes are
doing I
doing I
see um but then yeah you know we've got
see um but then yeah you know we've got
board games there's like Connect 4 in
board games there's like Connect 4 in
here there's uh robot warehouse this
here there's uh robot warehouse this
one's fun you know you go pick up the
one's fun you know you go pick up the
crates you bring them back
crates you bring them back
this one's pretty mesmerizing to watch
this one's pretty mesmerizing to watch
because they'll just like do this on
because they'll just like do this on
repeat
repeat
interesting yeah I the only hypothesis
interesting yeah I the only hypothesis
that I had was like is just that some of
that I had was like is just that some of
the harder M they have just like very
the harder M they have just like very
sparse rewards this one is very sparse
sparse rewards this one is very sparse
this one is very sparse but it's very
this one is very sparse but it's very
easy oh interesting because this is 60
FPS
FPS
right MPS GDB that right what's
right MPS GDB that right what's
that psgd be death oh yeah you trained
that psgd be death oh yeah you trained
this in like less than a
this in like less than a
minute wow our speedrun record on this
minute wow our speedrun record on this
environment is 30 seconds 31
seconds this is a much older
seconds this is a much older
policy the the C runs that ker has well
policy the the C runs that ker has well
that's using more Hardware this is one
that's using more Hardware this is one
GPU oh no the C runs they only use one
GPU oh no the C runs they only use one
GPU they do one GPU in like three or two
GPU they do one GPU in like three or two
seconds or whatever
seconds or whatever
yeah that's kind of
yeah that's kind of
crazy yeah
crazy yeah
uh he added new one into it recently
uh he added new one into it recently
also um that's crazy which it's pretty
cool so I mean you can see like this is
cool so I mean you can see like this is
a reasonable enough policy we've got
pong uh what else do we have that's fun
pong uh what else do we have that's fun
there's go in here
there's go in here
this is the AI playing it right or is
this is the AI playing it right or is
that you this is the AI playing it's not
that you this is the AI playing it's not
very good cuz well the opponent isn't
very good cuz well the opponent isn't
very good either is the
very good either is the
thing but it it can win you can train it
thing but it it can win you can train it
in a few minutes to to beat like the uh
in a few minutes to to beat like the uh
whatever the scripted opponent we have
whatever the scripted opponent we have
is it's very hard to make like a good
is it's very hard to make like a good
scripted opponent for
scripted opponent for
go cool is is gone is he going to join
go cool is is gone is he going to join
is what I don't know it's I don't know
is what I don't know it's I don't know
if he's still here he said I had to hop
if he's still here he said I had to hop
off VC but then he didn't say anything
off VC but then he didn't say anything
oh yeah this one's cool this is MOA this
oh yeah this one's cool this is MOA this
is like miniature version of
DOTA I've never played those before
DOTA I've never played those before
seems
seems
interesting it's a 5v5 team game
interesting it's a 5v5 team game
is it multiplayer yeah it's five versus
is it multiplayer yeah it's five versus
five and these agents are they're
five and these agents are they're
playing multiplayer right yeah well
playing multiplayer right yeah well
they're playing the blue team is
they're playing the blue team is
controlled by the AI and the red team
controlled by the AI and the red team
opponent is
opponent is
scripted wow now the the scrip BS aren't
scripted wow now the the scrip BS aren't
very good right which is why they're
very good right which is why they're
pretty easy to beat
pretty easy to beat
um
um
yeah I wish I did muon for my uh
yeah I wish I did muon for my uh
optimizers for my uh models before for
optimizers for my uh models before for
my a model wa a moment I mean all these
my a model wa a moment I mean all these
demos were trained with Adam and like
demos were trained with Adam and like
just hyper pram sweeps
just hyper pram sweeps
right other the ones on the
website so these are the MS we have at
website so these are the MS we have at
the moment we have a few more m in
the moment we have a few more m in
development as
development as
well M what there's impulse
warsan probably this is one of the if
warsan probably this is one of the if
you just look in the dev
you just look in the dev
chat
said okay yeah this is GPU Drive well
said okay yeah this is GPU Drive well
aor of GPU drive to CPU Spencer's been
aor of GPU drive to CPU Spencer's been
working on
working on
this is pretty cool
what about um you remember was like
what about um you remember was like
racing card
think there was something more realistic
think there was something more realistic
than this I remember GPU
than this I remember GPU
Drive M this is a port of GPU drive to
Drive M this is a port of GPU drive to
uh to puffer Leb we're working on a
port yeah so it's the same thing it's
port yeah so it's the same thing it's
just we haven't made the renderer as
just we haven't made the renderer as
fancy
fancy
yet but yeah it'll be the same Dynamics
yet but yeah it'll be the same Dynamics
as this and it's going to run way
faster that's a collab with
faster that's a collab with
NYU and oh you collabing with n yeah
NYU and oh you collabing with n yeah
that's a collab with Eugene's group and
that's a collab with Eugene's group and
then this is impulse Wars this one's
then this is impulse Wars this one's
really cool um so this is Captain's
really cool um so this is Captain's
environment I helped write the uh the
environment I helped write the uh the
renderer for it but the actual logic is
renderer for it but the actual logic is
his
project is a top down physic
shooter so this is going to be another
shooter so this is going to be another
like pretty cool it for us to
use yeah seems cool
I mean the thing is like I honestly
I mean the thing is like I honestly
think that like at least neural MMO some
think that like at least neural MMO some
of these neural MMO especially probably
of these neural MMO especially probably
impulse Wars as well a lot of these are
impulse Wars as well a lot of these are
actually harder optimization problems
actually harder optimization problems
than a lot of RL in Industry so it's
than a lot of RL in Industry so it's
kind of like okay if we solve all of
kind of like okay if we solve all of
these out of the box probably we solve
these out of the box probably we solve
your problem
too what the idea
yeah it doesn't look like it's finding
yeah it doesn't look like it's finding
anything much better than these I'll let
anything much better than these I'll let
it keep running for uh I'll let it keep
it keep running for uh I'll let it keep
running until tonight but um it looks
running until tonight but um it looks
like about this
like about this
curve this is about what we're going to
get so like 1.9 1.8 whatever
oh yeah this where
dashboard yeah so just disable this
one beta of
one beta of
96 learning rate of there's preon
96 learning rate of there's preon
learning rate of
learning rate of
0.15 and then learning rate
0.15 and then learning rate
of 025 this seems like the good
setting I wonder if there is something
setting I wonder if there is something
to Beta being too low like the default
to Beta being too low like the default
beta being too low so I think this is
beta being too low so I think this is
the only parameter I didn't play with
the only parameter I didn't play with
um I didn't play with
um I didn't play with
this what's
this what's
that is that for Mu one no this is the
that is that for Mu one no this is the
beta for
beta for
psgd okay well actually it looks to me
psgd okay well actually it looks to me
like if you look at
like if you look at
this you need the learning rate to
this you need the learning rate to
be oh5 on pron learning
rate I mean this still kind of
trains you even have like a good point
trains you even have like a good point
all the way out here with the the precon
all the way out here with the the precon
learning rate at
learning rate at
0.3 you still have a decent point it
0.3 you still have a decent point it
really just seems like 0.1 is just too
low do you use 0.1 at uh for
low do you use 0.1 at uh for
okay wa didn't didn't didn't Lucas say
okay wa didn't didn't didn't Lucas say
to make a higher to make a lower yeah he
to make a higher to make a lower yeah he
said to lower he said lower the preon
said to lower he said lower the preon
learning rate but the sweep says to make
learning rate but the sweep says to make
it
it
higher
higher
wow so both something around 0.15 right
wow so both something around 0.15 right
mhm that's the best you got so far yeah
mhm that's the best you got so far yeah
and I mean like way higher still works
and I mean like way higher still works
you see at
0.3 so I mean is is it telling you that
0.3 so I mean is is it telling you that
it's uncorrelated or it doesn't make
it's uncorrelated or it doesn't make
sense no it's saying look I don't have
sense no it's saying look I don't have
any good runs when it's too
low I mean it could be that I keep
low I mean it could be that I keep
running more experiments right you don't
running more experiments right you don't
know until you have enough experiments
know until you have enough experiments
right but it but so far we don't have
right but it but so far we don't have
any really like none of the good
any really like none of the good
experiments come from it being way
experiments come from it being way
lower over here actually there's only
lower over here actually there's only
only one bad um run when is the the the
only one bad um run when is the the the
preconditioner is like way too high but
preconditioner is like way too high but
yeah like 1 two three four five six
yeah like 1 two three four five six
seven eight eight one and we're sweeping
seven eight eight one and we're sweeping
a lot of parameters as well right like
a lot of parameters as well right like
we we're sweeping a lot of hyper
we we're sweeping a lot of hyper
parameters so it's pretty easy to get
parameters so it's pretty easy to get
bad settings for the other hyper prms
bad settings for the other hyper prms
that'll screw you up
that'll screw you up
yeah this doesn't look uncorrelated to
yeah this doesn't look uncorrelated to
me could
me could
be beta definitely here like look I
be beta definitely here like look I
don't have any good runs with 0.9 I
don't have any good runs with 0.9 I
guess we get 1.4 is okay but we like all
guess we get 1.4 is okay but we like all
these runs we start getting way more
these runs we start getting way more
good runs at
good runs at
higher we the I mean
um and this is consistent sweep as
um and this is consistent sweep as
well when when I asked for if the beta
well when when I asked for if the beta
if the beta parameter was constraint
if the beta parameter was constraint
this was because of that I don't think
this was because of that I don't think
this is so
this is so
interesting I
interesting I
like well you can get the full I mean we
like well you can get the full I mean we
are sweeping a lot of different things
are sweeping a lot of different things
in this
right a protein is pretty
right a protein is pretty
good so I mean even 1.0 beta okay are
good so I mean even 1.0 beta okay are
you are you sweeping 1.0 or like
you are you sweeping 1.0 or like
0.9999 like uh for
0.9999 like uh for
beta the top top right top right there's
beta the top top right top right there's
nothing up
nothing up
here uh there for be like the if you the
here uh there for be like the if you the
bottom right the closer there or
bottom right the closer there or
this this is point this is just
n91 so 0.95 is the one that's working
n91 so 0.95 is the one that's working
for you yeah pretty much everything
for you yeah pretty much everything
around 95.9
around 95.9
six like these all do reasonable
six like these all do reasonable
things 96 seems to be the best one so
far you should be sweeping me on as well
far you should be sweeping me on as well
I think that that that that would be
I think that that that that would be
very interesting well we'll do both but
very interesting well we'll do both but
uh I want to at least get like what I
uh I want to at least get like what I
would like to do is I'd like to
would like to do is I'd like to
see I guess I kind of have finished with
see I guess I kind of have finished with
this well I'll let it keep running until
this well I'll let it keep running until
after dinner at least but um I'm going
after dinner at least but um I'm going
to take these parameters and then go run
to take these parameters and then go run
them on all of the other
them on all of the other
environments to see whether um whether
environments to see whether um whether
the same psgd prams work on everything
the same psgd prams work on everything
in
in
puffer oh oh okay because that you're
puffer oh oh okay because that you're
doing this because you had an issue
doing this because you had an issue
first when you tried simpler and worked
first when you tried simpler and worked
and those HPS did not transfer so now
and those HPS did not transfer so now
you want well I didn't to be
you want well I didn't to be
fair um in muan it didn't I I had this
fair um in muan it didn't I I had this
problem in muan a little bit um but muan
problem in muan a little bit um but muan
was generally pretty good the thing is
was generally pretty good the thing is
these these were never tuned on anything
these these were never tuned on anything
right these uh this psgd prams I guess
right these uh this psgd prams I guess
technically I could just go tune psgd on
technically I could just go tune psgd on
breakout and see what that does right
breakout and see what that does right
see if it finds the same
thing cuz this does pretty well
thing cuz this does pretty well
break
break
what do you use Neptune instead of 1B uh
what do you use Neptune instead of 1B uh
we provide support for both but yeah I
do is there a specific reason you like
do is there a specific reason you like
NEP better than one it has a faster UI
NEP better than one it has a faster UI
it shows more points uh when you it's
it shows more points uh when you it's
way easier to download your data for
way easier to download your data for
offline analysis you just can download
offline analysis you just can download
the whole thing in one table and these
the whole thing in one table and these
dashboards are really nice to set up
dashboards are really nice to set up
because you can apply the same view to
because you can apply the same view to
whole different groups of experiments
whole different groups of experiments
very
very
easily I see I think I'm I I just like
easily I see I think I'm I I just like
move to uh
move to uh
Neptune WB has crash was WB has been
Neptune WB has crash was WB has been
crashing a lot like these last couple of
crashing a lot like these last couple of
days just it crashed at least once an
days just it crashed at least once an
hour on when I'm look at the looks been
hour on when I'm look at the looks been
pretty
pretty
[ __ ] yeah web web interfaces are just
[ __ ] yeah web web interfaces are just
like I don't even want to see the code
like I don't even want to see the code
behind any of these web interfaces this
behind any of these web interfaces this
probably such a big obnoxious heavy
probably such a big obnoxious heavy
stack
I mean there are no I mean there are no
I mean there are no I mean there are no
clients they don't have any
clients they don't have any
clients I don't know who
clients I don't know who
doesn't I mean they don't have any like
doesn't I mean they don't have any like
app clients I think they would they
app clients I think they would they
would make a worse app client than a web
would make a worse app client than a web
client the people behind
this so it's bad that they stuck on the
web I don't know I mean you can do
web I don't know I mean you can do
either way the F that's the funny thing
either way the F that's the funny thing
with it right like if I were going to do
with it right like if I were going to do
this probably I'd be ridiculous about it
this probably I'd be ridiculous about it
and I would just go implement the whole
and I would just go implement the whole
thing with RB so you just run the C code
thing with RB so you just run the C code
on the web or run the C code
locally their backend is probably XC or
locally their backend is probably XC or
something not the
rendering yeah no I don't I don't know
rendering yeah no I don't I don't know
if they rendering the thing that's
if they rendering the thing that's
crashing I think it's just like it's
crashing I think it's just like it's
just the software is
just the software is
[Music]
bloated yeah I think I'm going towi
bloated yeah I think I'm going towi
switch to Neptune I think this it's a
switch to Neptune I think this it's a
good thing to try to their credit to the
good thing to try to their credit to the
credit of Wan B I had like I think
credit of Wan B I had like I think
somebody asked me about this the other
somebody asked me about this the other
day on stream and then uh the one BC
day on stream and then uh the one BC
dm'd me like hey you know I heard like
dm'd me like hey you know I heard like
you're having some issues so I don't
you're having some issues so I don't
know maybe I'll give them may I'll give
know maybe I'll give them may I'll give
him some feedback maybe they'll find
him some feedback maybe they'll find
ways to fix it but it's it's really
ways to fix it but it's it's really
tough to unbl software
tough to unbl software
right yeah the Neptune soft the Neptune
right yeah the Neptune soft the Neptune
one do they do they now have like the
one do they do they now have like the
dark reme setting no they don't that's
dark reme setting no they don't that's
the one thing that everyone asked for
the one thing that everyone asked for
that they haven't
that they haven't
done okay do they have do they have is
done okay do they have do they have is
it real time when you're looking at
it real time when you're looking at
numbers do they do they pop up very
numbers do they do they pop up very
quickly when the model logs or is that
quickly when the model logs or is that
the like like there's latency no there's
the like like there's latency no there's
still latency when the model
still latency when the model
logs [ __ ] yeah I mean like L see from
logs [ __ ] yeah I mean like L see from
not from the model side if the model
not from the model side if the model
submitted the results to Neptune does it
submitted the results to Neptune does it
show you on the website very quickly or
show you on the website very quickly or
like one V takes like one has like 20
like one V takes like one has like 20
second or something yeah it's about the
second or something yeah it's about the
same here it still has like 20 second
same here it still has like 20 second
latency sh um look I I'm I'm busy
latency sh um look I I'm I'm busy
solving reinforcement learning I cannot
solving reinforcement learning I cannot
go pivot to make a uh a dashboard
go pivot to make a uh a dashboard
visualization
visualization
company yeah right yeah maybe someone
will make us a better visualization Tool
will make us a better visualization Tool
uh for for the stream
uh for for the stream
Watchers yeah you can do it I believe in
Watchers yeah you can do it I believe in
you I mean I I don't doubt that I could
you I mean I I don't doubt that I could
but I I can do a lot of things but I
but I I can do a lot of things but I
can't do everything at the same time oh
can't do everything at the same time oh
no no I wasn't talking to you I was
no no I wasn't talking to you I was
talking to stream
talking to stream
listeners H there a couple people it's
listeners H there a couple people it's
it's not much at the moment like uh
it's not much at the moment like uh
before we we had like a we had a decent
before we we had like a we had a decent
few folks on Twitch earlier and then
few folks on Twitch earlier and then
some on YouTube it depends on what I'm
some on YouTube it depends on what I'm
talking about what we're
talking about what we're
doing I remember one one time we had
doing I remember one one time we had
like a
like a
thousand streamers that I remember
thousand streamers that I remember
that's a thousand total views with X I
that's a thousand total views with X I
think it's never a thousand concurrent
think it's never a thousand concurrent
it's like you know 10 at most it's small
it's like you know 10 at most it's small
ah now you don't just I what do you
ah now you don't just I what do you
think do you think there are thousand
think do you think there are thousand
concurrent viewers watching like
concurrent viewers watching like
esoteric RL research
no I maybe who knows but I am watching
no I maybe who knows but I am watching
yeah I mean I will say though like it is
yeah I mean I will say though like it is
really good for um you know for getting
really good for um you know for getting
new people interested in puffer you know
new people interested in puffer you know
it attracts new
it attracts new
contributors um we did the code review
contributors um we did the code review
for a new M today live on the stream and
for a new M today live on the stream and
like PR the new en vind de puffer you
like PR the new en vind de puffer you
know a lot of that type of
know a lot of that type of
stuff Prett cool
well I was hoping to wait till Omi joins
well I was hoping to wait till Omi joins
you again I know wa I don't know where
you again I know wa I don't know where
he went I think he just like I think he
he went I think he just like I think he
just
dipped oh [ __ ] um oh Aaron's here hey
dipped oh [ __ ] um oh Aaron's here hey
Aon did I miss messages from
Aon did I miss messages from
you uh no things are seem like they're a
you uh no things are seem like they're a
little bit more working now awesome so I
little bit more working now awesome so I
was thinking that the next
was thinking that the next
good thing to do would be to bring
good thing to do would be to bring
in would be to take this
in would be to take this
all and get it running on New
all and get it running on New
sweeps awesome um yeah we can definitely
sweeps awesome um yeah we can definitely
do that we're currently testing new
do that we're currently testing new
optimizers um nice I will show you the
optimizers um nice I will show you the
current neural MMO so previous I'm on my
current neural MMO so previous I'm on my
phone so I won't be able to see it okay
phone so I won't be able to see it okay
yeah shoot yeah because I we're also
yeah shoot yeah because I we're also
live for reference
wor where's this
thing where's this thing
thing where's this thing
gone oh yeah
here
here
so I mean we've got some pretty nice
so I mean we've got some pretty nice
results the previous
results the previous
best with muan which is better than by
best with muan which is better than by
far better than the previous atom
far better than the previous atom
Baseline at a billion
Baseline at a billion
steps I got to H guys day what's
steps I got to H guys day what's
up hey um so the previous best was
up hey um so the previous best was
what's this value like 1.1 or like 1.15
what's this value like 1.1 or like 1.15
at a billion
at a billion
steps and yeah uh we're now at 1.95 at a
steps and yeah uh we're now at 1.95 at a
billion steps is the best result oh hell
billion steps is the best result oh hell
yeah and so muan I think it gets to four
yeah and so muan I think it gets to four
or so total after 100 billion steps
or so total after 100 billion steps
and uh it got to only 2.5 after 100
and uh it got to only 2.5 after 100
billion steps with
billion steps with
Adam so we're already closing one on two
Adam so we're already closing one on two
in in a billion steps it looks
in in a billion steps it looks
like so that's pretty
like so that's pretty
cool oh
cool oh
yeah I don't actually know why these are
yeah I don't actually know why these are
running for a billion steps because I
running for a billion steps because I
thought I'd set it for 500 million but I
thought I'd set it for 500 million but I
guess they're running for a
guess they're running for a
billion so we're you're saying psgd is
billion so we're you're saying psgd is
closing in on muan or
closing in on muan or
uh well I mean do you have the stream
uh well I mean do you have the stream
open you've seen the graphs
open you've seen the graphs
right
right
yeah it's way above muon for uh the
yeah it's way above muon for uh the
first billion steps I haven't run the
first billion steps I haven't run the
long experiment
long experiment
yet to
see what I was going to do because each
see what I was going to do because each
of these takes like half an hour or
of these takes like half an hour or
whatever I was going to wait until after
whatever I was going to wait until after
dinner see if you know anything has
dinner see if you know anything has
changed and then uh just load up the
changed and then uh just load up the
best precondition
best precondition
parameters into a much longer
parameters into a much longer
run would
run would
you would you be down to add like weight
you would you be down to add like weight
Decay and stuff like that or is that
Decay and stuff like that or is that
going to be too much of a headache to
going to be too much of a headache to
try to add in well I can add that
try to add in well I can add that
immediately it's just that if I want to
immediately it's just that if I want to
know how much to add like I have to run
know how much to add like I have to run
a new sweep
a new sweep
right
right
yeah so what I was cuz the thing is I
yeah so what I was cuz the thing is I
haven't actually seen much use of weight
haven't actually seen much use of weight
Decay and L at all so what I was going
Decay and L at all so what I was going
to do is I was going to just optimize
to do is I was going to just optimize
these params and then I was just going
these params and then I was just going
to do like a sweep over only weight
to do like a sweep over only weight
Decay so you just have one variable perm
Decay so you just have one variable perm
just to see if it does anything and if
just to see if it does anything and if
we get signs of life then we can rerun a
we get signs of life then we can rerun a
full Sweep with weight
Decay I
Decay I
see where weight Decay is meaning what
see where weight Decay is meaning what
in this context L2
no like what what weights are
no like what what weights are
decaying like L2 regularization added on
decaying like L2 regularization added on
to the policy weights okay you said L2 I
to the policy weights okay you said L2 I
didn't hear the L
didn't hear the L
yeah L2 I've seen it like I've
yeah L2 I've seen it like I've
definitely seen regularization applied
definitely seen regularization applied
to RL yeah it do anything um yeah Evans
to RL yeah it do anything um yeah Evans
also it was pretty
also it was pretty
NE yeah go ahead go
NE yeah go ahead go
ahead uh I it was pretty necessary for
ahead uh I it was pretty necessary for
Alpha
go but you know you also had the
go but you know you also had the
additional complexity of
additional complexity of
search and shitty old
methods yeah so Evan had said on PO he
methods yeah so Evan had said on PO he
saw even a little bit of weight Decay
saw even a little bit of weight Decay
like e e 1 E
like e e 1 E
to4 MH was helping quite a bit we'll be
to4 MH was helping quite a bit we'll be
able to sweep it on this cuz I have like
able to sweep it on this cuz I have like
a much I got a much harder task here to
a much I got a much harder task here to
throw it at than he has with Atari
throw it at than he has with Atari
unless he's got
unless he's got
internals yeah I have no
internals yeah I have no
idea
idea
um I mean I can the cool thing about
um I mean I can the cool thing about
this right is if I get Signs of Life on
this right is if I get Signs of Life on
this I can just throw it at everything
this I can just throw it at everything
and we can see if there's a
difference I hear you the reason I'm
difference I hear you the reason I'm
doing this long sweep right now is um I
doing this long sweep right now is um I
was having difficulty getting like
was having difficulty getting like
tuning on breakout and having it
tuning on breakout and having it
transferred to neural MMO it did like
transferred to neural MMO it did like
every single other one worked right but
every single other one worked right but
getting it to transfer to neural mo
getting it to transfer to neural mo
didn't actually I think I'm going to
didn't actually I think I'm going to
start just a uh I'm going to start just
start just a uh I'm going to start just
a local run with just these
a local run with just these
preconditioned prams to see if this does
preconditioned prams to see if this does
anything that'll be a good
anything that'll be a good
idea I don't think I've done that
my
parameters anyway I just wanted to pop
parameters anyway I just wanted to pop
in uh Joseph we should take some time
in uh Joseph we should take some time
tomorrow or Friday I think integrate
tomorrow or Friday I think integrate
stuff tomorrow um
stuff tomorrow um
yeah all right I will attempt to have
yeah all right I will attempt to have
optimization for RL solve by
optimization for RL solve by
[Laughter]
tomorrow sounds good see I'm got some
tomorrow sounds good see I'm got some
other stuff to run so I'll see you later
other stuff to run so I'll see you later
see
see
you
cool here I'm going to start a neural
cool here I'm going to start a neural
MMO 3 run uh just
MMO 3 run uh just
locally see if there's anything that I
locally see if there's anything that I
need to take into account here I don't
need to take into account here I don't
think
think
so it's got like two M's and stuff which
so it's got like two M's and stuff which
is kind of
is kind of
gross I don't know why it did
this oh it probably did this because
this oh it probably did this because
um cuz cuz sample efficiency
um cuz cuz sample efficiency
right let me go check that real quick
right let me go check that real quick
before I start
before I start
this it just that did just occur to
this it just that did just occur to
me yeah it's going to do that okay so
me yeah it's going to do that okay so
let me change the x axis from step to
time you can't stream on Discord as well
time you can't stream on Discord as well
can you I
can you I
can
here I have a 4090 locally it should be
here I have a 4090 locally it should be
able to do some stuff don't you
able to do some stuff don't you
think maybe when I start running the uh
think maybe when I start running the uh
maybe when I also start running this
maybe when I also start running this
experiment it'll explode or something
experiment it'll explode or something
but
maybe discord's pretty good
Jason I don't know why this is set to
Jason I don't know why this is set to
two update EPO is the only thing I do
two update EPO is the only thing I do
not like that
not like that
but I'm going to try to run the uh I'm
but I'm going to try to run the uh I'm
just going to try to run the LR
just going to try to run the LR
precondition stuff and wearing the
same what do you mean the LR
same what do you mean the LR
precondition like the probability uh
precondition like the probability uh
yeah I'm going to run with the correct
yeah I'm going to run with the correct
settings I see
I'm trying to connect my laptop to my
I'm trying to connect my laptop to my
monitor and it was working like 10
monitor and it was working like 10
minutes ago and now it's not and it's
minutes ago and now it's not and it's
just like so
frustrating Tech bound for
yeah so this will
yeah so this will
be default
be default
parameters except the
parameters except the
swept learning rate precon Adam beta all
that and I think this should train
that and I think this should train
pretty quick let see how long we're
pretty quick let see how long we're
supposed to have to wait to see some
ity it's supposed to take
ity it's supposed to take
off within like a 100 Mil or so we're
off within like a 100 Mil or so we're
supposed to start seeing
supposed to start seeing
something
something
nice but it's kind of funny because
nice but it's kind of funny because
within 100 Mil most of the other ends
within 100 Mil most of the other ends
are solved
yeah there's so many other Ms and things
yeah there's so many other Ms and things
I need to do it's
I need to do it's
like it's a
lot for
there it goes so that's already starting
there it goes so that's already starting
to optimize return though it's not
to optimize return though it's not
optimizing the
optimizing the
uh mincom prop is the the main
uh mincom prop is the the main
metric I should probably just call it
metric I should probably just call it
score so people know the score go up is
good the other cool thing I saw from the
good the other cool thing I saw from the
muan Baseline was um there was Market
muan Baseline was um there was Market
use even from the muan
use even from the muan
Baseline what do you mean Market use
Baseline what do you mean Market use
agents were buying and selling
agents were buying and selling
stuff oh interesting
it's kind of tricky to
it's kind of tricky to
learn is that not occurring with
learn is that not occurring with
psgd well we haven't run it long enough
psgd well we haven't run it long enough
that takes a while to
that takes a while to
learn I see
was that never before hit with Adam
was that never before hit with Adam
or um let's
check so there were some sales not very
many so we had like on the scale of 01
many so we had like on the scale of 01
or whatever sales and purchases
and then let's see with Mo
on yeah so 0.1 so 5 to 10 times more
on yeah so 0.1 so 5 to 10 times more
Market
Market
activity than before
activity than before
which is pretty
which is pretty
cool well it's just a better
cool well it's just a better
model right it's higher score this one
model right it's higher score this one
is actually yeah this one will be done
is actually yeah this one will be done
in it's probably still going to be a few
in it's probably still going to be a few
hours 928 billion steps yeah that's
hours 928 billion steps yeah that's
still going to be like another 6 hours
still going to be like another 6 hours
before this one is done so this probably
before this one is done so this probably
won't be done in time for uh me to look
won't be done in time for uh me to look
at it tonight but I'll have it in the
at it tonight but I'll have it in the
morning what time usually wake
morning what time usually wake
up like I don't know
8 you're East Coast though right
mhm hello yeah I'm
mhm hello yeah I'm
here okay
here this is what I wanted to
see just take this
143 yeah so this has not really started
143 yeah so this has not really started
uh optimizing correctly
uh optimizing correctly
yet what I was trying to figure out here
yet what I was trying to figure out here
is whether it was enough to just take
is whether it was enough to just take
the psgd params or if the other hypers
the psgd params or if the other hypers
were important as well
uh the other hypers meaning well it
uh the other hypers meaning well it
tuned a bunch of stuff go see what it
tuned a bunch of stuff go see what it
tuned I see you're saying can you just
tuned I see you're saying can you just
plot psgd
plot psgd
in with the other RL
in with the other RL
hypers yeah or does like the optimum
hypers yeah or does like the optimum
like does it actually care about the
like does it actually care about the
other ones a
other ones a
ton uh let's see so because it reduced
ton uh let's see so because it reduced
the number of M's by half which is
the number of M's by half which is
annoying CU that makes it a little
annoying CU that makes it a little
slower it also it now doing two gradient
slower it also it now doing two gradient
steps per update as well which is also
annoying why because it's doing oh is
annoying why because it's doing oh is
this
this
Newton no it's po then why is it doing
Newton no it's po then why is it doing
po you can do multiple steps per sample
po you can do multiple steps per sample
right I see yes but typically if it's
right I see yes but typically if it's
optimized well if your m is fast it
optimized well if your m is fast it
should only be one because why use stale
should only be one because why use stale
data when you can use fresh data
oh that is weird we've got
gamma gamma Lambda aren't like crazy
gamma gamma Lambda aren't like crazy
weird
9486 we got
entropy yeah batch size of anyi batch
entropy yeah batch size of anyi batch
are the
are the
same so presumably it's just got to be
same so presumably it's just got to be
like either the entropy or gamma and
Lambda or the second update
Epoch it does look like it's starting to
Epoch it does look like it's starting to
learn here maybe
yeah but this is nowhere near the
yeah but this is nowhere near the
uh the original chart
yeah interesting huh yeah it's you can
yeah interesting huh yeah it's you can
see it's it's starting to come off right
see it's it's starting to come off right
here but uh
here but uh
it's it's at
1.02 so whatever these graphs are
doing some of those hypers actually
doing some of those hypers actually
matter yeah it could just be the entropy
matter yeah it could just be the entropy
coefficient to be fair
how fast does it say that this
how fast does it say that this
experiment was
running
SPS uh it should log SPS
SPS uh it should log SPS
somewhere well somehow it say this is
somewhere well somehow it say this is
running way faster as well than the
running way faster as well than the
current so I don't know how it's running
current so I don't know how it's running
way faster
way faster
oh I guess this is just psgd it takes
oh I guess this is just psgd it takes
like a few thousand e to get to warm up
like a few thousand e to get to warm up
doesn't
it a few thousand
it a few thousand
[Music]
[Music]
um in terms of
um in terms of
runtime this thing
is it says that this is faster than the
is it says that this is faster than the
previous or than the current
previous or than the current
configuration which is
configuration which is
weird yeah that is weird maybe cuz
weird yeah that is weird maybe cuz
you're running
locally could be I still have a 490
here oh yeah no it says from the start
here oh yeah no it says from the start
it's already at like five
500,000 the hell would this be doing
500,000 the hell would this be doing
that's
faster I think I can think it was two
faster I think I can think it was two
M's but that should make it slower out
faster any bad the
faster any bad the
same none of these other paramet should
same none of these other paramet should
affect
speed yeah that's
interesting mincom Prof started taking
interesting mincom Prof started taking
off
off
though so it is actually optimizing now
though so it is actually optimizing now
it looks
like there you
go this is muan yeah the muan Baseline
go this is muan yeah the muan Baseline
way down
way down
here so I guess the question then will
here so I guess the question then will
be even if this is worse initially is it
be even if this is worse initially is it
stable does it
stable does it
intersect
intersect
[Music]
[Music]
um yeah I mean I
think yeah I don't know
well I will try
well I will try
this I'll let this run for a
this I'll let this run for a
bit we'll try like various portions of
bit we'll try like various portions of
this what's my default gamma and Lambda
the only thing I can see that's high is
the only thing I can see that's high is
the gamma the Lambda is about the same
the gamma the Lambda is about the same
as the uh the optim one so 0995 gamma is
as the uh the optim one so 0995 gamma is
quite high but that actually should be
quite high but that actually should be
better longer term for neural
MMO entropy is 0 point
MMO entropy is 0 point
01 so yeah this 3x higher entropy in the
01 so yeah this 3x higher entropy in the
optimized run as
well let's see maybe I can get some
well let's see maybe I can get some
stats off to this
okay so it doesn't look like it's
okay so it doesn't look like it's
entropy I just drop this
one so entropy here right we have a good
one so entropy here right we have a good
result at
03 and we have good result at
03 and we have good result at
03 so it's not very sensitive to
03 so it's not very sensitive to
entropy it's not that one
why did these all say One update Epoch
why did these all say One update Epoch
when it looked like it was
when it looked like it was
two that's
sketchy there's updated pox
here oh wait this is one
update yeah this is one update okay I
update yeah this is one update okay I
must have been looking at it wrong one
must have been looking at it wrong one
so it's not that then
either the heck else did I
sweep it's got to be Lambda and
Gamma which is uh consistent with my
Gamma which is uh consistent with my
hypothesis that GAE is the last thing
hypothesis that GAE is the last thing
holding us back in our
own
own
J generaliz advantage
J generaliz advantage
estimation let's
estimation let's
see built into
see built into
PPL
yeah okay so here's it saying that you
yeah okay so here's it saying that you
don't do well when gamma's above
don't do well when gamma's above
097 094 to 097 is fine so probably this
097 094 to 097 is fine so probably this
right here is this gamma
I don't think it's super sensitive to
I don't think it's super sensitive to
Lambda I could be
wrong yeah so this 085 or whatever this
wrong yeah so this 085 or whatever this
is pretty close to where we have it uh
is pretty close to where we have it uh
by
default so the only thing that's
default so the only thing that's
different here potentially is this gamma
different here potentially is this gamma
so I think I'm literally just going to
so I think I'm literally just going to
take this exactly as it is and then
take this exactly as it is and then
uh I will let this run for just a little
uh I will let this run for just a little
longer maybe we do 500 mil as a
longer maybe we do 500 mil as a
benchmark and then I will run this
benchmark and then I will run this
with gamma set to
with gamma set to
0.9
.95 and we'll go from there
see the graph in the
meanwhile oh so it has uh it caught up
meanwhile oh so it has uh it caught up
quite nicely but it looks
stall yeah maybe
I mean I guess gamma could technically
I mean I guess gamma could technically
cause that if it just can't figure out
cause that if it just can't figure out
predit assignment at all
predit assignment at all
right yeah that makes sense I have seen
right yeah that makes sense I have seen
this type of thing happen
before are you are you setting your
before are you are you setting your
preconditioner in it scale
preconditioner in it scale
to something
to something
no is it is it being set to none
no is it is it being set to none
you it's not being
you it's not being
passed can you double check the default
passed can you double check the default
is done
then well so this isn't the one cuz I am
then well so this isn't the one cuz I am
actually using the pre-con LR in the
actually using the pre-con LR in the
I'll go double check from the box that
I'll go double check from the box that
I'm running the sweep
on this one where's the
on this one where's the
box too many windows open
okay so prond LR beta LR this is all
okay so prond LR beta LR this is all
that's being set you want me to check
that's being set you want me to check
the heavy ball default yeah
in it scales
in it scales
one can you check if that's true in the
one can you check if that's true in the
actual code you might not have updated
actual code you might not have updated
the if if so we should be setting it to
the if if so we should be setting it to
none for
his it is none
his it is none
okay I don't know when this is from
though and if you pushed it like today
though and if you pushed it like today
then it could be off but I think it's
then it could be off but I think it's
from
from
yesterday does this Break
yesterday does this Break
Stuff uh no it makes things
Stuff uh no it makes things
stronger but if you're so there's
stronger but if you're so there's
basically how you initialize your
basically how you initialize your
precond conditioner and you can set the
precond conditioner and you can set the
scale for it to be initialized at right
scale for it to be initialized at right
yeah and so it's basically like it's
yeah and so it's basically like it's
kind of important to be it to be set to
kind of important to be it to be set to
none and then you should check that it
none and then you should check that it
scale no more than
scale no more than
like 2 to 0.5 I think probably may I
like 2 to 0.5 I think probably may I
mean maybe
mean maybe
more but we should do it pretty fine
more but we should do it pretty fine
like it might it might actually make a a
like it might it might actually make a a
difference we haven't explored it too
difference we haven't explored it too
much but sometimes we see if the net
much but sometimes we see if the net
scale is off then like it'll complet
scale is off then like it'll complet
mess things up yeah so what I'm going to
mess things up yeah so what I'm going to
have to do here right is like let me at
have to do here right is like let me at
least get a decent neural MMO 3 base
least get a decent neural MMO 3 base
line up first and then I will probably
line up first and then I will probably
just do a sweep where I
just do a sweep where I
do like all of these params so I'll do
do like all of these params so I'll do
the LR I'll do the precon inate scale
the LR I'll do the precon inate scale
scale I'll have this Sit N I'll do the
scale I'll have this Sit N I'll do the
Mars gamma I'll
Mars gamma I'll
do weight Decay like I can do more of
do weight Decay like I can do more of
these um okay just get the Baseline yeah
these um okay just get the Baseline yeah
the basine is important first so I want
the basine is important first so I want
to make I like cuz right now I'm kind of
to make I like cuz right now I'm kind of
iffy on all this cuz like something's
iffy on all this cuz like something's
Jank and I think it's probably just
Jank and I think it's probably just
gamma but I'm not positive and that
gamma but I'm not positive and that
bothers me cuz all the other M's
work okay I um I also I told I told
work okay I um I also I told I told
Lucas to try a new idea which is like a
Lucas to try a new idea which is like a
hybrid gradient Hessian
hybrid gradient Hessian
um
um
calculation and he said that on some of
calculation and he said that on some of
the hardest problems it reduces the
the hardest problems it reduces the
number of Trials
number of Trials
required um so if we look at this right
required um so if we look at this right
Newton hybrid to psgd L right which is
Newton hybrid to psgd L right which is
probably what you should be using is is
probably what you should be using is is
the L versus cron for RL because cron is
the L versus cron for RL because cron is
like scalable to multiple billions of
like scalable to multiple billions of
parameters whereas you really don't care
parameters whereas you really don't care
about that you really want like a low
about that you really want like a low
rank approximation of your of your
rank approximation of your of your
Global precond
Global precond
conditioner like let's see psgd L
conditioner like let's see psgd L
without any Newton right it was taking
without any Newton right it was taking
attempts okay but with the hybrid it
attempts okay but with the hybrid it
actually dropped it down from 50 down to
actually dropped it down from 50 down to
12 um well that's cool but does it run
12 um well that's cool but does it run
like at a reasonable rate because we
like at a reasonable rate because we
have to use the is this a second order
have to use the is this a second order
right it yes it is second order but um
right it yes it is second order but um
it has to be finite
it has to be finite
difference yeah exactly so he has a
difference yeah exactly so he has a
finite difference version as well um
finite difference version as well um
built baked right into the code so it it
built baked right into the code so it it
should just work um you just have to set
should just work um you just have to set
finite difference to True um and then
finite difference to True um and then
now he has this hybrid version as well
now he has this hybrid version as well
so we we we have uh what one thing I'm
so we we we have uh what one thing I'm
not sure
not sure
so with Newton
so with Newton
your learning rate is going to be
your learning rate is going to be
different than with non Newton and so
different than with non Newton and so
this is kind of a hybrid first order
this is kind of a hybrid first order
second order method so I don't know
second order method so I don't know
where the learning rate is going to end
where the learning rate is going to end
up actually so it's like I don't know
up actually so it's like I don't know
puffer is actually enabling as you know
puffer is actually enabling as you know
uh like so
uh like so
much experimentation
much experimentation
like it's it's such a good framework to
like it's it's such a good framework to
do so many like runs that you can
do so many like runs that you can
actually explore these things in you
actually explore these things in you
know that's the goal in bulk hey know
know that's the goal in bulk hey know
Lucas is at at Kean right it's like hey
Lucas is at at Kean right it's like hey
you know you guys just you guys should
you know you guys just you guys should
use puffer it's
good yeah so
good yeah so
um let's just
say Lucas very much likes
say Lucas very much likes
psgd and he's taken a very nice liking
psgd and he's taken a very nice liking
towards psgd LR and now he's really
towards psgd LR and now he's really
really liking the hyrid version
um
um
yeah all right well we will see on that
yeah all right well we will see on that
um yeah my x-axis is probably different
um yeah my x-axis is probably different
from his I think his xaxis is steps and
from his I think his xaxis is steps and
mine's wall clock so we'll see if that
mine's wall clock so we'll see if that
messes with anything
well I can say this is stuck as well
well I can say this is stuck as well
this is not stuck but it's like it's
this is not stuck but it's like it's
slower it looks like
slower it looks like
right yeah but it still looks pretty
right yeah but it still looks pretty
pretty
decent yeah it's stable it's just not
like I mean that's actually not really
like I mean that's actually not really
any shallower than the slope here like
any shallower than the slope here like
if you look at these runs
if you look at these runs
right these runs all kind of do the same
right these runs all kind of do the same
thing and this is just hyper pram it's
thing and this is just hyper pram it's
basically it's just hyper prams as to
basically it's just hyper prams as to
how high it gets before it slows
down yeah
exactly so I think we kill this I think
exactly so I think we kill this I think
we Tred by Gamma 096 or 095
whatever let's see which one I want to
do 095 will'll do
so let's do
so let's do
this see if this instantly fixes it and
this see if this instantly fixes it and
then if it does
then if it does
well we just try these prams on
well we just try these prams on
everything and know that
everything and know that
gamma gamma sometimes has to
gamma gamma sometimes has to
change then uh that's going to be the
change then uh that's going to be the
case for the new algorithm I've been
case for the new algorithm I've been
developing to try to delete gamma and
developing to try to delete gamma and
Lambda from
Lambda from
existence it it's a hard Baseline though
existence it it's a hard Baseline though
it is very it's a hard Baseline to beat
it is very it's a hard Baseline to beat
cuz basically you have two tunable knobs
cuz basically you have two tunable knobs
that tell you how much you care about
that tell you how much you care about
credit assignment and to beat that you
credit assignment and to beat that you
have to have an algorithm that learns
have to have an algorithm that learns
credit assignment better than a fixed
credit assignment better than a fixed
but tuned existing like twofold
but tuned existing like twofold
exponential
waiting it's a little
waiting it's a little
tricky yeah that does sound
tricky but G has to go
tricky but G has to go
J has to
go I can just see it on episode return
this is overlapping with the uh the
this is overlapping with the uh the
previous one so far
the previous one wasn't horrible
the previous one wasn't horrible
right no but we'll see how the longer
right no but we'll see how the longer
ter behavior
ter behavior
is yeah exactly cuz I think this one
is yeah exactly cuz I think this one
came off the ground some of the better
came off the ground some of the better
runs from before that we tuned came off
runs from before that we tuned came off
the ground earlier that could be entropy
the ground earlier that could be entropy
coefficient though
that could be like a way more trivial
that could be like a way more trivial
entropy coefficient thing
I've gotten so used to coding with an
I've gotten so used to coding with an
LL that when I have to code without it
LL that when I have to code without it
it's like wow this is so
it's like wow this is so
slow I do not suggest getting overly
slow I do not suggest getting overly
reliant on these
reliant on these
things yeah I know
I use super Maven for like typing speed
I use super Maven for like typing speed
buff that's about
it hey thanks for dropping by see you
around that's cool somebody found this
around that's cool somebody found this
from Iceberg
from Iceberg
video nice
and this does have like a nice
and this does have like a nice
steep it's going to just depend where
steep it's going to just depend where
this thing evens
out I guess after this I have to try
out I guess after this I have to try
entropy it shouldn't matter though from
entropy it shouldn't matter though from
the other graph it doesn't seem like it
did e
yeah so I mean you can see the best runs
yeah so I mean you can see the best runs
I think it's these
I think it's these
two make
two make
sure the best runs are in fact the best
sure the best runs are in fact the best
runs
runs
prettyy sure yeah these are the best
prettyy sure yeah these are the best
fronts
right so these ones are much steeper
there we're at
there we're at
130 this thing has not come off of the
130 this thing has not come off of the
ground yet
this thing eventually came off the
this thing eventually came off the
ground but much later didn't get the
same same
height where's ps3d compared to this
thing yeah I they're all good compared
thing yeah I they're all good compared
to pspd so
far compared to muan you mean muan yeah
far compared to muan you mean muan yeah
yeah but we really have to see how it's
yeah but we really have to see how it's
affected later in training I mean it's
affected later in training I mean it's
it's weird to
it's weird to
me um that this would happen in general
me um that this would happen in general
but I mean we have to just you know
but I mean we have to just you know
verify what's going on well at least now
verify what's going on well at least now
we have we have a 1 billion step sweeps
we have we have a 1 billion step sweeps
so that gives us like some
so that gives us like some
indication
indication
hopefully
hopefully
um is this even worse than the previous
um is this even worse than the previous
run I'm
run I'm
confused is it just
not
63 I mean getting to level two average
63 I mean getting to level two average
is non-trivial as
is non-trivial as
well cuz that means the average agent
well cuz that means the average agent
right so this is an average so that
right so this is an average so that
means that on average the like each
means that on average the like each
agent is going to go find an enemy kill
agent is going to go find an enemy kill
the enemy pick up the tool equip the
the enemy pick up the tool equip the
tool find the res yeah on average
tool find the res yeah on average
yeah so it's not like that's the best
yeah so it's not like that's the best
agent in there right it's like that's
agent in there right it's like that's
like the average behavior is going to
like the average behavior is going to
get is going to get a level and get like
get is going to get a level and get like
equipment and
equipment and
stuff yeah wait that's
actually okay this is a question then
actually okay this is a question then
about the
game is there finite
game is there finite
resources they
resources they
respawn there's what they
respawn there's what they
respawn they respawn okay yeah I'm not
respawn they respawn okay yeah I'm not
that dumb it's not going to be like
that dumb it's not going to be like
there's nothing for them to
there's nothing for them to
get no I know but like they collect flat
get no I know but like they collect flat
l no I didn't I don't have
l no I didn't I don't have
that no no but
that no no but
like but there be some like game the I
like but there be some like game the I
mean obviously it's a game so there
mean obviously it's a game so there
there's some game theoretic things in
there's some game theoretic things in
there but there could be there like some
there but there could be there like some
some weird things somewhere where like
some weird things somewhere where like
because of the finite resources there's
because of the finite resources there's
like different strategies like based off
like different strategies like based off
like the
like the
like it based off of how fast they spawn
like it based off of how fast they spawn
could there be different strategies like
could there be different strategies like
could could somebody be exploiting that
could could somebody be exploiting that
versus you know like it could be part of
versus you know like it could be part of
the game right okay every every day like
the game right okay every every day like
you know when the sun comes up something
you know when the sun comes up something
gets triggered right which like makes
gets triggered right which like makes
sense within the game but that could
sense within the game but that could
like dictate a different strategy yeah I
like dictate a different strategy yeah I
mean that makes sense though right
mean that makes sense though right
that's like within the realm of the game
that's like within the realm of the game
well if they're doing that then they
well if they're doing that then they
should be getting higher score
should be getting higher score
if they found an
if they found an
exploit yeah yeah
exploit yeah yeah
yeah that's
fair all right so this is starting to
fair all right so this is starting to
come off the
come off the
ground but this looks exactly like the
ground but this looks exactly like the
previous
curve so I have a completely different
curve so I have a completely different
gamma and it looks just like the
gamma and it looks just like the
previous
H that seems bizarre to
me oh wait am I
stupid yeah I'm
stupid yeah I'm
stupid I'm really [ __ ]
stupid what happened wasn't applying the
stupid what happened wasn't applying the
parameters
parameters
oh yeah have a meme for
oh yeah have a meme for
that okay try
that okay try
this got to love it the problem with
this got to love it the problem with
running experiments is it's very boring
running experiments is it's very boring
so you uh you end up making stupid ma
so you uh you end up making stupid ma
mistakes which is why I try not to have
mistakes which is why I try not to have
too many days spent doing boring ass
too many days spent doing boring ass
experiments yeah I feel
that I much prefer building stuff
I don't know if you have Instagram
I don't know if you have Instagram
but
but
no you don't no stay off of
Instagram there's nothing there's
Instagram there's nothing there's
nothing there there's nothing on
nothing there there's nothing on
Instagram but cam girls and
bodybuilders h
bodybuilders h
but
memes welcome to
x.com I get different I get it's funny I
x.com I get different I get it's funny I
get different memes on X versus
get different memes on X versus
Instagram versus YouTube yeah so you get
Instagram versus YouTube yeah so you get
like you get room temperature IQ on X
like you get room temperature IQ on X
and you get IQ you have to dig for on
and you get IQ you have to dig for on
Instagram yes and and then on YouTube
Instagram yes and and then on YouTube
it's just like
it's just like
aome okay YouTube is
funny I found this guy that just like
funny I found this guy that just like
I'm in Florida so I guess it recommends
I'm in Florida so I guess it recommends
me Florida stuff and there's this guy in
me Florida stuff and there's this guy in
Florida that just like runs around
Florida that just like runs around
grabbing snakes and crocodiles with his
grabbing snakes and crocodiles with his
bare
bare
hands yeah yeah I know what you're
hands yeah yeah I know what you're
talking about I mean I'm sure there's
talking about I mean I'm sure there's
more than one of those guys but it's
more than one of those guys but it's
super funny
super funny
yeah it's just like Dam it algorithm
yeah it's just like Dam it algorithm
stop
stop
it stop knowing me so
well let's see if this reward curve
well let's see if this reward curve
looks different
hard to say takes a
while I wonder if Episode length is a
while I wonder if Episode length is a
better and less noisy
indicator yeah so Evan does episode
indicator yeah so Evan does episode
length a lot um it depend it's m
length a lot um it depend it's m
specific I see yeah it's m specific what
specific I see yeah it's m specific what
matters uh that's promising though right
matters uh that's promising though right
let's see it hasn't synced
let's see it hasn't synced
yet but that's uh what 74
yet but that's uh what 74
mil is that on
mil is that on
par it might be on par only with the
par it might be on par only with the
better
better
ones
see uh it is slightly above I don't know
see uh it is slightly above I don't know
whether it's significantly above but it
whether it's significantly above but it
is slightly
above so I think that
above so I think that
the it's possible that pattern was a
the it's possible that pattern was a
function of beta and the
function of beta and the
precon LR instead of the instead of
precon LR instead of the instead of
gamma it's I
see see like the best runs they actually
see see like the best runs they actually
just keep going the
just keep going the
slope yeah I'm a little suspicious with
slope yeah I'm a little suspicious with
the slope cuz these ones these on like
the slope cuz these ones these on like
the curvature is different I
the curvature is different I
think which is a little bit
sus like the good runs have this
sus like the good runs have this
accelerating
curvature okay I see say
it might need it might still need the
it might need it might still need the
gamma we'll
gamma we'll
say if it doesn't work with the correct
say if it doesn't work with the correct
prams and Gamma though then I'm not
sure
sure
me not to ask a stupid question but if
me not to ask a stupid question but if
you have protein why would you do
you have protein why would you do
this why would I do
this why would I do
what why are your hand tuning
what why are your hand tuning
um so protein has picked coefficients
um so protein has picked coefficients
for us right so protein gave us this run
for us right so protein gave us this run
these runs up here but this is tuning
these runs up here but this is tuning
everything so this is me just trying to
everything so this is me just trying to
figure out I'm trying to understand
figure out I'm trying to understand
which of these parameters really matter
which of these parameters really matter
and which ones don't as
and which ones don't as
much so like if I can get something that
much so like if I can get something that
roughly matches here uh without having
roughly matches here uh without having
to tune all the parameters that's
to tune all the parameters that's
better right so I'm basically I'm trying
better right so I'm basically I'm trying
to just like get a feel for the
to just like get a feel for the
robustness of the uh the optimizer once
robustness of the uh the optimizer once
you have it like set to specific
you have it like set to specific
Optimizer
Optimizer
prams does it only work in a narrow band
prams does it only work in a narrow band
of gamma does it only work with like a
of gamma does it only work with like a
specific um entropy or something that's
specific um entropy or something that's
what I'm trying to figure
what I'm trying to figure
out you're just doing sensitivity
out you're just doing sensitivity
analysis Bas basically I'm also just
analysis Bas basically I'm also just
trying to get a feel for the thing stuff
trying to get a feel for the thing stuff
just feels janky in RL so most of the
just feels janky in RL so most of the
time I do automated stuff but every so
time I do automated stuff but every so
often I just like to poke things until
often I just like to poke things until
then makes
sense much what this
is see like this is definitely
is see like this is definitely
below the other
ones I'm going to give it a little
ones I'm going to give it a little
longer but uh let just fill in yeah see
longer but uh let just fill in yeah see
that's on par with the other other ones
that's on par with the other other ones
so this is now with the correct
preconditioning for each psgd KRON LR
preconditioning for each psgd KRON LR
prond LR and Adam beta
1 for
this the thing that bothers me here is
this the thing that bothers me here is
that I would think that the higher gamma
that I would think that the higher gamma
would be better long
would be better long
term it's possible that it's just
term it's possible that it's just
preventing you from learning anything
preventing you from learning anything
early I see I I just basically I wanted
early I see I I just basically I wanted
to see if if this like if the curv
to see if if this like if the curv
separate from this
separate from this
and oh hang
and oh hang
on is that something right
there that seems to be
separation it's very mild if it is
separation it's very mild if it is
though
mhm let's look at midcom Prof because
mhm let's look at midcom Prof because
this is the actual metric that we care
this is the actual metric that we care
about oh hold on we do have separation
about oh hold on we do have separation
look at that you see see look at
look at that you see see look at
that this this is there's a dramatic
that this this is there's a dramatic
difference okay so episode
difference okay so episode
return yeah so that's a dramatic
return yeah so that's a dramatic
capabilities difference so now the only
capabilities difference so now the only
other ablation I have to run is the
other ablation I have to run is the
gamma I wait so what did that mean that
gamma I wait so what did that mean that
means that
means that
the this means that uh right now like
the this means that uh right now like
say 15% of the agents are defeating an
say 15% of the agents are defeating an
enemy and then getting uh harvesting an
enemy and then getting uh harvesting an
item harvesting a
resource so yeah that is capabilities
resource so yeah that is capabilities
difference right there so the precon and
difference right there so the precon and
beta actually make a huge
beta actually make a huge
difference cuz that's all that changed
difference cuz that's all that changed
here prec condom beta kill this I want
here prec condom beta kill this I want
to test the
to test the
gamma because I want to see if that's
gamma because I want to see if that's
like the massive separation difference
I just want to sort of think
I just want to sort of think
about about this in the
meantime I guess it's kind of weird that
meantime I guess it's kind of weird that
I had gamma so high in the first
I had gamma so high in the first
place
place
um that I got that from breakout that's
um that I got that from breakout that's
it's a very very high gamma though to
it's a very very high gamma though to
have I
guess let's see if I can figure
guess let's see if I can figure
something out from that
something out from that
though that's your
clue how high does gamma get before
clue how high does gamma get before
stuff
stuff
breaks you know I actually I'm looking
breaks you know I actually I'm looking
at this
at this
now and
there's definitely a correlation
there's definitely a correlation
here you can see 995 gamma it's still
here you can see 995 gamma it's still
it's still does something so if we use
it's still does something so if we use
this as a proxy for what we're likely to
get I mean that's kind of what we want
get I mean that's kind of what we want
it's um whatever default gamma we set
it's um whatever default gamma we set
will
will
work but you'll get better results with
work but you'll get better results with
um a more finally tuned
gamma I think I would rather do 0.98
gamma I think I would rather do 0.98
though than 0
though than 0
n95 if these both
work actually let me see so this is
work actually let me see so this is
the got 0.9 we got these two so this is
the got 0.9 we got these two so this is
a dark blue and we've got this
a dark blue and we've got this
one if I go to these
one if I go to these
charts it's a dark
charts it's a dark
blue this is the dark blue right
here
here
okay so that's interesting right so the
okay so that's interesting right so the
dark blue is the higher gamma that looks
dark blue is the higher gamma that looks
like that's going to do better to me
like that's going to do better to me
that's got like the much steeper this is
that's got like the much steeper this is
a this is linear this is
a this is linear this is
logarithmic yeah so I actually think
logarithmic yeah so I actually think
that yeah I'm just going to let this run
that yeah I'm just going to let this run
for a couple minutes then just to see if
for a couple minutes then just to see if
early Behavior changes based on that
early Behavior changes based on that
okay but um I
okay but um I
think I think gamma definitely does
think I think gamma definitely does
matter it would have to just based on
matter it would have to just based on
how po works and I think it is possible
how po works and I think it is possible
that like what might have been happening
that like what might have been happening
before with the sweeps is that if you
before with the sweeps is that if you
run too short of an experiment right
run too short of an experiment right
like if you run a 500 mil experiment
like if you run a 500 mil experiment
it'll look like this one's way better
it'll look like this one's way better
but if you run it longer they catch
but if you run it longer they catch
up yeah exactly right well this is why I
up yeah exactly right well this is why I
did one bill which is like I mean that's
did one bill which is like I mean that's
that's way longer than the x-axis of the
that's way longer than the x-axis of the
vast vast vast majority of papers right
vast vast vast majority of papers right
like there's still papers published
like there's still papers published
today that have an x-axis that's 1
million or 10 million 10 million is a
million or 10 million 10 million is a
very common x-axis
very common x-axis
I would love
I would love
to publish a few papers on puffer then
to publish a few papers on puffer then
okay if that's
yeah like even if we just get your
yeah like even if we just get your
reports that you have in the past and we
reports that you have in the past and we
just turn them into papers I'm sure
just turn them into papers I'm sure
they'll publish I'm not sure they'll
they'll publish I'm not sure they'll
publish Academia is [ __ ]
stupid and I am so sick of dealing with
stupid and I am so sick of dealing with
Academia it's like oh my
Academia it's like oh my
God this is why I collab on on projects
God this is why I collab on on projects
sometimes you know people like I'm on
sometimes you know people like I'm on
NYU submission at the moment but it's
NYU submission at the moment but it's
like dealing with Academia is so
like dealing with Academia is so
obnoxious the review process is just it
obnoxious the review process is just it
needs to go it's just like you're
needs to go it's just like you're
wasting hundreds to thousands of hours
wasting hundreds to thousands of hours
of everyone's 20s I submitted a paper
of everyone's 20s I submitted a paper
and the reviewers like it seems you you
and the reviewers like it seems you you
guys have done nutraw
guys have done nutraw
momentum and we're just like dude you
momentum and we're just like dude you
don't know the difference between neest
don't know the difference between neest
momentum and heavy ball momentum why are
momentum and heavy ball momentum why are
you reviewing this paper and why at
you reviewing this paper and why at
least we got one that was this Sim
least we got one that was this Sim
doesn't seem good because it's in
C++ what it's like oh this seems hard
C++ what it's like oh this seems hard
your Sims written in C+
your Sims written in C+
plus yeah for the GPU Drive stuff at one
plus yeah for the GPU Drive stuff at one
point
point
that's really funny I mean puffer got
that's really funny I mean puffer got
rejected and then I said [ __ ]
it right it's like all right you know
it right it's like all right you know
what I gave you clearcut like even the
what I gave you clearcut like even the
early versions of puffer right where
early versions of puffer right where
it's like I made
it's like I made
vectorization like 50% to 100x faster
vectorization like 50% to 100x faster
depending on your M just across the
depending on your M just across the
board drop and use it with anything also
board drop and use it with anything also
supports multi-agent out of the box
supports multi-agent out of the box
they're like yeah
n we don't publish we don't publish
n we don't publish we don't publish
software we prefer to write really bad
software we prefer to write really bad
code and feel self-important about
code and feel self-important about
it yeah so that's the thing I'm like the
it yeah so that's the thing I'm like the
first person to say like I'm not the
first person to say like I'm not the
number one coder in the
number one coder in the
world you know that's all
world you know that's all
right but
right but
kind of pisses me off when
kind of pisses me off when
people who have
people who have
like like people who people who like
like like people who people who like
refuse to use good software and it's
refuse to use good software and it's
like why why are you doing
like why why are you doing
[Music]
this and know I tried to keep all the
this and know I tried to keep all the
stuff in Puff are pretty good show it's
stuff in Puff are pretty good show it's
well to be fair there's a lot of stuff
well to be fair there's a lot of stuff
so some stuff needs to be looked at and
so some stuff needs to be looked at and
cleaned up by
cleaned up by
now I think that project with the new
now I think that project with the new
PRS is going to be close to 40K lines
now I think that's like the size of
now I think that's like the size of
whatap or
whatever all happened
here this do
worse did it increase Gamma or
something see this is unexpected this is
something see this is unexpected this is
what I don't like if I just ran this and
what I don't like if I just ran this and
it does what I expect I'm like okay I
it does what I expect I'm like okay I
get
get
it but now it's doing something that
it but now it's doing something that
doesn't make any
sense actually maybe this one was good
sense actually maybe this one was good
let's
see you know if you look at this one on
see you know if you look at this one on
the mincom Prof scale this actually had
the mincom Prof scale this actually had
we were looking at episode return this
we were looking at episode return this
one actually looks very
good excuse
so setting gamma to 0.95 breaks
it a little weird because you can get
it a little weird because you can get
Rewards well I the whole getting mincom
Rewards well I the whole getting mincom
Prof is that's probably like a 50 step
Prof is that's probably like a 50 step
process at least to get that up but you
process at least to get that up but you
can get intermediate rewards in like 10
can get intermediate rewards in like 10
to 20 steps
interesting that bothers
me maybe the uh the call is to just
me maybe the uh the call is to just
run run the high gamma
run run the high gamma
version I'm trying to think though 995
version I'm trying to think though 995
is like a
is like a
very high gamma to be running with even
very high gamma to be running with even
for this
I especially for this it's not like it
I especially for this it's not like it
almost makes it makes more sense for
almost makes it makes more sense for
breakout than for this honestly because
breakout than for this honestly because
like two seconds of breakouts like 120
frames so like yeah maybe 995 is good
frames so like yeah maybe 995 is good
for
for
that but I mean for this one like
I guess what I don't understand is how
I guess what I don't understand is how
is this one way down
is this one way down
here if this
light what did this at this at 0.95 as
light what did this at this at 0.95 as
well
why does it not work
here it's this is the one right this is
here it's this is the one right this is
the
the
curve we almost have the virtually uh
curve we almost have the virtually uh
the same hyper prams now on this
so now this does come up eventually
see the reason I do this is not to get
see the reason I do this is not to get
the result like yeah it's way quicker to
the result like yeah it's way quicker to
run the sweeps I'm trying to develop
run the sweeps I'm trying to develop
some intuition around these things and
some intuition around these things and
see if they behave in a predictable
see if they behave in a predictable
way yeah I hear you that makes sense
well at the very least compared to
well at the very least compared to
before this is a qualitative difference
before this is a qualitative difference
like
these well is oh wow that's really going
these well is oh wow that's really going
up that gray one yeah gray one this one
up that gray one yeah gray one this one
yeah see this is what we did
yeah see this is what we did
before okay but then like we change it
before okay but then like we change it
to this param which is supposed to be
to this param which is supposed to be
closer to this one
here yeah I mean it might there might be
here yeah I mean it might there might be
like pockets of good hyper parameters
like pockets of good hyper parameters
right there shouldn't be with the way
right there shouldn't be with the way
that these work unless they're like
that these work unless they're like
correlated in some weird
way yeah it's tough cuz like the thing
way yeah it's tough cuz like the thing
that really matters is the
that really matters is the
longterm behavior of this thing
anyways yeah I remember remember so 0995
anyways yeah I remember remember so 0995
did
did
break it broke a couple of the really
break it broke a couple of the really
short Horizon
tasks I think I'm tempted to just run
tasks I think I'm tempted to just run
this 99 or whatever
this 99 or whatever
then just go get
then just go get
dinner
um I'm trying to think if 995 can do
um I'm trying to think if 995 can do
anything 995 is 200
steps like I don't think the network has
steps like I don't think the network has
capacity to reason over 200
steps the worked in Breakout
I think we'll just leave let's just
I think we'll just leave let's just
leave the
leave the
default let's do this I mean this will
default let's do this I mean this will
be the the best case anyways because if
be the the best case anyways because if
this
this
works
works
then I think we're all set so I you know
then I think we're all set so I you know
I'm going to do one thing before I do
I'm going to do one thing before I do
this I want to run
breakout see if this actually
breakout see if this actually
solves oh and actually hold you have to
solves oh and actually hold you have to
copy these Paramon too
copy these Paramon too
copy this print to break out
I just want to see if these are like
I just want to see if these are like
good General params
yeah so something broke here in the
yeah so something broke here in the
process of um
process of um
doing
this how do you see that what well this
this how do you see that what well this
is not the map score is
is not the map score is
800 so I think the default learning R
800 so I think the default learning R
was 0.01 or something wasn't
was 0.01 or something wasn't
it 0.01 or
it 0.01 or
0.001 for what sorry the default
0.001 for what sorry the default
learning rate for uh
learning rate for uh
bit for uh
bit for uh
cron heavy B
cron heavy B
cron
cron
see check not
sure o1 so I have it way too high most
sure o1 so I have it way too high most
likely it does seem to actually optimize
likely it does seem to actually optimize
them which is funny
okay so literally just changing the
okay so literally just changing the
learning
learning
rate no other
rate no other
changes uh now it works on
breakout ni
10x higher than the default
10x higher than the default
though but 01 does this still work or do
though but 01 does this still work or do
it break
I'm trying to think why different M's is
I'm trying to think why different M's is
there a good reason different M should
there a good reason different M should
need a totally different learning rate
still I don't know I mean I guess it's
like how far off are the learning
like how far off are the learning
rates uh
um I mean it's 025 or
0.01 uh let me
see I don't know it's pretty big it and
see I don't know it's pretty big it and
it's weird I think you're right with the
it's weird I think you're right with the
pockets because it doesn't it doesn't
pockets because it doesn't it doesn't
optimize at all with
optimize at all with
this so like I had it on 0.0
on 0.01 it optimizes
okay
okay
well I'm have to run
well I'm have to run
a neural MMO
3 with
Neptune and I will come back and check
Neptune and I will come back and check
this after
this after
dinner nice and we'll see how this is
dinner nice and we'll see how this is
and then I'll get a full run of this
and then I'll get a full run of this
going once uh I get the machine back
going once uh I get the machine back
from the muan
from the muan
Baseline and we'll see whether this
Baseline and we'll see whether this
beats muan which is not fully tuned to
beats muan which is not fully tuned to
Mu one to be
Mu one to be
fair
fair
um they both have three
whole
thing I doubt muan is going to like have
thing I doubt muan is going to like have
the same learning rate for neural MMO
the same learning rate for neural MMO
magically though as everything else
magically though as everything else
either I don't think there's anything in
either I don't think there's anything in
mu do
that
that
um yeah I don't know Keller Keller says
um yeah I don't know Keller Keller says
it should all be the same learning rate
it should all be the same learning rate
but it's not just just not
but it's not just just not
true I mean we just see in practice it
true I mean we just see in practice it
doesn't
work but I like the preconditioned
work but I like the preconditioned
learning rate in beta I wonder about
okay well I'm going to go get some food
okay well I'm going to go get some food
I've been uh I've been boring myself out
I've been uh I've been boring myself out
of my mind thinking about this for the
of my mind thinking about this for the
last few
last few
hours
um I still want to
um I still want to
implement Mars should not
implement Mars should not
fix like Mars should not give you mini
fix like Mars should not give you mini
bat size in uh in variance I'm assuming
right um you're saying your
right um you're saying your
hyperparameters should stay constant
hyperparameters should stay constant
with respect to your mini batch so Mars
with respect to your mini batch so Mars
is Luca said oh yeah try Mars because I
is Luca said oh yeah try Mars because I
was talking about mini batch size and
was talking about mini batch size and
like how I needed to add gradient
like how I needed to add gradient
accumulation for larger to enable
accumulation for larger to enable
training with larger mini batch sizes I
training with larger mini batch sizes I
me I ran some experiments earlier and it
me I ran some experiments earlier and it
seems like mini bat size really does
seems like mini bat size really does
matter it's not just like you can't just
matter it's not just like you can't just
like
like
um you can't just cut your mini batch in
um you can't just cut your mini batch in
half and drop the learning rate um it
half and drop the learning rate um it
does seem that there is something to
does seem that there is something to
just
just
training with more
training with more
gradients um I don't I would if this is
gradients um I don't I would if this is
the case we can make versions of psgd
the case we can make versions of psgd
that are RL
that are RL
specific one thing for
specific one thing for
example actually having smaller batches
example actually having smaller batches
would help psgd
would help psgd
um not that it would help it but I don't
um not that it would help it but I don't
think it would hurt it so I think you
think it would hurt it so I think you
could just just in general try dropping
could just just in general try dropping
the bat size with psgd and running maybe
the bat size with psgd and running maybe
another yeah just just just see what
another yeah just just just see what
happens and run another protein and then
happens and run another protein and then
enable Mars Mars do efficiency like that
enable Mars Mars do efficiency like that
actually really hurts Hardware
actually really hurts Hardware
efficiency because what what what does
efficiency because what what what does
dropping the batch size the only thing
dropping the batch size the only thing
you could drop is the mini batch
you could drop is the mini batch
size sorry sorry sorry the mini batch
size sorry sorry sorry the mini batch
size yes the mini batch dropping the
size yes the mini batch dropping the
mini batch you and you drop it to like
mini batch you and you drop it to like
the lowest you would drop it is like
8192 the mini bags
M uh if you drop it any lower it's just
M uh if you drop it any lower it's just
like you're just burning Hardware Cycles
like you're just burning Hardware Cycles
like the GPU just doesn't you're just
like the GPU just doesn't you're just
not using the GPU
not using the GPU
efficiently yeah uh no we could we could
efficiently yeah uh no we could we could
try dropping it and the mini batches are
try dropping it and the mini batches are
just saying the one thing that you might
just saying the one thing that you might
want to do is you might want
want to do is you might want
to okay when you're calculating the
to okay when you're calculating the
preconditioner right instead of
preconditioner right instead of
fat passing in the batch gradient right
fat passing in the batch gradient right
you can also consider passing the mini
you can also consider passing the mini
batch
batch
gradient
gradient
um in instead so I I don't know how how
um in instead so I I don't know how how
it's set up to do it right now with your
it's set up to do it right now with your
code base but that might be something
code base but that might be something
of assume it is getting the mini batch
of assume it is getting the mini batch
gradient because we never actually
gradient because we never actually
compute the gradient of the of the whole
compute the gradient of the of the whole
batch
batch
okay um okay so then that should be fine
okay um okay so then that should be fine
I mean yeah you can you can try throwing
I mean yeah you can you can try throwing
Mars on it it's just you have to pay for
Mars on it it's just you have to pay for
the memory that's fine um
yeah I I think what we'll do is we'll
yeah I I think what we'll do is we'll
get we'll get the good Baseline and then
get we'll get the good Baseline and then
we'll run a couple just individual
we'll run a couple just individual
oblations with a couple of these like
oblations with a couple of these like
Boolean Flags like
Boolean Flags like
Mars and uh then we'll probably do a
Mars and uh then we'll probably do a
sweep on the constant or the uh The
sweep on the constant or the uh The
Continuous param now the thing that I
Continuous param now the thing that I
was hoping we could get which was we
was hoping we could get which was we
were so so close with muan and I assume
were so so close with muan and I assume
we'll probably be able to do similar
we'll probably be able to do similar
with
with
psgd we had pretty much one set of hyper
psgd we had pretty much one set of hyper
prams that worked on every end except
prams that worked on every end except
neural MMO 3 um I that was true of of
neural MMO 3 um I that was true of of
psgd right that's what you're saying
psgd right that's what you're saying
well it was true of muan we haven't
well it was true of muan we haven't
fully tested with psgd yet so the
fully tested with psgd yet so the
question is can we get something can we
question is can we get something can we
get some hyper parameters that are at
get some hyper parameters that are at
least decent on just about every N Out
least decent on just about every N Out
of the
Box I see with the exceptions
Box I see with the exceptions
potentially of gamma and Lambda CU I'm
potentially of gamma and Lambda CU I'm
going to be working on that
going to be working on that
separately MH that's kind of hard but
separately MH that's kind of hard but
yeah with the exceptions of those I
yeah with the exceptions of those I
think we should be able to do
think we should be able to do
it let's see where's our experiment here
it let's see where's our experiment here
just making sure this is set up
just making sure this is set up
correctly and and running before I go
okay but this is not supposed to come
okay but this is not supposed to come
off the ground yet so this is
off the ground yet so this is
fine okay I'm going to go get a I'm
fine okay I'm going to go get a I'm
going to go get some food and then I'm
going to go get some food and then I'm
going to come back and I'm not going to
going to come back and I'm not going to
babysit experiments because it's
babysit experiments because it's
freaking boring probably just going to
freaking boring probably just going to
implement gradient
implement gradient
accumulation um and we'll go from
accumulation um and we'll go from
there thanks for hanging out um um yeah
there thanks for hanging out um um yeah
yeah we'll we'll be running more tests
yeah we'll we'll be running more tests
on this I think but I think what I'm
on this I think but I think what I'm
going to do with this at the most
going to do with this at the most
is I'm going to just like keep running
is I'm going to just like keep running
the the stuff on Earl in the background
the the stuff on Earl in the background
I'm going to do you know deal with a
I'm going to do you know deal with a
little bit of other work other things I
little bit of other work other things I
got to deal with and then we'll come
got to deal with and then we'll come
back when we have sweep results and uh I
back when we have sweep results and uh I
mean hopefully this thing is good I'm
mean hopefully this thing is good I'm
going to have to look at the map at some
going to have to look at the map at some
point of this versus move on to
point of this versus move on to
understand what the heck it's
doing yeah I can I can teach you we can
doing yeah I can I can teach you we can
we can do a stream or something we can
we can do a stream or something we can
go through the math sure all right
go through the math sure all right
thanks man' and see you around thank you

Kind: captions
Language: en
we are back
we are back
live
hi we have some experiments to check and
hi we have some experiments to check and
finally it looks like um we no longer
finally it looks like um we no longer
have
have
crashing I mean those are nice right
crashing I mean those are nice right
those are very nice
doesn't have the new grad Norm stuff in
doesn't have the new grad Norm stuff in
it
but we get them
uh some grass
what is this
what is this
one for
okay so this is set beta to
.96 and just put this on the stream as
.96 and just put this on the stream as
well uh what else
oh interesting that it increased the
oh interesting that it increased the
preconditioning learning rate because
preconditioning learning rate because
they all told me to decrease it goes to
they all told me to decrease it goes to
show you that intuition does not
show you that intuition does not
match like intuition really doesn't help
match like intuition really doesn't help
you at the moment in a lot of these
you at the moment in a lot of these
things
things
and by intuition I mean like the way you
and by intuition I mean like the way you
would think it would work based on the
would think it would work based on the
math doesn't always happen that
way but hey this is
way but hey this is
cool so I think we let this uh this
cool so I think we let this uh this
sweep keep going for a bit and then what
sweep keep going for a bit and then what
I'll do is tonight I'll queue up um you
I'll do is tonight I'll queue up um you
know a long run looking for the best
know a long run looking for the best
prams so we haven't checked in on
prams so we haven't checked in on
our our best run in a while
way if I just do
this oh it's almost
this oh it's almost
done almost
done almost
done this is stable over the whole thing
done this is stable over the whole thing
so far as
so far as
well to
well to
4.12 when I checked it before
4.12 when I checked it before
3.7 that's
3.7 that's
nice very solid
nice very solid
curve
for e
all right
that's very
that's very
weird I'll have to look at
weird I'll have to look at
that um
okay my head's a little fuzzy at the
okay my head's a little fuzzy at the
moment with uh these results cuz things
moment with uh these results cuz things
don't don't all behave the way I
don't don't all behave the way I
expected I mean it looks like we're
expected I mean it looks like we're
getting good results so I think what I
getting good results so I think what I
want to do here for a bit is kind of
want to do here for a bit is kind of
just hang out and talk through out
just hang out and talk through out
loud a little bit of uh of what all this
loud a little bit of uh of what all this
could mean and where to go from here
could mean and where to go from here
so let's start with muan this Baseline
so let's start with muan this Baseline
is
is
muan we tuned muan
muan we tuned muan
for breakout and then roughly the same
for breakout and then roughly the same
hyper parameters worked on everything
else actually I don't know about this
else actually I don't know about this
one I think we had to except this one
one I think we had to except this one
this one I think we had to use a few
this one I think we had to use a few
different things but basically all the
different things but basically all the
other Ms mu on worked pretty much out of
other Ms mu on worked pretty much out of
the box with a few hyper Prem tweaks
the box with a few hyper Prem tweaks
that you would more or less expect to
that you would more or less expect to
have to make felt very very stable and
have to make felt very very stable and
consistent now with neural Mo 3 it
consistent now with neural Mo 3 it
didn't quite work out of the box um so I
didn't quite work out of the box um so I
went and I used the old tuned neural MMO
went and I used the old tuned neural MMO
prams hey linky I got to look at that
prams hey linky I got to look at that
let me finish thinking I I want to
let me finish thinking I I want to
finish thinking through this first
finish thinking through this first
because I got this on my
because I got this on my
mind
mind
um I think
um I think
so I'm pretty sure this is the old tuned
so I'm pretty sure this is the old tuned
forams right this one right here
just double check make sure I'm looking
just double check make sure I'm looking
at this
correctly yeah you can see these are the
correctly yeah you can see these are the
old tuned neurom
MMO and that gives you this state of the
MMO and that gives you this state of the
art
art
here um so why do we need to tune the
here um so why do we need to tune the
params for neural MMO but not for
params for neural MMO but not for
anything
else well one
else well one
option is it was the back size I think I
option is it was the back size I think I
tried
tried
that um mini batch size rather I don't
that um mini batch size rather I don't
know if I tried with muan
know if I tried with muan
though just doing like 32k mini
though just doing like 32k mini
batch might have
actually I guess the question is how
actually I guess the question is how
much how much do you actually have to
much how much do you actually have to
change the hypers to get to work on nurm
change the hypers to get to work on nurm
Mo 3
Mo 3
right so the mini batch one that's kind
right so the mini batch one that's kind
of
of
explainable it's related to the how AI
explainable it's related to the how AI
training scales
training scales
paper um and it seems that from my
paper um and it seems that from my
initial results
initial results
here uh you kind of just want to keep
here uh you kind of just want to keep
increasing the mini batch
increasing the mini batch
size until you hit a critical point
size until you hit a critical point
which depends on the
which depends on the
environment and for neural Mo it's
environment and for neural Mo it's
clearly just
clearly just
higher so I mean that's a good reason
higher so I mean that's a good reason
for me to go in Implement gradient
for me to go in Implement gradient
accumulation cuz the mini batches are
accumulation cuz the mini batches are
getting too high to do in one pass
getting too high to do in one pass
probably actually will be slower to do
probably actually will be slower to do
them in one pass at some
them in one pass at some
point and then we'll be able to tune
point and then we'll be able to tune
that parameter
that parameter
higher um you know but the original did
higher um you know but the original did
work relatively
work relatively
well without any of that noise
well without any of that noise
right or did
right or did
it how well did the original work
it how well did the original work
actually cuz this is the only Baseline
actually cuz this is the only Baseline
we have
we have
any any reason to expect to be right we
any any reason to expect to be right we
only get up to like
2.5 and 100 Mil if I look at like 20
2.5 and 100 Mil if I look at like 20
it's like
2.25
2.25
okay
okay
so and that's right around here
and again we didn't tunee
and again we didn't tunee
muon for this
m I don't know if I ran it long
enough I guess I can't really say for
enough I guess I can't really say for
sure that um it doesn't work with
sure that um it doesn't work with
roughly the same
roughly the same
hypers it's pretty likely that it works
hypers it's pretty likely that it works
with similar hypers at the least
learning rate 025 was the best for psgd
learning rate 025 was the best for psgd
but that's a different
algorithm
okay see what I really would like is to
okay see what I really would like is to
have something that just feels stable
have something that just feels stable
and works across a bunch of different
and works across a bunch of different
ranges mini batch it seems is going to
ranges mini batch it seems is going to
have to just be
have to just be
tuned you know it starts at 8192 you
tuned you know it starts at 8192 you
start it at whatever's Hardware
start it at whatever's Hardware
efficient and then uh it goes up from
efficient and then uh it goes up from
there is
fine what about batch
size probably also gets tuned
size probably also gets tuned
right usually will work out of the box
right usually will work out of the box
but gets tuned
cuz that gives you data
cuz that gives you data
Stillness so if you have a really big
Stillness so if you have a really big
batch size right um you start getting
batch size right um you start getting
more and more off
policy it'll be interesting to actually
policy it'll be interesting to actually
see what the optimal mini batch size
see what the optimal mini batch size
ends up
ends up
being if I just rerun these experiments
being if I just rerun these experiments
with uh with gradient accumulation I
with uh with gradient accumulation I
think we definitely do that today
think we definitely do that today
not run the full experiment but at least
not run the full experiment but at least
implement the grading
accumulation I mean even if this thing
accumulation I mean even if this thing
does level out eventually right
does level out eventually right
like this would still be if let's say
like this would still be if let's say
that this does it in
I mean this is like 100x more sample
I mean this is like 100x more sample
efficient actually than the original
efficient actually than the original
Baseline if I had it on the same plot CU
Baseline if I had it on the same plot CU
it
it
took maybe a maybe 50x more sample
took maybe a maybe 50x more sample
ficient actually because it levels out
ficient actually because it levels out
the original levels out at
the original levels out at
2.5 with like the same everything
else I don't actually think that the
else I don't actually think that the
algorithm is 100 times better as much as
algorithm is 100 times better as much as
it's probably 100 times less fidd
it's probably 100 times less fidd
so it's probably just easier to find
so it's probably just easier to find
good
good
settings plus we give it a little credit
settings plus we give it a little credit
there are a few nice things it does as
well so like priorities wise
well so like priorities wise
here um grading accumulation is really
here um grading accumulation is really
easy to implement I can just do that
easy to implement I can just do that
won't take me very
won't take me very
long
long
um there are more algorithms to try I
um there are more algorithms to try I
don't think I want to do that just yet
don't think I want to do that just yet
though until I finish getting these
though until I finish getting these
sweeps
I guess the two options would be we kind
I guess the two options would be we kind
of like lock in this stuff
and we say okay you know once we get
and we say okay you know once we get
this to
this to
work we're going to run like really
work we're going to run like really
large scale
large scale
experiments um with this method to see
experiments um with this method to see
how stable we can get all of our
how stable we can get all of our
ends and the other option would be to
ends and the other option would be to
keep going ahead and try to get ggae
keep going ahead and try to get ggae
working or
P30 wait what
I'm
confused I guess he's watching stream or
was variance correction so similar idea
in a diffusion model with batch size
in a diffusion model with batch size
four
all right well we'll try with and
all right well we'll try with and
without on the optimize settings
I legit don't tune any except for
I legit don't tune any except for
LR so no idea
you got to tune your pams
you got to tune your pams
man got to tune your hypers
uh protein
uh protein
algorithm I like
it so we'll try Mars I doubt it solves
it so we'll try Mars I doubt it solves
fully like just the mini badge thing but
fully like just the mini badge thing but
we can see
get popped up with froin yeah
[Laughter]
[Music]
[Music]
funny okay
funny okay
um the other
um the other
thing you know I think that I kind of
thing you know I think that I kind of
should just start running these like
should just start running these like
large scale sweeps and
stuff but the generalized Advantage
stuff but the generalized Advantage
estimation thing bothers
estimation thing bothers
me that Pam is still going to need to
me that Pam is still going to need to
change a bit
may I could fix the
may I could fix the
Pam and see what happens
let's look at some of these curves so
let's look at some of these curves so
they have Lambda
here Lambda equal
1 and equals z
0.85
0.85
0.92 these seem
good
98 it's down there
needing both of these tuned is really
obnoxious though I mean admittedly right
obnoxious though I mean admittedly right
if you're just not too
if you're just not too
worried with this is no value
worried with this is no value
function is Lambda was this gamma equals
one so that's
reinforce so it's possible to
reinforce so it's possible to
underperform reinforce here if you don't
underperform reinforce here if you don't
tune
these I mean in practice though it seems
these I mean in practice though it seems
like it's always just a bit lower
like it's always just a bit lower
[Music]
[Music]
than than gamma
like 96
like 96
here and then this is
here and then this is
1 so yeah there's no way in hell you can
1 so yeah there's no way in hell you can
have the same gamas and lambdas for
have the same gamas and lambdas for
everything even if it's working in our
everything even if it's working in our
case right it's probably just working
case right it's probably just working
because we have a ludicrous x axis
I I don't think if I can do this in
I I don't think if I can do this in
segments
though does it make sense that entp
though does it make sense that entp
needs to be tuned per
task maybe we don't don't worry about
task maybe we don't don't worry about
those three so much
those three so much
actually if we don't worry about those
actually if we don't worry about those
three parameters a ton because we assume
three parameters a ton because we assume
that we're going to do algorithmic
that we're going to do algorithmic
followup then what's left
followup then what's left
right you have your optimizer params
I mean fundamentally this is all
I mean fundamentally this is all
like the question is if you tune
like the question is if you tune
everything how much better can you do
everything how much better can you do
than if you like fix a bunch of defaults
I mean I could realistically right 500
I mean I could realistically right 500
mil is a bit short for nurma Mo
3 but I could realistically do like a
3 but I could realistically do like a
neural MMO one bill
Benchmark and I could full sweep
Benchmark and I could full sweep
everything
okay well then here's another question
okay well then here's another question
right
so if if I then take
so if if I then take
the if I take the neural MMO pams maybe
the if I take the neural MMO pams maybe
those work on the simps right maybe the
those work on the simps right maybe the
simpler mtune pams don't work on neural
simpler mtune pams don't work on neural
Mo but maybe the neural Mo prams work on
Mo but maybe the neural Mo prams work on
the simpler
M I was playing around with o25 for
this so it's o25
is the optimal learning
is the optimal learning
rate so what if I just do this
rate so what if I just do this
um Recon
does this solve
breakout actually let's not do the
breakout actually let's not do the
stupid mini batch thing as well
it's got its reasonable cramps
go find the Neptune plot for this
that actually works better than before
that actually works better than before
doesn't
doesn't
it yeah that works a little better than
it yeah that works a little better than
before this one is not comparable this
before this one is not comparable this
one's
one's
slower in wall
slower in wall
clock so this actually does
clock so this actually does
work hey man welcome grats on the end
work hey man welcome grats on the end
I saw I saw
that I think did I review the code for
that I think did I review the code for
that or
no no you haven't okay well if I don't
no no you haven't okay well if I don't
know if it's open source but if you're
know if it's open source but if you're
interested in pring uh new M to
interested in pring uh new M to
puffer we will be very happy to get you
puffer we will be very happy to get you
set up with all sorts of fun sweeps and
set up with all sorts of fun sweeps and
stuff on that
let me link you the repo
let me link you the repo
awesome yeah up to you what you want to
awesome yeah up to you what you want to
do pretty much for any new contributions
do pretty much for any new contributions
I'll do at least like one full pass line
I'll do at least like one full pass line
by line code review if you want it
by line code review if you want it
um and I also help with
integration and then the end just
integration and then the end just
becomes you know part of uh part of the
becomes you know part of uh part of the
puffer test suite and you can you know
puffer test suite and you can you know
it gets optimized aggressively with all
it gets optimized aggressively with all
our stuff just want to learn contribute
our stuff just want to learn contribute
as much as I can well I mean this is a
as much as I can well I mean this is a
good way to do it
right if you make the end of a part of
right if you make the end of a part of
the Benchmark right then every time we
the Benchmark right then every time we
come up with a new
come up with a new
method every time we come up with
method every time we come up with
something new and puffer we just will
something new and puffer we just will
throw it on that so like for instance
throw it on that so like for instance
yesterday right I was doing work with
yesterday right I was doing work with
muan and psgd and I ran I ran both
muan and psgd and I ran I ran both
algorithms on every single anent
puffer
cool that's not bad is it ready for uh
cool that's not bad is it ready for uh
for Cod review or do I hold off like
for Cod review or do I hold off like
what how would you like me to do this
what how would you like me to do this
cuz I can go through this right now line
cuz I can go through this right now line
by line if it's
useful and then just PR
directly should be
directly should be
ready
ready
okay if I if you got a minute let me go
okay if I if you got a minute let me go
make myself a new cup of tea so I wake
make myself a new cup of tea so I wake
up a little bit and then uh we will go
up a little bit and then uh we will go
through we'll do a full review we'll get
through we'll do a full review we'll get
it
it
PR any little little things that need to
PR any little little things that need to
be fixed we can fix and then we'll throw
be fixed we can fix and then we'll throw
our latest algorithms at it and see uh
our latest algorithms at it and see uh
see how much better of a policy we can
see how much better of a policy we can
learn for
learn for
you bit masking not optimal could be
you bit masking not optimal could be
replaced all right well we'll see how
replaced all right well we'll see how
fast it is I'll run some tests on it'll
fast it is I'll run some tests on it'll
be fun let me get myself a cup of tea
though
e
e
e
e
e
e
e
e e
okay so if you
okay so if you
want um you can jump on Discord and we
want um you can jump on Discord and we
can do this uh through voice if you
can do this uh through voice if you
don't mind being on stream otherwise I
don't mind being on stream otherwise I
can just review it like this your
can just review it like this your
choice all right great that makes it a
choice all right great that makes it a
lot easier
lot easier
we do pay for the nice voice
we do pay for the nice voice
channels hello hello hey how's it going
channels hello hello hey how's it going
man yeah good good cool looking n I'm
man yeah good good cool looking n I'm
excited to try this
excited to try this
out um thank
out um thank
you let me see I'm probably going to do
you let me see I'm probably going to do
a quick like once through make sure that
a quick like once through make sure that
it looks good first and then I'll
it looks good first and then I'll
probably just let me see what's the
probably just let me see what's the
easiest way to do this I guess I'll do
easiest way to do this I guess I'll do
the line by line first H mhm I actually
the line by line first H mhm I actually
I the one thing is I want to know how it
I the one thing is I want to know how it
works before I review it fully so I'm
works before I review it fully so I'm
trying to think what the easiest way is
trying to think what the easiest way is
for me to try it I guess I can just uh
for me to try it I guess I can just uh
grab your build real quick before I pr
grab your build real quick before I pr
it hang
on
on
um just be aware that in the since I'm
um just be aware that in the since I'm
only running on CPU in the config anyi
only running on CPU in the config anyi
I've set up the CPU by default so you
I've set up the CPU by default so you
might
that is totally
fine yeah definitely if you're looking
fine yeah definitely if you're looking
to get into a bunch of RL stuff this is
to get into a bunch of RL stuff this is
uh a place to be we're a little low on
uh a place to be we're a little low on
Hardware now but the goal is that uh we
Hardware now but the goal is that uh we
will be providing Hardware to all
will be providing Hardware to all
contributors as well for experiments uh
contributors as well for experiments uh
for stuff that
for stuff that
so yeah I've heard there's a lot of bues
so yeah I've heard there's a lot of bues
on the way uh they're not on the way yet
on the way uh they're not on the way yet
uh we have one test machine I basically
uh we have one test machine I basically
I got to make sure the 5090 boxes are
I got to make sure the 5090 boxes are
good before we put in a big order um
good before we put in a big order um
because there's also there's some some
because there's also there's some some
sketchy reports of some hardware issues
sketchy reports of some hardware issues
with those and we've dealt with enough
with those and we've dealt with enough
hardware issues already believe me um
hardware issues already believe me um
but yeah I think we actually we should
but yeah I think we actually we should
be getting a couple boxes back anyways
be getting a couple boxes back anyways
so what m is this this is we are just
so what m is this this is we are just
reviewing this end right now brand new
reviewing this end right now brand new
contribution
contribution
um I actually don't know exactly what it
um I actually don't know exactly what it
is yet so I'm going to
see I can talk you through if you if
see I can talk you through if you if
You' like or otherwise I just let you
You' like or otherwise I just let you
let me let me first
um uh what's it called CPR CPR
um uh what's it called CPR CPR
yeah Rel live
ocean this is a different branch oh it
ocean this is a different branch oh it
is a different
BR okay
awesome so we got some puffers running
around does CPR what so what first of
around does CPR what so what first of
all what does it stand for this it's not
all what does it stand for this it's not
a medical end right no it's called a
a medical end right no it's called a
common pool resource so I see as you see
common pool resource so I see as you see
yeah there are two two different type of
yeah there are two two different type of
foods the gray one which can be
foods the gray one which can be
collected just by going on the same cell
collected just by going on the same cell
as the the foods mhm and the yellow ones
as the the foods mhm and the yellow ones
need uh two agents to stand next to them
need uh two agents to stand next to them
to be harvested oh okay and and they
to be harvested oh okay and and they
reward more obviously but and then
reward more obviously but and then
there's the respawn so there's a you can
there's the respawn so there's a you can
basically deplete the entire resource
basically deplete the entire resource
because the food can only respond next
because the food can only respond next
to another food there is just a very
to another food there is just a very
very low probability of a spoon to of a
very low probability of a spoon to of a
food to randomly spawn somewhere on the
food to randomly spawn somewhere on the
map but other than that you can
map but other than that you can
basically learn to harvest uh super
basically learn to harvest uh super
efficiently and completely deplete the
efficiently and completely deplete the
resource and therefore you're left with
nothing okay this is a good end this is
nothing okay this is a good end this is
a good
a good
environment this is like a cool new type
environment this is like a cool new type
of
of
attest I like this
there's still a lot of work to do I mean
there's still a lot of work to do I mean
I I would like to put some health on the
I I would like to put some health on the
puffers and and make them able to die
puffers and and make them able to die
and give them bad reward and then die
and give them bad reward and then die
something like that just to make it more
something like that just to make it more
like push them
like push them
towards no no I don't think it's hard
towards no no I don't think it's hard
yeah just I've got a couple of things on
yeah just I've got a couple of things on
the list to to do
the list to to do
basically so let me go through this code
basically so let me go through this code
uh I think we'll just make
uh I think we'll just make
this PR this thing
I might have to do a manual merge
I might have to do a manual merge
because it seems like
because it seems like
um a fair bit of stuff has changed that
um a fair bit of stuff has changed that
all
all
right um I think you can skip all the in
right um I think you can skip all the in
files
files
oh I speak okay I I can't change it in
oh I speak okay I I can't change it in
your PR I don't think
right so I can just copy this folder in
right so I can just copy this folder in
and I can do the merge manually or if
and I can do the merge manually or if
you want to um if you want to do that so
you want to um if you want to do that so
you know you show up on the contributors
you know you show up on the contributors
on GitHub that's fine too you'll go on
on GitHub that's fine too you'll go on
the website either
the website either
way no it just yeah it's it's fine
way no it just yeah it's it's fine
whatever for me just what's easier for
whatever for me just what's easier for
you I mean I know I'm on a all the
you I mean I know I'm on a all the
commit from the dev branch that that
commit from the dev branch that that
might be why there's a lot of changes
but inflated
puff uh you know honestly I can probably
puff uh you know honestly I can probably
just cuz the only thing you merged is
just cuz the only thing you merged is
the or the only thing that you
the or the only thing that you
changed yeah you changed like a couple
changed yeah you changed like a couple
small things that I can just undo I
small things that I can just undo I
think um yeah I think this one in demo
think um yeah I think this one in demo
uh this that's one of the pr I made too
uh this that's one of the pr I made too
just so I wanted to abstract the Neptune
just so I wanted to abstract the Neptune
workspace into any file but it doesn't
workspace into any file but it doesn't
have to be in that
have to be in that
PR uh and and I and I made one about
PR uh and and I and I made one about
yeah okay yeah I made that one oh that's
yeah okay yeah I made that one oh that's
actually fine that's actually a good
actually fine that's actually a good
contribution
contribution
anyways yeah the only thing is that this
anyways yeah the only thing is that this
metric should go into the uh into your
metric should go into the uh into your
file not here that's fine though
file not here that's fine though
Comon yeah I'll just undo those no big
Comon yeah I'll just undo those no big
deal I mean let me know whatever is
deal I mean let me know whatever is
easier for you if I can I can deal
easier for you if I can I can deal
either way this it's not hard we're good
either way this it's not hard we're good
okay so you
have yeah this makes it the only thing
have yeah this makes it the only thing
with doing this type of thing cuz I did
with doing this type of thing cuz I did
this with my snake en as well to have
this with my snake en as well to have
like variable size in the same
like variable size in the same
experiment and it's really cool you can
experiment and it's really cool you can
do it but it does make it a little hard
do it but it does make it a little hard
to sweep over
to sweep over
cuz like how do you sweep like different
cuz like how do you sweep like different
combinations of maps in the same
combinations of maps in the same
experiment I mean you can keep it either
experiment I mean you can keep it either
way I'll show you what I did with neural
way I'll show you what I did with neural
Mo 3 like I kept this in neural Mo 3 but
Mo 3 like I kept this in neural Mo 3 but
I just made it so that
I just made it so that
here I'll show you how I did it with
here I'll show you how I did it with
nurl M
nurl M
mo3 we've been running more experiments
mo3 we've been running more experiments
on that last couple of
days so all I did here
is it has width and height and it also
is it has width and height and it also
has numb Ms I just made width and height
has numb Ms I just made width and height
like you're not going to need more than
like you're not going to need more than
eight of these because there are a ton
eight of these because there are a ton
of Agents each so you can just make this
of Agents each so you can just make this
longer and I just like prune it to the
longer and I just like prune it to the
number of
number of
ends that's an easy way of doing
it okay yeah that's an easy way of doing
it okay yeah that's an easy way of doing
it let's get let's get through your code
it let's get let's get through your code
where is it
where is it
uh where' it go I have too much stuff
open seriously where did I just secure
open seriously where did I just secure
PR
there we
there we
go okay so you've got some parameters
go okay so you've got some parameters
these are all
fine tiny number of time
fine tiny number of time
steps oh okay yeah I might have not
steps oh okay yeah I might have not
pushed the latest uh the one I used to
pushed the latest uh the one I used to
train with but yeah I can I can do if
train with but yeah I can I can do if
you're training on CPU I'm pretty sure
you're training on CPU I'm pretty sure
that whatever result you have will be
that whatever result you have will be
able to improve on very very quickly um
able to improve on very very quickly um
yeah cuz 300 million time steps uh train
yeah cuz 300 million time steps uh train
took me about 45 minutes so 300 million
took me about 45 minutes so 300 million
time steps on an optimized M should take
time steps on an optimized M should take
uh under 5 minutes yeah with I was
uh under 5 minutes yeah with I was
running on like 100k steps per second on
running on like 100k steps per second on
my CPU basically yeah so GPU version if
my CPU basically yeah so GPU version if
the end is optimized we'll be much
the end is optimized we'll be much
faster
cool these are fine
I Recon the C file is actually never
I Recon the C file is actually never
really use uh apart from when you're
really use uh apart from when you're
testing stuff from C directly right yeah
testing stuff from C directly right yeah
when you yeah
when you yeah
but I do that a lot I don't know if
but I do that a lot I don't know if
that's how you Dev your
that's how you Dev your
environments but I do all the
environments but I do all the
environment Dev see and then I only bind
environment Dev see and then I only bind
a puffer when it's ready because it's
a puffer when it's ready because it's
way faster to compile and you get better
way faster to compile and you get better
error messages yeah yeah I ended up
error messages yeah yeah I ended up
doing the same but that was the first
doing the same but that was the first
time I started touching C for my entire
time I started touching C for my entire
life so at first I wanted to do it in
life so at first I wanted to do it in
Python but I just ended up doing
Python but I just ended up doing
everything in C afterwards you end up
everything in C afterwards you end up
realizing very quickly it's not as scary
realizing very quickly it's not as scary
as you've been
told I I wrote python for 10 years and
told I I wrote python for 10 years and
then over the summer I just started
then over the summer I just started
writing purec and it's like oh yeah this
writing purec and it's like oh yeah this
is this is
Chill yeah Captain new
NPR Okay so we've got some bit
NPR Okay so we've got some bit
stuff
um yeah this type of stuff is fine I'm
um yeah this type of stuff is fine I'm
not a big fan of
not a big fan of
macros I'd rather just have an inline
macros I'd rather just have an inline
function but you know no big
deal here's my
logging this isn't logging anything
though oh wait no it's not here done
though oh wait no it's not here done
yeah it's I'm done it's down here okay
yeah it's I'm done it's down here okay
so you got
so you got
score yeah you definitely want
score yeah you definitely want
score moves is this episode
score moves is this episode
length uh no move is the should be the
length uh no move is the should be the
average number of steps each agent takes
average number of steps each agent takes
before reaching uh before getting
before reaching uh before getting
rewarded one food one or the other does
rewarded one food one or the other does
the M just never
the M just never
reset no it never
does yeah that's fine then
agent has r c and
ID so you just made a
ID so you just made a
vector yeah I figured so when I need to
vector yeah I figured so when I need to
SP to make the spawn food mechanic I
SP to make the spawn food mechanic I
need to this put the food spawn on next
need to this put the food spawn on next
to each other so I need to iterate
to each other so I need to iterate
through the food and I would rather have
through the food and I would rather have
a food list rather than iterate through
a food list rather than iterate through
each grid
cell when you spawn the food well the
cell when you spawn the food well the
way that I would do that is I would just
way that I would do that is I would just
so I I'd pick a
so I I'd pick a
random wait they have to spawn next to
random wait they have to spawn next to
each other you said oh
each other you said oh
yes um
so basically for each that it's fine
so basically for each that it's fine
that in that case that's fine yeah
that in that case that's fine yeah
okay I let me see how this is so you
allocate okay so s yeah okay so this is
allocate okay so s yeah okay so this is
a fixed array you're not doing Dynamic
a fixed array you're not doing Dynamic
anything it's just this is fixed um yeah
anything it's just this is fixed um yeah
that's fine
that's fine
then that's fine
that looks like pretty normal grid code
that looks like pretty normal grid code
what's this interactive food agent count
yeah so that's the thing I'm pretty sure
yeah so that's the thing I'm pretty sure
I'm like almost 90% sure I could remove
I'm like almost 90% sure I could remove
uh so for the interactive food the
uh so for the interactive food the
yellow food uh it needs to have two
yellow food uh it needs to have two
agents next to it to be collected MH and
agents next to it to be collected MH and
initially I started having just a uh so
initially I started having just a uh so
a bit masking for it uh setting the bit
a bit masking for it uh setting the bit
to uh to one for it to be ready to
to uh to one for it to be ready to
collect if an asine is next to it but
collect if an asine is next to it but
then I figured I could just basically
then I figured I could just basically
look at the the squares next to food and
look at the the squares next to food and
count the number of Agents but yeah yeah
count the number of Agents but yeah yeah
that will probably be
that will probably be
easier yeah called by C stuff Yep this
easier yeah called by C stuff Yep this
is well yeah this is called Yep this is
is well yeah this is called Yep this is
the allocated version that's fine
agent tile from
agent tile from
ID this is some offset it looks like yes
ID this is some offset it looks like yes
okay I've done the same sort of thing
okay I've done the same sort of thing
before agent ID from TI
before agent ID from TI
okay food
this can duplicate can't
it if it what happens if there's a food
it if it what happens if there's a food
on the tile
already um I think you're right I mean I
already um I think you're right I mean I
I'm definitely checking if the ti is
I'm definitely checking if the ti is
empty before calling that function but I
empty before calling that function but I
think that's fine yeah yeah it's just
think that's fine yeah yeah it's just
it's this will duplicate it's yeah
it's this will duplicate it's yeah
that's fine if you're tracking that it
that's fine if you're tracking that it
outside that's also
outside that's also
fine
uh for the when we reset the environment
uh for the when we reset the environment
I still need to randomly spawn some food
I still need to randomly spawn some food
at some point
man I miss do Wilds in Python because
man I miss do Wilds in Python because
they're just they're so nice
sometimes all right remove
food yeah so this is going to be the uh
food yeah so this is going to be the uh
if if there are performance issues with
if if there are performance issues with
this
this
it's going to be from this type of a
it's going to be from this type of a
thing of like making it um o
thing of like making it um o
of like oh of numb food to do stuff I
of like oh of numb food to do stuff I
think it's probably simple enough that
think it's probably simple enough that
stuff's going to still be fast
stuff's going to still be fast
regardless um okay but this type of
regardless um okay but this type of
thing is like you know let's say that
thing is like you know let's say that
you just want to make a really cool demo
you just want to make a really cool demo
of this environment how would you do it
of this environment how would you do it
with like the least amount of
effort well you probably put like a much
effort well you probably put like a much
bigger grid and right yeah exactly so if
bigger grid and right yeah exactly so if
doing this type of stuff if you go ah
doing this type of stuff if you go ah
shoot that's not going to scale well if
shoot that's not going to scale well if
I try to make the map super
I try to make the map super
big so this is like this is the one type
big so this is like this is the one type
of thing where you might want to rethink
of thing where you might want to rethink
data structures it'll be fine as is but
data structures it'll be fine as is but
let's say you wanted to do like the
let's say you wanted to do like the
snake demo that I have like this is a
snake demo that I have like this is a
really fun
really fun
demo because um yes the reason I made
demo because um yes the reason I made
the food list is because I reckon it
the food list is because I reckon it
would just use it a a bit more of memory
would just use it a a bit more of memory
but uh it's just o n for going through
but uh it's just o n for going through
the each food instead of going through
the each food instead of going through
the entire grid which should
the entire grid which should
be uh a bit longer
be uh a bit longer
but who's food from the grid and food
but who's food from the grid and food
list the thing is for each food that is
list the thing is for each food that is
already on the grid uh there is a a a
already on the grid uh there is a a a
small probability of a new food spawning
small probability of a new food spawning
next to each other so at some point I
next to each other so at some point I
need to iterate over each food that is
need to iterate over each food that is
already on the
grit there's got to be a a good data
grit there's got to be a a good data
structure for that my I'm not I'm
structure for that my I'm not I'm
blanking on that at the moment but
blanking on that at the moment but
there's got to be a better data
there's got to be a better data
structure for that I'll think about that
structure for that I'll think about that
um yeah might there might be like some
um yeah might there might be like some
combination of just like a food grid and
combination of just like a food grid and
indexing or I don't know we'll think of
indexing or I don't know we'll think of
something um like this would actually be
something um like this would actually be
a really cool really cool end to have a
a really cool really cool end to have a
big version
of yeah I've tried to make it big and
of yeah I've tried to make it big and
you I mean if the agents were acting
you I mean if the agents were acting
randomly but at least you can see some
randomly but at least you can see some
very cool patterns where the fot Spa
very cool patterns where the fot Spa
next to each other in some spots and
next to each other in some spots and
looks very
good so this is just trying to figure
good so this is just trying to figure
out how many food to spawn based on how
out how many food to spawn based on how
big the map is right yeah yeah I try
big the map is right yeah yeah I try
it's probably not perfect yet but it
it's probably not perfect yet but it
looks all right for couple of different
tests isn't this the spawn food function
um oh yeah yeah this is exactly the
um oh yeah yeah this is exactly the
spawn food function
spawn food function
yeah and this again would be the spawn
yeah and this again would be the spawn
food function if you just add a
food function if you just add a
parameter you just add a parameter which
parameter you just add a parameter which
is the type to spawn
is the type to spawn
right yeah you're 100% right so this
right yeah you're 100% right so this
will this would get all compacted which
will this would get all compacted which
would be
would be
nice
nice
um spawn Foods
hello hey how's it
hello hey how's it
going pretty
going pretty
good we stuff after I uh I finish we're
good we stuff after I uh I finish we're
we're reviewing this on stream I don't
we're reviewing this on stream I don't
know if you have it open oh okay for
know if you have it open oh okay for
sure no no I didn't I just hopped on
sure no no I didn't I just hopped on
yeah know you're good I got experiment
yeah know you're good I got experiment
running for I'm reviewing there's a cool
running for I'm reviewing there's a cool
new M contribution by m000 here uh I'm
new M contribution by m000 here uh I'm
excited to see I'll hop on stream really
excited to see I'll hop on stream really
quickly I'm going through the code first
quickly I'm going through the code first
and then we're going to see if we can
and then we're going to see if we can
get it bound uh nicely to puffer and
get it bound uh nicely to puffer and
then hey we'll throw your optimizers at
then hey we'll throw your optimizers at
it because why
it because why
not oh
not oh
yeah so we
have Min very minor pet peeve please do
have Min very minor pet peeve please do
a force Bas indents for puffer code
a force Bas indents for puffer code
submissions if you don't
mind the point of it right is that when
mind the point of it right is that when
you nest whole bunch of Loops that you
you nest whole bunch of Loops that you
actually have to see that you've made
actually have to see that you've made
Kamehameha here and then you think about
Kamehameha here and then you think about
you know you think about your life
you know you think about your life
choices
choices
um you know you got the the uh like this
um you know you got the the uh like this
Arc here it's the you know the
Arc here it's the you know the
Kamehameha with the code yeah yeah yeah
Kamehameha with the code yeah yeah yeah
of
of
course so how would you how would you
course so how would you how would you
it's not necessar it's not necessarily
it's not necessar it's not necessarily
bad that it is right but I'd rather see
bad that it is right but I'd rather see
it and I'd also rather not screw up what
it and I'd also rather not screw up what
codes aligned with what other Cod code
codes aligned with what other Cod code
um so that's just what we do by
um so that's just what we do by
default let me
default let me
see is
see is
anything the only thing the only thing
anything the only thing the only thing
that I would get rid of is this is
that I would get rid of is this is
trivially uh if it's not empty
trivially uh if it's not empty
continue right so early early continue
continue right so early early continue
or early
or early
return this is the the one pattern I
return this is the the one pattern I
tried to drill into everyone is if you
tried to drill into everyone is if you
have a trivial statement then don't Nest
have a trivial statement then don't Nest
deeper for no reason but everything else
deeper for no reason but everything else
here is fine there's no like triple for
here is fine there's no like triple for
Loop for something like this is totally
acceptable I don't understand like
acceptable I don't understand like
people don't get that for some reason
people don't get that for some reason
it's not that deeply nested code is bad
it's not that deeply nested code is bad
it's that deeply nested code that
it's that deeply nested code that
doesn't actually logically need to be
doesn't actually logically need to be
nested is bad like I don't know I
nested is bad like I don't know I
posted it it was like the weirdest thing
posted it it was like the weirdest thing
I posted this snippet on uh on Twitter
I posted this snippet on uh on Twitter
at one point and I said it's not pretty
at one point and I said it's not pretty
but it gets the J
but it gets the J
done right it's like this is was I
done right it's like this is was I
posted like yeah this isn't great but it
posted like yeah this isn't great but it
gets the job done and I posted this and
gets the job done and I posted this and
people are like oh H it's so bad cuz the
people are like oh H it's so bad cuz the
nesting you do the nesting it's like no
nesting you do the nesting it's like no
the thing I was referring to is that it
the thing I was referring to is that it
doesn't do tille Matrix multiplications
doesn't do tille Matrix multiplications
that's why it's bad like a com is just
that's why it's bad like a com is just
going to have this many Loops cuz that's
going to have this many Loops cuz that's
what a com is
right yeah like do ffts bro yeah just
right yeah like do ffts bro yeah just
replace all Solutions in AI with fft is
replace all Solutions in AI with fft is
brb
brb
yeah all right so they're not actually
yeah all right so they're not actually
always faster either no of course
not you can keep your switch statements
not you can keep your switch statements
if you
like I don't use them but I don't I do
like I don't use them but I don't I do
not ban them
not ban them
is there like it's it's normal code
is there like it's it's normal code
that's just me being a little
that's just me being a little
pedantic switch statements I don't like
pedantic switch statements I don't like
switch statements I I could never wrap
switch statements I I could never wrap
my brain around switch stat it's because
my brain around switch stat it's because
of the [ __ ] early returns right like
of the [ __ ] early returns right like
if you miss a bra you're screwed and
if you miss a bra you're screwed and
then it's like this weird thing where
then it's like this weird thing where
you like by default you don't indent it
you like by default you don't indent it
as well even like it's ah nuts no switch
as well even like it's ah nuts no switch
statements always um I was like yeah
statements always um I was like yeah
I'll just I'll just be I'll just be
I'll just I'll just be I'll just be
basic so
this is fine though otherwise this is
this is fine though otherwise this is
fine no maybe I would like put the Rand
fine no maybe I would like put the Rand
up here you know maybe I'd put it wait
up here you know maybe I'd put it wait
actually hold on is it wait if Case
actually hold on is it wait if Case
normal wait is this wrong wait double
normal wait is this wrong wait double
Rand but food based food spawn waight
Rand but food based food spawn waight
wait is this supposed to be two separate
wait is this supposed to be two separate
probability checks or is it supposed to
probability checks or is it supposed to
be is this supposed to be two separate
be is this supposed to be two separate
probability checks
probability checks
or no no because I'm only checking one
or no no because I'm only checking one
one at a time so the probability check
one at a time so the probability check
should be run one if uh on the on the
should be run one if uh on the on the
grid index but yeah okay so I could
grid index but yeah okay so I could
definitely put the Run double run Max
definitely put the Run double run Max
yeah right switch Yeah it depends right
yeah right switch Yeah it depends right
because if you do food based spawn
because if you do food based spawn
rate for
rate for
[Music]
[Music]
10 if it's weit less than and food
10 if it's weit less than and food
base yeah okay it's whatever it's if
base yeah okay it's whatever it's if
it's I don't know if these should be
it's I don't know if these should be
griped or not depends what you're trying
griped or not depends what you're trying
trying to
trying to
do
um
um
yes we just made a novel
yes we just made a novel
Optimizer oh well we'll go try it um
Optimizer oh well we'll go try it um
yeah it's a it's like it's like
yeah it's a it's like it's like
novel like I think it's novel in the
novel like I think it's novel in the
sense that like it hasn't been done even
sense that like it hasn't been done even
by Newton or anybody since
by Newton or anybody since
um wow we we'll see if it
um wow we we'll see if it
works y I have very hard test Ems for
you I'm like looking at this code seeing
you I'm like looking at this code seeing
if it's like s self similar but actually
if it's like s self similar but actually
no you are trying to do two separate
no you are trying to do two separate
probability checks it looks like here so
probability checks it looks like here so
this is fine
this is fine
right this is two separate probability
right this is two separate probability
checks so this is fine yeah but I guess
checks so this is fine yeah but I guess
I yeah I guess I could do it in one but
I yeah I guess I could do it in one but
you don't have to it's fine you don't
you don't have to it's fine you don't
need to cash if you're actually if you
need to cash if you're actually if you
want two separate checks like that
want two separate checks like that
that's
that's
fine um compute
observations does this handle
padding
padding
wait uh how does this sorry agent R
wait uh how does this sorry agent R
minus M Vision yeah
yeah CR
yeah CR
Index this can't can't this go negative
Index this can't can't this go negative
can't this go off the board or is the is
can't this go off the board or is the is
the environment itself padded around the
the environment itself padded around the
edges uh yeah yeah it is it is okay yeah
edges uh yeah yeah it is it is okay yeah
so either way is fine um I guess you
so either way is fine um I guess you
just don't render the padding is that
just don't render the padding is that
what it
what it
is yep yeah okay either is fine I've
is yep yeah okay either is fine I've
done both I either will just like pad
done both I either will just like pad
and not render the padding or if I don't
and not render the padding or if I don't
want to deal with like a border
want to deal with like a border
Dimension I just suck it up and I write
Dimension I just suck it up and I write
the uh you know the checks for the
the uh you know the checks for the
window that you want to actually go over
window that you want to actually go over
I've done it both ways well well
I've done it both ways well well
actually I think uh I'm rending the
actually I think uh I'm rending the
padding as white boxes I just need to
padding as white boxes I just need to
make sure that
but okay and then we have reset
here H
here H
gotcha well I guess it's it's a gotcha
gotcha well I guess it's it's a gotcha
but it doesn't really matter because
but it doesn't really matter because
this m is not designed to reset Midway
this m is not designed to reset Midway
through anyways so this function does
through anyways so this function does
not have to be fast but this is just a
not have to be fast but this is just a
mem
mem
set right oh this is literally just a
set right oh this is literally just a
mem set to empty and it's way faster as
mem set to empty and it's way faster as
well this is a this
well this is a this
is this is probably yeah this is a mem
is this is probably yeah this is a mem
set like most of these are going to be
set like most of these are going to be
mem sets a couple of these are not in
mem sets a couple of these are not in
contiguous memory right so like the the
contiguous memory right so like the the
vertical ones are not in contiguous
vertical ones are not in contiguous
memory but the rest of them
are so that's how you do fast uh fast
are so that's how you do fast uh fast
map reset okay and actually if you want
map reset okay and actually if you want
to be really smart about it uh what you
to be really smart about it uh what you
do is you save a default map right so
do is you save a default map right so
you save the empty map and then you just
you save the empty map and then you just
mem set or you mem copy the entire empty
mem set or you mem copy the entire empty
map right you just copy the entire so
map right you just copy the entire so
that's if you wanted to do faster resets
that's if you wanted to do faster resets
that's what you would do and then the
that's what you would do and then the
map scale kind of matters because if
map scale kind of matters because if
it's like a really sparse and empty map
it's like a really sparse and empty map
right then it's faster to just memet the
right then it's faster to just memet the
walls and loop but if you have smaller
walls and loop but if you have smaller
Maps it's faster to copy the whole thing
Maps it's faster to copy the whole thing
but it doesn't matter unless you're
but it doesn't matter unless you're
doing like
doing like
uh frequent resets but if you do if you
uh frequent resets but if you do if you
are going to do frequent resets on any
are going to do frequent resets on any
end like this then it matters a lot
end like this then it matters a lot
because reset is where you can leak a
because reset is where you can leak a
lot of
lot of
performance okay thanks so even though
performance okay thanks so even though
not applicable here I try to tell people
not applicable here I try to tell people
when they submit code I try to tell
when they submit code I try to tell
people like the common pitfalls like ah
people like the common pitfalls like ah
if you do a similar environment that
if you do a similar environment that
works just a little differently just be
works just a little differently just be
aware you can shoot yourself in the foot
aware you can shoot yourself in the foot
here now that's a great tips thanks
here now that's a great tips thanks
srand I don't usually SE it inside the
srand I don't usually SE it inside the
end like this but I think you can yeah
end like this but I think you can yeah
you can that's
you can that's
fine it really depends on the end
fine it really depends on the end
whether it matters or not you're going
whether it matters or not you're going
to get RNG from the actions from the
to get RNG from the actions from the
policy
policy
anyways
um okay
um okay
agent
get what is
get what is
this wait
this wait
agents this is in Rec set we go through
agents this is in Rec set we go through
the
the
agents while not
agents while not
allocated yeah we just place the agents
allocated yeah we just place the agents
in a grid somewhere oh okay yeah so this
in a grid somewhere oh okay yeah so this
is
is
like okay yeah this looks a little
like okay yeah this looks a little
different from the earlier this is the
different from the earlier this is the
same as the do while code for the spawn
food yeah all all grid code is going to
food yeah all all grid code is going to
look like that that's fine get agent
look like that that's fine get agent
tile from
tile from
ID yada you see you you don't know what
ID yada you see you you don't know what
a me it is look at
a me it is look at
that yeah you know it's my first writing
that yeah you know it's my first writing
in C so I I learned a little bit along
in C so I I learned a little bit along
the way well what we try to do what we
the way well what we try to do what we
try to do is I don't know if you notice
try to do is I don't know if you notice
from the code style of a lot of the M's
from the code style of a lot of the M's
but I don't do anything fancy right like
but I don't do anything fancy right like
all the stuff that I do even in like
all the stuff that I do even in like
neural I don't do anything that you're
neural I don't do anything that you're
not going to see in your literal first
not going to see in your literal first
undergrad course if you're to take one
undergrad course if you're to take one
undergrad systems course in C you'll see
undergrad systems course in C you'll see
everything I do and in fact I only do a
everything I do and in fact I only do a
very small subset of what you'll even
very small subset of what you'll even
see there it's basically like if you
see there it's basically like if you
know what loops and conditionals are and
know what loops and conditionals are and
you do have to know what a pointer is
you do have to know what a pointer is
but that's about it then you can read
but that's about it then you can read
the code that's the goal just really
simple reward agents
simple reward agents
near oh we have a fair few folks on
near oh we have a fair few folks on
Twitch watching this hello welcome code
Twitch watching this hello welcome code
review for uh new environment being
review for uh new environment being
contributed to puffer love I do this for
contributed to puffer love I do this for
all contributions if folks are
all contributions if folks are
interested
reward agent
near had to head out will be back P me
near had to head out will be back P me
when you do optimize your stuff
cool okay so this is checking if you're
cool okay so this is checking if you're
next to food I
next to food I
assume yeah so that's being called only
assume yeah so that's being called only
when and uh there's uh two agents next
when and uh there's uh two agents next
to the food and then which is
to the food and then which is
basically iterate through what's
basically iterate through what's
next it gets reward it
next it gets reward it
gets
score one small thing that I would do
score one small thing that I would do
here is I would probably make the score
here is I would probably make the score
plus one instead of plus the reward
plus one instead of plus the reward
because then what you can do is when you
because then what you can do is when you
uh when you specify what the reward
uh when you specify what the reward
coefficient is let's say you put this
coefficient is let's say you put this
coefficient into a hyperr sweep right to
coefficient into a hyperr sweep right to
see what reward scale is going to work
see what reward scale is going to work
the best then you can actually compare
the best then you can actually compare
runs directly with score but if not the
runs directly with score but if not the
score is going to depend on so you
score is going to depend on so you
always want to have a score metric that
always want to have a score metric that
ideally doesn't depend on the
ideally doesn't depend on the
reward right scale the reward but but if
reward right scale the reward but but if
I still want to scale the score based on
I still want to scale the score based on
the type of food that gting reward and I
the type of food that gting reward and I
can just hardcode it like a two and and
can just hardcode it like a two and and
one for normal food and that's fine yeah
one for normal food and that's fine yeah
yeah so you think of scores like points
yeah so you think of scores like points
you would get in a game and reward is
you would get in a game and reward is
separate right like this the amount that
separate right like this the amount that
you're going to actually give to the
you're going to actually give to the
agent for training could be different
agent for training could be different
from the
from the
score
okay though generally if it's like if
okay though generally if it's like if
they're both one anyways it'll probably
they're both one anyways it'll probably
be fine um but yeah but I get what
be fine um but yeah but I get what
you're saying because if you're you
you're saying because if you're you
start to sweep the the rewards just end
start to sweep the the rewards just end
up ending just put the max reward
up ending just put the max reward
exactly and like I mean if you only have
exactly and like I mean if you only have
one source of reward and it's always it
one source of reward and it's always it
like it's fine to just always have that
like it's fine to just always have that
be one because then you'll just adapt
be one because then you'll just adapt
the learning rate and stuff around it
the learning rate and stuff around it
you don't need to sweep like the
you don't need to sweep like the
coefficient as like zero to one you can
coefficient as like zero to one you can
just always have it be one you know um
just always have it be one you know um
but if you have a bunch of different
but if you have a bunch of different
rewards and you don't know how much they
rewards and you don't know how much they
matter relative to each other then
matter relative to each other then
that's when you need to start thinking
that's when you need to start thinking
about
about
this got
this got
you
you
so step agent
yep is this a
yep is this a
noop is there I think there is a no op
noop is there I think there is a no op
right
right
what what do you
what what do you
mean like this is wait if action not
mean like this is wait if action not
equal so four I assume is no
up uh yeah it means don't do
up uh yeah it means don't do
anything oh yeah yeah sorry okay
so can that go wrong in any
way uh the only way that this can go
way uh the only way that this can go
wrong for reference here I guess you're
wrong for reference here I guess you're
going to have this problem either way
going to have this problem either way
but
but
um so the way that the sweeps work right
um so the way that the sweeps work right
right it's going to wait until you get
right it's going to wait until you get
metric back from
metric back from
logging in order for it to like it needs
logging in order for it to like it needs
it needs to like keep running steps
it needs to like keep running steps
until it gets metrics right MH uh so if
until it gets metrics right MH uh so if
the agents don't ever get any reward or
the agents don't ever get any reward or
they don't ever like complete a log they
they don't ever like complete a log they
never get anything so they never trigger
never get anything so they never trigger
at log then the run will basically hang
at log then the run will basically hang
so um okay so that would happen if the
so um okay so that would happen if the
agent doesn't do anything basically yeah
agent doesn't do anything basically yeah
so like in breakout for instance I had
so like in breakout for instance I had
to delete the no op action because it
to delete the no op action because it
could just not it could just choose to
could just not it could just choose to
sit there and the episodes would go on
sit there and the episodes would go on
forever now this not quite the same for
forever now this not quite the same for
you because your episodes are designed
you because your episodes are designed
to go on forever
to go on forever
um so I you're probably going to need
um so I you're probably going to need
some sort of Safeguard where like if
some sort of Safeguard where like if
nobody gets any reward for 128 steps or
nobody gets any reward for 128 steps or
something you got to return a log of all
something you got to return a log of all
zeros okay so like that's the one thing
zeros okay so like that's the one thing
is you're going to probably have to spot
is you're going to probably have to spot
check that because I think that this
check that because I think that this
likely it's not guaranteed to break in
likely it's not guaranteed to break in
sweeps either but if you get bad enough
sweeps either but if you get bad enough
hyper parameters it can break
hyper parameters it can break
right if basically if you get hyper
right if basically if you get hyper
prams that are so bad that the agent
prams that are so bad that the agent
just decides I'm going to stand here I
just decides I'm going to stand here I
can't figure anything out right that's
can't figure anything out right that's
when it'll
when it'll
happen
Okay anything above should be
obstacle okay
interactive food
logic yeah so that's where probably
logic yeah so that's where probably
[ __ ] up and could get rid of the bit
[ __ ] up and could get rid of the bit
mask and find a much better way to do
it I see yep likely so but I will say so
it I see yep likely so but I will say so
far I haven't seen anything like I have
far I haven't seen anything like I have
not seen anything horrendous where it's
not seen anything horrendous where it's
like what on Earth are you doing which
like what on Earth are you doing which
is very very common for first
is very very common for first
environment submissions especially if
environment submissions especially if
you're new to
you're new to
see so this is generally all fine like I
see so this is generally all fine like I
bet that if you were to keep writing
bet that if you were to keep writing
these and then you were to go rewrite
these and then you were to go rewrite
this code in a few months you'd probably
this code in a few months you'd probably
be able to take you know 50 100 lines
be able to take you know 50 100 lines
off of it um but it's like this is all
off of it um but it's like this is all
fine relatively you know straightforward
fine relatively you know straightforward
code so you're good
set rewards to zero
I don't mind like magic constants like
I don't mind like magic constants like
this but uh if you're going to use them
this but uh if you're going to use them
multiple times I do suggest that you
multiple times I do suggest that you
make them like you could just make this
make them like you could just make this
like an inline function or whatever or
like an inline function or whatever or
just a just regular function it doesn't
just a just regular function it doesn't
even have to be in line it's not going
even have to be in line it's not going
to matter because otherwise you're going
to matter because otherwise you're going
to change this in one place and you're
to change this in one place and you're
going to forget to change the other one
going to forget to change the other one
you're going be really
you're going be really
sad so I actually I don't really mind
sad so I actually I don't really mind
magic constants um but I do if you're
magic constants um but I do if you're
going to do them only use them once
going to do them only use them once
right otherwise like separate it and put
right otherwise like separate it and put
it somewhere
it somewhere
okay and you have a step agent function
okay and you have a step agent function
which is fine you got spawn Foods you
which is fine you got spawn Foods you
get compute
OBS
colors
colors
okay UV is
okay UV is
is got the
renderer do you know the struct
renderer do you know the struct
initializer
syntax uh
syntax uh
no let me show you it it's one it's just
no let me show you it it's one it's just
it's the one nice thing it's like the
it's the one nice thing it's like the
one nice and tactic sugar thing I
one nice and tactic sugar thing I
actually use in
actually use in
see oh maybe I see what you mean but uh
see oh maybe I see what you mean but uh
yeah show me H here you mean to declare
yeah show me H here you mean to declare
one uh destruct in like uh in a single
one uh destruct in like uh in a single
LBC yeah yeah yeah you can do where is
LBC yeah yeah yeah you can do where is
it yeah like this yeah I think I've done
it yeah like this yeah I think I've done
it for Asians and stuff but
it for Asians and stuff but
uh yeah okay yeah I see okay and where
uh yeah okay yeah I see okay and where
did my review go it
is and then the renter
small map so it's fine um for larger
small map so it's fine um for larger
Maps what you do is you only render the
Maps what you do is you only render the
stuff that's not the
stuff that's not the
background okay but this will be this
background okay but this will be this
will be just fine for these small Maps
will be just fine for these small Maps
like this will be plenty
like this will be plenty
fast and then you have tile size you get
fast and then you have tile size you get
your UVS yeah so this is very similar to
your UVS yeah so this is very similar to
our other grid base Maps perfect and
our other grid base Maps perfect and
then you bound this here
here see you have yep that looks all the
here see you have yep that looks all the
same as you'd expect OB action forward
terminals you do my report interval
terminals you do my report interval
trick which is
trick which is
good the reason for this by the way is
good the reason for this by the way is
that if you send a ton of info over
that if you send a ton of info over
multiprocessing you will clog up the uh
multiprocessing you will clog up the uh
the pipe and you'll slow your M
the pipe and you'll slow your M
down okay that will eventually go away
down okay that will eventually go away
when we do um uh in Python 314 this is
when we do um uh in Python 314 this is
going to get easier because we have a
going to get easier because we have a
we'll be able to do a Threading based
factorization and you even did a nice
factorization and you even did a nice
perf test very good you
perf test very good you
do I'm not sure that works though
do I'm not sure that works though
because the SPs that gets printed there
because the SPs that gets printed there
is very different from the one from the
is very different from the one from the
dashboard it seems very bloated up
dashboard it seems very bloated up
but uh well how many agents do you have
but uh well how many agents do you have
in
in
here m. num
agents that should be by default I think
agents that should be by default I think
the default is like eight I think yeah
the default is like eight I think yeah
it's because you only have eight agents
it's because you only have eight agents
so this python Loop right this python
so this python Loop right this python
Loop is going to add a ton of overhead
Loop is going to add a ton of overhead
if you were to test this with a whole
if you were to test this with a whole
bunch of M's right because you know you
bunch of M's right because you know you
can set num M's greater than one so if
can set num M's greater than one so if
you were to set this to have like 4,000
you were to set this to have like 4,000
agents or whatever it should be way
agents or whatever it should be way
faster
okay because you're just you're timing
okay because you're just you're timing
this python Loop right
now and then Yep this is boilerplate
header and then sure that you got yeah
header and then sure that you got yeah
you got this from like my snake en or
you got this from like my snake en or
whatever most likely
yeah you can see that like you can just
yeah you can see that like you can just
build a ton of different environments
build a ton of different environments
with this kind of like really simple
with this kind of like really simple
style right and you even have like this
style right and you even have like this
the ability to have multiple different
the ability to have multiple different
sized environments all like nicely laid
sized environments all like nicely laid
out in memory quite powerful I'm sure
out in memory quite powerful I'm sure
you realize like most of my code has
you realize like most of my code has
been inspired but the square grid and
been inspired but the square grid and
and snake which is fine that's exactly
and snake which is fine that's exactly
what you should do for initial mends and
what you should do for initial mends and
then like that'll carry you pretty far
then like that'll carry you pretty far
it's only when you start doing like
it's only when you start doing like
fantas your not entirely tile based
fantas your not entirely tile based
stuff right that stuff gets harder but I
stuff right that stuff gets harder but I
mean to that point right like neural MO
mean to that point right like neural MO
is a technically a tile based M and it's
is a technically a tile based M and it's
our hardest M
right also has a full Dynamic economy
right also has a full Dynamic economy
and Market in
and Market in
it yeah that's crazy it's only a few
it yeah that's crazy it's only a few
hundred lines of code
hundred lines of code
not much more code than you just wrote
not much more code than you just wrote
here that's crazy when you think about
here that's crazy when you think about
it m you can just get a lot done if you
it m you can just get a lot done if you
just like if you just stick to like
just like if you just stick to like
really simple stuff and don't over
really simple stuff and don't over
complicate things you can get a lot
complicate things you can get a lot
done and you've added the puff first
done and you've added the puff first
very
good is this already wait I I think
good is this already wait I I think
there's the puffers yeah I found them
there's the puffers yeah I found them
some at some place sales but uh the the
some at some place sales but uh the the
first puffer uh no the second ones yeah
first puffer uh no the second ones yeah
they were there I
think um can't remember where exactly
think um can't remember where exactly
though but uh might have been in one
though but uh might have been in one
environment in one
folder um yeah wait I think I think I
folder um yeah wait I think I think I
just saw a mistake in
just saw a mistake in
the saw
the saw
mistake
yeah well technically you could get
yeah well technically you could get
these from resources and not have to
these from resources and not have to
have a second copy of them but it does
have a second copy of them but it does
it's 22 kiloby it's not a big deal okay
it's 22 kiloby it's not a big deal okay
yeah so technically you could just grab
yeah so technically you could just grab
these from just resources slash because
these from just resources slash because
it's already there it doesn't
it's already there it doesn't
matter yes there's a mistake in the
matter yes there's a mistake in the
setup. py uh they're missing a comma at
setup. py uh they're missing a comma at
the end of the line I don't
the end of the line I don't
know I'm pretty sure I have fixed that
know I'm pretty sure I have fixed that
in my own otherwise it wouldn't have
in my own otherwise it wouldn't have
worked but
worked but
okay cool well I'll merge this and I'll
okay cool well I'll merge this and I'll
fix that
fix that
comma
uh let me leave comments what did we say
um I mean remove the bit masking uh look
um I mean remove the bit masking uh look
at the stru insallation trick and I mean
at the stru insallation trick and I mean
these are smaller things for you right
these are smaller things for you right
the only one that's really important is
the only one that's really important is
make sure that
make sure that
adlog uh gets called yeah
if poers
if poers
don't word otherwise we can crash
don't word otherwise we can crash
sweets say
sweets say
log
log
zeros there's a thing though in this
zeros there's a thing though in this
environment is that if you don't solve
environment is that if you don't solve
it uh meaning that you deplete all the
it uh meaning that you deplete all the
food even if the agent keeps uh going
food even if the agent keeps uh going
around and around you might have
around and around you might have
hundreds of hundreds of St without
hundreds of hundreds of St without
having any any resource because
having any any resource because
basically you've just depleted
basically you've just depleted
everything that's fine as long as you
everything that's fine as long as you
actually like report that yeah okay oh
actually like report that yeah okay oh
did I merge it oh I oops my bad I
did I merge it oh I oops my bad I
approved it and there we
approved it and there we
go conflict solve
go conflict solve
conflicts uh I'm going to remove because
conflicts uh I'm going to remove because
this is just you commented all this
this is just you commented all this
stuff move that
I mean if I would have done it like a
I mean if I would have done it like a
proper P I wouldn't have had to push
proper P I wouldn't have had to push
that specific file cuz yeah but no big
deal what I
deal what I
miss I miss
miss I miss
something that's not letting me Mark is
completed is the UI
glitched yeah I saw something yeah I saw
glitched yeah I saw something yeah I saw
if you go back to the file you missed
if you go back to the file you missed
one I
one I
think oh
well yeah I'm going to probably take the
well yeah I'm going to probably take the
latest config
anyways yeah just need this to just need
anyways yeah just need this to just need
this
to lovely the only thing the only thing
to lovely the only thing the only thing
that really matters that I added in the
that really matters that I added in the
default at in is the workspace name for
default at in is the workspace name for
Neptune but other than that yep let
Neptune but other than that yep let
[Music]
[Music]
me set up this puffer box forward my
me set up this puffer box forward my
window
window
go we
are okay I know what experiment that
was uh this I want to save
I pr this to the wrong place
where was uh I think you appear to death
where was uh I think you appear to death
but oh I didn't I didn't click merge
apparently
apparently
oh very good
fix the setup.py real
quick should probably name it something
quick should probably name it something
uh either expand the acronym or
uh either expand the acronym or
something cuz people are going to think
something cuz people are going to think
that we've got like a you know a CPR on
that we've got like a you know a CPR on
like you know like just compressions
like you know like just compressions
oh somebody chokes on
oh somebody chokes on
something I was like kind of confused
something I was like kind of confused
because like I kept seeing your M I was
because like I kept seeing your M I was
like did somebody makes some like chest
like did somebody makes some like chest
compression M or something and uh no
compression M or something and uh no
it's this it's just a silly
it's this it's just a silly
acronym okay no I I didn't know about
acronym okay no I I didn't know about
the other one yeah yeah yeah that was
the other one yeah yeah yeah that was
going to confuse the hell out of people
going to confuse the hell out of people
uh let me go get the
uh let me go get the
original I want to just revert the the
original I want to just revert the the
one file which is the conf
okay so yeah I I'll rename it in the
okay so yeah I I'll rename it in the
future
y okay so I just
y okay so I just
grab which config this one
okay let's see if we can train your uh
okay let's see if we can train your uh
your
your
environment yeah that would be great
uhoh oh that's just
uhoh oh that's just
a oh that's probably the comma stuff
a oh that's probably the comma stuff
right looks like it should
be uh
huh why is it
concatenating it's like concatenating
concatenating it's like concatenating
Tower climb
maybe something
C oh wait I'm in the wrong REO this
why this is the right one
so we will see how fast of and how fast
so we will see how fast of and how fast
you have the environment
running we'll see how quickly we can
running we'll see how quickly we can
make it very fast
um let me go grab some water I'll be
um let me go grab some water I'll be
backing compile
this
for e
all right I'm
all right I'm
back okay so uh before I start
back okay so uh before I start
optimizing we're at
optimizing we're at
200k and 896
200k and 896
score but that's on CPU yeah cuz that's
score but that's on CPU yeah cuz that's
oh I guess so my CPU is just faster than
yours and you still have the 2 million
yours and you still have the 2 million
steps per second so
it's going to take it a second to just
it's going to take it a second to just
optimize some
optimize some
kernels okay
oh well it'll cash him so we won't have
oh well it'll cash him so we won't have
to wait for that
again all right 1.4 million oh wow
again all right 1.4 million oh wow
that's
that's
fast3 oh the M is so slow though so slow
fast3 oh the M is so slow though so slow
45% that is
45% that is
unacceptable we'll do this
unacceptable we'll do this
instead it how many agents per n is
instead it how many agents per n is
it uh by default like here in the cig is
it uh by default like here in the cig is
12 12 agents
12 12 agents
per that's a lot of Agents uh let me
think
think
340 so if I do 340
M's well times was it yeah
M's well times was it yeah
340m this
1.7 million steps per second
1.7 million steps per second
training oh well no I'm my bad it gets
training oh well no I'm my bad it gets
faster than that of
faster than that of
course can't be that embarrassingly slow
course can't be that embarrassingly slow
okay 2.3 know that's at least like
okay 2.3 know that's at least like
moderately
respectable now the score is getting
respectable now the score is getting
lower which I assume is the bad
lower which I assume is the bad
thing yeah out of here
bot it's like several Bots a day on
bot it's like several Bots a day on
stupid twitch yeah so looking at the
stupid twitch yeah so looking at the
score in the move it probably means that
score in the move it probably means that
it already depleted the resource
it already depleted the resource
entirely um and so basically it's just I
entirely um and so basically it's just I
don't know running around in
circles I mean they will just deplete
circles I mean they will just deplete
the
the
resources unless you uh yeah that's
resources unless you uh yeah that's
going to be a tricky thing to figure out
going to be a tricky thing to figure out
now we can at the very least
now we can at the very least
I think this is going to be funny we can
I think this is going to be funny we can
just do
this
this
oops hi learn about project today with
oops hi learn about project today with
the iceberg video nice and looks active
the iceberg video nice and looks active
welcome what M you looking at this is a
welcome what M you looking at this is a
newly uh merged in environment by m000
newly uh merged in environment by m000
who I'm on here with on the Discord it
who I'm on here with on the Discord it
is a collective resource collection
is a collective resource collection
problem is that a good description
problem is that a good description
tragedy of the commons kind of thing
tragedy of the commons kind of thing
yeah yeah yeah exactly that need to just
yeah yeah yeah exactly that need to just
balance the the harvesting speed
balance the the harvesting speed
basically so I'm just getting this
basically so I'm just getting this
nicely
nicely
integrated um and if you're looking to
integrated um and if you're looking to
get involved with all this stuff
get involved with all this stuff
discord.gg puffer get a whole bunch of
discord.gg puffer get a whole bunch of
folks in there building Ms and
folks in there building Ms and
contributing to
contributing to
research the score is no longer
research the score is no longer
completely messed up actually which is
completely messed up actually which is
kind of funny
I I don't
I I don't
know
know
huh so so there is still a very very
huh so so there is still a very very
slow probability of responding of food
slow probability of responding of food
in the middle of nowhere so I don't
in the middle of nowhere so I don't
remember exactly the probability it
remember exactly the probability it
might be like one once in 100,000 steps
might be like one once in 100,000 steps
or something oh that's
or something oh that's
real yeah so that was just fine on my
real yeah so that was just fine on my
CPU but since you know we're only
CPU but since you know we're only
running like a 135 minute step
yeah my guess is that's going to be an
yeah my guess is that's going to be an
issue I I see the problem you're trying
issue I I see the problem you're trying
to get him to learn it's just kind of
to get him to learn it's just kind of
tough to get them to learn to not take
tough to get them to learn to not take
the food when it's like a 100,000 or
the food when it's like a 100,000 or
whatever delay if they
whatever delay if they
do yeah we can see what these guys do my
do yeah we can see what these guys do my
guess is that they will have forgotten
guess is that they will have forgotten
how to do anything though because they
how to do anything though because they
won't have like there won't have been
won't have like there won't have been
anything for them to do for a while yeah
anything for them to do for a while yeah
the the thing I might think about it was
the the thing I might think about it was
just adding the the death um system to
just adding the the death um system to
it so basically they have health and if
it so basically they have health and if
they don't eat it just die and gets a
they don't eat it just die and gets a
very big negative reward so they would
very big negative reward so they would
just incentivize them
just incentivize them
to maybe keep eating at some rate but
to maybe keep eating at some rate but
not necessarily harvesting everything
not necessarily harvesting everything
for themselves I don't
for themselves I don't
know you definitely can play with it
know you definitely can play with it
it's uh you've gotten yourself into a
it's uh you've gotten yourself into a
problem with some tricky Dynamics you
problem with some tricky Dynamics you
can see the scores all the way down here
can see the scores all the way down here
now let's see if I just
oh yeah what that's actually you're
oh yeah what that's actually you're
actually answering one of the questions
actually answering one of the questions
I had on
I had on
Discord uh how to catch up on the latest
Discord uh how to catch up on the latest
experiment so how to catch up on the
experiment so how to catch up on the
latest
latest
experiments yeah so once you've been
experiments yeah so once you've been
training or sweeping experiments I
training or sweeping experiments I
wanted to find back I wanted to find
wanted to find back I wanted to find
back one experiment from the tune or
back one experiment from the tune or
something
something
so these guys don't look very
so these guys don't look very
smart I mean they're kind of doing some
smart I mean they're kind of doing some
stuff but my guess is they're not that
stuff but my guess is they're not that
smart because they haven't had much to
smart because they haven't had much to
do in a
do in a
while yeah I bet you that they'll be
while yeah I bet you that they'll be
like noticeably smarter if it's actually
like noticeably smarter if it's actually
weird that they're not even eating this
weird that they're not even eating this
food I guess they probably just ate all
food I guess they probably just ate all
of this food in the uh original
of this food in the uh original
ironically if we do this it'll probably
ironically if we do this it'll probably
be better
I'm glad people actually are finding the
I'm glad people actually are finding the
uh the project through that Iceberg
uh the project through that Iceberg
video because it didn't get very many
video because it didn't get very many
views and it was a lot of
work you know actually one thing we
work you know actually one thing we
could do is if I just do like
could do is if I just do like
this okay and I just put this on
neptun let's put this on Neptune
you don't have
you don't have
access yeah so that's the you need to
access yeah so that's the you need to
replace the workspace with yours in the
replace the workspace with yours in the
config file now right that's probably
config file now right that's probably
it uh you're doing great you can bring
it uh you're doing great you can bring
more audience from Twitter I mean
more audience from Twitter I mean
Twitter is my main thing so the only
Twitter is my main thing so the only
thing is I can't tell how many people
thing is I can't tell how many people
are actually ever watching on on X at
are actually ever watching on on X at
any given time it only tells you the
any given time it only tells you the
total view
total view
count so I don't know
count so I don't know
they got to fix
that I named it workspace I'm not sure
that I named it workspace I'm not sure
if it's on a default since you ER my
if it's on a default since you ER my
change yeah it's probably it's probably
change yeah it's probably it's probably
on my cpr. inii which is being
on my cpr. inii which is being
overwritten
B I would
B I would
assume yeah so what we'll do then is we
assume yeah so what we'll do then is we
will yes here you have score in here so
will yes here you have score in here so
you don't this CU you already have the
you don't this CU you already have the
same metric right which is score or yeah
same metric right which is score or yeah
yeah I used to have episode return I
yeah I used to have episode return I
just Chang it when I saw one of your
just Chang it when I saw one of your
streams talking about yeah just having
streams talking about yeah just having
score for everything is nice yeah so now
score for everything is nice yeah so now
I just have it for everything yeah so
I just have it for everything yeah so
what I'll do is I'll just put this into
what I'll do is I'll just put this into
a config
a config
default just do this
default just do this
right yeah
I wonder if the name is not the name of
I wonder if the name is not the name of
your workspace though so for you it
your workspace though so for you it
would be yeah
it's funny how we had a bunch of folks
it's funny how we had a bunch of folks
on Twitch and they left and now we have
on Twitch and they left and now we have
some folks on
YouTube okay so what I wanted to do here
YouTube okay so what I wanted to do here
is I wanted to see how moves changes
is I wanted to see how moves changes
over
time it's just easy thing we can do
time it's just easy thing we can do
right so we do
yes this is just going up over
time so my guess is they just eat all
time so my guess is they just eat all
the
the
food yeah I mean I had a system before
food yeah I mean I had a system before
where there were no depletion which is
where there were no depletion which is
obviously a completely different
obviously a completely different
environment but you could see that the
environment but you could see that the
the moves was going up and then down
the moves was going up and then down
after it learned correctly the thing but
after it learned correctly the thing but
now with
now with
depletion yeah so you should probably
depletion yeah so you should probably
just do some sanity stuff right like
just do some sanity stuff right like
have some sanity settings for the
have some sanity settings for the
environment so that you can actually get
environment so that you can actually get
the learn curves and stuff before you
the learn curves and stuff before you
try to go solve the harder problems um
try to go solve the harder problems um
that would be my my advice I left this
that would be my my advice I left this
like this because usually the defaults
like this because usually the defaults
are pretty good you know you can always
are pretty good you know you can always
put stuff back if you want to like the
put stuff back if you want to like the
defaults end up being pretty good at
defaults end up being pretty good at
this point um yeah they need to tune
this point um yeah they need to tune
like every individual hyper parameter
like every individual hyper parameter
just to get it to do something is very
just to get it to do something is very
much fixed by the new Optimizer changes
much fixed by the new Optimizer changes
which is really
which is really
exciting um I let's see I did 340 M's
exciting um I let's see I did 340 M's
for you you can see your M's at 1% uh 1%
for you you can see your M's at 1% uh 1%
of the time so that's really
of the time so that's really
good okay it's nice and fast
good okay it's nice and fast
training um I think if we do this if we
training um I think if we do this if we
do device equals
CPU tune
I mean I wonder if I could just make
I mean I wonder if I could just make
this uh the grid a bit bigger uh with
this uh the grid a bit bigger uh with
the same number of Agents so you know
the same number of Agents so you know
the time the agents learn to harvest the
the time the agents learn to harvest the
food in their own Corner the food would
food in their own Corner the food would
have just uh grow a lot much more in the
have just uh grow a lot much more in the
rest of the environment and then
and then uh yeah once you have once
and then uh yeah once you have once
you're ready and we have like a cool
you're ready and we have like a cool
policy that does something we will add
policy that does something we will add
it to the website and uh yeah that'll be
it to the website and uh yeah that'll be
fun yeah it sounds cool man I mean it's
fun yeah it sounds cool man I mean it's
pretty nice how easy this to just like
pretty nice how easy this to just like
stick everything on here we're missing a
stick everything on here we're missing a
few of them we got to put blastar on
few of them we got to put blastar on
here
here
obviously impulse force is going to get
obviously impulse force is going to get
up here at some point Spencer's got his
up here at some point Spencer's got his
uh Port of GPU drive so fair few new
uh Port of GPU drive so fair few new
M's that makes four now uh oh and then
M's that makes four now uh oh and then
bet also did like a quick cart pole
bet also did like a quick cart pole
implementation so five new M's will be
implementation so five new M's will be
added to
added to
this and that's
this and that's
great
great
cool any other questions for me on
cool any other questions for me on
this um yeah one last one last one I can
this um yeah one last one last one I can
think about is uh once you have one once
think about is uh once you have one once
you start a big sweep on Neptune and you
you start a big sweep on Neptune and you
find like one set of hyperparameters are
find like one set of hyperparameters are
great or something and you want to find
great or something and you want to find
back the model the do pt file uh back on
back the model the do pt file uh back on
your experiments how do you I don't know
your experiments how do you I don't know
if I have that set up at the moment
if I have that set up at the moment
honestly but the thing is the
honestly but the thing is the
experiments are like at least when I'm
experiments are like at least when I'm
running them on GPU the experiments are
running them on GPU the experiments are
so fast I just go grab the hyper
so fast I just go grab the hyper
parameters and like and you're R again
parameters and like and you're R again
yeah but then the thing is like I want
yeah but then the thing is like I want
to do that anyways cuz I want to make
to do that anyways cuz I want to make
sure that the experiment replicates
sure that the experiment replicates
right so okay that's usually what yeah
right so okay that's usually what yeah
um well the other thing is if you when
um well the other thing is if you when
you say how do you find back the uh The
you say how do you find back the uh The
Originals like if it's on your same
Originals like if it's on your same
machine which is I guess you it is
machine which is I guess you it is
because you have one
because you have one
machine um I think does it tell you the
name it gives you this
name it gives you this
ID I don't know if it tells you what
ID I don't know if it tells you what
this ID Maps do
this ID Maps do
though I think I've done stuff well if
though I think I've done stuff well if
you're running a sweep the experiments
you're running a sweep the experiments
are going to be short enough that it's
are going to be short enough that it's
probably not going to matter like if I'm
probably not going to matter like if I'm
running one experiment I'll just you
running one experiment I'll just you
know
know
LS okay and then that's like the most
LS okay and then that's like the most
recent
recent
ones very unique idea on the website
ones very unique idea on the website
thank you yeah the website's fun it took
thank you yeah the website's fun it took
a little bit of work like uh the neural
a little bit of work like uh the neural
that's running live in your
that's running live in your
browser
browser
is this C file right here we have like a
is this C file right here we have like a
version of the torch layers that exactly
version of the torch layers that exactly
matches torch but is just in pure so we
matches torch but is just in pure so we
can compile it to web
assembly this was a fun project to put
together
cool anything else or uh should I ping
cool anything else or uh should I ping
for uh Optimizer shenanigans
for uh Optimizer shenanigans
no everything is good thanks to death
no everything is good thanks to death
man really okay cool well thank you for
man really okay cool well thank you for
the contribution uh let me know when you
the contribution uh let me know when you
have like a policy that you think okay
have like a policy that you think okay
you know we have some something that
you know we have some something that
like something that trains and kind of
like something that trains and kind of
does something that you can see is cool
does something that you can see is cool
on the environment and then I will show
on the environment and then I will show
you how we uh report policies to to see
you how we uh report policies to to see
it's pretty simple especially for the
it's pretty simple especially for the
default policy and um yeah we'll get it
default policy and um yeah we'll get it
on the website we'll get you on the
on the website we'll get you on the
contributors list and everything and
contributors list and everything and
yeah thank you for the and I hope you
yeah thank you for the and I hope you
build some more M and keep staying
build some more M and keep staying
involved with puffer because we got lots
involved with puffer because we got lots
of fun research around here yeah same
of fun research around here yeah same
thank you good luck thank you bye
thank you good luck thank you bye
bye that was
fun always love when we have uh random
fun always love when we have uh random
new environment PRS this one looks
new environment PRS this one looks
pretty cool especially for some
pretty cool especially for some
multi-agent research as
multi-agent research as
well I'm going to
well I'm going to
take well let me just ping onid
okay I've pinged him and he'll probably
okay I've pinged him and he'll probably
be over in a minute and uh we'll do some
be over in a minute and uh we'll do some
Optimizer stuff and we'll see where we
Optimizer stuff and we'll see where we
go from there be right
back
e
e e
okay we are
backage should be here in a second and
backage should be here in a second and
uh we can look at a bit of Optimizer
uh we can look at a bit of Optimizer
stuff see where he is
is it I think it's 10 years per billion
is it I think it's 10 years per billion
no it's 20 years per
billion I remember I did the math for
billion I remember I did the math for
this a while
ago 5 by 365 days divide
by 15 years
oh wait no it is divide by
0.6 it's 10
0.6 it's 10
years 10 years of games yeah there it is
years 10 years of games yeah there it is
10 years of games
this guy
go they even have voice channels I guess
go they even have voice channels I guess
they
they
do all right uh let's see what uh
do all right uh let's see what uh
experiments we have
I think these
I think these
are we have a number of good candidates
are we have a number of good candidates
here we can take a look at uh we can
here we can take a look at uh we can
definitely take a look at some analysis
definitely take a look at some analysis
from this
oh sweet progress is going to be a
oh sweet progress is going to be a
little tricky because we don't have a
little tricky because we don't have a
score
score
metric let me think about
metric let me think about
that I could just make a new dashboard
that I could just make a new dashboard
real quick
hello hey how's it going man all right
hello hey how's it going man all right
sorry about that I don't know why it
sorry about that I don't know why it
wasn't um no good
wasn't um no good
we're on stream is that chill yeah it's
we're on stream is that chill yeah it's
chill all
chill all
right thanks for checking uhuh I just
right thanks for checking uhuh I just
like to tell people I I stream all my
like to tell people I I stream all my
death by default
death by default
so yeah but might as well just
so yeah but might as well just
check so this um it looks like psgd is
check so this um it looks like psgd is
doing
doing
well uh well at least on the initial
well uh well at least on the initial
test it is and I have some plots that uh
test it is and I have some plots that uh
I'm just adding right now from
I'm just adding right now from
I think 12 15 billion steps worth of
I think 12 15 billion steps worth of
experiments okay sweet it's about I
experiments okay sweet it's about I
think it's about 20 years of games per
think it's about 20 years of games per
billion
steps is how the I wonder how it like
steps is how the I wonder how it like
fares against
fares against
like like an IRL you
like like an IRL you
know well if I'm going to count if I get
know well if I'm going to count if I get
to count like 3.3 billion years worth of
to count like 3.3 billion years worth of
evolution then sure
I should be able to count that in my
x-axis yeah I mean like would it would
x-axis yeah I mean like would it would
it be as good as a a pro at this game
it be as good as a a pro at this game
you think oh no not even close it's
you think oh no not even close it's
they're pretty
they're pretty
dumb I see like yeah no this is this is
dumb I see like yeah no this is this is
a hard to learn Benchmark okay okay okay
a hard to learn Benchmark okay okay okay
can I sweep for a joint metric like a
can I sweep for a joint metric like a
plus b or do I need to create an A plus
plus b or do I need to create an A plus
b metc
b metc
metc in the
metc in the
M you need to create an A+ B metric in
M you need to create an A+ B metric in
the M
Spencer so I have right
Spencer so I have right
here I'm looking at the precon learning
here I'm looking at the precon learning
rate and the learning rate I'm going to
rate and the learning rate I'm going to
see if like we can figure out it's a
see if like we can figure out it's a
little weird it actually increased
little weird it actually increased
precon learning rate on the run I was
precon learning rate on the run I was
looking at that was good I didn't drw
looking at that was good I didn't drw
yeah so I think I think the thing that
yeah so I think I think the thing that
um helped was
um helped was
the
the
um was the what is it
called increase in
called increase in
momentum
momentum
momentum right that's what you had said
momentum right that's what you had said
right you had said well what what
right you had said well what what
controls momentum
controls momentum
uh B1 oh yeah let's let's go look at
uh B1 oh yeah let's let's go look at
beta 1
then I don't know if you have stream
then I don't know if you have stream
open because I'm making all these grabs
open because I'm making all these grabs
yeah I do I do all right so here we have
yeah I do I do all right so here we have
so the the really high point is the base
so the the really high point is the base
the MU on Baseline but that's been run
the MU on Baseline but that's been run
for uh close to 100 billion steps by
for uh close to 100 billion steps by
now um yeah I can take this one off real
now um yeah I can take this one off real
quick would like to see psgd catch up to
quick would like to see psgd catch up to
it in real time well I'm these runs are
it in real time well I'm these runs are
going for 500 million steps only I see I
going for 500 million steps only I see I
see that's pretty tough to do so I you
see that's pretty tough to do so I you
see over here we've got
see over here we've got
betas I mean I don't see yeah you'd see
betas I mean I don't see yeah you'd see
it it like didn't work well on these low
it it like didn't work well on these low
betas so it went to this High beta and
betas so it went to this High beta and
it looks like there's a there is a good
it looks like there's a there is a good
run at 0. n actually here oh no no no
run at 0. n actually here oh no no no
wait this is the other really long run
wait this is the other really long run
hang
hang
on yeah this is the other really long
run where is
it right here I'll just do
it right here I'll just do
this I need to move away from weights
this I need to move away from weights
and
and
biases I actually I said on stream like
biases I actually I said on stream like
yeah I've been using Neptune a bunch
yeah I've been using Neptune a bunch
lately I think it's a lot nicer now and
lately I think it's a lot nicer now and
I think I got a DM from the CTO I still
I think I got a DM from the CTO I still
have to answer of uh weights and bias so
have to answer of uh weights and bias so
I don't know if he was watching the
I don't know if he was watching the
stream or one of the engineers was
stream or one of the engineers was
watching stream but uh it's funny how
watching stream but uh it's funny how
that stuff
that stuff
happens yeah I mean I would I would uh
happens yeah I mean I would I would uh
definitely enjoy uh they're telling me I
definitely enjoy uh they're telling me I
need to pay now and I'm like leave me
need to pay now and I'm like leave me
alone I don't see the thing is I don't
alone I don't see the thing is I don't
even mind like I don't mind pay
even mind like I don't mind pay
but if you're going to try to make me
but if you're going to try to make me
have all of my open source users pay
have all of my open source users pay
then that's not going to
then that's not going to
fly yeah that's fair that's
fly yeah that's fair that's
fair that's the so I it's saying like
fair that's the so I it's saying like
around
around
0.95 yeah
0.95 yeah
is
is
okay and
okay and
then how do we okay
then how do we okay
and it's really weird
and it's really weird
how the learning rate
how the learning rate
so train learning rate we have one on
so train learning rate we have one on
the train learning rate that is like way
the train learning rate that is like way
higher that did
well they don't have
well they don't have
um logic as an access option for beta
um logic as an access option for beta
but you get the idea yeah
is this what Mars turned on uh no I
is this what Mars turned on uh no I
don't believe so okay I didn't see a big
don't believe so okay I didn't see a big
difference for Mars
difference for Mars
though wait the
though wait the
environment P what's the y- axis
environment P what's the y- axis
sorry mincom
sorry mincom
Prof yeah so this is You Can level up
Prof yeah so this is You Can level up
combat You Can level up your professions
combat You Can level up your professions
mincom Prof is the minimum of your
mincom Prof is the minimum of your
profession level and your combat level
profession level and your combat level
at the time that you
die
die
so so in order to
so so in order to
get in order to get two you in order to
get in order to get two you in order to
get from one to two one is the default
get from one to two one is the default
right in order to get to two you have to
right in order to get to two you have to
go find an enemy that you can kill kill
go find an enemy that you can kill kill
it pick up the tool that drops and then
it pick up the tool that drops and then
go equip the tool and harvest something
go equip the tool and harvest something
that you can Harvest with it I see level
that you can Harvest with it I see level
up yeah yes the higher is better um okay
up yeah yes the higher is better um okay
higher is
higher is
better the ma it's telling me that okay
better the ma it's telling me that okay
having too high of a learning rate not
having too high of a learning rate not
good somewhere
around 0 you know 01 the on learning
around 0 you know 01 the on learning
rate the optimal Mo on learning rate
rate the optimal Mo on learning rate
that we were using for a lot of stuff
that we were using for a lot of stuff
not for neural Mo but for all the other
not for neural Mo but for all the other
Ms was like 025
it's quite
it's quite
large yeah
so I don't want to say this
so I don't want to say this
but if you
also do psgd incorrectly you can have a
also do psgd incorrectly you can have a
higher learning
higher learning
rate um if you do psgd incorrectly yeah
rate um if you do psgd incorrectly yeah
so so if you if you like if you run the
so so if you if you like if you run the
momentum in a specific way it can it can
momentum in a specific way it can it can
change the so basically what we did for
change the so basically what we did for
for this is this is equivalent to atom
for this is this is equivalent to atom
right in its style because it's doing
right in its style because it's doing
gradient white gradient based whitening
gradient white gradient based whitening
right which is what muon should be doing
right which is what muon should be doing
as well and
as well and
somewhere I think they like to tout that
somewhere I think they like to tout that
they can use a Higher Learning rate but
they can use a Higher Learning rate but
that doesn't really mean anything it's
that doesn't really mean anything it's
it's
it's
just um well yeah the only thing it
just um well yeah the only thing it
means is like does your thing work
means is like does your thing work
faster than other algorithm right it's
faster than other algorithm right it's
like they can be differently
like they can be differently
scaled exactly exactly exactly exactly
scaled exactly exactly exactly exactly
um and so if you do the proper
um and so if you do the proper
scaling this is this is the number you
scaling this is this is the number you
should have for the learning rate um
should have for the learning rate um
which is nice because what would be nice
which is nice because what would be nice
is if we could see this actually for
is if we could see this actually for
adom and see how the learning rate in
adom and see how the learning rate in
beta
um like correlate with each other
um like correlate with each other
between
between
optimizers uh I have it for muan I don't
optimizers uh I have it for muan I don't
have it for Adam
have it for Adam
yeah um okay and precond conditioner
yeah um okay and precond conditioner
learning rate not too high not might for
learning rate not too high not might for
Adam hang on I do have it for Adam
here is 200 experiments worth of
atom yeah so we have 200 experiments
atom yeah so we have 200 experiments
worth of
atom okay find the
atom okay find the
betas this is
betas this is
sample yeah so here's your here are your
sample yeah so here's your here are your
atom param
atom param
and I can what I do usually is I limit
and I can what I do usually is I limit
it to the good runs so I say
it to the good runs so I say
okay let's say a minute minute's a good
okay let's say a minute minute's a good
budget for breakout so we do
budget for breakout so we do
cost
cost
um cost
so now this is these are the experiments
so now this is these are the experiments
we're looking
we're looking
at and we can
see okay so beta 1 would
see okay so beta 1 would
[Music]
[Music]
be yes it's around that
be yes it's around that
0.96
0.96
oops hang on
just make sure I'm not covering it there
just make sure I'm not covering it there
so beta 1 for muan is about the same it
so beta 1 for muan is about the same it
goes from about 0.
goes from about 0.
n96 yeah for uh for Adam 0.96 to
n96 yeah for uh for Adam 0.96 to
0995 so it just seems that it needs to
0995 so it just seems that it needs to
be higher than the default of
be higher than the default of
0.9 okay right and then beta
2 I I think the default is
2 I I think the default is
999 which seems fine yeah CU anything in
999 which seems fine yeah CU anything in
there is fine and then the
Epsilon well this one's interesting
Epsilon well this one's interesting
because I remember when I did this with
because I remember when I did this with
muon mu went Epsilon all the way to the
muon mu went Epsilon all the way to the
bottom but I guess mu doesn't have an
bottom but I guess mu doesn't have an
Epsilon I don't know so so mu's Epsilon
Epsilon I don't know so so mu's Epsilon
is just so muan can only handle two
is just so muan can only handle two
dimensional weights so for
dimensional weights so for
one-dimensional weights it just defaults
one-dimensional weights it just defaults
to Adam okay so anyways there's there's
to Adam okay so anyways there's there's
an Epsilon here it seems pretty high um
an Epsilon here it seems pretty high um
I think the muan one was a high but
I think the muan one was a high but
whatever yeah this is it set some weird
whatever yeah this is it set some weird
Epsilon one one thing um with muon
Epsilon one one thing um with muon
is they like to set and it's it's true
is they like to set and it's it's true
in general right if you have a
in general right if you have a
multi-layered kind of neural network
multi-layered kind of neural network
they like to set the learning rates of
they like to set the learning rates of
the um they have both an atom learning
the um they have both an atom learning
rate and a muon learning rate so like
rate and a muon learning rate so like
a like different portions of the network
a like different portions of the network
should be receiving different learning
should be receiving different learning
rates which would be is it just a biases
rates which would be is it just a biases
a
a
lot
lot
uh we don't have any like n and do
uh we don't have any like n and do
embedding
layers yeah so even for like if you look
layers yeah so even for like if you look
at um
at um
tell's uh ciar 10 speedrun he will use
tell's uh ciar 10 speedrun he will use
different learning rates for different
different learning rates for different
layers just in
layers just in
general well C far I trust less than GP
general well C far I trust less than GP
C far is like a freaking 3 second
C far is like a freaking 3 second
optimized run at this point um I think
optimized run at this point um I think
it's like two two point something but
it's like two two point something but
yeah I I've been I was looking at the
yeah I I've been I was looking at the
nanog GPT
nanog GPT
runs
runs
uh as of
uh as of
late I don't know if they use it there
late I don't know if they use it there
they do they
they do they
do but then like they have embedding
do but then like they have embedding
lers though they do oh [ __ ] I got to
lers though they do oh [ __ ] I got to
take a I'm getting a call give me a
sec e
em is here
em is here
hello yeah how's it
hello yeah how's it
going oh
good many experiments have been run
yeah I was
yeah I was
seeing
seeing
um so so far it seems like we've
um so so far it seems like we've
got pretty
got pretty
clear
clear
spikes beta of like
96 uh learning rate at what's this
0.25 and then precon at 0.15
0.15 yeah it increased
0.15 yeah it increased
it mu doesn't have the plasticity issue
it mu doesn't have the plasticity issue
that PSD is having right now
that PSD is having right now
right um well I don't know if there was
right um well I don't know if there was
a plasticity issue or if it was just a
a plasticity issue or if it was just a
hyper pram
hyper pram
issue right yeah it's a little tricky
issue right yeah it's a little tricky
like with everything else in puffer I
like with everything else in puffer I
can just be like oh yeah here 200 runs
can just be like oh yeah here 200 runs
that'll take a couple hours uh this one
that'll take a couple hours uh this one
it's like neural L mo3 is actually kind
it's like neural L mo3 is actually kind
of hard so each runs 500 million steps
of hard so each runs 500 million steps
so it takes a little longer but if I get
so it takes a little longer but if I get
the the graphs right here are
the the graphs right here are
graphs I can get you the Baseline for
graphs I can get you the Baseline for
this so this is the Bas line this is
this so this is the Bas line this is
muan so muan does this and if I go like
this we have
PSD why are you Shing that you're Shing
PSD why are you Shing that you're Shing
chat right uh on the
chat right uh on the
stream oh I don't see a screen though X
stream oh I don't see a screen though X
YouTube
twitch
twitch
oh so am I being streamed on Twitch
oh so am I being streamed on Twitch
right now yeah I told I told omed when
right now yeah I told I told omed when
he he hopped in but yeah like I my Dev
he he hopped in but yeah like I my Dev
is live by
is live by
default that's fine it's okay yeah my
default that's fine it's okay yeah my
bad I like I just I kind of just hopped
bad I like I just I kind of just hopped
in and I was like oh you're
in and I was like oh you're
here yeah I yeah okay let me just let me
here yeah I yeah okay let me just let me
see let me see uh yeah J Suarez on
see let me see uh yeah J Suarez on
Twitter yeah where is the
Twitter yeah where is the
stream
okay yeah I stream like a good 40 60
okay yeah I stream like a good 40 60
hours a week
hours a week
depending well yeah m is pretty cool we
depending well yeah m is pretty cool we
what what
what what
what is the gray one the the green white
what is the gray one the the green white
one at the top this is
one at the top this is
psvd these are all psgd but the thing is
psvd these are all psgd but the thing is
like so I had before I tuned this I was
like so I had before I tuned this I was
doing this let's see let me see if I can
doing this let's see let me see if I can
find either ones
find either ones
whoops so this was me trying to tune
whoops so this was me trying to tune
psgd
psgd
manually uhhuh and like it would be
manually uhhuh and like it would be
higher for a bit but then it would
higher for a bit but then it would
intersect it would stall right yeah it
intersect it would stall right yeah it
would stall and let's see did I do more
would stall and let's see did I do more
of
of
this yes technically we have these as
this yes technically we have these as
well that is just an a lar of sweep
well that is just an a lar of sweep
right do you didn't change anything else
right do you didn't change anything else
no just there's another sweep because um
no just there's another sweep because um
I had to fix some bugs in the way that
I had to fix some bugs in the way that
it was
it was
sweeping
sweeping
oh I maybe I like maybe I got the Fram
oh I maybe I like maybe I got the Fram
better or something but yeah latest one
better or something but yeah latest one
here the latest sweep that I have that's
here the latest sweep that I have that's
the good one where I'm actually getting
the good one where I'm actually getting
the
the
results is this one you can see that
results is this one you can see that
some of them are still below like some
some of them are still below like some
of these don't learn but uh now we
of these don't learn but uh now we
actually do
actually do
have results and they don't seem to
have results and they don't seem to
stall
anymore so I'd assume it's like one of
anymore so I'd assume it's like one of
these parameters that was just bad
these parameters that was just bad
because like this is not random search
because like this is not random search
right this is protein so either it was
right this is protein so either it was
the preconditioning or it was the
the preconditioning or it was the
learning rate or like beta one of these
learning rate or like beta one of these
was like causing it to
stall I mean you you were you using
stall I mean you you were you using
unconstrained beta search or
unconstrained beta search or
constraining it to something like
constraining it to something like
specific range uh it's constrained the
specific range uh it's constrained the
way it's it's like a it's a preo
way it's it's like a it's a preo
optimized genetic search and it's like
optimized genetic search and it's like
it's like a genetic search and log space
it's like a genetic search and log space
of some of the parameters or logic space
of some of the parameters or logic space
depending
depending
awesome what's PS uh
awesome what's PS uh
psgd ask these guys it's an
Optimizer is an Optimizer uh and is
Optimizer is an Optimizer uh and is
being
being
actively some fancy Optimizer I don't
actively some fancy Optimizer I don't
actually know how it works yet he's
actually know how it works yet he's
being actively advertised by
being actively advertised by
Omid it's not parallel s GD what what
Omid it's not parallel s GD what what
does it stand
does it stand
for preconditions
for preconditions
precondition okay preconditions to cast
precondition okay preconditions to cast
aadi in
aadi in
descent there you go it's like a very
descent there you go it's like a very
esoteric Optimizer to be honest with you
esoteric Optimizer to be honest with you
like uh it requires a lot of like a lot
like uh it requires a lot of like a lot
of dark
of dark
knowledge to understand I
knowledge to understand I
suppose unless you run exhaus
suppose unless you run exhaus
experiments
experiments
it takes it takes a lot of time to
it takes it takes a lot of time to
understand it but it really works so I
understand it but it really works so I
did run one other experiment that I
did run one other experiment that I
thought was kind of cool so yeah when I
thought was kind of cool so yeah when I
tried to run the breakout uh the
tried to run the breakout uh the
breakout parameters or whatever like the
breakout parameters or whatever like the
defaults uh the defaults worked on
defaults uh the defaults worked on
breakout but they didn't work on neural
breakout but they didn't work on neural
MMO but then I took
MMO but then I took
um I took like the precondition LR like
um I took like the precondition LR like
0.15 I took the beta and I took the
0.15 I took the beta and I took the
learning rate and I tried those on
learning rate and I tried those on
breakout so I tried to transfer from the
breakout so I tried to transfer from the
complicated m to the simple M and that
worked oh interesting so I think
worked oh interesting so I think
actually the defaults just might not be
actually the defaults just might not be
that good for RL in
that good for RL in
general uh wait just just just just just
general uh wait just just just just just
to be clear the way you uh the rewards
to be clear the way you uh the rewards
there parts right and they happen like
there parts right and they happen like
every and then for the complex M the
every and then for the complex M the
rewards are they delayed how does that
rewards are they delayed how does that
like how's the difference well the comp
like how's the difference well the comp
m is right
m is right
here not that that's
here not that that's
breakout I don't see are you
breakout I don't see are you
sure for the complex M the rewards are
sure for the complex M the rewards are
they delayed sorry I had to
they delayed sorry I had to
mute are they on I can't see it okay
mute are they on I can't see it okay
this stream takes a second to catch up
this stream takes a second to catch up
so this is neural MMO
3 you can see uh if it kills an enemy
3 you can see uh if it kills an enemy
it'll get a reward it can't kill this
it'll get a reward it can't kill this
enemy this enemy is level six it is too
enemy this enemy is level six it is too
strong this is the hard one right yeah
strong this is the hard one right yeah
this is a hard F so if I just unlock the
this is a hard F so if I just unlock the
camera like it could go kill this enemy
camera like it could go kill this enemy
over here it could not kill this one
over here it could not kill this one
it's got to go find something it can
it's got to go find something it can
kill uh and if I just take control of
kill uh and if I just take control of
this
this
thing now I'm I'm controlling this bot
thing now I'm I'm controlling this bot
right
right
now uh let me it's it's chasing
now uh let me it's it's chasing
me okay well I got to die so I can get a
me okay well I got to die so I can get a
full health bar I'll show you we get
full health bar I'll show you we get
reward so in order to get reward in this
reward so in order to get reward in this
m I got to go find an enemy that I can
m I got to go find an enemy that I can
kill you can see it takes a while I got
kill you can see it takes a while I got
to like look at their
to like look at their
levels that one's too
levels that one's too
strong this is a level one
strong this is a level one
perfect I attack
perfect I attack
it I go get this tool I equip this tool
it I go get this tool I equip this tool
so I got a reward for killing the enemy
so I got a reward for killing the enemy
and now if I go pick up an item I'll get
and now if I go pick up an item I'll get
a reward so I'll get a reward for that
a reward so I'll get a reward for that
this is a consumable I can use it to
heal and then I got I harvested an item
heal and then I got I harvested an item
but I got virtually just one shot by
but I got virtually just one shot by
that thing so yeah other one killed me
that thing so yeah other one killed me
with a bow but there you go so that's
with a bow but there you go so that's
neuro big map lots of different
neuro big map lots of different
resources lots of enemies lots of Agents
resources lots of enemies lots of Agents
there's no yeah oh this is the small
there's no yeah oh this is the small
version of the map that we use for the
version of the map that we use for the
web
web
version uh and also there's an economy
version uh and also there's an economy
you can buy and sell stuff so like if I
you can buy and sell stuff so like if I
try to buy something like there's this
try to buy something like there's this
menu other agents have to be selling
menu other agents have to be selling
stuff on the
stuff on the
market
market
but wow sorry I got a fancy and what
but wow sorry I got a fancy and what
issue is the psdd supposed to solve raw
issue is the psdd supposed to solve raw
eval or something else it's supposed to
eval or something else it's supposed to
be a better Optimizer uh omade can
be a better Optimizer uh omade can
advertise psgd to you uh in the Discord
advertise psgd to you uh in the Discord
I'm
I'm
sure but yeah this is too
sure but yeah this is too
and if I just hit control the policy
and if I just hit control the policy
will take back over and now Nur is
will take back over and now Nur is
playing it live in your
playing it live in your
browser unlock the C relock the
browser unlock the C relock the
camera see so right now you can see
camera see so right now you can see
there it went and it got a tool but it
there it went and it got a tool but it
got too close to that agent with a bow
got too close to that agent with a bow
it doesn't realize it can get hit from
it doesn't realize it can get hit from
range
it's got some Jukes
though so this is the end so you can see
though so this is the end so you can see
this is uh as far as rlms that are
this is uh as far as rlms that are
typically used in research go this is
typically used in research go this is
not exactly
easy yeah I mean I gu think the words
easy yeah I mean I gu think the words
are like less frequent and so some of
are like less frequent and so some of
the uh uh some of the M on the others
the uh uh some of the M on the others
they are I think that's going to be like
they are I think that's going to be like
that's going to make a lot of difference
that's going to make a lot of difference
on the
outcome every other enin puffer like uh
outcome every other enin puffer like uh
you can at least get some reasonable
you can at least get some reasonable
performance on like out of the box and
performance on like out of the box and
like in a couple minutes of
like in a couple minutes of
training no I mean like me transfers
training no I mean like me transfers
meally transfer them from the from the
meally transfer them from the from the
harder to I didn't do that one I did I
harder to I didn't do that one I did I
actually I haven't tried that yet CU I'd
actually I haven't tried that yet CU I'd
have to run a full hyper pram sweep on
have to run a full hyper pram sweep on
muan I haven't done that so this hyper
muan I haven't done that so this hyper
Pam here this is the learning rate in
Pam here this is the learning rate in
atom pams from uh tuned on breakout and
atom pams from uh tuned on breakout and
then the rest of the prams from like a
then the rest of the prams from like a
much earlier atom
much earlier atom
sweep so muan is not optimized here at
sweep so muan is not optimized here at
all if we wanted to do a head-to-head
all if we wanted to do a head-to-head
comparison we would have to do that uh
comparison we would have to do that uh
we'd have to you know run both sweeps
we'd have to you know run both sweeps
let's see yeah I think that makes sense
let's see yeah I think that makes sense
why you'd have to like sweep the
why you'd have to like sweep the
precondition a lot I I really don't know
precondition a lot I I really don't know
how phdd is good but I don't I don't
how phdd is good but I don't I don't
know how it works but uh I mean I I
know how it works but uh I mean I I
suppose there's there's a lot of things
suppose there's there's a lot of things
that you you have to be tuning or P um
that you you have to be tuning or P um
well it didn't I didn't need to on any
well it didn't I didn't need to on any
of the other apps it beat uh it beat
of the other apps it beat uh it beat
muan out of the box on most of
them how were the rewards were they spes
them how were the rewards were they spes
or like very close do they have the CL
or like very close do they have the CL
or we have it's a mix it's a mix it
or we have it's a mix it's a mix it
depends on the M right like you can just
depends on the M right like you can just
click around on all of these different
click around on all of these different
Ms like we've got Atari like Atari games
Ms like we've got Atari like Atari games
that are fast right we've got this like
that are fast right we've got this like
snake obviously you're going to get a
snake obviously you're going to get a
reward when you get food right so it's
reward when you get food right so it's
like every few steps there's sparer
like every few steps there's sparer
stuff like
stuff like
this what's that those have the simpler
this what's that those have the simpler
Ms yeah these are simpler
Ms yeah these are simpler
Ms yeah the simpler Ms you get rewards
Ms yeah the simpler Ms you get rewards
quickly yeah
quickly yeah
well there's a little bit of complexity
well there's a little bit of complexity
because this is I mean this is not this
because this is I mean this is not this
is not exactly simple because it's this
is not exactly simple because it's this
is also multi-agent competitive selfplay
is also multi-agent competitive selfplay
right like you kind of have to be aware
right like you kind of have to be aware
of what all the other snakes are
of what all the other snakes are
doing I
doing I
see um but then yeah you know we've got
see um but then yeah you know we've got
board games there's like Connect 4 in
board games there's like Connect 4 in
here there's uh robot warehouse this
here there's uh robot warehouse this
one's fun you know you go pick up the
one's fun you know you go pick up the
crates you bring them back
crates you bring them back
this one's pretty mesmerizing to watch
this one's pretty mesmerizing to watch
because they'll just like do this on
because they'll just like do this on
repeat
repeat
interesting yeah I the only hypothesis
interesting yeah I the only hypothesis
that I had was like is just that some of
that I had was like is just that some of
the harder M they have just like very
the harder M they have just like very
sparse rewards this one is very sparse
sparse rewards this one is very sparse
this one is very sparse but it's very
this one is very sparse but it's very
easy oh interesting because this is 60
FPS
FPS
right MPS GDB that right what's
right MPS GDB that right what's
that psgd be death oh yeah you trained
that psgd be death oh yeah you trained
this in like less than a
this in like less than a
minute wow our speedrun record on this
minute wow our speedrun record on this
environment is 30 seconds 31
seconds this is a much older
seconds this is a much older
policy the the C runs that ker has well
policy the the C runs that ker has well
that's using more Hardware this is one
that's using more Hardware this is one
GPU oh no the C runs they only use one
GPU oh no the C runs they only use one
GPU they do one GPU in like three or two
GPU they do one GPU in like three or two
seconds or whatever
seconds or whatever
yeah that's kind of
yeah that's kind of
crazy yeah
crazy yeah
uh he added new one into it recently
uh he added new one into it recently
also um that's crazy which it's pretty
cool so I mean you can see like this is
cool so I mean you can see like this is
a reasonable enough policy we've got
pong uh what else do we have that's fun
pong uh what else do we have that's fun
there's go in here
there's go in here
this is the AI playing it right or is
this is the AI playing it right or is
that you this is the AI playing it's not
that you this is the AI playing it's not
very good cuz well the opponent isn't
very good cuz well the opponent isn't
very good either is the
very good either is the
thing but it it can win you can train it
thing but it it can win you can train it
in a few minutes to to beat like the uh
in a few minutes to to beat like the uh
whatever the scripted opponent we have
whatever the scripted opponent we have
is it's very hard to make like a good
is it's very hard to make like a good
scripted opponent for
scripted opponent for
go cool is is gone is he going to join
go cool is is gone is he going to join
is what I don't know it's I don't know
is what I don't know it's I don't know
if he's still here he said I had to hop
if he's still here he said I had to hop
off VC but then he didn't say anything
off VC but then he didn't say anything
oh yeah this one's cool this is MOA this
oh yeah this one's cool this is MOA this
is like miniature version of
DOTA I've never played those before
DOTA I've never played those before
seems
seems
interesting it's a 5v5 team game
interesting it's a 5v5 team game
is it multiplayer yeah it's five versus
is it multiplayer yeah it's five versus
five and these agents are they're
five and these agents are they're
playing multiplayer right yeah well
playing multiplayer right yeah well
they're playing the blue team is
they're playing the blue team is
controlled by the AI and the red team
controlled by the AI and the red team
opponent is
opponent is
scripted wow now the the scrip BS aren't
scripted wow now the the scrip BS aren't
very good right which is why they're
very good right which is why they're
pretty easy to beat
pretty easy to beat
um
um
yeah I wish I did muon for my uh
yeah I wish I did muon for my uh
optimizers for my uh models before for
optimizers for my uh models before for
my a model wa a moment I mean all these
my a model wa a moment I mean all these
demos were trained with Adam and like
demos were trained with Adam and like
just hyper pram sweeps
just hyper pram sweeps
right other the ones on the
website so these are the MS we have at
website so these are the MS we have at
the moment we have a few more m in
the moment we have a few more m in
development as
development as
well M what there's impulse
warsan probably this is one of the if
warsan probably this is one of the if
you just look in the dev
you just look in the dev
chat
said okay yeah this is GPU Drive well
said okay yeah this is GPU Drive well
aor of GPU drive to CPU Spencer's been
aor of GPU drive to CPU Spencer's been
working on
working on
this is pretty cool
what about um you remember was like
what about um you remember was like
racing card
think there was something more realistic
think there was something more realistic
than this I remember GPU
than this I remember GPU
Drive M this is a port of GPU drive to
Drive M this is a port of GPU drive to
uh to puffer Leb we're working on a
port yeah so it's the same thing it's
port yeah so it's the same thing it's
just we haven't made the renderer as
just we haven't made the renderer as
fancy
fancy
yet but yeah it'll be the same Dynamics
yet but yeah it'll be the same Dynamics
as this and it's going to run way
faster that's a collab with
faster that's a collab with
NYU and oh you collabing with n yeah
NYU and oh you collabing with n yeah
that's a collab with Eugene's group and
that's a collab with Eugene's group and
then this is impulse Wars this one's
then this is impulse Wars this one's
really cool um so this is Captain's
really cool um so this is Captain's
environment I helped write the uh the
environment I helped write the uh the
renderer for it but the actual logic is
renderer for it but the actual logic is
his
project is a top down physic
shooter so this is going to be another
shooter so this is going to be another
like pretty cool it for us to
use yeah seems cool
I mean the thing is like I honestly
I mean the thing is like I honestly
think that like at least neural MMO some
think that like at least neural MMO some
of these neural MMO especially probably
of these neural MMO especially probably
impulse Wars as well a lot of these are
impulse Wars as well a lot of these are
actually harder optimization problems
actually harder optimization problems
than a lot of RL in Industry so it's
than a lot of RL in Industry so it's
kind of like okay if we solve all of
kind of like okay if we solve all of
these out of the box probably we solve
these out of the box probably we solve
your problem
too what the idea
yeah it doesn't look like it's finding
yeah it doesn't look like it's finding
anything much better than these I'll let
anything much better than these I'll let
it keep running for uh I'll let it keep
it keep running for uh I'll let it keep
running until tonight but um it looks
running until tonight but um it looks
like about this
like about this
curve this is about what we're going to
get so like 1.9 1.8 whatever
oh yeah this where
dashboard yeah so just disable this
one beta of
one beta of
96 learning rate of there's preon
96 learning rate of there's preon
learning rate of
learning rate of
0.15 and then learning rate
0.15 and then learning rate
of 025 this seems like the good
setting I wonder if there is something
setting I wonder if there is something
to Beta being too low like the default
to Beta being too low like the default
beta being too low so I think this is
beta being too low so I think this is
the only parameter I didn't play with
the only parameter I didn't play with
um I didn't play with
um I didn't play with
this what's
this what's
that is that for Mu one no this is the
that is that for Mu one no this is the
beta for
beta for
psgd okay well actually it looks to me
psgd okay well actually it looks to me
like if you look at
like if you look at
this you need the learning rate to
this you need the learning rate to
be oh5 on pron learning
rate I mean this still kind of
trains you even have like a good point
trains you even have like a good point
all the way out here with the the precon
all the way out here with the the precon
learning rate at
learning rate at
0.3 you still have a decent point it
0.3 you still have a decent point it
really just seems like 0.1 is just too
low do you use 0.1 at uh for
low do you use 0.1 at uh for
okay wa didn't didn't didn't Lucas say
okay wa didn't didn't didn't Lucas say
to make a higher to make a lower yeah he
to make a higher to make a lower yeah he
said to lower he said lower the preon
said to lower he said lower the preon
learning rate but the sweep says to make
learning rate but the sweep says to make
it
it
higher
higher
wow so both something around 0.15 right
wow so both something around 0.15 right
mhm that's the best you got so far yeah
mhm that's the best you got so far yeah
and I mean like way higher still works
and I mean like way higher still works
you see at
0.3 so I mean is is it telling you that
0.3 so I mean is is it telling you that
it's uncorrelated or it doesn't make
it's uncorrelated or it doesn't make
sense no it's saying look I don't have
sense no it's saying look I don't have
any good runs when it's too
low I mean it could be that I keep
low I mean it could be that I keep
running more experiments right you don't
running more experiments right you don't
know until you have enough experiments
know until you have enough experiments
right but it but so far we don't have
right but it but so far we don't have
any really like none of the good
any really like none of the good
experiments come from it being way
experiments come from it being way
lower over here actually there's only
lower over here actually there's only
only one bad um run when is the the the
only one bad um run when is the the the
preconditioner is like way too high but
preconditioner is like way too high but
yeah like 1 two three four five six
yeah like 1 two three four five six
seven eight eight one and we're sweeping
seven eight eight one and we're sweeping
a lot of parameters as well right like
a lot of parameters as well right like
we we're sweeping a lot of hyper
we we're sweeping a lot of hyper
parameters so it's pretty easy to get
parameters so it's pretty easy to get
bad settings for the other hyper prms
bad settings for the other hyper prms
that'll screw you up
that'll screw you up
yeah this doesn't look uncorrelated to
yeah this doesn't look uncorrelated to
me could
me could
be beta definitely here like look I
be beta definitely here like look I
don't have any good runs with 0.9 I
don't have any good runs with 0.9 I
guess we get 1.4 is okay but we like all
guess we get 1.4 is okay but we like all
these runs we start getting way more
these runs we start getting way more
good runs at
good runs at
higher we the I mean
um and this is consistent sweep as
um and this is consistent sweep as
well when when I asked for if the beta
well when when I asked for if the beta
if the beta parameter was constraint
if the beta parameter was constraint
this was because of that I don't think
this was because of that I don't think
this is so
this is so
interesting I
interesting I
like well you can get the full I mean we
like well you can get the full I mean we
are sweeping a lot of different things
are sweeping a lot of different things
in this
right a protein is pretty
right a protein is pretty
good so I mean even 1.0 beta okay are
good so I mean even 1.0 beta okay are
you are you sweeping 1.0 or like
you are you sweeping 1.0 or like
0.9999 like uh for
0.9999 like uh for
beta the top top right top right there's
beta the top top right top right there's
nothing up
nothing up
here uh there for be like the if you the
here uh there for be like the if you the
bottom right the closer there or
bottom right the closer there or
this this is point this is just
n91 so 0.95 is the one that's working
n91 so 0.95 is the one that's working
for you yeah pretty much everything
for you yeah pretty much everything
around 95.9
around 95.9
six like these all do reasonable
six like these all do reasonable
things 96 seems to be the best one so
far you should be sweeping me on as well
far you should be sweeping me on as well
I think that that that that would be
I think that that that that would be
very interesting well we'll do both but
very interesting well we'll do both but
uh I want to at least get like what I
uh I want to at least get like what I
would like to do is I'd like to
would like to do is I'd like to
see I guess I kind of have finished with
see I guess I kind of have finished with
this well I'll let it keep running until
this well I'll let it keep running until
after dinner at least but um I'm going
after dinner at least but um I'm going
to take these parameters and then go run
to take these parameters and then go run
them on all of the other
them on all of the other
environments to see whether um whether
environments to see whether um whether
the same psgd prams work on everything
the same psgd prams work on everything
in
in
puffer oh oh okay because that you're
puffer oh oh okay because that you're
doing this because you had an issue
doing this because you had an issue
first when you tried simpler and worked
first when you tried simpler and worked
and those HPS did not transfer so now
and those HPS did not transfer so now
you want well I didn't to be
you want well I didn't to be
fair um in muan it didn't I I had this
fair um in muan it didn't I I had this
problem in muan a little bit um but muan
problem in muan a little bit um but muan
was generally pretty good the thing is
was generally pretty good the thing is
these these were never tuned on anything
these these were never tuned on anything
right these uh this psgd prams I guess
right these uh this psgd prams I guess
technically I could just go tune psgd on
technically I could just go tune psgd on
breakout and see what that does right
breakout and see what that does right
see if it finds the same
thing cuz this does pretty well
thing cuz this does pretty well
break
break
what do you use Neptune instead of 1B uh
what do you use Neptune instead of 1B uh
we provide support for both but yeah I
do is there a specific reason you like
do is there a specific reason you like
NEP better than one it has a faster UI
NEP better than one it has a faster UI
it shows more points uh when you it's
it shows more points uh when you it's
way easier to download your data for
way easier to download your data for
offline analysis you just can download
offline analysis you just can download
the whole thing in one table and these
the whole thing in one table and these
dashboards are really nice to set up
dashboards are really nice to set up
because you can apply the same view to
because you can apply the same view to
whole different groups of experiments
whole different groups of experiments
very
very
easily I see I think I'm I I just like
easily I see I think I'm I I just like
move to uh
move to uh
Neptune WB has crash was WB has been
Neptune WB has crash was WB has been
crashing a lot like these last couple of
crashing a lot like these last couple of
days just it crashed at least once an
days just it crashed at least once an
hour on when I'm look at the looks been
hour on when I'm look at the looks been
pretty
pretty
[ __ ] yeah web web interfaces are just
[ __ ] yeah web web interfaces are just
like I don't even want to see the code
like I don't even want to see the code
behind any of these web interfaces this
behind any of these web interfaces this
probably such a big obnoxious heavy
probably such a big obnoxious heavy
stack
I mean there are no I mean there are no
I mean there are no I mean there are no
clients they don't have any
clients they don't have any
clients I don't know who
clients I don't know who
doesn't I mean they don't have any like
doesn't I mean they don't have any like
app clients I think they would they
app clients I think they would they
would make a worse app client than a web
would make a worse app client than a web
client the people behind
this so it's bad that they stuck on the
web I don't know I mean you can do
web I don't know I mean you can do
either way the F that's the funny thing
either way the F that's the funny thing
with it right like if I were going to do
with it right like if I were going to do
this probably I'd be ridiculous about it
this probably I'd be ridiculous about it
and I would just go implement the whole
and I would just go implement the whole
thing with RB so you just run the C code
thing with RB so you just run the C code
on the web or run the C code
locally their backend is probably XC or
locally their backend is probably XC or
something not the
rendering yeah no I don't I don't know
rendering yeah no I don't I don't know
if they rendering the thing that's
if they rendering the thing that's
crashing I think it's just like it's
crashing I think it's just like it's
just the software is
just the software is
[Music]
bloated yeah I think I'm going towi
bloated yeah I think I'm going towi
switch to Neptune I think this it's a
switch to Neptune I think this it's a
good thing to try to their credit to the
good thing to try to their credit to the
credit of Wan B I had like I think
credit of Wan B I had like I think
somebody asked me about this the other
somebody asked me about this the other
day on stream and then uh the one BC
day on stream and then uh the one BC
dm'd me like hey you know I heard like
dm'd me like hey you know I heard like
you're having some issues so I don't
you're having some issues so I don't
know maybe I'll give them may I'll give
know maybe I'll give them may I'll give
him some feedback maybe they'll find
him some feedback maybe they'll find
ways to fix it but it's it's really
ways to fix it but it's it's really
tough to unbl software
tough to unbl software
right yeah the Neptune soft the Neptune
right yeah the Neptune soft the Neptune
one do they do they now have like the
one do they do they now have like the
dark reme setting no they don't that's
dark reme setting no they don't that's
the one thing that everyone asked for
the one thing that everyone asked for
that they haven't
that they haven't
done okay do they have do they have is
done okay do they have do they have is
it real time when you're looking at
it real time when you're looking at
numbers do they do they pop up very
numbers do they do they pop up very
quickly when the model logs or is that
quickly when the model logs or is that
the like like there's latency no there's
the like like there's latency no there's
still latency when the model
still latency when the model
logs [ __ ] yeah I mean like L see from
logs [ __ ] yeah I mean like L see from
not from the model side if the model
not from the model side if the model
submitted the results to Neptune does it
submitted the results to Neptune does it
show you on the website very quickly or
show you on the website very quickly or
like one V takes like one has like 20
like one V takes like one has like 20
second or something yeah it's about the
second or something yeah it's about the
same here it still has like 20 second
same here it still has like 20 second
latency sh um look I I'm I'm busy
latency sh um look I I'm I'm busy
solving reinforcement learning I cannot
solving reinforcement learning I cannot
go pivot to make a uh a dashboard
go pivot to make a uh a dashboard
visualization
visualization
company yeah right yeah maybe someone
will make us a better visualization Tool
will make us a better visualization Tool
uh for for the stream
uh for for the stream
Watchers yeah you can do it I believe in
Watchers yeah you can do it I believe in
you I mean I I don't doubt that I could
you I mean I I don't doubt that I could
but I I can do a lot of things but I
but I I can do a lot of things but I
can't do everything at the same time oh
can't do everything at the same time oh
no no I wasn't talking to you I was
no no I wasn't talking to you I was
talking to stream
talking to stream
listeners H there a couple people it's
listeners H there a couple people it's
it's not much at the moment like uh
it's not much at the moment like uh
before we we had like a we had a decent
before we we had like a we had a decent
few folks on Twitch earlier and then
few folks on Twitch earlier and then
some on YouTube it depends on what I'm
some on YouTube it depends on what I'm
talking about what we're
talking about what we're
doing I remember one one time we had
doing I remember one one time we had
like a
like a
thousand streamers that I remember
thousand streamers that I remember
that's a thousand total views with X I
that's a thousand total views with X I
think it's never a thousand concurrent
think it's never a thousand concurrent
it's like you know 10 at most it's small
it's like you know 10 at most it's small
ah now you don't just I what do you
ah now you don't just I what do you
think do you think there are thousand
think do you think there are thousand
concurrent viewers watching like
concurrent viewers watching like
esoteric RL research
no I maybe who knows but I am watching
no I maybe who knows but I am watching
yeah I mean I will say though like it is
yeah I mean I will say though like it is
really good for um you know for getting
really good for um you know for getting
new people interested in puffer you know
new people interested in puffer you know
it attracts new
it attracts new
contributors um we did the code review
contributors um we did the code review
for a new M today live on the stream and
for a new M today live on the stream and
like PR the new en vind de puffer you
like PR the new en vind de puffer you
know a lot of that type of
know a lot of that type of
stuff Prett cool
well I was hoping to wait till Omi joins
well I was hoping to wait till Omi joins
you again I know wa I don't know where
you again I know wa I don't know where
he went I think he just like I think he
he went I think he just like I think he
just
dipped oh [ __ ] um oh Aaron's here hey
dipped oh [ __ ] um oh Aaron's here hey
Aon did I miss messages from
Aon did I miss messages from
you uh no things are seem like they're a
you uh no things are seem like they're a
little bit more working now awesome so I
little bit more working now awesome so I
was thinking that the next
was thinking that the next
good thing to do would be to bring
good thing to do would be to bring
in would be to take this
in would be to take this
all and get it running on New
all and get it running on New
sweeps awesome um yeah we can definitely
sweeps awesome um yeah we can definitely
do that we're currently testing new
do that we're currently testing new
optimizers um nice I will show you the
optimizers um nice I will show you the
current neural MMO so previous I'm on my
current neural MMO so previous I'm on my
phone so I won't be able to see it okay
phone so I won't be able to see it okay
yeah shoot yeah because I we're also
yeah shoot yeah because I we're also
live for reference
wor where's this
thing where's this thing
thing where's this thing
gone oh yeah
here
here
so I mean we've got some pretty nice
so I mean we've got some pretty nice
results the previous
results the previous
best with muan which is better than by
best with muan which is better than by
far better than the previous atom
far better than the previous atom
Baseline at a billion
Baseline at a billion
steps I got to H guys day what's
steps I got to H guys day what's
up hey um so the previous best was
up hey um so the previous best was
what's this value like 1.1 or like 1.15
what's this value like 1.1 or like 1.15
at a billion
at a billion
steps and yeah uh we're now at 1.95 at a
steps and yeah uh we're now at 1.95 at a
billion steps is the best result oh hell
billion steps is the best result oh hell
yeah and so muan I think it gets to four
yeah and so muan I think it gets to four
or so total after 100 billion steps
or so total after 100 billion steps
and uh it got to only 2.5 after 100
and uh it got to only 2.5 after 100
billion steps with
billion steps with
Adam so we're already closing one on two
Adam so we're already closing one on two
in in a billion steps it looks
in in a billion steps it looks
like so that's pretty
like so that's pretty
cool oh
cool oh
yeah I don't actually know why these are
yeah I don't actually know why these are
running for a billion steps because I
running for a billion steps because I
thought I'd set it for 500 million but I
thought I'd set it for 500 million but I
guess they're running for a
guess they're running for a
billion so we're you're saying psgd is
billion so we're you're saying psgd is
closing in on muan or
closing in on muan or
uh well I mean do you have the stream
uh well I mean do you have the stream
open you've seen the graphs
open you've seen the graphs
right
right
yeah it's way above muon for uh the
yeah it's way above muon for uh the
first billion steps I haven't run the
first billion steps I haven't run the
long experiment
long experiment
yet to
see what I was going to do because each
see what I was going to do because each
of these takes like half an hour or
of these takes like half an hour or
whatever I was going to wait until after
whatever I was going to wait until after
dinner see if you know anything has
dinner see if you know anything has
changed and then uh just load up the
changed and then uh just load up the
best precondition
best precondition
parameters into a much longer
parameters into a much longer
run would
run would
you would you be down to add like weight
you would you be down to add like weight
Decay and stuff like that or is that
Decay and stuff like that or is that
going to be too much of a headache to
going to be too much of a headache to
try to add in well I can add that
try to add in well I can add that
immediately it's just that if I want to
immediately it's just that if I want to
know how much to add like I have to run
know how much to add like I have to run
a new sweep
a new sweep
right
right
yeah so what I was cuz the thing is I
yeah so what I was cuz the thing is I
haven't actually seen much use of weight
haven't actually seen much use of weight
Decay and L at all so what I was going
Decay and L at all so what I was going
to do is I was going to just optimize
to do is I was going to just optimize
these params and then I was just going
these params and then I was just going
to do like a sweep over only weight
to do like a sweep over only weight
Decay so you just have one variable perm
Decay so you just have one variable perm
just to see if it does anything and if
just to see if it does anything and if
we get signs of life then we can rerun a
we get signs of life then we can rerun a
full Sweep with weight
Decay I
Decay I
see where weight Decay is meaning what
see where weight Decay is meaning what
in this context L2
no like what what weights are
no like what what weights are
decaying like L2 regularization added on
decaying like L2 regularization added on
to the policy weights okay you said L2 I
to the policy weights okay you said L2 I
didn't hear the L
didn't hear the L
yeah L2 I've seen it like I've
yeah L2 I've seen it like I've
definitely seen regularization applied
definitely seen regularization applied
to RL yeah it do anything um yeah Evans
to RL yeah it do anything um yeah Evans
also it was pretty
also it was pretty
NE yeah go ahead go
NE yeah go ahead go
ahead uh I it was pretty necessary for
ahead uh I it was pretty necessary for
Alpha
go but you know you also had the
go but you know you also had the
additional complexity of
additional complexity of
search and shitty old
methods yeah so Evan had said on PO he
methods yeah so Evan had said on PO he
saw even a little bit of weight Decay
saw even a little bit of weight Decay
like e e 1 E
like e e 1 E
to4 MH was helping quite a bit we'll be
to4 MH was helping quite a bit we'll be
able to sweep it on this cuz I have like
able to sweep it on this cuz I have like
a much I got a much harder task here to
a much I got a much harder task here to
throw it at than he has with Atari
throw it at than he has with Atari
unless he's got
unless he's got
internals yeah I have no
internals yeah I have no
idea
idea
um I mean I can the cool thing about
um I mean I can the cool thing about
this right is if I get Signs of Life on
this right is if I get Signs of Life on
this I can just throw it at everything
this I can just throw it at everything
and we can see if there's a
difference I hear you the reason I'm
difference I hear you the reason I'm
doing this long sweep right now is um I
doing this long sweep right now is um I
was having difficulty getting like
was having difficulty getting like
tuning on breakout and having it
tuning on breakout and having it
transferred to neural MMO it did like
transferred to neural MMO it did like
every single other one worked right but
every single other one worked right but
getting it to transfer to neural mo
getting it to transfer to neural mo
didn't actually I think I'm going to
didn't actually I think I'm going to
start just a uh I'm going to start just
start just a uh I'm going to start just
a local run with just these
a local run with just these
preconditioned prams to see if this does
preconditioned prams to see if this does
anything that'll be a good
anything that'll be a good
idea I don't think I've done that
my
parameters anyway I just wanted to pop
parameters anyway I just wanted to pop
in uh Joseph we should take some time
in uh Joseph we should take some time
tomorrow or Friday I think integrate
tomorrow or Friday I think integrate
stuff tomorrow um
stuff tomorrow um
yeah all right I will attempt to have
yeah all right I will attempt to have
optimization for RL solve by
optimization for RL solve by
[Laughter]
tomorrow sounds good see I'm got some
tomorrow sounds good see I'm got some
other stuff to run so I'll see you later
other stuff to run so I'll see you later
see
see
you
cool here I'm going to start a neural
cool here I'm going to start a neural
MMO 3 run uh just
MMO 3 run uh just
locally see if there's anything that I
locally see if there's anything that I
need to take into account here I don't
need to take into account here I don't
think
think
so it's got like two M's and stuff which
so it's got like two M's and stuff which
is kind of
is kind of
gross I don't know why it did
this oh it probably did this because
this oh it probably did this because
um cuz cuz sample efficiency
um cuz cuz sample efficiency
right let me go check that real quick
right let me go check that real quick
before I start
before I start
this it just that did just occur to
this it just that did just occur to
me yeah it's going to do that okay so
me yeah it's going to do that okay so
let me change the x axis from step to
time you can't stream on Discord as well
time you can't stream on Discord as well
can you I
can you I
can
here I have a 4090 locally it should be
here I have a 4090 locally it should be
able to do some stuff don't you
able to do some stuff don't you
think maybe when I start running the uh
think maybe when I start running the uh
maybe when I also start running this
maybe when I also start running this
experiment it'll explode or something
experiment it'll explode or something
but
maybe discord's pretty good
Jason I don't know why this is set to
Jason I don't know why this is set to
two update EPO is the only thing I do
two update EPO is the only thing I do
not like that
not like that
but I'm going to try to run the uh I'm
but I'm going to try to run the uh I'm
just going to try to run the LR
just going to try to run the LR
precondition stuff and wearing the
same what do you mean the LR
same what do you mean the LR
precondition like the probability uh
precondition like the probability uh
yeah I'm going to run with the correct
yeah I'm going to run with the correct
settings I see
I'm trying to connect my laptop to my
I'm trying to connect my laptop to my
monitor and it was working like 10
monitor and it was working like 10
minutes ago and now it's not and it's
minutes ago and now it's not and it's
just like so
frustrating Tech bound for
yeah so this will
yeah so this will
be default
be default
parameters except the
parameters except the
swept learning rate precon Adam beta all
that and I think this should train
that and I think this should train
pretty quick let see how long we're
pretty quick let see how long we're
supposed to have to wait to see some
ity it's supposed to take
ity it's supposed to take
off within like a 100 Mil or so we're
off within like a 100 Mil or so we're
supposed to start seeing
supposed to start seeing
something
something
nice but it's kind of funny because
nice but it's kind of funny because
within 100 Mil most of the other ends
within 100 Mil most of the other ends
are solved
yeah there's so many other Ms and things
yeah there's so many other Ms and things
I need to do it's
I need to do it's
like it's a
lot for
there it goes so that's already starting
there it goes so that's already starting
to optimize return though it's not
to optimize return though it's not
optimizing the
optimizing the
uh mincom prop is the the main
uh mincom prop is the the main
metric I should probably just call it
metric I should probably just call it
score so people know the score go up is
good the other cool thing I saw from the
good the other cool thing I saw from the
muan Baseline was um there was Market
muan Baseline was um there was Market
use even from the muan
use even from the muan
Baseline what do you mean Market use
Baseline what do you mean Market use
agents were buying and selling
agents were buying and selling
stuff oh interesting
it's kind of tricky to
it's kind of tricky to
learn is that not occurring with
learn is that not occurring with
psgd well we haven't run it long enough
psgd well we haven't run it long enough
that takes a while to
that takes a while to
learn I see
was that never before hit with Adam
was that never before hit with Adam
or um let's
check so there were some sales not very
many so we had like on the scale of 01
many so we had like on the scale of 01
or whatever sales and purchases
and then let's see with Mo
on yeah so 0.1 so 5 to 10 times more
on yeah so 0.1 so 5 to 10 times more
Market
Market
activity than before
activity than before
which is pretty
which is pretty
cool well it's just a better
cool well it's just a better
model right it's higher score this one
model right it's higher score this one
is actually yeah this one will be done
is actually yeah this one will be done
in it's probably still going to be a few
in it's probably still going to be a few
hours 928 billion steps yeah that's
hours 928 billion steps yeah that's
still going to be like another 6 hours
still going to be like another 6 hours
before this one is done so this probably
before this one is done so this probably
won't be done in time for uh me to look
won't be done in time for uh me to look
at it tonight but I'll have it in the
at it tonight but I'll have it in the
morning what time usually wake
morning what time usually wake
up like I don't know
8 you're East Coast though right
mhm hello yeah I'm
mhm hello yeah I'm
here okay
here this is what I wanted to
see just take this
143 yeah so this has not really started
143 yeah so this has not really started
uh optimizing correctly
uh optimizing correctly
yet what I was trying to figure out here
yet what I was trying to figure out here
is whether it was enough to just take
is whether it was enough to just take
the psgd params or if the other hypers
the psgd params or if the other hypers
were important as well
uh the other hypers meaning well it
uh the other hypers meaning well it
tuned a bunch of stuff go see what it
tuned a bunch of stuff go see what it
tuned I see you're saying can you just
tuned I see you're saying can you just
plot psgd
plot psgd
in with the other RL
in with the other RL
hypers yeah or does like the optimum
hypers yeah or does like the optimum
like does it actually care about the
like does it actually care about the
other ones a
other ones a
ton uh let's see so because it reduced
ton uh let's see so because it reduced
the number of M's by half which is
the number of M's by half which is
annoying CU that makes it a little
annoying CU that makes it a little
slower it also it now doing two gradient
slower it also it now doing two gradient
steps per update as well which is also
annoying why because it's doing oh is
annoying why because it's doing oh is
this
this
Newton no it's po then why is it doing
Newton no it's po then why is it doing
po you can do multiple steps per sample
po you can do multiple steps per sample
right I see yes but typically if it's
right I see yes but typically if it's
optimized well if your m is fast it
optimized well if your m is fast it
should only be one because why use stale
should only be one because why use stale
data when you can use fresh data
oh that is weird we've got
gamma gamma Lambda aren't like crazy
gamma gamma Lambda aren't like crazy
weird
9486 we got
entropy yeah batch size of anyi batch
entropy yeah batch size of anyi batch
are the
are the
same so presumably it's just got to be
same so presumably it's just got to be
like either the entropy or gamma and
Lambda or the second update
Epoch it does look like it's starting to
Epoch it does look like it's starting to
learn here maybe
yeah but this is nowhere near the
yeah but this is nowhere near the
uh the original chart
yeah interesting huh yeah it's you can
yeah interesting huh yeah it's you can
see it's it's starting to come off right
see it's it's starting to come off right
here but uh
here but uh
it's it's at
1.02 so whatever these graphs are
doing some of those hypers actually
doing some of those hypers actually
matter yeah it could just be the entropy
matter yeah it could just be the entropy
coefficient to be fair
how fast does it say that this
how fast does it say that this
experiment was
running
SPS uh it should log SPS
SPS uh it should log SPS
somewhere well somehow it say this is
somewhere well somehow it say this is
running way faster as well than the
running way faster as well than the
current so I don't know how it's running
current so I don't know how it's running
way faster
way faster
oh I guess this is just psgd it takes
oh I guess this is just psgd it takes
like a few thousand e to get to warm up
like a few thousand e to get to warm up
doesn't
it a few thousand
it a few thousand
[Music]
[Music]
um in terms of
um in terms of
runtime this thing
is it says that this is faster than the
is it says that this is faster than the
previous or than the current
previous or than the current
configuration which is
configuration which is
weird yeah that is weird maybe cuz
weird yeah that is weird maybe cuz
you're running
locally could be I still have a 490
here oh yeah no it says from the start
here oh yeah no it says from the start
it's already at like five
500,000 the hell would this be doing
500,000 the hell would this be doing
that's
faster I think I can think it was two
faster I think I can think it was two
M's but that should make it slower out
faster any bad the
faster any bad the
same none of these other paramet should
same none of these other paramet should
affect
speed yeah that's
interesting mincom Prof started taking
interesting mincom Prof started taking
off
off
though so it is actually optimizing now
though so it is actually optimizing now
it looks
like there you
go this is muan yeah the muan Baseline
go this is muan yeah the muan Baseline
way down
way down
here so I guess the question then will
here so I guess the question then will
be even if this is worse initially is it
be even if this is worse initially is it
stable does it
stable does it
intersect
intersect
[Music]
[Music]
um yeah I mean I
think yeah I don't know
well I will try
well I will try
this I'll let this run for a
this I'll let this run for a
bit we'll try like various portions of
bit we'll try like various portions of
this what's my default gamma and Lambda
the only thing I can see that's high is
the only thing I can see that's high is
the gamma the Lambda is about the same
the gamma the Lambda is about the same
as the uh the optim one so 0995 gamma is
as the uh the optim one so 0995 gamma is
quite high but that actually should be
quite high but that actually should be
better longer term for neural
MMO entropy is 0 point
MMO entropy is 0 point
01 so yeah this 3x higher entropy in the
01 so yeah this 3x higher entropy in the
optimized run as
well let's see maybe I can get some
well let's see maybe I can get some
stats off to this
okay so it doesn't look like it's
okay so it doesn't look like it's
entropy I just drop this
one so entropy here right we have a good
one so entropy here right we have a good
result at
03 and we have good result at
03 and we have good result at
03 so it's not very sensitive to
03 so it's not very sensitive to
entropy it's not that one
why did these all say One update Epoch
why did these all say One update Epoch
when it looked like it was
when it looked like it was
two that's
sketchy there's updated pox
here oh wait this is one
update yeah this is one update okay I
update yeah this is one update okay I
must have been looking at it wrong one
must have been looking at it wrong one
so it's not that then
either the heck else did I
sweep it's got to be Lambda and
Gamma which is uh consistent with my
Gamma which is uh consistent with my
hypothesis that GAE is the last thing
hypothesis that GAE is the last thing
holding us back in our
own
own
J generaliz advantage
J generaliz advantage
estimation let's
estimation let's
see built into
see built into
PPL
yeah okay so here's it saying that you
yeah okay so here's it saying that you
don't do well when gamma's above
don't do well when gamma's above
097 094 to 097 is fine so probably this
097 094 to 097 is fine so probably this
right here is this gamma
I don't think it's super sensitive to
I don't think it's super sensitive to
Lambda I could be
wrong yeah so this 085 or whatever this
wrong yeah so this 085 or whatever this
is pretty close to where we have it uh
is pretty close to where we have it uh
by
default so the only thing that's
default so the only thing that's
different here potentially is this gamma
different here potentially is this gamma
so I think I'm literally just going to
so I think I'm literally just going to
take this exactly as it is and then
take this exactly as it is and then
uh I will let this run for just a little
uh I will let this run for just a little
longer maybe we do 500 mil as a
longer maybe we do 500 mil as a
benchmark and then I will run this
benchmark and then I will run this
with gamma set to
with gamma set to
0.9
.95 and we'll go from there
see the graph in the
meanwhile oh so it has uh it caught up
meanwhile oh so it has uh it caught up
quite nicely but it looks
stall yeah maybe
I mean I guess gamma could technically
I mean I guess gamma could technically
cause that if it just can't figure out
cause that if it just can't figure out
predit assignment at all
predit assignment at all
right yeah that makes sense I have seen
right yeah that makes sense I have seen
this type of thing happen
before are you are you setting your
before are you are you setting your
preconditioner in it scale
preconditioner in it scale
to something
to something
no is it is it being set to none
no is it is it being set to none
you it's not being
you it's not being
passed can you double check the default
passed can you double check the default
is done
then well so this isn't the one cuz I am
then well so this isn't the one cuz I am
actually using the pre-con LR in the
actually using the pre-con LR in the
I'll go double check from the box that
I'll go double check from the box that
I'm running the sweep
on this one where's the
on this one where's the
box too many windows open
okay so prond LR beta LR this is all
okay so prond LR beta LR this is all
that's being set you want me to check
that's being set you want me to check
the heavy ball default yeah
in it scales
in it scales
one can you check if that's true in the
one can you check if that's true in the
actual code you might not have updated
actual code you might not have updated
the if if so we should be setting it to
the if if so we should be setting it to
none for
his it is none
his it is none
okay I don't know when this is from
though and if you pushed it like today
though and if you pushed it like today
then it could be off but I think it's
then it could be off but I think it's
from
from
yesterday does this Break
yesterday does this Break
Stuff uh no it makes things
Stuff uh no it makes things
stronger but if you're so there's
stronger but if you're so there's
basically how you initialize your
basically how you initialize your
precond conditioner and you can set the
precond conditioner and you can set the
scale for it to be initialized at right
scale for it to be initialized at right
yeah and so it's basically like it's
yeah and so it's basically like it's
kind of important to be it to be set to
kind of important to be it to be set to
none and then you should check that it
none and then you should check that it
scale no more than
scale no more than
like 2 to 0.5 I think probably may I
like 2 to 0.5 I think probably may I
mean maybe
mean maybe
more but we should do it pretty fine
more but we should do it pretty fine
like it might it might actually make a a
like it might it might actually make a a
difference we haven't explored it too
difference we haven't explored it too
much but sometimes we see if the net
much but sometimes we see if the net
scale is off then like it'll complet
scale is off then like it'll complet
mess things up yeah so what I'm going to
mess things up yeah so what I'm going to
have to do here right is like let me at
have to do here right is like let me at
least get a decent neural MMO 3 base
least get a decent neural MMO 3 base
line up first and then I will probably
line up first and then I will probably
just do a sweep where I
just do a sweep where I
do like all of these params so I'll do
do like all of these params so I'll do
the LR I'll do the precon inate scale
the LR I'll do the precon inate scale
scale I'll have this Sit N I'll do the
scale I'll have this Sit N I'll do the
Mars gamma I'll
Mars gamma I'll
do weight Decay like I can do more of
do weight Decay like I can do more of
these um okay just get the Baseline yeah
these um okay just get the Baseline yeah
the basine is important first so I want
the basine is important first so I want
to make I like cuz right now I'm kind of
to make I like cuz right now I'm kind of
iffy on all this cuz like something's
iffy on all this cuz like something's
Jank and I think it's probably just
Jank and I think it's probably just
gamma but I'm not positive and that
gamma but I'm not positive and that
bothers me cuz all the other M's
work okay I um I also I told I told
work okay I um I also I told I told
Lucas to try a new idea which is like a
Lucas to try a new idea which is like a
hybrid gradient Hessian
hybrid gradient Hessian
um
um
calculation and he said that on some of
calculation and he said that on some of
the hardest problems it reduces the
the hardest problems it reduces the
number of Trials
number of Trials
required um so if we look at this right
required um so if we look at this right
Newton hybrid to psgd L right which is
Newton hybrid to psgd L right which is
probably what you should be using is is
probably what you should be using is is
the L versus cron for RL because cron is
the L versus cron for RL because cron is
like scalable to multiple billions of
like scalable to multiple billions of
parameters whereas you really don't care
parameters whereas you really don't care
about that you really want like a low
about that you really want like a low
rank approximation of your of your
rank approximation of your of your
Global precond
Global precond
conditioner like let's see psgd L
conditioner like let's see psgd L
without any Newton right it was taking
without any Newton right it was taking
attempts okay but with the hybrid it
attempts okay but with the hybrid it
actually dropped it down from 50 down to
actually dropped it down from 50 down to
12 um well that's cool but does it run
12 um well that's cool but does it run
like at a reasonable rate because we
like at a reasonable rate because we
have to use the is this a second order
have to use the is this a second order
right it yes it is second order but um
right it yes it is second order but um
it has to be finite
it has to be finite
difference yeah exactly so he has a
difference yeah exactly so he has a
finite difference version as well um
finite difference version as well um
built baked right into the code so it it
built baked right into the code so it it
should just work um you just have to set
should just work um you just have to set
finite difference to True um and then
finite difference to True um and then
now he has this hybrid version as well
now he has this hybrid version as well
so we we we have uh what one thing I'm
so we we we have uh what one thing I'm
not sure
not sure
so with Newton
so with Newton
your learning rate is going to be
your learning rate is going to be
different than with non Newton and so
different than with non Newton and so
this is kind of a hybrid first order
this is kind of a hybrid first order
second order method so I don't know
second order method so I don't know
where the learning rate is going to end
where the learning rate is going to end
up actually so it's like I don't know
up actually so it's like I don't know
puffer is actually enabling as you know
puffer is actually enabling as you know
uh like so
uh like so
much experimentation
much experimentation
like it's it's such a good framework to
like it's it's such a good framework to
do so many like runs that you can
do so many like runs that you can
actually explore these things in you
actually explore these things in you
know that's the goal in bulk hey know
know that's the goal in bulk hey know
Lucas is at at Kean right it's like hey
Lucas is at at Kean right it's like hey
you know you guys just you guys should
you know you guys just you guys should
use puffer it's
good yeah so
good yeah so
um let's just
say Lucas very much likes
say Lucas very much likes
psgd and he's taken a very nice liking
psgd and he's taken a very nice liking
towards psgd LR and now he's really
towards psgd LR and now he's really
really liking the hyrid version
um
um
yeah all right well we will see on that
yeah all right well we will see on that
um yeah my x-axis is probably different
um yeah my x-axis is probably different
from his I think his xaxis is steps and
from his I think his xaxis is steps and
mine's wall clock so we'll see if that
mine's wall clock so we'll see if that
messes with anything
well I can say this is stuck as well
well I can say this is stuck as well
this is not stuck but it's like it's
this is not stuck but it's like it's
slower it looks like
slower it looks like
right yeah but it still looks pretty
right yeah but it still looks pretty
pretty
decent yeah it's stable it's just not
like I mean that's actually not really
like I mean that's actually not really
any shallower than the slope here like
any shallower than the slope here like
if you look at these runs
if you look at these runs
right these runs all kind of do the same
right these runs all kind of do the same
thing and this is just hyper pram it's
thing and this is just hyper pram it's
basically it's just hyper prams as to
basically it's just hyper prams as to
how high it gets before it slows
down yeah
exactly so I think we kill this I think
exactly so I think we kill this I think
we Tred by Gamma 096 or 095
whatever let's see which one I want to
do 095 will'll do
so let's do
so let's do
this see if this instantly fixes it and
this see if this instantly fixes it and
then if it does
then if it does
well we just try these prams on
well we just try these prams on
everything and know that
everything and know that
gamma gamma sometimes has to
gamma gamma sometimes has to
change then uh that's going to be the
change then uh that's going to be the
case for the new algorithm I've been
case for the new algorithm I've been
developing to try to delete gamma and
developing to try to delete gamma and
Lambda from
Lambda from
existence it it's a hard Baseline though
existence it it's a hard Baseline though
it is very it's a hard Baseline to beat
it is very it's a hard Baseline to beat
cuz basically you have two tunable knobs
cuz basically you have two tunable knobs
that tell you how much you care about
that tell you how much you care about
credit assignment and to beat that you
credit assignment and to beat that you
have to have an algorithm that learns
have to have an algorithm that learns
credit assignment better than a fixed
credit assignment better than a fixed
but tuned existing like twofold
but tuned existing like twofold
exponential
waiting it's a little
waiting it's a little
tricky yeah that does sound
tricky but G has to go
tricky but G has to go
J has to
go I can just see it on episode return
this is overlapping with the uh the
this is overlapping with the uh the
previous one so far
the previous one wasn't horrible
the previous one wasn't horrible
right no but we'll see how the longer
right no but we'll see how the longer
ter behavior
ter behavior
is yeah exactly cuz I think this one
is yeah exactly cuz I think this one
came off the ground some of the better
came off the ground some of the better
runs from before that we tuned came off
runs from before that we tuned came off
the ground earlier that could be entropy
the ground earlier that could be entropy
coefficient though
that could be like a way more trivial
that could be like a way more trivial
entropy coefficient thing
I've gotten so used to coding with an
I've gotten so used to coding with an
LL that when I have to code without it
LL that when I have to code without it
it's like wow this is so
it's like wow this is so
slow I do not suggest getting overly
slow I do not suggest getting overly
reliant on these
reliant on these
things yeah I know
I use super Maven for like typing speed
I use super Maven for like typing speed
buff that's about
it hey thanks for dropping by see you
around that's cool somebody found this
around that's cool somebody found this
from Iceberg
from Iceberg
video nice
and this does have like a nice
and this does have like a nice
steep it's going to just depend where
steep it's going to just depend where
this thing evens
out I guess after this I have to try
out I guess after this I have to try
entropy it shouldn't matter though from
entropy it shouldn't matter though from
the other graph it doesn't seem like it
did e
yeah so I mean you can see the best runs
yeah so I mean you can see the best runs
I think it's these
I think it's these
two make
two make
sure the best runs are in fact the best
sure the best runs are in fact the best
runs
runs
prettyy sure yeah these are the best
prettyy sure yeah these are the best
fronts
right so these ones are much steeper
there we're at
there we're at
130 this thing has not come off of the
130 this thing has not come off of the
ground yet
this thing eventually came off the
this thing eventually came off the
ground but much later didn't get the
same same
height where's ps3d compared to this
thing yeah I they're all good compared
thing yeah I they're all good compared
to pspd so
far compared to muan you mean muan yeah
far compared to muan you mean muan yeah
yeah but we really have to see how it's
yeah but we really have to see how it's
affected later in training I mean it's
affected later in training I mean it's
it's weird to
it's weird to
me um that this would happen in general
me um that this would happen in general
but I mean we have to just you know
but I mean we have to just you know
verify what's going on well at least now
verify what's going on well at least now
we have we have a 1 billion step sweeps
we have we have a 1 billion step sweeps
so that gives us like some
so that gives us like some
indication
indication
hopefully
hopefully
um is this even worse than the previous
um is this even worse than the previous
run I'm
run I'm
confused is it just
not
63 I mean getting to level two average
63 I mean getting to level two average
is non-trivial as
is non-trivial as
well cuz that means the average agent
well cuz that means the average agent
right so this is an average so that
right so this is an average so that
means that on average the like each
means that on average the like each
agent is going to go find an enemy kill
agent is going to go find an enemy kill
the enemy pick up the tool equip the
the enemy pick up the tool equip the
tool find the res yeah on average
tool find the res yeah on average
yeah so it's not like that's the best
yeah so it's not like that's the best
agent in there right it's like that's
agent in there right it's like that's
like the average behavior is going to
like the average behavior is going to
get is going to get a level and get like
get is going to get a level and get like
equipment and
equipment and
stuff yeah wait that's
actually okay this is a question then
actually okay this is a question then
about the
game is there finite
game is there finite
resources they
resources they
respawn there's what they
respawn there's what they
respawn they respawn okay yeah I'm not
respawn they respawn okay yeah I'm not
that dumb it's not going to be like
that dumb it's not going to be like
there's nothing for them to
there's nothing for them to
get no I know but like they collect flat
get no I know but like they collect flat
l no I didn't I don't have
l no I didn't I don't have
that no no but
that no no but
like but there be some like game the I
like but there be some like game the I
mean obviously it's a game so there
mean obviously it's a game so there
there's some game theoretic things in
there's some game theoretic things in
there but there could be there like some
there but there could be there like some
some weird things somewhere where like
some weird things somewhere where like
because of the finite resources there's
because of the finite resources there's
like different strategies like based off
like different strategies like based off
like the
like the
like it based off of how fast they spawn
like it based off of how fast they spawn
could there be different strategies like
could there be different strategies like
could could somebody be exploiting that
could could somebody be exploiting that
versus you know like it could be part of
versus you know like it could be part of
the game right okay every every day like
the game right okay every every day like
you know when the sun comes up something
you know when the sun comes up something
gets triggered right which like makes
gets triggered right which like makes
sense within the game but that could
sense within the game but that could
like dictate a different strategy yeah I
like dictate a different strategy yeah I
mean that makes sense though right
mean that makes sense though right
that's like within the realm of the game
that's like within the realm of the game
well if they're doing that then they
well if they're doing that then they
should be getting higher score
should be getting higher score
if they found an
if they found an
exploit yeah yeah
exploit yeah yeah
yeah that's
fair all right so this is starting to
fair all right so this is starting to
come off the
come off the
ground but this looks exactly like the
ground but this looks exactly like the
previous
curve so I have a completely different
curve so I have a completely different
gamma and it looks just like the
gamma and it looks just like the
previous
H that seems bizarre to
me oh wait am I
stupid yeah I'm
stupid yeah I'm
stupid I'm really [ __ ]
stupid what happened wasn't applying the
stupid what happened wasn't applying the
parameters
parameters
oh yeah have a meme for
oh yeah have a meme for
that okay try
that okay try
this got to love it the problem with
this got to love it the problem with
running experiments is it's very boring
running experiments is it's very boring
so you uh you end up making stupid ma
so you uh you end up making stupid ma
mistakes which is why I try not to have
mistakes which is why I try not to have
too many days spent doing boring ass
too many days spent doing boring ass
experiments yeah I feel
that I much prefer building stuff
I don't know if you have Instagram
I don't know if you have Instagram
but
but
no you don't no stay off of
Instagram there's nothing there's
Instagram there's nothing there's
nothing there there's nothing on
nothing there there's nothing on
Instagram but cam girls and
bodybuilders h
bodybuilders h
but
memes welcome to
x.com I get different I get it's funny I
x.com I get different I get it's funny I
get different memes on X versus
get different memes on X versus
Instagram versus YouTube yeah so you get
Instagram versus YouTube yeah so you get
like you get room temperature IQ on X
like you get room temperature IQ on X
and you get IQ you have to dig for on
and you get IQ you have to dig for on
Instagram yes and and then on YouTube
Instagram yes and and then on YouTube
it's just like
it's just like
aome okay YouTube is
funny I found this guy that just like
funny I found this guy that just like
I'm in Florida so I guess it recommends
I'm in Florida so I guess it recommends
me Florida stuff and there's this guy in
me Florida stuff and there's this guy in
Florida that just like runs around
Florida that just like runs around
grabbing snakes and crocodiles with his
grabbing snakes and crocodiles with his
bare
bare
hands yeah yeah I know what you're
hands yeah yeah I know what you're
talking about I mean I'm sure there's
talking about I mean I'm sure there's
more than one of those guys but it's
more than one of those guys but it's
super funny
super funny
yeah it's just like Dam it algorithm
yeah it's just like Dam it algorithm
stop
stop
it stop knowing me so
well let's see if this reward curve
well let's see if this reward curve
looks different
hard to say takes a
while I wonder if Episode length is a
while I wonder if Episode length is a
better and less noisy
indicator yeah so Evan does episode
indicator yeah so Evan does episode
length a lot um it depend it's m
length a lot um it depend it's m
specific I see yeah it's m specific what
specific I see yeah it's m specific what
matters uh that's promising though right
matters uh that's promising though right
let's see it hasn't synced
let's see it hasn't synced
yet but that's uh what 74
yet but that's uh what 74
mil is that on
mil is that on
par it might be on par only with the
par it might be on par only with the
better
better
ones
see uh it is slightly above I don't know
see uh it is slightly above I don't know
whether it's significantly above but it
whether it's significantly above but it
is slightly
above so I think that
above so I think that
the it's possible that pattern was a
the it's possible that pattern was a
function of beta and the
function of beta and the
precon LR instead of the instead of
precon LR instead of the instead of
gamma it's I
see see like the best runs they actually
see see like the best runs they actually
just keep going the
just keep going the
slope yeah I'm a little suspicious with
slope yeah I'm a little suspicious with
the slope cuz these ones these on like
the slope cuz these ones these on like
the curvature is different I
the curvature is different I
think which is a little bit
sus like the good runs have this
sus like the good runs have this
accelerating
curvature okay I see say
it might need it might still need the
it might need it might still need the
gamma we'll
gamma we'll
say if it doesn't work with the correct
say if it doesn't work with the correct
prams and Gamma though then I'm not
sure
sure
me not to ask a stupid question but if
me not to ask a stupid question but if
you have protein why would you do
you have protein why would you do
this why would I do
this why would I do
what why are your hand tuning
what why are your hand tuning
um so protein has picked coefficients
um so protein has picked coefficients
for us right so protein gave us this run
for us right so protein gave us this run
these runs up here but this is tuning
these runs up here but this is tuning
everything so this is me just trying to
everything so this is me just trying to
figure out I'm trying to understand
figure out I'm trying to understand
which of these parameters really matter
which of these parameters really matter
and which ones don't as
and which ones don't as
much so like if I can get something that
much so like if I can get something that
roughly matches here uh without having
roughly matches here uh without having
to tune all the parameters that's
to tune all the parameters that's
better right so I'm basically I'm trying
better right so I'm basically I'm trying
to just like get a feel for the
to just like get a feel for the
robustness of the uh the optimizer once
robustness of the uh the optimizer once
you have it like set to specific
you have it like set to specific
Optimizer
Optimizer
prams does it only work in a narrow band
prams does it only work in a narrow band
of gamma does it only work with like a
of gamma does it only work with like a
specific um entropy or something that's
specific um entropy or something that's
what I'm trying to figure
what I'm trying to figure
out you're just doing sensitivity
out you're just doing sensitivity
analysis Bas basically I'm also just
analysis Bas basically I'm also just
trying to get a feel for the thing stuff
trying to get a feel for the thing stuff
just feels janky in RL so most of the
just feels janky in RL so most of the
time I do automated stuff but every so
time I do automated stuff but every so
often I just like to poke things until
often I just like to poke things until
then makes
sense much what this
is see like this is definitely
is see like this is definitely
below the other
ones I'm going to give it a little
ones I'm going to give it a little
longer but uh let just fill in yeah see
longer but uh let just fill in yeah see
that's on par with the other other ones
that's on par with the other other ones
so this is now with the correct
preconditioning for each psgd KRON LR
preconditioning for each psgd KRON LR
prond LR and Adam beta
1 for
this the thing that bothers me here is
this the thing that bothers me here is
that I would think that the higher gamma
that I would think that the higher gamma
would be better long
would be better long
term it's possible that it's just
term it's possible that it's just
preventing you from learning anything
preventing you from learning anything
early I see I I just basically I wanted
early I see I I just basically I wanted
to see if if this like if the curv
to see if if this like if the curv
separate from this
separate from this
and oh hang
and oh hang
on is that something right
there that seems to be
separation it's very mild if it is
separation it's very mild if it is
though
mhm let's look at midcom Prof because
mhm let's look at midcom Prof because
this is the actual metric that we care
this is the actual metric that we care
about oh hold on we do have separation
about oh hold on we do have separation
look at that you see see look at
look at that you see see look at
that this this is there's a dramatic
that this this is there's a dramatic
difference okay so episode
difference okay so episode
return yeah so that's a dramatic
return yeah so that's a dramatic
capabilities difference so now the only
capabilities difference so now the only
other ablation I have to run is the
other ablation I have to run is the
gamma I wait so what did that mean that
gamma I wait so what did that mean that
means that
means that
the this means that uh right now like
the this means that uh right now like
say 15% of the agents are defeating an
say 15% of the agents are defeating an
enemy and then getting uh harvesting an
enemy and then getting uh harvesting an
item harvesting a
resource so yeah that is capabilities
resource so yeah that is capabilities
difference right there so the precon and
difference right there so the precon and
beta actually make a huge
beta actually make a huge
difference cuz that's all that changed
difference cuz that's all that changed
here prec condom beta kill this I want
here prec condom beta kill this I want
to test the
to test the
gamma because I want to see if that's
gamma because I want to see if that's
like the massive separation difference
I just want to sort of think
I just want to sort of think
about about this in the
meantime I guess it's kind of weird that
meantime I guess it's kind of weird that
I had gamma so high in the first
I had gamma so high in the first
place
place
um that I got that from breakout that's
um that I got that from breakout that's
it's a very very high gamma though to
it's a very very high gamma though to
have I
guess let's see if I can figure
guess let's see if I can figure
something out from that
something out from that
though that's your
clue how high does gamma get before
clue how high does gamma get before
stuff
stuff
breaks you know I actually I'm looking
breaks you know I actually I'm looking
at this
at this
now and
there's definitely a correlation
there's definitely a correlation
here you can see 995 gamma it's still
here you can see 995 gamma it's still
it's still does something so if we use
it's still does something so if we use
this as a proxy for what we're likely to
get I mean that's kind of what we want
get I mean that's kind of what we want
it's um whatever default gamma we set
it's um whatever default gamma we set
will
will
work but you'll get better results with
work but you'll get better results with
um a more finally tuned
gamma I think I would rather do 0.98
gamma I think I would rather do 0.98
though than 0
though than 0
n95 if these both
work actually let me see so this is
work actually let me see so this is
the got 0.9 we got these two so this is
the got 0.9 we got these two so this is
a dark blue and we've got this
a dark blue and we've got this
one if I go to these
one if I go to these
charts it's a dark
charts it's a dark
blue this is the dark blue right
here
here
okay so that's interesting right so the
okay so that's interesting right so the
dark blue is the higher gamma that looks
dark blue is the higher gamma that looks
like that's going to do better to me
like that's going to do better to me
that's got like the much steeper this is
that's got like the much steeper this is
a this is linear this is
a this is linear this is
logarithmic yeah so I actually think
logarithmic yeah so I actually think
that yeah I'm just going to let this run
that yeah I'm just going to let this run
for a couple minutes then just to see if
for a couple minutes then just to see if
early Behavior changes based on that
early Behavior changes based on that
okay but um I
okay but um I
think I think gamma definitely does
think I think gamma definitely does
matter it would have to just based on
matter it would have to just based on
how po works and I think it is possible
how po works and I think it is possible
that like what might have been happening
that like what might have been happening
before with the sweeps is that if you
before with the sweeps is that if you
run too short of an experiment right
run too short of an experiment right
like if you run a 500 mil experiment
like if you run a 500 mil experiment
it'll look like this one's way better
it'll look like this one's way better
but if you run it longer they catch
but if you run it longer they catch
up yeah exactly right well this is why I
up yeah exactly right well this is why I
did one bill which is like I mean that's
did one bill which is like I mean that's
that's way longer than the x-axis of the
that's way longer than the x-axis of the
vast vast vast majority of papers right
vast vast vast majority of papers right
like there's still papers published
like there's still papers published
today that have an x-axis that's 1
million or 10 million 10 million is a
million or 10 million 10 million is a
very common x-axis
very common x-axis
I would love
I would love
to publish a few papers on puffer then
to publish a few papers on puffer then
okay if that's
yeah like even if we just get your
yeah like even if we just get your
reports that you have in the past and we
reports that you have in the past and we
just turn them into papers I'm sure
just turn them into papers I'm sure
they'll publish I'm not sure they'll
they'll publish I'm not sure they'll
publish Academia is [ __ ]
stupid and I am so sick of dealing with
stupid and I am so sick of dealing with
Academia it's like oh my
Academia it's like oh my
God this is why I collab on on projects
God this is why I collab on on projects
sometimes you know people like I'm on
sometimes you know people like I'm on
NYU submission at the moment but it's
NYU submission at the moment but it's
like dealing with Academia is so
like dealing with Academia is so
obnoxious the review process is just it
obnoxious the review process is just it
needs to go it's just like you're
needs to go it's just like you're
wasting hundreds to thousands of hours
wasting hundreds to thousands of hours
of everyone's 20s I submitted a paper
of everyone's 20s I submitted a paper
and the reviewers like it seems you you
and the reviewers like it seems you you
guys have done nutraw
guys have done nutraw
momentum and we're just like dude you
momentum and we're just like dude you
don't know the difference between neest
don't know the difference between neest
momentum and heavy ball momentum why are
momentum and heavy ball momentum why are
you reviewing this paper and why at
you reviewing this paper and why at
least we got one that was this Sim
least we got one that was this Sim
doesn't seem good because it's in
C++ what it's like oh this seems hard
C++ what it's like oh this seems hard
your Sims written in C+
your Sims written in C+
plus yeah for the GPU Drive stuff at one
plus yeah for the GPU Drive stuff at one
point
point
that's really funny I mean puffer got
that's really funny I mean puffer got
rejected and then I said [ __ ]
it right it's like all right you know
it right it's like all right you know
what I gave you clearcut like even the
what I gave you clearcut like even the
early versions of puffer right where
early versions of puffer right where
it's like I made
it's like I made
vectorization like 50% to 100x faster
vectorization like 50% to 100x faster
depending on your M just across the
depending on your M just across the
board drop and use it with anything also
board drop and use it with anything also
supports multi-agent out of the box
supports multi-agent out of the box
they're like yeah
n we don't publish we don't publish
n we don't publish we don't publish
software we prefer to write really bad
software we prefer to write really bad
code and feel self-important about
code and feel self-important about
it yeah so that's the thing I'm like the
it yeah so that's the thing I'm like the
first person to say like I'm not the
first person to say like I'm not the
number one coder in the
number one coder in the
world you know that's all
world you know that's all
right but
right but
kind of pisses me off when
kind of pisses me off when
people who have
people who have
like like people who people who like
like like people who people who like
refuse to use good software and it's
refuse to use good software and it's
like why why are you doing
like why why are you doing
[Music]
this and know I tried to keep all the
this and know I tried to keep all the
stuff in Puff are pretty good show it's
stuff in Puff are pretty good show it's
well to be fair there's a lot of stuff
well to be fair there's a lot of stuff
so some stuff needs to be looked at and
so some stuff needs to be looked at and
cleaned up by
cleaned up by
now I think that project with the new
now I think that project with the new
PRS is going to be close to 40K lines
now I think that's like the size of
now I think that's like the size of
whatap or
whatever all happened
here this do
worse did it increase Gamma or
something see this is unexpected this is
something see this is unexpected this is
what I don't like if I just ran this and
what I don't like if I just ran this and
it does what I expect I'm like okay I
it does what I expect I'm like okay I
get
get
it but now it's doing something that
it but now it's doing something that
doesn't make any
sense actually maybe this one was good
sense actually maybe this one was good
let's
see you know if you look at this one on
see you know if you look at this one on
the mincom Prof scale this actually had
the mincom Prof scale this actually had
we were looking at episode return this
we were looking at episode return this
one actually looks very
good excuse
so setting gamma to 0.95 breaks
it a little weird because you can get
it a little weird because you can get
Rewards well I the whole getting mincom
Rewards well I the whole getting mincom
Prof is that's probably like a 50 step
Prof is that's probably like a 50 step
process at least to get that up but you
process at least to get that up but you
can get intermediate rewards in like 10
can get intermediate rewards in like 10
to 20 steps
interesting that bothers
me maybe the uh the call is to just
me maybe the uh the call is to just
run run the high gamma
run run the high gamma
version I'm trying to think though 995
version I'm trying to think though 995
is like a
is like a
very high gamma to be running with even
very high gamma to be running with even
for this
I especially for this it's not like it
I especially for this it's not like it
almost makes it makes more sense for
almost makes it makes more sense for
breakout than for this honestly because
breakout than for this honestly because
like two seconds of breakouts like 120
frames so like yeah maybe 995 is good
frames so like yeah maybe 995 is good
for
for
that but I mean for this one like
I guess what I don't understand is how
I guess what I don't understand is how
is this one way down
is this one way down
here if this
light what did this at this at 0.95 as
light what did this at this at 0.95 as
well
why does it not work
here it's this is the one right this is
here it's this is the one right this is
the
the
curve we almost have the virtually uh
curve we almost have the virtually uh
the same hyper prams now on this
so now this does come up eventually
see the reason I do this is not to get
see the reason I do this is not to get
the result like yeah it's way quicker to
the result like yeah it's way quicker to
run the sweeps I'm trying to develop
run the sweeps I'm trying to develop
some intuition around these things and
some intuition around these things and
see if they behave in a predictable
see if they behave in a predictable
way yeah I hear you that makes sense
well at the very least compared to
well at the very least compared to
before this is a qualitative difference
before this is a qualitative difference
like
these well is oh wow that's really going
these well is oh wow that's really going
up that gray one yeah gray one this one
up that gray one yeah gray one this one
yeah see this is what we did
yeah see this is what we did
before okay but then like we change it
before okay but then like we change it
to this param which is supposed to be
to this param which is supposed to be
closer to this one
here yeah I mean it might there might be
here yeah I mean it might there might be
like pockets of good hyper parameters
like pockets of good hyper parameters
right there shouldn't be with the way
right there shouldn't be with the way
that these work unless they're like
that these work unless they're like
correlated in some weird
way yeah it's tough cuz like the thing
way yeah it's tough cuz like the thing
that really matters is the
that really matters is the
longterm behavior of this thing
anyways yeah I remember remember so 0995
anyways yeah I remember remember so 0995
did
did
break it broke a couple of the really
break it broke a couple of the really
short Horizon
tasks I think I'm tempted to just run
tasks I think I'm tempted to just run
this 99 or whatever
this 99 or whatever
then just go get
then just go get
dinner
um I'm trying to think if 995 can do
um I'm trying to think if 995 can do
anything 995 is 200
steps like I don't think the network has
steps like I don't think the network has
capacity to reason over 200
steps the worked in Breakout
I think we'll just leave let's just
I think we'll just leave let's just
leave the
leave the
default let's do this I mean this will
default let's do this I mean this will
be the the best case anyways because if
be the the best case anyways because if
this
this
works
works
then I think we're all set so I you know
then I think we're all set so I you know
I'm going to do one thing before I do
I'm going to do one thing before I do
this I want to run
breakout see if this actually
breakout see if this actually
solves oh and actually hold you have to
solves oh and actually hold you have to
copy these Paramon too
copy these Paramon too
copy this print to break out
I just want to see if these are like
I just want to see if these are like
good General params
yeah so something broke here in the
yeah so something broke here in the
process of um
process of um
doing
this how do you see that what well this
this how do you see that what well this
is not the map score is
is not the map score is
800 so I think the default learning R
800 so I think the default learning R
was 0.01 or something wasn't
was 0.01 or something wasn't
it 0.01 or
it 0.01 or
0.001 for what sorry the default
0.001 for what sorry the default
learning rate for uh
learning rate for uh
bit for uh
bit for uh
cron heavy B
cron heavy B
cron
cron
see check not
sure o1 so I have it way too high most
sure o1 so I have it way too high most
likely it does seem to actually optimize
likely it does seem to actually optimize
them which is funny
okay so literally just changing the
okay so literally just changing the
learning
learning
rate no other
rate no other
changes uh now it works on
breakout ni
10x higher than the default
10x higher than the default
though but 01 does this still work or do
though but 01 does this still work or do
it break
I'm trying to think why different M's is
I'm trying to think why different M's is
there a good reason different M should
there a good reason different M should
need a totally different learning rate
still I don't know I mean I guess it's
like how far off are the learning
like how far off are the learning
rates uh
um I mean it's 025 or
0.01 uh let me
see I don't know it's pretty big it and
see I don't know it's pretty big it and
it's weird I think you're right with the
it's weird I think you're right with the
pockets because it doesn't it doesn't
pockets because it doesn't it doesn't
optimize at all with
optimize at all with
this so like I had it on 0.0
on 0.01 it optimizes
okay
okay
well I'm have to run
well I'm have to run
a neural MMO
3 with
Neptune and I will come back and check
Neptune and I will come back and check
this after
this after
dinner nice and we'll see how this is
dinner nice and we'll see how this is
and then I'll get a full run of this
and then I'll get a full run of this
going once uh I get the machine back
going once uh I get the machine back
from the muan
from the muan
Baseline and we'll see whether this
Baseline and we'll see whether this
beats muan which is not fully tuned to
beats muan which is not fully tuned to
Mu one to be
Mu one to be
fair
fair
um they both have three
whole
thing I doubt muan is going to like have
thing I doubt muan is going to like have
the same learning rate for neural MMO
the same learning rate for neural MMO
magically though as everything else
magically though as everything else
either I don't think there's anything in
either I don't think there's anything in
mu do
that
that
um yeah I don't know Keller Keller says
um yeah I don't know Keller Keller says
it should all be the same learning rate
it should all be the same learning rate
but it's not just just not
but it's not just just not
true I mean we just see in practice it
true I mean we just see in practice it
doesn't
work but I like the preconditioned
work but I like the preconditioned
learning rate in beta I wonder about
okay well I'm going to go get some food
okay well I'm going to go get some food
I've been uh I've been boring myself out
I've been uh I've been boring myself out
of my mind thinking about this for the
of my mind thinking about this for the
last few
last few
hours
um I still want to
um I still want to
implement Mars should not
implement Mars should not
fix like Mars should not give you mini
fix like Mars should not give you mini
bat size in uh in variance I'm assuming
right um you're saying your
right um you're saying your
hyperparameters should stay constant
hyperparameters should stay constant
with respect to your mini batch so Mars
with respect to your mini batch so Mars
is Luca said oh yeah try Mars because I
is Luca said oh yeah try Mars because I
was talking about mini batch size and
was talking about mini batch size and
like how I needed to add gradient
like how I needed to add gradient
accumulation for larger to enable
accumulation for larger to enable
training with larger mini batch sizes I
training with larger mini batch sizes I
me I ran some experiments earlier and it
me I ran some experiments earlier and it
seems like mini bat size really does
seems like mini bat size really does
matter it's not just like you can't just
matter it's not just like you can't just
like
like
um you can't just cut your mini batch in
um you can't just cut your mini batch in
half and drop the learning rate um it
half and drop the learning rate um it
does seem that there is something to
does seem that there is something to
just
just
training with more
training with more
gradients um I don't I would if this is
gradients um I don't I would if this is
the case we can make versions of psgd
the case we can make versions of psgd
that are RL
that are RL
specific one thing for
specific one thing for
example actually having smaller batches
example actually having smaller batches
would help psgd
would help psgd
um not that it would help it but I don't
um not that it would help it but I don't
think it would hurt it so I think you
think it would hurt it so I think you
could just just in general try dropping
could just just in general try dropping
the bat size with psgd and running maybe
the bat size with psgd and running maybe
another yeah just just just see what
another yeah just just just see what
happens and run another protein and then
happens and run another protein and then
enable Mars Mars do efficiency like that
enable Mars Mars do efficiency like that
actually really hurts Hardware
actually really hurts Hardware
efficiency because what what what does
efficiency because what what what does
dropping the batch size the only thing
dropping the batch size the only thing
you could drop is the mini batch
you could drop is the mini batch
size sorry sorry sorry the mini batch
size sorry sorry sorry the mini batch
size yes the mini batch dropping the
size yes the mini batch dropping the
mini batch you and you drop it to like
mini batch you and you drop it to like
the lowest you would drop it is like
8192 the mini bags
M uh if you drop it any lower it's just
M uh if you drop it any lower it's just
like you're just burning Hardware Cycles
like you're just burning Hardware Cycles
like the GPU just doesn't you're just
like the GPU just doesn't you're just
not using the GPU
not using the GPU
efficiently yeah uh no we could we could
efficiently yeah uh no we could we could
try dropping it and the mini batches are
try dropping it and the mini batches are
just saying the one thing that you might
just saying the one thing that you might
want to do is you might want
want to do is you might want
to okay when you're calculating the
to okay when you're calculating the
preconditioner right instead of
preconditioner right instead of
fat passing in the batch gradient right
fat passing in the batch gradient right
you can also consider passing the mini
you can also consider passing the mini
batch
batch
gradient
gradient
um in instead so I I don't know how how
um in instead so I I don't know how how
it's set up to do it right now with your
it's set up to do it right now with your
code base but that might be something
code base but that might be something
of assume it is getting the mini batch
of assume it is getting the mini batch
gradient because we never actually
gradient because we never actually
compute the gradient of the of the whole
compute the gradient of the of the whole
batch
batch
okay um okay so then that should be fine
okay um okay so then that should be fine
I mean yeah you can you can try throwing
I mean yeah you can you can try throwing
Mars on it it's just you have to pay for
Mars on it it's just you have to pay for
the memory that's fine um
yeah I I think what we'll do is we'll
yeah I I think what we'll do is we'll
get we'll get the good Baseline and then
get we'll get the good Baseline and then
we'll run a couple just individual
we'll run a couple just individual
oblations with a couple of these like
oblations with a couple of these like
Boolean Flags like
Boolean Flags like
Mars and uh then we'll probably do a
Mars and uh then we'll probably do a
sweep on the constant or the uh The
sweep on the constant or the uh The
Continuous param now the thing that I
Continuous param now the thing that I
was hoping we could get which was we
was hoping we could get which was we
were so so close with muan and I assume
were so so close with muan and I assume
we'll probably be able to do similar
we'll probably be able to do similar
with
with
psgd we had pretty much one set of hyper
psgd we had pretty much one set of hyper
prams that worked on every end except
prams that worked on every end except
neural MMO 3 um I that was true of of
neural MMO 3 um I that was true of of
psgd right that's what you're saying
psgd right that's what you're saying
well it was true of muan we haven't
well it was true of muan we haven't
fully tested with psgd yet so the
fully tested with psgd yet so the
question is can we get something can we
question is can we get something can we
get some hyper parameters that are at
get some hyper parameters that are at
least decent on just about every N Out
least decent on just about every N Out
of the
Box I see with the exceptions
Box I see with the exceptions
potentially of gamma and Lambda CU I'm
potentially of gamma and Lambda CU I'm
going to be working on that
going to be working on that
separately MH that's kind of hard but
separately MH that's kind of hard but
yeah with the exceptions of those I
yeah with the exceptions of those I
think we should be able to do
think we should be able to do
it let's see where's our experiment here
it let's see where's our experiment here
just making sure this is set up
just making sure this is set up
correctly and and running before I go
okay but this is not supposed to come
okay but this is not supposed to come
off the ground yet so this is
off the ground yet so this is
fine okay I'm going to go get a I'm
fine okay I'm going to go get a I'm
going to go get some food and then I'm
going to go get some food and then I'm
going to come back and I'm not going to
going to come back and I'm not going to
babysit experiments because it's
babysit experiments because it's
freaking boring probably just going to
freaking boring probably just going to
implement gradient
implement gradient
accumulation um and we'll go from
accumulation um and we'll go from
there thanks for hanging out um um yeah
there thanks for hanging out um um yeah
yeah we'll we'll be running more tests
yeah we'll we'll be running more tests
on this I think but I think what I'm
on this I think but I think what I'm
going to do with this at the most
going to do with this at the most
is I'm going to just like keep running
is I'm going to just like keep running
the the stuff on Earl in the background
the the stuff on Earl in the background
I'm going to do you know deal with a
I'm going to do you know deal with a
little bit of other work other things I
little bit of other work other things I
got to deal with and then we'll come
got to deal with and then we'll come
back when we have sweep results and uh I
back when we have sweep results and uh I
mean hopefully this thing is good I'm
mean hopefully this thing is good I'm
going to have to look at the map at some
going to have to look at the map at some
point of this versus move on to
point of this versus move on to
understand what the heck it's
doing yeah I can I can teach you we can
doing yeah I can I can teach you we can
we can do a stream or something we can
we can do a stream or something we can
go through the math sure all right
go through the math sure all right
thanks man' and see you around thank you
