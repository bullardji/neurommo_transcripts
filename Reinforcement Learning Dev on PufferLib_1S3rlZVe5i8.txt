Kind: captions
Language: en
Five.
Hi. We are going to check on some
Hi. We are going to check on some
experiments. We're going to launch some
experiments. We're going to launch some
sweeps. Whenever Spencer is
sweeps. Whenever Spencer is
around, we will um do some stuff on GPU
around, we will um do some stuff on GPU
drive. We will go from
there. Discord needs to update. One
there. Discord needs to update. One
second.
All
All
right, let's just see uh when he is
right, let's just see uh when he is
around so we will be able to get to work
around so we will be able to get to work
on that
today built
today built
six.
Perfect. Huh.
We do have continuous action
support. Perfect.
support. Perfect.
So Spencer will be around in, you know,
So Spencer will be around in, you know,
whenever and we will look at the uh
whenever and we will look at the uh
driving simulator stuff and get those
driving simulator stuff and get those
experiments working. Uh I think what
experiments working. Uh I think what
we're going to do in the meantime is
we're going to do in the meantime is
we're going to look at the maze
we're going to look at the maze
experiments from earlier today and uh
experiments from earlier today and uh
also
also
the uh the breakout experiments. We're
the uh the breakout experiments. We're
going to launch some new hyperparam
going to launch some new hyperparam
sweeps. We're going to figure out a few
sweeps. We're going to figure out a few
small details there. That should have us
small details there. That should have us
in a spot where we have some really
in a spot where we have some really
really solid models. uh that we can now
really solid models. uh that we can now
start using those hyperparameters on
start using those hyperparameters on
other
other
environments. We can probably start
environments. We can probably start
hyperparam sweeping neural MMO and
hyperparam sweeping neural MMO and
really optimizing that. Yeah, lots and
really optimizing that. Yeah, lots and
lots of good things coming here. And one
lots of good things coming here. And one
message real
quick. Welcome Twitch folks.
Okay. So, where we left this off, uh, we
Okay. So, where we left this off, uh, we
were looking at these experiments over
were looking at these experiments over
here. Where'd it
here. Where'd it
go? All right. So, we got
go? All right. So, we got
these and we have the breakout graphs.
these and we have the breakout graphs.
These are super simple. But we also have
These are super simple. But we also have
this. This is best performance ever seen
this. This is best performance ever seen
on uh maze solving. In fact, why don't
on uh maze solving. In fact, why don't
we watch this policy real
quick? We've got this maze
policy. This is an incredibly difficult
policy. This is an incredibly difficult
environment for reinforcement learning.
environment for reinforcement learning.
Uh it's just seeing a little tiny window
Uh it's just seeing a little tiny window
around itself and it has to figure out
around itself and it has to figure out
how to do this whole maze. Uh we have
how to do this whole maze. Uh we have
this policy here. So what you're seeing
this policy here. So what you're seeing
now, even though this particular
now, even though this particular
instance it's not doing so well, you see
instance it's not doing so well, you see
how it's actually like backtracking
how it's actually like backtracking
somewhat coherently. Yeah, that's not a
somewhat coherently. Yeah, that's not a
thing that RL typically learns. And if
thing that RL typically learns. And if
you look at most works that do mazes
you look at most works that do mazes
with RL, they do little tiny mazes and
with RL, they do little tiny mazes and
then they come up with a bunch of really
then they come up with a bunch of really
specific methods for solving mazes uh
specific methods for solving mazes uh
just mazes or whatever or like they hack
just mazes or whatever or like they hack
additional exploration things onto it.
additional exploration things onto it.
Uh we didn't do any of that and this
Uh we didn't do any of that and this
kind of just does stuff. You can see
kind of just does stuff. You can see
it's exploring like pretty different
it's exploring like pretty different
sections of this maze. It's actually
sections of this maze. It's actually
gotten pretty close
now. You know, it just needs to get this
now. You know, it just needs to get this
last section here. This is a very hard
last section here. This is a very hard
maze.
Oh, come on,
Oh, come on,
Puffer. I'd be very impressed if it
Puffer. I'd be very impressed if it
solves this one. This one's really hard.
solves this one. This one's really hard.
Like, look at the length of the path
Like, look at the length of the path
here. Oh, yeah. Yeah, it's like all the
here. Oh, yeah. Yeah, it's like all the
way winding around this way. The very
way winding around this way. The very
hard maze and it's very
hard maze and it's very
close. I don't know why it's stuck on
close. I don't know why it's stuck on
this corner here. I think that this will
this corner here. I think that this will
just be improved when we tune the policy
just be improved when we tune the policy
generally. These little ones though, you
generally. These little ones though, you
can see it's like, yeah, no big deal. It
can see it's like, yeah, no big deal. It
just solves them,
right? The bigger ones can be
harder. See, like that was a big maze
harder. See, like that was a big maze
where the optimal path wasn't that hard.
where the optimal path wasn't that hard.
The ones where it's really hard though,
The ones where it's really hard though,
it's like you're not solving that with
it's like you're not solving that with
anything else in
RL. Okay, so this is what we have at the
RL. Okay, so this is what we have at the
moment on this.
Um, I'm trying to think where we go from
Um, I'm trying to think where we go from
here. There are a few little bits of
here. There are a few little bits of
analysis I want to still do.
So, we
So, we
have these hypers over here. This is
have these hypers over here. This is
from the optimized
run. I probably do want to rerun this
run. I probably do want to rerun this
sweep with like slightly better
args. I do want to also compare though
args. I do want to also compare though
the default hypers from before the
the default hypers from before the
sweep, the hypers we got after. First
sweep, the hypers we got after. First
let's do the breakout
let's do the breakout
ones. So on breakout
here Adam beta 1 got increased from 0.9
here Adam beta 1 got increased from 0.9
to.99. That's a big change. Beta 2 got
to.99. That's a big change. Beta 2 got
dropped no increased again an
dropped no increased again an
extra
extra
n. Epsilon is just always super low. We
n. Epsilon is just always super low. We
didn't sweep batch size or anything. I
didn't sweep batch size or anything. I
think entropy yeah entropy got
think entropy yeah entropy got
increased.
increased.
Lambda stayed the
Lambda stayed the
same. Gamma got decreased. Actually in
same. Gamma got decreased. Actually in
line with what I would
line with what I would
expect. Uh learning rate I believe got
expect. Uh learning rate I believe got
doubled because mini batch size also got
doubled because mini batch size also got
doubled. That's
doubled. That's
sensible. Max grad norm got tripled.
sensible. Max grad norm got tripled.
Okay. And then the value function
Okay. And then the value function
coefficient was high before and is still
coefficient was high before and is still
high now. Okay. So we have some changes
high now. Okay. So we have some changes
here.
here.
Um, not a huge number of changes, but we
Um, not a huge number of changes, but we
definitely have some
definitely have some
changes. I think what we're going to do
changes. I think what we're going to do
is we are going to rerun the sweeps with
is we are going to rerun the sweeps with
uh some changes to the ranges over which
uh some changes to the ranges over which
we're allowed to
we're allowed to
sweep. I think we will probably rerun
sweep. I think we will probably rerun
both breakout and
both breakout and
uh and
uh and
mazes. The breakout sweep will be done
mazes. The breakout sweep will be done
later today. It's quite quick. The maze
later today. It's quite quick. The maze
sweep will take longer.
sweep will take longer.
So then later once we're done with the
So then later once we're done with the
maze sweep, we will start sweeping some
maze sweep, we will start sweeping some
other environments such as GPU drive or
other environments such as GPU drive or
uh Impulse Wars or any of those because
uh Impulse Wars or any of those because
we're starting to actually get to where
we're starting to actually get to where
we can really use this stuff
we can really use this stuff
effectively. So few things to
effectively. So few things to
start before I
forget. Generally, we do want to
have I think you generally want to have
have I think you generally want to have
a few random
runs. Yeah, I think you generally do
runs. Yeah, I think you generally do
want to have um a few random runs
here. I think if that makes sense.
versus starting with some
defaults. Maybe if you don't have a
defaults. Maybe if you don't have a
search center to seed
search center to seed
with, maybe then it makes sense.
Something like that.
I don't know why I stopped doing uh
I don't know why I stopped doing uh
audio books. I don't know.
I haven't at all this
year. I guess we don't really need to do
year. I guess we don't really need to do
anything with this if
um it just seems really weird to me to
um it just seems really weird to me to
rely on random
rely on random
search for much of anything.
Like you have 20 dimensional space and
Like you have 20 dimensional space and
you just pick five random points. Like
you just pick five random points. Like
that scales
terribly. I think we just do it this
way. Yeah, just do it this way. And you
way. Yeah, just do it this way. And you
have to have like at least something
have to have like at least something
that kind of trains to start with.
that kind of trains to start with.
That's no
problem. Okay. So now the main thing
problem. Okay. So now the main thing
that we need to do
then we need to add um add some defaults
then we need to add um add some defaults
in here.
We want to sweep clip
coefficient and value function clip
coefficient train clip
coefficient train clip
coefficient be
coefficient be
uniform can't be zero.
Yes, it technically could be, but that'd
Yes, it technically could be, but that'd
be really weird.
What's like a reasonable
What's like a reasonable
max?
max?
One and then we set mean at
0.1 makes sense as a
0.1 makes sense as a
uniform. I think this makes sense as a a
uniform. I mean, everything you do with
uniform. I mean, everything you do with
this, right, it makes it harder to
this, right, it makes it harder to
learn,
but value function clip coefficient can
but value function clip coefficient can
be way higher though,
be way higher though,
right? Be like five max or
right? Be like five max or
something. Or do we also set this to one
something. Or do we also set this to one
max?
I think we'll set it to five
max. These are both at um 0.1 mean
max. These are both at um 0.1 mean
though the
scale. It's at
auto. So those are a few things.
epoxy really want to sweep update epochs
though. Do
I Does it make
sense? The thing is it's like it's
sense? The thing is it's like it's
tricky because it's a discrete variable.
If I just don't do this for now, we just
If I just don't do this for now, we just
keep it at one update epoch,
right? And then we just like comment
this. Are there any other prams we
this. Are there any other prams we
should sweep? Two. Three, four,
should sweep? Two. Three, four,
five, six. Oh, this should not
five, six. Oh, this should not
be. This should be like log or
be. This should be like log or
something,
right?
Yeah. One, two, three, four, five, six,
Yeah. One, two, three, four, five, six,
eight.
You get your priorities. You got your
betas. Oh, hey, Spencer's around
now. Perfect.
Looks like we'll do some GPU drive
Looks like we'll do some GPU drive
stuff. Let me see if I can at least kick
stuff. Let me see if I can at least kick
off these
off these
experiments while
experiments while
uh he gets
uh he gets
here. Think we can just launch him.
This should be way longer though, right?
This should be way longer though, right?
This should be
like Let's double it
maybe. Probably not even
maybe. Probably not even
enough. I don't want it to go like
enough. I don't want it to go like
crazy, though.
Let's start our new sweeps.
Hey, Spencer.
Hey, Spencer.
Hey. How's it going?
Hey. How's it going?
I'm pretty good.
I'm pretty good.
Um, we're doing quite well here. The
Um, we're doing quite well here. The
sweeps were pretty nice overnight.
sweeps were pretty nice overnight.
Nice address. I'm trying to get a clean
Nice address. I'm trying to get a clean
version into release right now. I can
version into release right now. I can
help with that.
Um, when I was trying to do like just an
Um, when I was trying to do like just an
a down and dirty just kind of like
a down and dirty just kind of like
pulling things from release into mine, I
pulling things from release into mine, I
ran into a kind of an odd error where I
ran into a kind of an odd error where I
was looking for an underscore C package.
was looking for an underscore C package.
I don't know if that's something you're
I don't know if that's something you're
Yeah. Oops.
Yeah. Oops.
I have to I Yeah, I have to show you.
I have to I Yeah, I have to show you.
There's There's a jank way you have to
There's There's a jank way you have to
build the new release stuff. My bad. I
build the new release stuff. My bad. I
forgot to tell you about that.
forgot to tell you about that.
No problem. Uh, I think the cleanest way
No problem. Uh, I think the cleanest way
to go about this would be for me to just
to go about this would be for me to just
make a new branch from release and then
make a new branch from release and then
just start dropping the the files I had
just start dropping the the files I had
from the puffer drive branch just
from the puffer drive branch just
directly from like the four files it is
directly from like the four files it is
from the in the GPU drive. Uh, just like
from the in the GPU drive. Uh, just like
check out what you would do is you would
check out what you would do is you would
just make why you don't want to just
just make why you don't want to just
merge it into the release branch. Um
merge it into the release branch. Um
because the it seems like when I was
because the it seems like when I was
looking at the PR differences when uh I
looking at the PR differences when uh I
was going to make a PR with just like
was going to make a PR with just like
kind of pulling in release, it had like
kind of pulling in release, it had like
50 files that were changed. Yeah. But it
50 files that were changed. Yeah. But it
should none of it should really affect
should none of it should really affect
you,
right? But it may affect the other
right? But it may affect the other
release things. No. From just maybe
release things. No. From just maybe
things. No, not if you just add if
things. No, not if you just add if
you're just adding in GPU drive as an
you're just adding in GPU drive as an
end, it
end, it
won't. And also the release branch is
won't. And also the release branch is
like the branch that I'm working on for
like the branch that I'm working on for
the release. It's not like it is the
the release. It's not like it is the
current release, right? Sure. It's Yeah,
current release, right? Sure. It's Yeah,
I'd rather just have this thing like up
I'd rather just have this thing like up
to date because like my plan is to work
to date because like my plan is to work
more closely with you on this since you
more closely with you on this since you
have more time. So, we just like, you
have more time. So, we just like, you
know, nail this thing and we get this to
know, nail this thing and we get this to
NYU before like everybody's fully gone
NYU before like everybody's fully gone
and you know, like we just Yeah. Like we
and you know, like we just Yeah. Like we
get the thing going quick. Basically,
get the thing going quick. Basically,
whenever anything is working fully in
whenever anything is working fully in
release, like dev goes fast because I
release, like dev goes fast because I
can test my latest stuff on it by
can test my latest stuff on it by
default. And whenever it doesn't, it's
default. And whenever it doesn't, it's
slow.
slow.
Okay, then.
Okay, then.
Um, yeah, I mean, there's just a bunch
Um, yeah, I mean, there's just a bunch
of files you change that I have not
of files you change that I have not
touched. So, I'm just going to kind of
touched. So, I'm just going to kind of
assume that these are not fine. I'll
assume that these are not fine. I'll
show you how to build them then with um
show you how to build them then with um
stuff in here.
Let me just triple check that it has the
Let me just triple check that it has the
right thing.
Okay. All right. PRing buffer drive into
Okay. All right. PRing buffer drive into
the release
branch. And I am also uh I'm just
branch. And I am also uh I'm just
launching some new sweeps for us real
launching some new sweeps for us real
quick.
quick.
I'm like fine-tuning the uh the sweep
I'm like fine-tuning the uh the sweep
system for us so like it really nails
system for us so like it really nails
everything. We got some pretty cool
everything. We got some pretty cool
results on mazes
overnight. Oh, that's sick.
Okay.
Okay.
Yeah. Did you just push something to
Yeah. Did you just push something to
release? Oh, I'm always pushing stuff to
release? Oh, I'm always pushing stuff to
release.
release.
Okay. Hold up. Like Yeah, of course. I
Okay. Hold up. Like Yeah, of course. I
pushed like stuff like five times in the
pushed like stuff like five times in the
last few minutes.
last few minutes.
Okay. Well, I'm trying to sync my fork
Okay. Well, I'm trying to sync my fork
of release into yours. I mean to make
of release into yours. I mean to make
sure that I have Well, I didn't say I
sure that I have Well, I didn't say I
was going to make it easy on you.
was going to make it easy on you.
All right. Don't Don't push something
All right. Don't Don't push something
for like minutes. Okay. Let me in your
for like minutes. Okay. Let me in your
damn thing.
I wasn't actually trying to just mess
I wasn't actually trying to just mess
with that. I just happened to be setting
with that. I just happened to be setting
up hyperparam sweeps and needed to sync
up hyperparam sweeps and needed to sync
Thanks.
All right. Have our sweeps
All right. Have our sweeps
done. Those are all
done. Those are all
launched. The latest configs. Expect
launched. The latest configs. Expect
great things from them.
great things from them.
Um, soon as you have that done, I will
Um, soon as you have that done, I will
merge things. We should be good to
merge things. We should be good to
[Music]
go. Okay, so that merge should be in
go. Okay, so that merge should be in
here. So now if I go to the
PRs, I think it should just
PRs, I think it should just
automatically update my PR with the
automatically update my PR with the
thing I just did.
You know, one crazy thing
You know, one crazy thing
uh since starting Puffer is a lot of my
uh since starting Puffer is a lot of my
spam has now turned into like marketing
spam has now turned into like marketing
for founders.
So, I get I get DMs like, "Hey, you want
So, I get I get DMs like, "Hey, you want
to pay us to help us help us get you
to pay us to help us help us get you
into the news?" It's like, "Can I pay
into the news?" It's like, "Can I pay
you to like keep us out of the news?"
you to like keep us out of the news?"
Oh. Have you gotten the author spams
Oh. Have you gotten the author spams
where they're like, "Can I can I write a
where they're like, "Can I can I write a
book about you?"
book about you?"
No, I don't get those. I get like, "Can
No, I don't get those. I get like, "Can
you like submit your paper to this like
you like submit your paper to this like
crap predatory conference?"
Okay.
Is this to do.
What file did I just get to make sure
What file did I just get to make sure
this is
I await PR.
I await PR.
Yes. Yes. Yes.
Just trying to make sure I don't nuke
Just trying to make sure I don't nuke
your code base. I mean, I do it
your code base. I mean, I do it
constantly.
constantly.
I do have a PR up. We are literally two
I do have a PR up. We are literally two
stars off of
stars off of
2K. Come on. There at least two people
2K. Come on. There at least two people
watching this who have not started the
watching this who have not started the
repo. Start the
repo. It's
repo. It's
free. All right. There's a buffer drive
free. All right. There's a buffer drive
PR
PR
open to merge my puffer drive from my
open to merge my puffer drive from my
somebody opened of Intel.
somebody opened of Intel.
Yeah, I saw that request earlier. I
Yeah, I saw that request earlier. I
don't know what it was for.
Is this an actual person or is this like
Is this an actual person or is this like
I'm starting to suspect that there are
I'm starting to suspect that there are
um
um
way
way
but like the thing is I I didn't type
but like the thing is I I didn't type
this anywhere. So that means that they
this anywhere. So that means that they
have bots doing
have bots doing
Yeah, they're doing like captioning
Yeah, they're doing like captioning
followed by this stuff.
That's really
aggressive. I mean,
aggressive. I mean,
like this one for
like this one for
instance.
Possibly. There are a lot of like
Possibly. There are a lot of like
coherent but like very random off-topic
coherent but like very random off-topic
things.
Oh, you did open the PR. Yeah. Is this
Oh, you did open the PR. Yeah. Is this
ready to be merged? It should be. Oh, I
ready to be merged? It should be. Oh, I
thought you were still doing it.
Okay. Merge into
Okay. Merge into
release. 26 file
changes. Let me see what you
changes. Let me see what you
did. 26 files is
did. 26 files is
I was telling you it's a lot. But like
I was telling you it's a lot. But like
there's Connect 4 stuff in here.
Are these fixes for things? That's why I
Are these fixes for things? That's why I
was saying cuz this this is stuff that
was saying cuz this this is stuff that
just came in from from
just came in from from
dev. So I can make a cleaner one with
dev. So I can make a cleaner one with
just GPU drive stuff. Oh yeah, that's
just GPU drive stuff. Oh yeah, that's
Yeah, that was the idea because like
Yeah, that was the idea because like
there's a whole bunch of Connect 4 stuff
there's a whole bunch of Connect 4 stuff
in here.
in here.
That's that's what I was trying to say,
That's that's what I was trying to say,
but you were like just just nuke it. So
but you were like just just nuke it. So
yeah. No, I meant like just give me the
yeah. No, I meant like just give me the
the GPU drive files and just shove them
the GPU drive files and just shove them
to dev. Okay, that's what I'm going to
to dev. Okay, that's what I'm going to
do. It shouldn't be 26 files. Like you
do. It shouldn't be 26 files. Like you
shouldn't need to change. No, it should
shouldn't need to change. No, it should
be like four.
Yeah. Yeah. Okay. I I guess that was not
Yeah. Yeah. Okay. I I guess that was not
clear. So yes, that is what I
meant. Not break other ends.
I'm going to give you a minute to do
I'm going to give you a minute to do
that. I will be right back. Yeah.
How we doing?
I'm getting through one file right now.
I'm getting through one file right now.
I'm doing them all one at a time.
I'm doing them all one at a time.
I'm doing this via the
I'm doing this via the
box right now.
box right now.
So like copy pasting files. Yep.
Have you seen
Have you seen
um Tyler slash big cat slash whatever
um Tyler slash big cat slash whatever
the heck his other username is around in
the heck his other username is around in
the discord or wherever?
Um was he the circuit guy or was he he
Um was he the circuit guy or was he he
does uh pulse power. He's like
does uh pulse power. He's like
He's uh yeah, he does like pulse power
He's uh yeah, he does like pulse power
stuff. Um and he's trying to do RL
stuff. Um and he's trying to do RL
things as well. And
things as well. And
apparently he's gotten himself uh an
apparently he's gotten himself uh an
intern who wants to do RL drone things
intern who wants to do RL drone things
over the summer. Oh,
cool. So, if you're looking
cool. So, if you're looking
to set stuff up in that space and have
to set stuff up in that space and have
some help with it.
some help with it.
Yep.
Yep.
I outsource things to you and you
I outsource things to you and you
outsource things further on.
outsource things further on.
Yeah, let me uh let me work on that.
Almost done. I'm on the last file.
If you didn't do it already, I would
If you didn't do it already, I would
make sure just to reject that uh PR, the
make sure just to reject that uh PR, the
previous one.
previous one.
This
This
whatever. I think the one is 217 or
whatever. I think the one is 217 or
something like that. The most whatever
something like that. The most whatever
that one was. Okay. The one that had
that one was. Okay. The one that had
like all the file changes.
Oh, hold up. You're going to
Oh, hold up. You're going to
need What else are you going to
need? Oh, how am I going to get these
need? Oh, how am I going to get these
things into you?
be a minute.
Yeah. I'm just thinking it was the
Yeah. I'm just thinking it was the
easiest way to get the GB files over
easiest way to get the GB files over
from the other branch. GLB
from the other branch. GLB
the model files for the cars.
What is the best way?
Okay, I think I
Well, certainly providing me ample time
Well, certainly providing me ample time
for exercise.
for exercise.
Oh, chill.
Oh, chill.
I'm typing at light speed.
I'm typing at light speed.
I'm not complaining.
I'm not complaining.
It used to be I'd have to just sit
It used to be I'd have to just sit
there, but now I have all sorts of fun
things. All right, now I got the car
things. All right, now I got the car
models over. Let me pull up the Now, let
models over. Let me pull up the Now, let
me make the
PR All
right, that's more like it. 10 file
changes. Okay, I did that into the
changes. Okay, I did that into the
release branch. All right. Lean puffer
drive Python file.
drive Python file.
It should have four major files and then
It should have four major files and then
six car models.
six car models.
Perfect.
Um, when I one Yeah. Well, first I guess
Um, when I one Yeah. Well, first I guess
I want to know how do you set up your
I want to know how do you set up your
All right, let me show you. It's kind of
All right, let me show you. It's kind of
dumb.
dumb.
It's kind of real
It's kind of real
dumb. The first thing we do, let's build
dumb. The first thing we do, let's build
your GPU drive
your GPU drive
thing, which
thing, which
is Syon extensions. Yeah, it should be
is Syon extensions. Yeah, it should be
Syon.
It's just called
It's just called
extensions. So we go to ext modules and
extensions. So we go to ext modules and
build
extensions. Yes.
extensions. Yes.
Okay. That builds GPU
Okay. That builds GPU
drive. Okay. So that builds correctly.
Yeah. It didn't look like any errors
Yeah. It didn't look like any errors
came up. Mhm. And now what we have to do
came up. Mhm. And now what we have to do
Whoops.
Whoops.
is we have to
is we have to
do forch extensions with this build
do forch extensions with this build
command.
So the same build command this command
So the same build command this command
class build has to get uncommented.
class build has to get uncommented.
Oh, okay. It's annoying cuz
Oh, okay. It's annoying cuz
like there's a bunch of stuff I have to
like there's a bunch of stuff I have to
do to make this not as to set
do to make this not as to set
up.
up.
Basically, essentially, Python tooling
Basically, essentially, Python tooling
is just terrible.
GPU drive is now in.
Oh, it might be on uh performance right
Oh, it might be on uh performance right
now, not demo.
Six could be
Six could be
faster. There we
faster. There we
are. GPU drive is got to be puffer drive
are. GPU drive is got to be puffer drive
or something because it's not on a GPU
or something because it's not on a GPU
anymore.
anymore.
Yeah,
Yeah,
buffer drive.
buffer drive.
Should probably pick a different map as
Should probably pick a different map as
the map it just spawns in. Yeah, wrecks
the map it just spawns in. Yeah, wrecks
itself. But
I thought these were like It's not
I thought these were like It's not
perfect,
but we zoom out. I don't think they're
but we zoom out. I don't think they're
like that
noticeable. All right. All right. So,
noticeable. All right. All right. So,
now that you have that done, uh, one
now that you have that done, uh, one
thing I noticed when I tried to do the
thing I noticed when I tried to do the
latest run after our work yesterday was
latest run after our work yesterday was
it just doesn't work at
it just doesn't work at
all. Even though I just pulled it
all. Even though I just pulled it
in to the latest one we had with the
in to the latest one we had with the
latest config
latest config
changes, the value loss was like spiking
changes, the value loss was like spiking
to like infinity.
to like infinity.
So, when you did what then? The value
So, when you did what then? The value
loss spikes to infinity. um when I just
loss spikes to infinity. um when I just
pulled from last night's
pulled from last night's
work and then copied over the
work and then copied over the
uh
config like I wasn't able to match the
config like I wasn't able to match the
point4 that I had from yesterday.
point4 that I had from yesterday.
See this config
needs needs tweaks apparently.
Don't have a sweep thing defined in
Don't have a sweep thing defined in
here. Oh, it's supposed to be I didn't
here. Oh, it's supposed to be I didn't
push a config file.
push a config file.
Upper G drive.
We do Horizon
We do Horizon
91. And what did we say we were going to
91. And what did we say we were going to
do? Uh, if you look in the general chat,
do? Uh, if you look in the general chat,
you you copied it from last night. Okay.
you you copied it from last night. Okay.
So, let's just
that. Um, let's see what else would you
that. Um, let's see what else would you
not have in the release branch.
You're not going to have all the
You're not going to have all the
binaries, I don't think. What binaries?
binaries, I don't think. What binaries?
Like all the maps. Oh, yeah. How we get
Like all the maps. Oh, yeah. How we get
um You got to go
um You got to go
to Let me go to the GPU drive.
to Let me go to the GPU drive.
Well, I I have them on the same machine
Well, I I have them on the same machine
from anyways, right?
from anyways, right?
Did they get wiped from the being on
Did they get wiped from the being on
this branch? They're not tracked by yet.
banded
tensor cuz this stuff is now in
Beck. I am here to help fix things.
Total agents.
Is the eight still hardcoded in there?
Is the eight still hardcoded in there?
It shouldn't be. No, it should just be
It shouldn't be. No, it should just be
the 582 now or whatever it
the 582 now or whatever it
is. I took that out.
Yeah, all those eights were taken
out. Okay, so the VMs has a ton of
out. Okay, so the VMs has a ton of
agents for some weird reason.
Okay. 1,900 agents in one file for 64
Okay. 1,900 agents in one file for 64
maps. That's high, right? For it should
maps. That's high, right? For it should
be 75 maps, but I don't know if you just
be 75 maps, but I don't know if you just
set it at 64. Yeah, I did. But this is
set it at 64. Yeah, I did. But this is
too big. Yeah, it should be nowhere near
too big. Yeah, it should be nowhere near
that high. Okay, so um
that high. Okay, so um
M 256 M is high, right? Yes, it is. That
M 256 M is high, right? Yes, it is. That
would be more appropriate if it was 256.
would be more appropriate if it was 256.
Oh,
64. All these rewards are also screwy.
64. All these rewards are also screwy.
They should be 75.
We'll edit CUDA for you. I
suppose works with 128
maybe.
No. Oh, we had
No. Oh, we had
um there was like a weird mini batching
um there was like a weird mini batching
thing,
thing,
remember? So, this is where we said it
remember? So, this is where we said it
would be easier if
would be easier if
um if you did the thing where we like
um if you did the thing where we like
crop it, do a big batch size, but then
crop it, do a big batch size, but then
you just picked a mini bin mini batch
you just picked a mini bin mini batch
size that works. also like cropping so
size that works. also like cropping so
that the agents the M's just give you a
that the agents the M's just give you a
clean number
clean number
cuz remember I had to do
cuz remember I had to do
Yeah, we talked about the idea of just
Yeah, we talked about the idea of just
picking the number of agents and then
picking the number of agents and then
picking the maps
accordingly. I I did not implement that.
accordingly. I I did not implement that.
Well, I will do something. I'll do the
Well, I will do something. I'll do the
same thing I did for now for before.
which is in computing puffer advantage.
Okay. So, this is now training.
Okay. So, this is now training.
Yeah. And when I was trying to run this,
Yeah. And when I was trying to run this,
maybe maybe now it'll be fixed, but
maybe maybe now it'll be fixed, but
before value loss started going crazy
before value loss started going crazy
mode.
I'm pushing you this path.
I'm pushing you this path.
Yeah.
And then we will see whether value loss
And then we will see whether value loss
is still
is still
crazy. Very
good. Out of memory.
weird.
weird.
Something is
Something is
Yeah, something is just like eating all
Yeah, something is just like eating all
the
memory. There's this one command on
memory. There's this one command on
uh kill all literally doesn't do
uh kill all literally doesn't do
anything. This freaking like ridiculous
anything. This freaking like ridiculous
thing that actually works.
thing that actually works.
every
every
time. One freaking stack overflow
post. So, something changed cuz this
post. So, something changed cuz this
only has 700k per.
Didn't you make it 512?
Yeah, I did. So this that's not in
this. I made the It was 64512, right?
this. I made the It was 64512, right?
Yeah, it was
Yeah, it was
512. Okay. And then we had N75, but I
512. Okay. And then we had N75, but I
get picking 64 doesn't really matter
get picking 64 doesn't really matter
either way. I did that to match um some
either way. I did that to match um some
dimensions.
This is the correct model
size. This is actually faster as
well. Now we're at 400k train.
well. Now we're at 400k train.
Okay. With 50% copy overhead.
What is the copy overhead? I don't think
What is the copy overhead? I don't think
I ever knew. It's just taking the
I ever knew. It's just taking the
observations and putting them on the
observations and putting them on the
GPU.
Oh's too chunky.
I mean that task is mandatory, right?
I mean that task is mandatory, right?
You can't like not put it on GPU.
You can't like not put it on GPU.
Technically in Python 314 if they nail
Technically in Python 314 if they nail
threading or if I write a C++
threading or if I write a C++
uh or a C-blaced my not C++ a C-based uh
uh or a C-blaced my not C++ a C-based uh
thread back end for puffer ms we will be
thread back end for puffer ms we will be
able to um put stuff into torch
able to um put stuff into torch
asynchronously on each worker so we
asynchronously on each worker so we
won't have to block on it.
So there is still more optimizing I can
So there is still more optimizing I can
do. You know the year is 2027. Puffer
do. You know the year is 2027. Puffer
trains at 20 million steps per
second. Well, I mean you started at 1
second. Well, I mean you started at 1
million and I think many are now in the
million and I think many are now in the
two to three range.
two to three range.
Mhm. We're making good progress.
Mhm. We're making good progress.
The value
The value
loss may or m may not be exploding.
loss may or m may not be exploding.
Mine is going to like hundreds of
Mine is going to like hundreds of
thousands.
thousands.
Well, how immediately?
Well, how immediately?
Within pretty quick range. Yeah, seems
Within pretty quick range. Yeah, seems
fine.
fine.
Check our
Neptune. This is loading the uh the GPU
Neptune. This is loading the uh the GPU
pretty well, I will say.
That doesn't actually mean you're using
That doesn't actually mean you're using
it
effectively. There we
effectively. There we
go. So, this is doing. So, it is okay.
go. So, this is doing. So, it is okay.
It is learning again. So, I don't know
It is learning again. So, I don't know
why mine was like going crazy, but maybe
why mine was like going crazy, but maybe
because I just didn't have
because I just didn't have
the advantages change or whatever and
the advantages change or whatever and
the puff
the puff
advantage. Uh, it's supposed to like
advantage. Uh, it's supposed to like
fail without that. So, I don't know what
fail without that. So, I don't know what
you had.
you had.
I don't
I don't
know. But this seems close to what we
know. But this seems close to what we
were getting yesterday. Yeah. I mean, it
were getting yesterday. Yeah. I mean, it
was it capped at like point4, I think.
Okay. So, um let it What is the most
Okay. So, um let it What is the most
productive thing we can do with this? we
productive thing we can do with this? we
have it run a sweep or
have it run a sweep or
um I think it would probably be worthy
um I think it would probably be worthy
of one checking to make sure my logging
of one checking to make sure my logging
is as correct as I believe it should be
is as correct as I believe it should be
for what we're trying to accomplish on
for what we're trying to accomplish on
completion rate for being
completion rate for being
score two looking at the data.
score two looking at the data.
Okay, let's do that probably before
Okay, let's do that probably before
running the sweep. I know we talked
running the sweep. I know we talked
about yesterday sweeping and then
about yesterday sweeping and then
checking out data, but yeah, this is
checking out data, but yeah, this is
lagging like local.
So driving simulator.
Uh the last one should be
Uh the last one should be
by
by
200 time
7 or time 13 per
se. None of these numbers
match. Also why is it's 63
match. Also why is it's 63
partner 64* 7 road.
partner 64* 7 road.
So it's 60 because
So it's 60 because
there's up to 64 cars. So 64 minus one
there's up to 64 cars. So 64 minus one
is 63 partner
and then it's seven plus six on the
and then it's seven plus six on the
attributes for the road because there's
attributes for the road because there's
six one hot encoded
six one hot encoded
um categories of of the type of road
um categories of of the type of road
classifications.
But that's not what I mean that's not
But that's not what I mean that's not
what's in the observations here, right?
Like you're grabbing the
first.
first.
See? Yeah. You're grabbing the road
See? Yeah. You're grabbing the road
points are totally messed up then if
points are totally messed up then if
there 13 attributes of them, right?
there 13 attributes of them, right?
Wait, wait. Are you okay? Where is this
Wait, wait. Are you okay? Where is this
breakpoint? Is this breakpoint in torch
breakpoint? Is this breakpoint in torch
or is this breakpoint in
or is this breakpoint in
torch? Okay. Okay. So the observations
torch? Okay. Okay. So the observations
coming in should be in the shape of 200*
coming in should be in the shape of 200*
7 and then when they get passed into the
7 and then when they get passed into the
network they you get we I add in the the
network they you get we I add in the the
one hot afterwards but even then that
one hot afterwards but even then that
number seems to be off somehow. Yeah.
number seems to be off somehow. Yeah.
None of these match
None of these match
right? I guess this one this one
right? I guess this one this one
matches 1847.
Okay. So,
Okay. So,
would 4136 be the number of aid? Wait,
would 4136 be the number of aid? Wait,
this is the batch size.
this is the batch size.
Okay. So, if the 1847 is matching, that
Okay. So, if the 1847 is matching, that
makes more sense. So, it's 200 road
makes more sense. So, it's 200 road
points and they each have seven
points and they each have seven
attributes.
attributes.
Yes. And then I do the one hunt
Yes. And then I do the one hunt
afterwards when passing it to the
layer inside of the torch policy.
So what do these dimensions represent?
So what do these dimensions represent?
The first six should
be the relative gold distance.
The first one has two cars on top of
The first one has two cars on top of
each other for the first point.
each other for the first point.
So the first point should have real goal
So the first point should have real goal
X and real goal Y. And these are all
X and real goal Y. And these are all
normalized.
The first two observation calls are the
The first two observation calls are the
first two observations are the same
first two observations are the same
here.
How big is this
How big is this
function? Possibly big.
function? Possibly big.
I would argue something is funky. Then
I would argue something is funky. Then
it could be that it's like the same map
it could be that it's like the same map
or something loaded that way, but it
or something loaded that way, but it
would be weird.
would be weird.
It should be the second
map because each of those should be
map because each of those should be
their own independent
map. It would be a little odd if the
map. It would be a little odd if the
first one is copied to the same world
first one is copied to the same world
again.
My favorite trick.
Oh, we can't do this because you have
Oh, we can't do this because you have
Syon.
Syon.
We can't do it because you have Syon,
We can't do it because you have Syon,
right?
right?
Yeah. And damn
Yeah. And damn
it. Uh, if you want to put it into
it. Uh, if you want to put it into
non-syon, we can try as
I don't think I've done anything to fix
I don't think I've done anything to fix
your map loading shenanigans. I guess Do
your map loading shenanigans. I guess Do
you load them in Python anyways?
No, they're loaded in C.
Does anything need to get What do you
Does anything need to get What do you
actually need to pass to
these? You just pass observations,
these? You just pass observations,
actions, rewards,
actions, rewards,
terminals,
terminals,
coefficients, offsets, and then yeah,
coefficients, offsets, and then yeah,
that's the weird thing I do is to get
that's the weird thing I do is to get
the agent offsets. But you make these in
the agent offsets. But you make these in
GPU drive and then you pass them to GPU
GPU drive and then you pass them to GPU
drive. Yeah.
drive. Yeah.
So you don't use these for anything in
So you don't use these for anything in
this Python.
this Python.
No, but you use it in the Sython. So it
No, but you use it in the Sython. So it
gets passed to
gets passed to
Syon because the Syon uses those offsets
Syon because the Syon uses those offsets
to determine how to offset the
to determine how to offset the
observations, rewards, and actions. Why
observations, rewards, and actions. Why
Why can't you just do this in the init?
Why can't this just be in the init?
Why can't this just be in the init?
Because numbum agents has to be set
Because numbum agents has to be set
ahead of time to the correct number.
ahead of time to the correct number.
Ah,
Ah,
okay. Well, we can do that easy enough,
okay. Well, we can do that easy enough,
I
I
think. I don't know. It would be kind of
think. I don't know. It would be kind of
cool to get this into the new bindings
cool to get this into the new bindings
today. It would make debugging a hell of
today. It would make debugging a hell of
a lot easier.
a lot easier.
Do you use all this entity DT type stuff
Do you use all this entity DT type stuff
that I think is an artifact at this
that I think is an artifact at this
point?
Uhhuh. How complicated is
thing? Total agent is basically making a
thing? Total agent is basically making a
fake env to run a function to get the
fake env to run a function to get the
right account.
with some small modifications then I
with some small modifications then I
think we can make this work because
here this is the binding that I have for
here this is the binding that I have for
uh the grid end and here I make I
uh the grid end and here I make I
generate all the maps in
generate all the maps in
C right so this gets called once at the
C right so this gets called once at the
start and then I just
start and then I just
like where is it
levels. Yeah. So here like I make this
levels. Yeah. So here like I make this
levels thing and I can actually return
levels thing and I can actually return
it. You can return a pi
object. You could just return num maps
object. You could just return num maps
or whatever with this. Or you could just
or whatever with this. Or you could just
init the levels either
init the levels either
way. This actually you you have to
way. This actually you you have to
create all the levels twice, don't you?
create all the levels twice, don't you?
In the current approach, yes, because
In the current approach, yes, because
one time you have to create the levels
one time you have to create the levels
to get the agent counts from them and
to get the agent counts from them and
then the second one's the actual So
then the second one's the actual So
maybe this lets you just do it then
maybe this lets you just do it then
because here I make all the levels. I
because here I make all the levels. I
don't return the count of them to be
don't return the count of them to be
fair, though that's easy enough to do.
fair, though that's easy enough to do.
And I keep the levels and see
And I keep the levels and see
the one Okay. I don't actually know if
the one Okay. I don't actually know if
that's an issue on this end, but it's
that's an issue on this end, but it's
something we'll have to test out is if
something we'll have to test out is if
we're going to break the memory limit.
we're going to break the memory limit.
The memory limit of what? Because it's
The memory limit of what? Because it's
cal. There's a bunch of
cal. There's a bunch of
cache
cache
like that goes on when you initialize
like that goes on when you initialize
the levels.
the levels.
But that's like stack limit.
But that's like stack limit.
Yeah. But you can
Yeah. But you can
cal you can put it on the heap.
I think we just I thought when we talked
I think we just I thought when we talked
about this we just determined that the
about this we just determined that the
number may just end up being too big.
Well, if it doesn't fit on the heap,
Well, if it doesn't fit on the heap,
then it doesn't fit in RAM,
right? I mean, how much RAM do we have?
right? I mean, how much RAM do we have?
What are you doing now if it's not in
What are you doing now if it's not in
RAM?
Well, it's only doing those 75 levels. I
Well, it's only doing those 75 levels. I
thought I'm talking about like as you
thought I'm talking about like as you
get to like 10,000 levels. Oh, yeah. But
get to like 10,000 levels. Oh, yeah. But
then like we all have the same bloody
then like we all have the same bloody
problem in Syon or in or in this, right?
What does Syon let you do that you don't
What does Syon let you do that you don't
know if you can do here?
in the new binding.
Okay, if you just cal up each of the
Okay, if you just cal up each of the
states of a level. I mean, I think
states of a level. I mean, I think
you're going to have to what? Create a
you're going to have to what? Create a
new state object inside the inside of
new state object inside the inside of
the end.
the end.
Uh that's what we did for this for the
Uh that's what we did for this for the
grid because we load and save a bunch of
grid because we load and save a bunch of
levels very often is probably the way
levels very often is probably the way
you would want to do it because like
you would want to do it because like
that's the same type of way I did it for
that's the same type of way I did it for
tower climb too is like I just generated
tower climb too is like I just generated
all the levels at once. The levels
all the levels at once. The levels
aren't big. Wait, the levels aren't like
aren't big. Wait, the levels aren't like
big, right? The issue is that when you
big, right? The issue is that when you
when you materialize them into the
when you materialize them into the
format that's like efficient to compute
format that's like efficient to compute
observations over, they get big, right?
observations over, they get big, right?
Yes, that's correct. So we can just like
Yes, that's correct. So we can just like
we can load them either fully expanded
we can load them either fully expanded
or just like load the files and whatever
or just like load the files and whatever
for now and then when you reset you can
for now and then when you reset you can
rematerialize.
Okay, I'm I like that approach. Well, we
Okay, I'm I like that approach. Well, we
don't even we'll just do exactly what
don't even we'll just do exactly what
you're doing now. That's just like we
you're doing now. That's just like we
have outs for when we want to scale
have outs for when we want to scale
this.
this.
Right.
Right.
Uh, the only thing is I guess if we want
Uh, the only thing is I guess if we want
to return both the levels and the um the
to return both the levels and the um the
count, we might have
to think. So, do you no longer have to
to think. So, do you no longer have to
return an array of offsets with this
return an array of offsets with this
approach? I don't think you do because I
approach? I don't think you do because I
think you can just get access to the
think you can just get access to the
levels in in C, right?
which is kind of
cool. There's a little bit of PI API
cool. There's a little bit of PI API
shenanigans. So like ideally you want as
shenanigans. So like ideally you want as
little code as possible in this binding
little code as possible in this binding
file and as much of it as possible in
theh it's pretty clean. This is the
theh it's pretty clean. This is the
whole binding file for grid and grid has
whole binding file for grid and grid has
like you know procedure big set of
like you know procedure big set of
procedural levels and it swaps them in
procedural levels and it swaps them in
dynamically on reset.
Yeah. I mean, I'm effectively going to
Yeah. I mean, I'm effectively going to
have to I'm going to copy that approach
have to I'm going to copy that approach
for tower climb on how that binding will
for tower climb on how that binding will
work because they run the same way.
work because they run the same way.
Yeah.
Yeah.
Um I'm trying to think what things
Um I'm trying to think what things
should be inside of theh file.
Well, everything that doesn't require
Well, everything that doesn't require
the Python API goes in
the binding should be as small as
the binding should be as small as
possible.
Well, if we're saying we no longer need
Well, if we're saying we no longer need
the count
the count
if you have access to levels, you don't
if you have access to levels, you don't
need the count, right? Because you just
need the count, right? Because you just
like on init like in this init function
like on init like in this init function
here, you would just go through and read
here, you would just go through and read
it, right?
it, right?
But when you set up the Python side,
But when you set up the Python side,
doesn't don't you have to tell the
doesn't don't you have to tell the
agents for when
um
um
well, you need to know how many agents
well, you need to know how many agents
are going to be made, I guess.
are going to be made, I guess.
Yeah. When you when you super init the
Yeah. When you when you super init the
actual GPU drive in Python. I mean, I've
actual GPU drive in Python. I mean, I've
been promising Aaron like um like a get
been promising Aaron like um like a get
method as well. So, I could get you like
method as well. So, I could get you like
an extra get or something. You can
an extra get or something. You can
return whatever
return whatever
we could do that from the from theh
we could do that from the from theh
files into the Python. Mhm.
files into the Python. Mhm.
I could just give you an extra binding
I could just give you an extra binding
for a get method.
Yeah. I mean that would I think solve
Yeah. I mean that would I think solve
that issue.
that issue.
Unless a simpler solution.
Unless a simpler solution.
It's not that hard.
I know. I just figured we had to do this
I know. I just figured we had to do this
anyways. Like I'm sick of not being able
anyways. Like I'm sick of not being able
to to debug this complicated ass
to to debug this complicated ass
environment.
What you thinking, Spencer?
What you thinking, Spencer?
Oh, I was um I thought we were going to
Oh, I was um I thought we were going to
start on the news binding. Yeah, I like
start on the news binding. Yeah, I like
I thought you were deciding a couple
I thought you were deciding a couple
things. I'm just sending a couple
things. I'm just sending a couple
messages on the uh the other thing we're
messages on the uh the other thing we're
starting together. Uh all
starting together. Uh all
right, let's
right, let's
do binding shenanigans.
do binding shenanigans.
Yeah.
Yeah.
You have this working on a remote box
You have this working on a remote box
right now?
right now?
Um currently, yeah, let's just do it
Um currently, yeah, let's just do it
there.
I was just running a
I was just running a
uh a train. I was just doing a train
uh a train. I was just doing a train
just to make sure that everything was
just to make sure that everything was
still lining up. But on the box it looks
still lining up. But on the box it looks
like Yeah. 420,000 470,000 or so. Want
like Yeah. 420,000 470,000 or so. Want
to just do the
to just do the
um should we just do the uh the
um should we just do the uh the
integration there so we can both edit
integration there so we can both edit
it? Yeah, that works. What box you want?
it? Yeah, that works. What box you want?
Uh
Uh
one box. Uno.
one box. Uno.
Sorry, I was ordering my uh my food.
There we are. T-Mox. Mine's not on T-Max
There we are. T-Mox. Mine's not on T-Max
right now. Let me just
right now. Let me just
uh let me kill the run and then open up
uh let me kill the run and then open up
a T-X. There is a T-ux here.
a T-X. There is a T-ux here.
Oh, unless I
Oh, unless I
Yeah, it looks like it's an old one.
Yeah, it looks like it's an old one.
This is the right machine I'm on, right?
This is the right machine I'm on, right?
Yeah. I mean, if it says my name in
Yeah. I mean, if it says my name in
there somewhere in
there somewhere in
there, like the if if the team's
there, like the if if the team's
attached is the end of Yeah. Pepper box
attached is the end of Yeah. Pepper box
one.
The tank is
The tank is
tank.
tank.
See what which one is your tank? Should
See what which one is your tank? Should
be puffer tank. Just the one without the
be puffer tank. Just the one without the
two.
two.
Yeah, Spencer. Cool.
Yeah, Spencer. Cool.
I think the two was I think Bet maybe
I think the two was I think Bet maybe
wanted to do something at one point.
wanted to do something at one point.
Yep. All right.
Yep. All right.
So, have you done have you done any
So, have you done have you done any
binding ports yet? Yeah, this is
binding ports yet? Yeah, this is
completely new to me. I haven't touched
completely new to me. I haven't touched
any of the binding ports. So, I get to
any of the binding ports. So, I get to
show you how this works then.
show you how this works then.
Um, so what we do with this
is let's grab the grid one.
And then there are a couple things
And then there are a couple things
here. So we have a log
here. So we have a log
function. Anything that goes in log
function. Anything that goes in log
should go here. Okay. Okay. So, all the
should go here. Okay. Okay. So, all the
stats from uh GPU drive should go in
stats from uh GPU drive should go in
there. That's super easy.
there. That's super easy.
What is Perf now? Is that supposed to be
What is Perf now? Is that supposed to be
a new
a new
uh perf? That's a part of everything.
uh perf? That's a part of everything.
Yeah. So, I it would it's often times
Yeah. So, I it would it's often times
going to be the same as score.
going to be the same as score.
Okay. It's just a 01 normalized. It's
Okay. It's just a 01 normalized. It's
just 01 normalized is the main thing.
just 01 normalized is the main thing.
So, if you already have if the
So, if you already have if the
completion rate it's the same. Yeah.
completion rate it's the same. Yeah.
I'm still playing with stuff like
I'm still playing with stuff like
that. What we do is we take these stats.
that. What we do is we take these stats.
Uh I think you also there are a couple
Uh I think you also there are a couple
required
variables that we can get from right
here. My visual does not have any visual
here. My visual does not have any visual
indicator. This is annoying.
You don't see your cursor? Uh, like when
You don't see your cursor? Uh, like when
I go to highlight stuff in visual mode,
I go to highlight stuff in visual mode,
there's no change. It's silly. Oh.
Score episode return episode length.
Score episode return episode length.
This that and float
n. Grab all these.
assigned to dict score be perfect score
return off-road collision and
return off-road collision and
okay cool
okay cool
now now we have all that done
now now we have all that done
uh now for a net we need to know what
uh now for a net we need to know what
args so those are just whatever you have
args so those are just whatever you have
in GPU drivep Pi that is currently being
in GPU drivep Pi that is currently being
put into
here. You have this signature right now.
here. You have this signature right now.
Okay. So we have it looks like human
Okay. So we have it looks like human
agent index.
You unpack you have a reward. You have
You unpack you have a reward. You have
this and then the offsets we're handling
this and then the offsets we're handling
separately.
separately.
Okay. And then you
Okay. And then you
have there an init function
have there an init function
in the Python or just in general in theh
in the Python or just in general in theh
in theh. Yeah, there's an init. It's
in theh. Yeah, there's an init. It's
just it should just be an init by
just it should just be an init by
itself.
itself.
It takes the end, right? Yeah. Yeah. And
It takes the end, right? Yeah. Yeah. And
then what's this handle
object? There's also this state here.
Um, so this state is going to be the
Um, so this state is going to be the
levels thing that we're going to make.
levels thing that we're going to make.
We're actually probably going to be able
We're actually probably going to be able
to keep this similar and like whatever
to keep this similar and like whatever
levels is called or whatever, however we
levels is called or whatever, however we
do
this. Like I think we just we'll give it
this. Like I think we just we'll give it
we just give all the M's the pointer to
we just give all the M's the pointer to
all the levels and you just pick
all the levels and you just pick
whichever one and then it's shared
whichever one and then it's shared
memory anyways.
memory anyways.
Okay. Yeah.
Okay. Yeah.
Okay. Okay. And now the only other thing
Okay. Okay. And now the only other thing
is the level initialization. So this
is the level initialization. So this
gets called once for all ends. This gets
gets called once for all ends. This gets
called at the start. And this just lets
called at the start. And this just lets
you call whatever C you
want in this my shared function.
Yes.
Yes.
So like this
So like this
here, this is what you wanted to do for
here, this is what you wanted to do for
a net pretty much.
You have this function here that takes
You have this function here that takes
in. You need rewards for get total agent
in. You need rewards for get total agent
count.
count.
No,
No,
you need just num m, right?
you need just num m, right?
You should just need which is num maps.
You should just need which is num maps.
Why did I
Why did I
It should be numb maps, not num m,
It should be numb maps, not num m,
shouldn't it? Or dumb mum maps. I don't
Arguably, it should only need numms.
I think I assumed that when I was doing
I think I assumed that when I was doing
my like Python to Sython stuff, I was
my like Python to Sython stuff, I was
just keeping everything the
just keeping everything the
same in order to initialize the
same in order to initialize the
environment. Okay, but you really should
environment. Okay, but you really should
only need
only need
numm,
numm,
which is just a variable name for just
which is just a variable name for just
could be num maps.
Okay. So then can you fill in um what
Okay. So then can you fill in um what
grid even knows
can you fill in logic here to like load
can you fill in logic here to like load
the num num m's maps or
the num num m's maps or
whatever. If I just exit I will uh I'll
whatever. If I just exit I will uh I'll
exit out so I don't I'm not on
there. I'm I'm out of it. So, make sure
there. I'm I'm out of it. So, make sure
you over right now.
Okay. So, you can now see my stuff.
Okay. So, you can now see my stuff.
Uh, yeah. Okay.
Okay. And so, what do you want me to do?
Okay. And so, what do you want me to do?
You want me to set up the function like
You want me to set up the function like
how I did in Syon, but here?
how I did in Syon, but here?
Yeah. Yeah, just calling the C. So all
Yeah. Yeah, just calling the C. So all
you have to do is load num maps
levels. Num M's
levels and you're going to be able to
levels and you're going to be able to
return a pointer of this to Python which
return a pointer of this to Python which
will then be you'll be able to use in
will then be you'll be able to use in
the C
Okay, so here's something I did that I
Okay, so here's something I did that I
don't know
don't know
how if this is going to be the best way
how if this is going to be the best way
to go about it. I made a bunch of GPU
to go about it. I made a bunch of GPU
drive
instances temporarily. Are we still
instances temporarily. Are we still
going to go with that as the approach?
going to go with that as the approach?
because I mean this is effectively the
because I mean this is effectively the
function that I'm going to be
running. And then I then
call agents
and then we're no longer caring about
and then we're no longer caring about
offsets.
Um, well, I mean, you don't need to
Um, well, I mean, you don't need to
return offsets if you just have the
levels. Okay. So, if you just want the
levels. Okay. So, if you just want the
the the level to be
loaded, this is the part where I'm a
loaded, this is the part where I'm a
little confused on how we're going to be
little confused on how we're going to be
implementing this as part of the now the
implementing this as part of the now the
new binding.
What are we actually storing now?
What are we actually storing now?
So, uh, you just store there's one
So, uh, you just store there's one
calic, right, for the
calic, right, for the
levels. Like this one calic up here for
levels. Like this one calic up here for
levels. It's not a state. It's whatever
levels. It's not a state. It's whatever
the level object is.
Okay. So, I don't have a level object.
Okay. So, I don't have a level object.
Okay. You have you just have M's or
Okay. You have you just have M's or
whatever though, right? You have like
whatever though, right? You have like
temp M's. I just have like I just have
temp M's. I just have like I just have
the whole n and then like entities.
the whole n and then like entities.
Okay. So then it would just be num m*
Okay. So then it would just be num m*
size of m or whatever and you'll pass a
size of m or whatever and you'll pass a
pointer to that whole array.
So I would make these the GPU drive
ends where this would be like the actual
ends where this would be like the actual
strct.
Why am I in insert visual mode?
Okay, hold
on. I think I only would need to do load
on. I think I only would need to do load
map binary at the moment. If you're
map binary at the moment. If you're
saying that we're no longer using, if we
saying that we're no longer using, if we
no longer are taking this count object
no longer are taking this count object
back into Python,
back into Python,
we don't need what? I'm saying active
we don't need what? I'm saying active
agents can just be put
into like you don't I don't think you
into like you don't I don't think you
have to call all of the things inside of
have to call all of the things inside of
my init.
my init.
No, I we just need to know either you
No, I we just need to know either you
make the maps or you just compute the
make the maps or you just compute the
number or what this is just this
number or what this is just this
function. All this function does is it
function. All this function does is it
lets you return something to Python. It
lets you return something to Python. It
lets you compute some stuff and return
lets you compute some stuff and return
stuff to Python. If you want that to be
stuff to Python. If you want that to be
a pointer to all the M's, like all the
a pointer to all the M's, like all the
levels, you can do it that way, right?
levels, you can do it that way, right?
Like because you don't you don't load
Like because you don't you don't load
the M's. Do you load all the M's inside
the M's. Do you load all the M's inside
of each each C environment or C
of each each C environment or C
instance?
I am loading. You do it once in the
I am loading. You do it once in the
Sython layer, right?
Sython layer, right?
Once in the Syon layer, I knit them all.
Once in the Syon layer, I knit them all.
That would be this
then.
Okay. But in this case, I'm writing in
Okay. But in this case, I'm writing in
what? Python here.
So I You're writing This is C.
At least what I see on my screen. Yeah,
At least what I see on my screen. Yeah,
you're rewriting in C.
Oh, this whole thing's supposed to be in
Oh, this whole thing's supposed to be in
C. You not see the notate. That's the
C. You not see the notate. That's the
Python C API. PI object star start star
Python C API. PI object star start star
start star pointer. It's like it's the C
start star pointer. It's like it's the C
API. Okay, hold on.
API. Okay, hold on.
Let's let us correct the situation.
Let's let us correct the situation.
Okay. So if I'm just basically
Okay. So if I'm just basically
recreating the init then I just need the
recreating the init then I just need the
map
file. I would not
need this line. This line this
line. No stupid auto complete.
So would I just be initializing this
So would I just be initializing this
like I normally would in the Sython
like I normally would in the Sython
this? So this is the part where I just
this? So this is the part where I just
don't really understand how I'm supposed
don't really understand how I'm supposed
to be doing the lighting because I would
to be doing the lighting because I would
generally pop in my offsets here and
generally pop in my offsets here and
just initialize the
You don't see
how I don't know why it keeps spamming
how I don't know why it keeps spamming
me with like this
me with like this
giant block of
giant block of
you seeing the dots on the right block.
you seeing the dots on the right block.
It's just giant giant
It's just giant giant
dots.
Um what? So, like you want are you used
Um what? So, like you want are you used
to having like an F string to load maps
to having like an F string to load maps
or
or
something? Is that the thing that you're
something? Is that the thing that you're
I don't know what we're trying to
I don't know what we're trying to
accomplish right now in this particular
accomplish right now in this particular
section like I'm trying to load the map
section like I'm trying to load the map
the thing that you have in Syon right
the thing that you have in Syon right
now but I got distracted with some
now but I got distracted with some
messages on the side again here
configur you have some like load map
configur you have some like load map
thing right here right
load so you have this thing right here
load so you have this thing right here
that does like this loading in temp and
that does like this loading in temp and
then you do it again somewhere, right?
then you do it again somewhere, right?
No. Where's the map? Where do the maps
No. Where's the map? Where do the maps
get loaded here?
get loaded here?
I just call in it again in the uh
I just call in it again in the uh
where does it pick the map? I passed in
where does it pick the map? I passed in
the map file to the end again. I just
the map file to the end again. I just
call it
afterwards. You can do that as well.
afterwards. You can do that as well.
Like if you want to like load them
Like if you want to like load them
twice, you can also do that. It's up to
twice, you can also do that. It's up to
you if you want to do it like the way it
you if you want to do it like the way it
would have to be with tower climbing the
would have to be with tower climbing the
grid or you just want to do it this. I
grid or you just want to do it this. I
mean, either way, you're going to have
mean, either way, you're going to have
to load them to check how many agents
to load them to check how many agents
there are,
there are,
right? If you just want to load them
right? If you just want to load them
like to check if you just want to like
like to check if you just want to like
load them to check how many agents there
load them to check how many agents there
are for now and just return the number
are for now and just return the number
of agents, that's fine, too.
And this can all just be done in this
And this can all just be done in this
area of C. So I can set up like an N but
area of C. So I can set up like an N but
then just basically do the exact same
then just basically do the exact same
thing I did. You can write arbitrary C.
thing I did. You can write arbitrary C.
Oh
Oh
yes, you have you can write arbitrary C
yes, you have you can write arbitrary C
and then within the confines of what is
and then within the confines of what is
easy to do with the Python C API, we can
easy to do with the Python C API, we can
pass arbitrary data back to Python.
pass arbitrary data back to Python.
Because the whole point of me doing
Because the whole point of me doing
the first round of setting up the M's
the first round of setting up the M's
was to set up offsets. When you say set
was to set up offsets. When you say set
up offsets, it's it's to figure out the
up offsets, it's it's to figure out the
total number of agents, isn't it? It's
total number of agents, isn't it? It's
to figure out the total number of agents
to figure out the total number of agents
and also when you're passing
and also when you're passing
in to a specific
in to a specific
Oh, yeah. Yeah, I remember that thing.
Oh, yeah. Yeah, I remember that thing.
Yeah. Okay. The variable number of
Yeah. Okay. The variable number of
agents that you have in that map and
agents that you have in that map and
where to tell your observations to
where to tell your observations to
start. Okay. Then in that case, then
start. Okay. Then in that case, then
just return the whole offsets thing.
just return the whole offsets thing.
Sure.
Sure.
Okay.
Yeah, I see what you Okay, I I
Yeah, I see what you Okay, I I
understand now why that is there. Um
understand now why that is there. Um
that's why I was like, am I just
that's why I was like, am I just
replicating my Sython? Yeah, in that
replicating my Sython? Yeah, in that
case then you are. Yeah, that case you
case then you are. Yeah, that case you
are. Then the only thing I have to
are. Then the only thing I have to
figure out for you is how to
figure out for you is how to
um you probably are going to have to
um you probably are going to have to
like make a pile list and do like pile
like make a pile list and do like pile
ad or some [ __ ] but other than
ad or some [ __ ] but other than
that, it'll be fine.
that, it'll be fine.
Okay. All right.
And we will do this the same
Yep. Okay. So now I have my agent
Yep. Okay. So now I have my agent
offsets. I have the total
offsets. I have the total
count inside of agent
count inside of agent
offsets. And then now I can set up
the actual end with its
the actual end with its
offsets. Uh hang on. So you have first
offsets. Uh hang on. So you have first
of all you're writing Python inside of C
of all you're writing Python inside of C
here, right?
here, right?
All right. Fair enough.
All right. Fair enough.
Let me go find you the PI
API. What is
PIO3? Oh, rust.
Okie dokie. Okay. So, you will have to
Okie dokie. Okay. So, you will have to
do this shenanigans, but it's not that
do this shenanigans, but it's not that
bad.
I don't know why it is that I see like
I don't know why it is that I see like
four lines of your screen flying around
four lines of your screen flying around
on my screen. I My bad. I clicked it a
on my screen. I My bad. I clicked it a
few times.
few times.
I was trying to see what you were doing
I was trying to see what you were doing
because it like it keeps shrinking my
because it like it keeps shrinking my
view to like four lines of your
screen. A little
silly. Let's do this.
So because now when I did this in the
So because now when I did this in the
Sython, what I did was I
Sython, what I did was I
had use these temp environments to set
had use these temp environments to set
up my
offsets. I got to switch
this. I presume I have to free these as
this. I presume I have to free these as
well.
Well, you just made one calic. So,
Well, you just made one calic. So,
well, no, because whenever I do
well, no, because whenever I do
something on the inside with the calling
something on the inside with the calling
those functions, I'm I'm also doing
those functions, I'm I'm also doing
other things.
other things.
There's more cal in the in the C then.
There's more cal in the in the C then.
Yes.
Yes.
So, kind of gross. We should find a
So, kind of gross. We should find a
cleaner way of doing all this. But I at
cleaner way of doing all this. But I at
least want to get this thing into the
least want to get this thing into the
freaking end binding, the new end
freaking end binding, the new end
binding, so we can stop dealing with
binding, so we can stop dealing with
Syon hell.
Going to be very nice for you to be able
Going to be very nice for you to be able
to like set break points through Python.
to like set break points through Python.
I would
think also this is useful so that with
think also this is useful so that with
the new environment we were going to be
the new environment we were going to be
doing um we can just do it this way from
doing um we can just do it this way from
the start, right?
the start, right?
Yeah. Especially if we're adding on to
Yeah. Especially if we're adding on to
it and you know adding bigger maps and
it and you know adding bigger maps and
things like
that. I say it is a really odd feeling
that. I say it is a really odd feeling
to be like converting
um like Python into C as I'm like
um like Python into C as I'm like
reading Python.
You've been spending too much time
You've been spending too much time
looking at Python.
Then not a fun language. This is just a
Then not a fun language. This is just a
matter of having to translate over as
matter of having to translate over as
I'm reading. It's like sheet reading new
I'm reading. It's like sheet reading new
piano.
Look, I personally would be very, very
Look, I personally would be very, very
happy to be spending more time writing C
happy to be spending more time writing C
environments instead of all the stuff
environments instead of all the stuff
I'm dealing with lately. Okay,
so I don't want to free agent offsets,
so I don't want to free agent offsets,
but I want to take out the temp
but I want to take out the temp
environments because I don't need that
environments because I don't need that
variable anymore. Oh man, this is so
variable anymore. Oh man, this is so
gross. I basically do this three times
gross. I basically do this three times
of looping this over, but this should be
of looping this over, but this should be
the last time. Why do you have to do
the last time. Why do you have to do
what's the next one for
what's the next one for
the actual initialization of the maps? I
the actual initialization of the maps? I
thought you were just figuring out the
thought you were just figuring out the
numbers.
I thought you were just
I thought you were just
round one is
round one is
getting what's commenting in this
getting what's commenting in this
hashtag
hashtag
double slash. You've been writing C for
double slash. You've been writing C for
a while. Like what? Also C doesn't have
a while. Like what? Also C doesn't have
F strings.
All right. So, like these are like the
All right. So, like these are like the
whole point of the top one is to get the
whole point of the top one is to get the
agent count. Uhhuh.
agent count. Uhhuh.
And the offsets. Isn't that all you
And the offsets. Isn't that all you
need? You're setting up the whole
need? You're setting up the whole
environment, right? So, well, you can I
environment, right? So, well, you can I
have to free all the excess things. I'm
have to free all the excess things. I'm
just confused because the way you have
just confused because the way you have
it in the Sython at the moment, like
it in the Sython at the moment, like
yes, this is a way that we can do it
yes, this is a way that we can do it
that would probably be better than what
that would probably be better than what
you have in the Syon, but like
you have in the Syon, but like
why? I mean, you could just make the
why? I mean, you could just make the
bloody M's right here and be done or no?
bloody M's right here and be done or no?
And then I guess here. How do I
And then I guess here. How do I
know which end is which OBS are going to
know which end is which OBS are going to
which end? Okay. At what point? So, what
which end? Okay. At what point? So, what
if you just do this? You return the I
if you just do this? You return the I
guess you have to return the offsets and
guess you have to return the offsets and
the end, which is a little bit awkward,
the end, which is a little bit awkward,
but we can do it.
but we can do it.
Um, and then you just have to like it's
Um, and then you just have to like it's
literally just setting pointers for the
literally just setting pointers for the
observations and rewards and stuff,
observations and rewards and stuff,
right?
right?
Yeah. When you're just setting
Yeah. When you're just setting
observations to observations and you
observations to observations and you
just you're giving it the first point in
just you're giving it the first point in
where in that pointer you're going to.
where in that pointer you're going to.
But yeah, so you can just make the M's
But yeah, so you can just make the M's
here. Hang on. So like if we make the
here. Hang on. So like if we make the
M's here. Okay, here. Hang on. We make
M's here. Okay, here. Hang on. We make
the M's here.
the M's here.
We This doesn't show highlights at all,
We This doesn't show highlights at all,
but we make the M's here. We return
but we make the M's here. We return
these offsets. And we also return the
these offsets. And we also return the
M's, which are no longer
M's, which are no longer
temp. Okay. And then in here, we get the
temp. Okay. And then in here, we get the
levels or we get the we already have the
levels or we get the we already have the
M's.
M's.
Mhm.
Well, it's a little awkward because it's
Well, it's a little awkward because it's
expecting new M's.
expecting new M's.
Yeah. Fine. We'll just
do then. All we have to do is return the
do then. All we have to do is return the
offsets, right? And we make the new M.
offsets, right? And we make the new M.
All we have to do in this top one is
All we have to do in this top one is
return the offsets like in in Syon. And
return the offsets like in in Syon. And
you don't need this third loop. You just
you don't need this third loop. You just
you you did the you made the things, you
you you did the you made the things, you
did the free,
did the free,
and now I just have to show you how to
and now I just have to show you how to
return some offsets.
return some offsets.
Right.
Right.
Yes. We just have to return the agent
Yes. We just have to return the agent
offsets. Okay. Let me help with that
offsets. Okay. Let me help with that
integer
integer
array. Let me see. I p I
object. Yeah, we do this pi object.
And while you're doing that, I'm gonna
And while you're doing that, I'm gonna
have to remember how to do
the there.
It's something like this. Probably
It's something like this. Probably
missing a cast. Get rid of this grid
missing a cast. Get rid of this grid
whatever [ __ ]
whatever [ __ ]
Yeah.
Yeah.
Click the f string as well. Uh you can
Click the f string as well. Uh you can
technically you already have Ray
technically you already have Ray
imported here. So you can use text
imported here. So you can use text
format, right?
format, right?
Ray's text format if you just want to do
Ray's text format if you just want to do
something quick.
I don't think I know what you mean by
I don't think I know what you mean by
that. I mean, you don't know Ray's text
that. I mean, you don't know Ray's text
format. Ray has a thing that essentially
format. Ray has a thing that essentially
gives you an fstringish.
gives you an fstringish.
Are you just talking about the the the
Are you just talking about the the the
string copy function? No, Rayb has a
string copy function? No, Rayb has a
function called text format.
No, unfamiliar with that. It's really
No, unfamiliar with that. It's really
nice. I mean, you can also just like
nice. I mean, you can also just like
print like whatever it, but like here
print like whatever it, but like here
text format
const star text format of constar char
const star text format of constar char
star text and then stuff you want to
star text and then stuff you want to
format it
with. Yeah, whatever. Do just do just do
with. Yeah, whatever. Do just do just do
it however you want to do it.
We're going to do the sprint f.
This a real
This a real
thing?
Wait, I must have like put breakout as
Wait, I must have like put breakout as
these don't look like breakout
curves.
According to this, we have some nice
According to this, we have some nice
very very fast maze learning
now. Like 10x faster than before
now. Like 10x faster than before
10 times. Yeah.
10 times. Yeah.
Than the previous sweep at
Than the previous sweep at
least. Now we're getting almost the
least. Now we're getting almost the
result that we got before, but we're
result that we got before, but we're
getting it in a minute and a half.
getting it in a minute and a half.
instead of in 10 minutes.
instead of in 10 minutes.
So, you have to leave in 10 minutes. No,
So, you have to leave in 10 minutes. No,
we're getting the result that we used to
we're getting the result that we used to
take 10 minutes. I got until 6 p.m.
take 10 minutes. I got until 6 p.m.
Fair
Fair
enough. I don't know if this is valid C.
enough. I don't know if this is valid C.
I think it is. But
well, isn't it so nice that we're going
well, isn't it so nice that we're going
to actually get real C compile errors
to actually get real C compile errors
now instead of whatever Sython does?
now instead of whatever Sython does?
Cuz I swear to God, doesn't this just
Cuz I swear to God, doesn't this just
print it? Like this is not I don't think
print it? Like this is not I don't think
this actually sets the value of it to it
this actually sets the value of it to it
does, but I I don't think it's map file.
does, but I I don't think it's map file.
There's a comma or something missing.
There's a comma or something missing.
I don't think is that the format I
I don't think is that the format I
percent I thought it was percent. I
percent I thought it was percent. I
don't freaking remember.
I just want to run it and see what
I just want to run it and see what
happens.
happens.
All right. So, how do I run this? So,
All right. So, how do I run this? So,
well, we're going to have to change the
well, we're going to have to change the
um the binding file, right? I guess we
um the binding file, right? I guess we
can compile it for now. But so, all you
can compile it for now. But so, all you
have to do to compile this is uh you go
have to do to compile this is uh you go
to the setup.py
to the setup.py
Okay.
Okay. You move the binding from Syon to
Okay. You move the binding from Syon to
pure C extensions.
pure C extensions.
Oh, this drill again. Okay. Mhm.
Oh, this drill again. Okay. Mhm.
Do you have to do this every time? What?
the reload the regular extensions and
the reload the regular extensions and
then the C extensions after the torch
then the C extensions after the torch
extensions again afterwards. Uh the
extensions again afterwards. Uh the
torch extensions aren't going to need to
torch extensions aren't going to need to
be recompiled.
I'm looking for
I'm looking for
but yes, when I'm actually editing the
but yes, when I'm actually editing the
torch extensions, I do have to do this a
torch extensions, I do have to do this a
bunch and it's a pain in the
ass. You also I meant that you had to
ass. You also I meant that you had to
like move it from side GPU drive to the
like move it from side GPU drive to the
Purd extensions
version. Okay. So, it's in there. I just
version. Okay. So, it's in there. I just
saw it. It's somewhere in here. Yeah,
saw it. It's somewhere in here. Yeah,
you just passed it. Up, up, up, up.
Going there.
Going there.
Oh, you're saying take this out. Yep.
Oh, you're saying take this out. Yep.
And that's going to go into pure C
And that's going to go into pure C
extensions.
Which is down lower.
Okay. Okay. I'm just going to put it in
Okay. Okay. I'm just going to put it in
the front.
Okay. And don't I have to also uncomment
Okay. And don't I have to also uncomment
the thing to recompile this correctly?
the thing to recompile this correctly?
Yes. Uh unless it's already set up
Yes. Uh unless it's already set up
correctly. Yeah. So that move So go from
correctly. Yeah. So that move So go from
torch extensions to like uh C
torch extensions to like uh C
extensions up. You passed it. It's in
extensions up. You passed it. It's in
the middle of your
the middle of your
screen. Okay. Down a little bit. Am I
screen. Okay. Down a little bit. Am I
just blind?
just blind?
Yes. Yes. Right there. Oh, there we go.
Yes. Yes. Right there. Oh, there we go.
The C extensions
The C extensions
and then comment the command class.
and then comment the command class.
Forgot to comment the command class.
Forgot to comment the command class.
GG, dude. Where's that?
GG, dude. Where's that?
I'm doing this. No, it's right there. I
I'm doing this. No, it's right there. I
was gonna press the comment button. You
was gonna press the comment button. You
You took too long to press the comment
You took too long to press the comment
button.
button.
Also, I'm going to give you a a really
Also, I'm going to give you a a really
nice thing that you should do. Increase
nice thing that you should do. Increase
the key repeat speed on your system. You
the key repeat speed on your system. You
will thank me later.
Okay, that's pissed off.
Okay, that's pissed off.
Yeah, because it's including the grid
Yeah, because it's including the grid
file.
Oh, I should probably include my file.
Oh, I should probably include my file.
And then N hash define uh or pound
And then N hash define uh or pound
define N GPU drive, whatever your
define N GPU drive, whatever your
that
that
like that. Literally the line below that
like that. Literally the line below that
you're looking at.
Oh, okay. Got you.
Oh, okay. Got you.
You've been getting asleep, man.
You've been getting asleep, man.
Oh, man. This is just like live
Oh, man. This is just like live
education. All right. Okay.
Come on, Jess. Give him a break. I was
Come on, Jess. Give him a break. I was
just like this is how I this is how I
just like this is how I this is how I
act when I've been like a couple days on
act when I've been like a couple days on
like five hours of sleep. Yeah, for a
like five hours of sleep. Yeah, for a
long time. But like
long time. But like
all right, it took me time to learn and
all right, it took me time to learn and
binding. H it's pissed
binding. H it's pissed
off. You don't have terminals in here.
off. You don't have terminals in here.
All
right. Did B just come in here? You just
right. Did B just come in here? You just
came in here to give me [ __ ] for giving
came in here to give me [ __ ] for giving
you [ __ ] That's funny.
you [ __ ] That's funny.
All right. Finding.h.
Let's see. It's looking for terminals.
Yeah. So GPU drive doesn't have a
Yeah. So GPU drive doesn't have a
variable named
variable named
terminals. What we're going to do, I
terminals. What we're going to do, I
think I called it dun.
Okay, now we got to update the logs. I
Okay, now we got to update the logs. I
guess we got to update the log
guess we got to update the log
structure. So, here's the cool
structure. So, here's the cool
thing. Um, is this where you press
thing. Um, is this where you press
delete? Yeah, this is literally where
delete? Yeah, this is literally where
you just get to go like this. Go up
to Forget. Do you still need log buffer?
to Forget. Do you still need log buffer?
You don't even need log buffer, do
you? You need to add
log. Look at all that code that's gone.
log. Look at all that code that's gone.
Okay, nice. Just dropped like 20 lines.
Okay, nice. Just dropped like 20 lines.
You still need ad log, but it should uh
You still need ad log, but it should uh
it should add basically it should add to
it should add basically it should add to
them.
Was is it like N or is it
Was is it like N or is it
GPU five star N? Should be star end.
GPU five star N? Should be star end.
Yeah. Okay. So, we do
N actually
Uh, this is actually going to be you.
Uh, this is actually going to be you.
So, you need to add you need to add the
So, you need to add you need to add the
stats of the agent that is finished to
stats of the agent that is finished to
to this. So, I don't know if this takes
to this. So, I don't know if this takes
agent. This probably takes like
agent. This probably takes like
Oh, it would take an index. It's
Oh, it would take an index. It's
probably like this or
probably like this or
something like
like it's probably like some [ __ ] like
like it's probably like some [ __ ] like
this.
whatever. It's like something like
whatever. It's like something like
this. I can show you the example on my
this. I can show you the example on my
screen in a
screen in a
second. Okay,
so this is how it works in breakout.
So where did N go? It was an N in here.
So in this case, since we're doing the
So in this case, since we're doing the
multiple agents within it, would this ad
multiple agents within it, would this ad
log be assumingly only taking being
log be assumingly only taking being
called for that specific agent?
called for that specific agent?
However you want to do it. So like does
However you want to do it. So like does
are you logging all the agents right at
are you logging all the agents right at
the end of the episode now?
the end of the episode now?
Right now I am logging all of them at
Right now I am logging all of them at
the end of at the end of the episode.
the end of at the end of the episode.
Correct. Okay. And I just I loop through
Correct. Okay. And I just I loop through
all of the active agents.
See, so then this block of code I pass
See, so then this block of code I pass
it.
What we do then we'll take this.
It's going to go back.
You do something like
This I Guess you are
This I Guess you are
storing you're storing a bunch of
storing you're storing a bunch of
logs anyways in here. You have like the
logs anyways in here. You have like the
separate logs thing.
Yeah, I mean you have the off-road rates
Yeah, I mean you have the off-road rates
get set earlier but you don't call ad
get set earlier but you don't call ad
log until the end. Okay, so this is
log until the end. Okay, so this is
going to be
And then do you also have to do like all
And then do you also have to do like all
the episode return and episode length
the episode return and episode length
here as well?
But this is fine, right?
Yeah. So like what's the score variable?
Yeah. So like what's the score variable?
Score variable's completion rate.
Score variable's completion rate.
Is it in logs or like where do we get it
Is it in logs or like where do we get it
from?
from?
It's in the end.
It's in the end.
M completion rates or something.
You can see what I'm doing here, right?
You can see what I'm doing here, right?
I'm filling it into this one log and I'm
aggregating. Can you fill the rest of
aggregating. Can you fill the rest of
this out real
this out real
quick? Like do you understand what this
quick? Like do you understand what this
is trying to do?
Okay. So there's one log object. There
Okay. So there's one log object. There
is one log object and it's cumulative.
is one log object and it's cumulative.
So every time like an agent needs to
So every time like an agent needs to
log, it adds its stats into that and it
log, it adds its stats into that and it
increments the n variable by one. And
increments the n variable by one. And
then uh our login code in the M binding
then uh our login code in the M binding
will take the mean for you and also
will take the mean for you and also
aggregate across like multiple C
aggregate across like multiple C
instances.
But in this case we aren't we calling
But in this case we aren't we calling
add log.
add log.
Okay. We're only calling it one time. So
Okay. We're only calling it one time. So
if
if
then we're moving it in here and we're
then we're moving it in here and we're
looping through all of them. Yeah. So if
looping through all of them. Yeah. So if
you can just add those stats in then
you can just add those stats in then
this will work and the uh logging stuff
this will work and the uh logging stuff
will be pretty well ported. Obviously
will be pretty well ported. Obviously
you just got to change a couple other
you just got to change a couple other
small calls. There's no more buffer
small calls. There's no more buffer
object or anything like that. I don't
object or anything like that. I don't
know what you mean by other stats
know what you mean by other stats
because the other stats are already
because the other stats are already
dumped in here. Uh it doesn't have
dumped in here. Uh it doesn't have
length, return, or perf all that. I
length, return, or perf all that. I
mean, wouldn't those just be from like
mean, wouldn't those just be from like
you see this is m.log, right? Not logs
you see this is m.log, right? Not logs
or log buffer. There's one
or log buffer. There's one
log. Yeah, it's just like it's whatever
log. Yeah, it's just like it's whatever
the existing variable is that you use
the existing variable is that you use
for this. I just I haven't looked at it
for this. I just I haven't looked at it
in a while, so I don't know what
in a while, so I don't know what
everything is named. and like where it's
everything is named. and like where it's
stored. Anyways, if you take a look at
stored. Anyways, if you take a look at
that for a few, I'm going to just go use
that for a few, I'm going to just go use
the restroom real quick. I'll be back in
the restroom real quick. I'll be back in
a couple. Okay. All right.
anything tracking
All right. How we doing?
We're attempting things.
I'm trying to figure out what is the
I'm trying to figure out what is the
part that is confusing here. Is it like
part that is confusing here. Is it like
not understanding how the Python API
not understanding how the Python API
stuff works in or like I think it's I'm
stuff works in or like I think it's I'm
trying to understand is where does like
trying to understand is where does like
how is this different than the original
how is this different than the original
log system? So in the original log
log system? So in the original log
system there was this big buffer that
system there was this big buffer that
you had to keep filling up and you had
you had to keep filling up and you had
to have all the m share this buffer and
to have all the m share this buffer and
then we had a function that would take
then we had a function that would take
the mean over that.
the mean over that.
Right? So now there's just one log. you
Right? So now there's just one log. you
add stuff into it and with just an extra
add stuff into it and with just an extra
n variable and you just everything gets
n variable and you just everything gets
divided by that n automatically for you.
divided by that n automatically for you.
So you don't have to have this extra
So you don't have to have this extra
like log buffer object anymore. Um you
like log buffer object anymore. Um you
just have the one log variable and then
just have the one log variable and then
aside from that the only difference
aside from that the only difference
instead of you calling like instead of
instead of you calling like instead of
like you having to call like this
like you having to call like this
aggregate and clear or whatever this
aggregate and clear or whatever this
just gets done for you through the
just gets done for you through the
ending stuff
and that affect how I'm setting the logs
and that affect how I'm setting the logs
though.
though.
Uh you're no longer interacting with a
Uh you're no longer interacting with a
log buffer and you are adding adding to
log buffer and you are adding adding to
the log instead of like setting the log,
the log instead of like setting the log,
right? Because the log buffer is each
right? Because the log buffer is each
element is the log of one agent. And now
element is the log of one agent. And now
this log is every time you have an agent
this log is every time you have an agent
ready to log it stuff, you add the
ready to log it stuff, you add the
values of that log to the current values
values of that log to the current values
of the log and you increment n by one.
Okay. For
Okay. For
example, in my step function, Mhm.
example, in my step function, Mhm.
I'm setting logs of my collision rates
I'm setting logs of my collision rates
and my off-road rates to occur and my
and my off-road rates to occur and my
episode returns and my rewards are all
episode returns and my rewards are all
being adjusted at various moments,
being adjusted at various moments,
right? Oh, okay. So, by the time you're
right? Oh, okay. So, by the time you're
done with this is like do you have all
done with this is like do you have all
the values that you need in in those
the values that you need in in those
logs? They're already in there. Well,
logs? They're already in there. Well,
like episode return is cumulative and
like episode return is cumulative and
stuff, right? Like Yeah, I see. Right.
stuff, right? Like Yeah, I see. Right.
The line below. Okay. So, let's go back
The line below. Okay. So, let's go back
up to Hang on. So, if we go back to a
up to Hang on. So, if we go back to a
[ __ ]
[ __ ]
this is like the uh what's like the Oh,
this is like the uh what's like the Oh,
let me help you. Two people typing on a
let me help you. Two people typing on a
keyboard meme. Yeah,
two people. When you're telling me to
two people. When you're telling me to
like add the stats back in, that's why
like add the stats back in, that's why
I'm confused because the stats are
I'm confused because the stats are
already in there. Okay. So, here, well,
already in there. Okay. So, here, well,
the stats aren't in this log variable,
the stats aren't in this log variable,
right? So, then here, this is literally
right? So, then here, this is literally
all it is. It's just you don't need
all it is. It's just you don't need
this. Well,
you this DNF rate isn't in there, right?
you this DNF rate isn't in there, right?
This is like calc separately.
This is like calc separately.
That's a new one. That's calc
That's a new one. That's calc
separately. So, are you saying that like
separately. So, are you saying that like
this new log is just going to be the
this new log is just going to be the
same thing as pulling into end
same thing as pulling into end
logs and just copying it from that
logs and just copying it from that
attribute?
attribute?
Yeah. So, this should just be logs I
Yeah. So, this should just be logs I
episode and just do the exact same
episode and just do the exact same
thing. You're just copying it.
thing. You're just copying it.
Yeah. Logs. What is it? Score. Perf. Uh
Yeah. Logs. What is it? Score. Perf. Uh
what's the score variable?
what's the score variable?
Okay. Like that's what I I didn't know
Okay. Like that's what I I didn't know
what you were calling it and stuff. So
what you were calling it and stuff. So
that's that's what I understand. It's
that's that's what I understand. It's
like what's the point of copying it here
like what's the point of copying it here
if score is being set above.
Oh. Okay. So this was but this is Oh,
Oh. Okay. So this was but this is Oh,
right, right, right. I see. Because it's
right, right, right. I see. Because it's
just reach score. So this is done then.
just reach score. So this is done then.
So all literally all it is is this. Hold
So all literally all it is is this. Hold
up. So episode length is going to be
up. So episode length is going to be
different.
different.
Um because I that's what I was trying to
Um because I that's what I was trying to
understand. So if episode length just
understand. So if episode length just
the OG episode length let me get rid of
the OG episode length let me get rid of
something real quick because well I mean
something real quick because well I mean
you could define it you could define it
you could define it you could define it
any one of like many ways you want. You
any one of like many ways you want. You
could also define it as like you know it
could also define it as like you know it
could be like uh the average amount of
could be like uh the average amount of
steps the agent is alive. You could
steps the agent is alive. You could
define it many ways because right now
define it many ways because right now
that number is just going to be
that number is just going to be
effectively 91. Yeah,
effectively 91. Yeah,
that's fine. Okay. Because I wasn't
that's fine. Okay. Because I wasn't
certain if you wanted this to just be a
certain if you wanted this to just be a
running tick that goes on infinitely.
No, it should right now reset and step.
No, it should right now reset and step.
Yeah. So, it's just going to be 91.
Yeah. So, it's just going to be 91.
Okay. Hold up. And let me just but you
Okay. Hold up. And let me just but you
can see like they're just like I have
can see like they're just like I have
everything do length return score perf
everything do length return score perf
and n because those are variables that
and n because those are variables that
you expect to have. Some m are going to
you expect to have. Some m are going to
have finite horizon like constant
have finite horizon like constant
horizon. That's fine.
Okay. Then this should be everything.
Okay. Then this should be everything.
All right. Cool. So we can compile it
All right. Cool. So we can compile it
because you already have you log in
because you already have you log in
there. You okay? Yeah. Yeah. Okay.
Do a few arguments to
render. Ah, so this is the other
change. This is a quick one though.
You do something like
that. I think that works.
Needs a prototype.
And then the login has
changed and binding.h no member
changed and binding.h no member
log we need it needs a
log. So instead of having a log buffer,
log. So instead of having a log buffer,
it will have
log
log
log. And I believe it is a log star, not
log. And I believe it is a log star, not
a log. Hang on one
second because my log star logs is the
second because my log star logs is the
one that's going to be doing it per
one that's going to be doing it per
agent. And then the big buffer log is
agent. And then the big buffer log is
going to be this one, right? This log.
Yes.
Yes.
Okay. Log dot. Yes. So I have my
Okay. Log dot. Yes. So I have my
variable logs that I'm have in the end
variable logs that I'm have in the end
and then I'm just copying those over to
and then I'm just copying those over to
this log which is just meant to be a
this log which is just meant to be a
simpler one because of the whole getting
simpler one because of the whole getting
rid of Syon. Well, the only reason you
rid of Syon. Well, the only reason you
have the multiple logs in the first
have the multiple logs in the first
place is because of um because multi-
place is because of um because multi-
aent. Yes. Because it's multi- aent,
aent. Yes. Because it's multi- aent,
right? Otherwise you would just like,
right? Otherwise you would just like,
you know, whenever the agent is done.
you know, whenever the agent is done.
Otherwise, I would just have like random
Otherwise, I would just have like random
variables in there as stats. Yeah. Yeah.
variables in there as stats. Yeah. Yeah.
Exactly.
Okay. Is it not called GPU
Okay. Is it not called GPU
drive or is this need um a
prototype? I guess technically we could
prototype? I guess technically we could
pass like other stuff to this, but I
pass like other stuff to this, but I
think I just usually move these
up here.
up here.
Maybe not that
high. Incomplete type.
just type destruct.
No, no, normally it's always double.
Incomplete type GPU drive is weird. Oh,
Incomplete type GPU drive is weird. Oh,
wait. There's a semicolon missing.
Semicolon after float end.
Okay. What is wrong with
this? Why does it say incomplete type? I
this? Why does it say incomplete type? I
can just move this below technically,
can just move this below technically,
right?
right?
I can totally just move this
down attribute perf. So we have to
down attribute perf. So we have to
add this needs to have uh what is
it? Then there's no log buffer anymore.
Less crap to deal with
there. Where is side GPU
drive? Oh, it's garbage.
Okay. So, now we're just uh we're into
Okay. So, now we're just uh we're into
the bindings
file. I thought pilus new returns
you pi object star pilus
new oh previous
definition it's why is it num m's plus
definition it's why is it num m's plus
one for the offsets Spencer.
I was on mute. Uh, the last one's the
I was on mute. Uh, the last one's the
total coin. The last one is the total.
total coin. The last one is the total.
Mhm. Oh, okay. So, I have to do plus
one and then you have to do pilot set
one and then you have to do pilot set
item.
Okay. So now we're just on to like this
Okay. So now we're just on to like this
temp and not existing, right?
which doesn't exist
because allocated
here. Ah, semicolon.
Yeah, these are all missing. Yeah, these
Yeah, these are all missing. Yeah, these
are all just missing semicolons.
semicolon before four. Oh, set your set
semicolon before four. Oh, set your set
items. Do those have to have semicolons,
items. Do those have to have semicolons,
too? I guess all of this does. I'm C.
too? I guess all of this does. I'm C.
It is C.
It is C.
Okay. Uh, you passed it. It's in the
Okay. Uh, you passed it. It's in the
middle of pilot set items. Pilot set
middle of pilot set items. Pilot set
items.
items.
that one.
that one.
Oh,
Oh,
and then that's the wrong one.
and then that's the wrong one.
There's another. Is there another one?
There's another. Is there another one?
No, I think that's it. All right, let's
No, I think that's it. All right, let's
see what happens.
No, still pissed.
No, still pissed.
I don't know why it says uh it can't
I don't know why it says uh it can't
find temp
Ms. Temp's M's.
It's misspelled.
Okay.
Okay.
Pointer
Pointer
pointer versus dot declaration. Yeah,
pointer versus dot declaration. Yeah,
it's entities. This
it's entities. This
is
agents. Entities has no member num
agents. Entities has no member num
agents.
agents.
Is this not just temp MUM
Is this not just temp MUM
agents? What is
this? It should be some agents. I
think Hold up. Pause.
Um, no. It's it's it's an autocomplete
Um, no. It's it's it's an autocomplete
issue. It's tempm's numbum
entities. And that may end up having to
entities. And that may end up having to
be uh, wait, hold up, hold up, hold up.
be uh, wait, hold up, hold up, hold up.
Your total count
What's this X? Is this I? No, that would
What's this X? Is this I? No, that would
be J. That's J.
Cool.
Hold up. Your total count. I'm
Hold up. Your total count. I'm
suspicious
on Yeah. Hold up. Your total count's
on Yeah. Hold up. Your total count's
wrong. Oh, good. I got it to compile
wrong. Oh, good. I got it to compile
now. Fix fix
logic. Be right back.
Okay, that should be good.
Okay, that should be good.
Good timing.
Good timing.
Air. Why is it mad? Hold up.
Hey, Tyler.
incompatible
incompatible
type in the pilot set item.
Uh where
21 incompatible types from type int on
21 incompatible types from type int on
total count. That should be like a pi in
total count. That should be like a pi in
or some dumb thing.
We make a pint.
This is like
rock. Can I not just make an
end? Oh, why do you have to use pilot
end? Oh, why do you have to use pilot
set item? Why do you why are you
set item? Why do you why are you
including total counts at all? Because
including total counts at all? Because
aren't you only getting the agent
aren't you only getting the agent
offsets? Yeah, that's what I was
doing. It's pi long from
long. So it's not pylon from void
long. So it's not pylon from void
pointer.
pointer.
Hang
Hang
on. Where are we
on. Where are we
looking? Yes, this is separate. So the
looking? Yes, this is separate. So the
agent offsets right here.
agent offsets right here.
It's pissed off about set item.
there. Python
API. Why is still
mad? Where is
mad? Where is
error? Unknown
error? Unknown
type by long.
So now you see why I was trying to
So now you see why I was trying to
minimize the uh user exposure to this
minimize the uh user exposure to this
like kind of ass API.
like kind of ass API.
Yeah.
The less Python API you have to touch
The less Python API you have to touch
the better.
Pi
Pi
object. This is a pi
object. There you
go. Okay.
So we see if the binding works.
Obviously we have to
Obviously we have to
uh edit the um Python code a little bit
uh edit the um Python code a little bit
to like use the new binding,
right? What did that just message?
I don't know. Is he here?
He's saying we should compile and
He's saying we should compile and
recompile with force.
That was like 30 minutes ago. Oh, so I
That was like 30 minutes ago. Oh, so I
don't know at what point that was
don't know at what point that was
relevant. Oops, my bad. That missed it.
relevant. Oops, my bad. That missed it.
No, it was just a chat in the general
No, it was just a chat in the general
chat message. So, it wasn't like on
What the binding is
called. Now we do total agents yada
called. Now we do total agents yada
yada. We have to
do total agents or no agent
do total agents or no agent
offsets. That's
So this is where you get the binding
So this is where you get the binding
from the my shared function. So it's
from the my shared function. So it's
binding.shared and then what was it? Num
binding.shared and then what was it? Num
ms.
ms.
Yeah, I think we did num ms equals num
Yeah, I think we did num ms equals num
ms. Looks like
ms. Looks like
this. Okay. Okay. And then we get uh
this. Okay. Okay. And then we get uh
total
total
agents
agents
offsets minus one should be the last
offsets minus one should be the last
one. Yeah.
Then now you can get rid of all that.
Then now you can get rid of all that.
So now we have
super. Now we have to we can't use this
super. Now we have to we can't use this
vein it just the way that it's used here
vein it just the way that it's used here
because you have like fancy stuff.
We want to use something like
this. Or
And what's this take? It takes like
selfobservations of what is it? Agent
selfobservations of what is it? Agent
like this probably actions reward. I I
like this probably actions reward. I I
think I to I plus one seems about right.
think I to I plus one seems about right.
It's probably just this, right? Yeah.
It's probably just this, right? Yeah.
Like
Like
uh
uh
equals next.
And then what else did we pass? Human
And then what else did we pass? Human
agent index.
agent index.
Yeah, human agent index, reward,
Yeah, human agent index, reward,
vehicle,
vehicle,
off-road,
off-road,
and map name. You got to toss in map
and map name. You got to toss in map
name. Also
name. Also
needs
needs
seed. Uh what params did we
seed. Uh what params did we
define binding?
Just just those three you're talking
Just just those three you're talking
about
about
um human
agent reward vehicle reward off-road and
agent reward vehicle reward off-road and
map name but we have to find map name
map name but we have to find map name
now
now
again do we not or is it just get passed
again do we not or is it just get passed
in from you just need the
in from you just need the
index All right.
Just pass with the index.
Just pass with the index.
Is it because now you're going to pass
the way that this thing is supposed to
the way that this thing is supposed to
work, right? So, we do this invite is
work, right? So, we do this invite is
appendid and then we just do self
vectorize by these and now you have your
CMS and then this this new thing is
CMS and then this this new thing is
almost identical. This is like
almost identical. This is like
binding.ve
binding.ve
reset
reset
selfcms also it needs seed as
well.
well.
Um and then this is like
Um and then this is like
binding.step. This is
binding.step. This is
binding dot
binding dot
backlog. And that's it. I guess well
render self.
CM self.cm.
I actually don't know what the heck is
I actually don't know what the heck is
with
with
the that I think I probably haven't done
the that I think I probably haven't done
that in a while. It's probably binding
that in a while. It's probably binding
back
back
render. Try
that. So that's the port. Pretty simple.
No
Syon and we need these variables need to
Syon and we need these variables need to
be defined
though we already have right
though we already have right
yeah now you have N by Okay. And now you
yeah now you have N by Okay. And now you
can make the
uh you can do this,
uh you can do this,
right? You can make your maps from this
uh you need to pass
in. You don't have map name in Maya
in. You don't have map name in Maya
init. You have the M ID. Just need this,
init. You have the M ID. Just need this,
right?
right?
Well, from that all we got was the total
Well, from that all we got was the total
counts for the offsets.
counts for the offsets.
We didn't actually initialize any any
We didn't actually initialize any any
but this is literally just
Isn't this just this? Yes.
Yeah. And we don't need state. We're not
Yeah. And we don't need state. We're not
doing
doing
this. So yeah, you literally just have
this. So yeah, you literally just have
to make your or you just have to call
to make your or you just have to call
init on this. So what what is it? It's
init on this. So what what is it? It's
it's in it. It should just be a nit. And
it's in it. It should just be a nit. And
you never call a nit up here, right?
you never call a nit up here, right?
Intentionally, but you need to call a
Intentionally, but you need to call a
nit after you set the file. know. Yeah.
nit after you set the file. know. Yeah.
The map file.
The map file.
So, sprint
f. Does it do you set it like end map
f. Does it do you set it like end map
name or something or do you put it in
name or something or do you put it in
init or what?
init or what?
It's inside of the init parameters.
It's inside of the init parameters.
There's a map file um like map f like
There's a map file um like map f like
this.
It's sorry it's called map name. It's
It's sorry it's called map name. It's
called map
called map
name. No, no, no. It's not like init.
name. No, no, no. It's not like init.
It's it's it's it's as part of the uh
It's it's it's it's as part of the uh
oh like Python initiation.
oh like Python initiation.
So end map name.
Yeah. So then this should just
be like this. And map name equals the
be like this. And map name equals the
map should be the map file. Yeah. Except
map should be the map file. Yeah. Except
this is does map name. Is this like a
this is does map name. Is this like a
void? Does this have its own buffer? Do
void? Does this have its own buffer? Do
I have to malic this? What do we do?
Before I didn't I I just had it I think
Before I didn't I I just had it I think
on the stack.
on the stack.
Yes, cuz this is just Yeah, this is just
Yes, cuz this is just Yeah, this is just
a All right. Yeah. Okay. I'm being dumb.
a All right. Yeah. Okay. I'm being dumb.
Yeah, this should work. Cool. So, isn't
Yeah, this should work. Cool. So, isn't
this everything or am I missing
this everything or am I missing
something?
something?
Um, the weird part for me is I
guess you no longer need to pass map
guess you no longer need to pass map
name inside of the Python. Now, I just
name inside of the Python. Now, I just
passed the ID instead of having to deal
passed the ID instead of having to deal
with unpacking a
string. I passed the ID in, right, which
string. I passed the ID in, right, which
I'm using to determine what map to load.
I'm using to determine what map to load.
And is and that ID is being incremented
And is and that ID is being incremented
from one to number of MS.
from one to number of MS.
Yeah. See? Okay. That flies.
Yeah. See? Okay. That flies.
Same thing, right?
Same thing, right?
Yes, that would be the same thing. And
Yes, that would be the same thing. And
then you get these ids which is these
then you get these ids which is these
are really pointers and you vectorize
are really pointers and you vectorize
one of these pointers. So what this env
one of these pointers. So what this env
does this returns you a pointer to the C
does this returns you a pointer to the C
object.
object.
Okay. And then vector takes a bunch of
Okay. And then vector takes a bunch of
these pointers. Believe this is star.
uh yeah star. So it just takes all the
uh yeah star. So it just takes all the
envids that you've made and then it
envids that you've made and then it
turns you it gives you essentially a
turns you it gives you essentially a
double
double
pointer and then that is what mb binding
pointer and then that is what mb binding
expects. So like all these functions you
expects. So like all these functions you
see they just take this pointer.
see they just take this pointer.
So, this is you telling the
So, this is you telling the
C what object it
has. It's pretty
cool. And then the VEX step just knows
cool. And then the VEX step just knows
to step each one of those. Yep. because
to step each one of those. Yep. because
you gave it you specifically have given
you gave it you specifically have given
it a double pointer to your
it a double pointer to your
M's and it knows how many there are from
M's and it knows how many there are from
the initialize.
the initialize.
Okay. Yeah.
Now, um this doesn't have an env.
So this is just int
ID like this.
Too many arguments to init. So init
Too many arguments to init. So init
file, right? This was Yeah, I I just
file, right? This was Yeah, I I just
misunderstood the first time. No, it's
misunderstood the first time. No, it's
fine.
Okay. Uh was it clean
Okay. Uh was it clean
pepperm
and
train
train
fault? Very scary. Seg
fault. What?
Um, we have to update container to get
Um, we have to update container to get
GDB, dude. G [ __ ] G.
Seriously, you see I have not been in
Seriously, you see I have not been in
Python land because obviously I would
Python land because obviously I would
have used a debugger.
Well, this debugger is not happy with
Well, this debugger is not happy with
us.
The one thing I haven't figured out how
The one thing I haven't figured out how
to do is um compile this in a way that
to do is um compile this in a way that
the address sanitizer plays nicely with
the address sanitizer plays nicely with
um uh with like torch and stuff. It
um uh with like torch and stuff. It
should be possible technically, but that
should be possible technically, but that
I have not figured out how to do yet.
I have not figured out how to do yet.
How to just enable the address sanitizer
How to just enable the address sanitizer
on these
on these
files. That's still annoying.
files. That's still annoying.
Um, I'm trying to think what's the
Um, I'm trying to think what's the
easiest way to figure this stupid thing
easiest way to figure this stupid thing
out. Like I'm sure we just like init
out. Like I'm sure we just like init
like are indexing something that doesn't
like are indexing something that doesn't
make sense, right? I would tend to
make sense, right? I would tend to
believe that's the only way that you
believe that's the only way that you
would get a psych at this point.
I don't know. Do we see anything obvious
I don't know. Do we see anything obvious
here?
In the beginning, I do size of GPU
In the beginning, I do size of GPU
drive. Does it know what GPU drive is?
drive. Does it know what GPU drive is?
Yeah, it's macro right here. Okay. But
Yeah, it's macro right here. Okay. But
it's imported actually, right? It's
it's imported actually, right? It's
included right here. You have access to
included right here. You have access to
everything in GPU drive.
Um, let's see if we get back. Let's see
Um, let's see if we get back. Let's see
if we get back the offsets into Python
if we get back the offsets into Python
or if we even get there. Are
are we calicking the M's at all?
are we calicking the M's at all?
Oh, we are
cuz freed the temporary M.
cuz freed the temporary M.
Yeah, get done for you. Okay.
Okay, right. That seems wrong. Mhm.
That'll do it.
Okay. Okay. So, whatever it probably is
Okay. Okay. So, whatever it probably is
returning this as a pointer is the
thing. Are you looking up how to
thing. Are you looking up how to
dreference the pointer from the Python
API? It's just the signature of uh the
API? It's just the signature of uh the
shared function.
mildly
mildly
annoying. I kind of forgot about that. I
annoying. I kind of forgot about that. I
mean, I can fix it. I'm just trying to
mean, I can fix it. I'm just trying to
think what the easiest thing to do
I mean, I can for now very
easily that we're going to have to
easily that we're going to have to
branch for this though.
But I mean I will fix it pretty directly
But I mean I will fix it pretty directly
after
after
that. Hang on. Static pi object
that. Hang on. Static pi object
star. This returns a pi
object. Oh, wait. This should
return. Okay.
turns dict which is pi object
dict.
dict.
Ah, this
Ah, this
is totally wrong.
There we
go. It was uh much simpler than I
go. It was uh much simpler than I
expected. It was just a
expected. It was just a
bad turn
bad turn
value. Well, I say having not fixed it
yet. Semicolon
does not like this at
all. I don't have any break points in
all. I don't have any break points in
here now though. I forgot. I think they
here now though. I forgot. I think they
took the breakout point out by
mistake. So it doesn't it doesn't get to
mistake. So it doesn't it doesn't get to
total agents
total agents
or to at least to here.
Huh.
Huh.
Is it still thinking that it's just
Is it still thinking that it's just
giving like a giant memory address? It's
giving like a giant memory address? It's
seging when you attempt to access it. So
I don't actually know if you need this
I don't actually know if you need this
this deck
this deck
rep without
it. What was the reason why you did
it. What was the reason why you did
that? Why I did what? You set up the
that? Why I did what? You set up the
deck ref.
deck ref.
Uh so Python has a Python has reference
Uh so Python has a Python has reference
counting. So their C API tries to like
counting. So their C API tries to like
count how many references there are to a
count how many references there are to a
thing and when there are none left it
thing and when there are none left it
destroys the object. It's like garbage
destroys the object. It's like garbage
collection,
collection,
right? It's really
annoying. Did I get out of the team up
annoying. Did I get out of the team up
somehow?
somehow?
Yes.
I'm in here, right?
I'm in here, right?
Oh, I got booted
Oh, I got booted
out. It says there's no sessions.
Oh, the session somehow died.
Okay. Feels like balls.
We did something screwy in here
We did something screwy in here
basically. Is there some way to run
basically. Is there some way to run
through this file?
through this file?
Like is there a way to set point? We
Like is there a way to set point? We
should be able to just do that. Yeah,
should be able to just do that. Yeah,
actually I don't know why it's I should
actually I don't know why it's I should
have thought of that. Ul ocean GPU
have thought of that. Ul ocean GPU
drivebinding
drivebinding
C line seven.
Okay, cool. So now we actually have
Okay, cool. So now we actually have
break points in C run from Python.
break points in C run from Python.
Pretty cool.
Pretty cool.
Yeah, this is sick. So we have 64 M. We
Yeah, this is sick. So we have 64 M. We
can see that gets passed correctly,
can see that gets passed correctly,
right? Yep. M M get our agent
right? Yep. M M get our agent
offsets. We get
our map file here which has garbage in
our map file here which has garbage in
it.
it.
Do you think it's being read improperly?
Like the map file is not like a real map
Like the map file is not like a real map
file name. Now it is now that we printed
file name. Now it is now that we printed
to
to
it. You see? Mhm. This is null
it. You see? Mhm. This is null
terminated.
terminated.
It just has whatever other.
So, we have set active
agents zero. Well, that's an issue.
agents zero. Well, that's an issue.
Yeah.
Where's total count come
Where's total count come
from? Oh, wait. It gets No, cuz see it's
from? Oh, wait. It gets No, cuz see it's
correct. It's supposed to be zero.
correct. It's supposed to be zero.
Total count should not exist. Should
Total count should not exist. Should
still be zero. It hasn't been adjusted
still be zero. It hasn't been adjusted
at all.
Well, this is temp m zero. And isn't
Well, this is temp m zero. And isn't
that cool? It prints this out like a
that cool? It prints this out like a
strruct.
It actually prints nested strruct. I
It actually prints nested strruct. I
didn't even know it did that.
didn't even know it did that.
Well, it looks like active agent count
Well, it looks like active agent count
exists.
exists.
Num cars, numbum objects. Total agents
Num cars, numbum objects. Total agents
though. Active agent count is two,
right? The total count is optimized
out. It should be two. Yeah, there it
out. It should be two. Yeah, there it
is.
That seems correct.
And then it goes up to five.
And that's because active agent count
And that's because active agent count
was three.
Yep.
All these freezer like this is what you
All these freezer like this is what you
do, right?
do, right?
That's what I did in the siphon.
It wouldn't surprise me if one of those
It wouldn't surprise me if one of those
freeze is the reason why this is pissed
freeze is the reason why this is pissed
off though. Yeah. So, let's try that
off though. Yeah. So, let's try that
next. We are getting correct. Wait, are
next. We are getting correct. Wait, are
we doing Wait, is that temp of I of J or
we doing Wait, is that temp of I of J or
temp of J of I?
Uh, I don't know. Temp I.
Uh, I don't know. Temp I.
We want to see if it works without it.
We want to see if it works without it.
Yeah. Wait, you commented out the
return
still. That seems weird to me.
Do we have to like ink? Is there an ink
route? Ah, wait. We have to increment
route? Ah, wait. We have to increment
the ref. No.
I
dict. I just returned this
then. Is it being described as a pi deck
then. Is it being described as a pi deck
right now?
right now?
Oh, it's a pi. Uh, it's a pi list what
Oh, it's a pi. Uh, it's a pi list what
we are
using. Oops.
Pile set item.
What is the What is the purpose of
What is the What is the purpose of
having total count in the pilot set
having total count in the pilot set
item? Well, you wanted total count,
item? Well, you wanted total count,
didn't you, for something? Well, if if
didn't you, for something? Well, if if
agent offsets has already inside of it
agent offsets has already inside of it
the last value as total count, you don't
the last value as total count, you don't
need to return total count
anymore because you're just dre you're
anymore because you're just dre you're
just dreerencing the last point of the
just dreerencing the last point of the
array of offsets to get the
array of offsets to get the
count. Uh, okay.
And it does seem like it is rebuilding
And it does seem like it is rebuilding
this thing correctly as well. Right.
this thing correctly as well. Right.
I'm not seeing any errors. It Well, it's
I'm not seeing any errors. It Well, it's
not like sometimes it
doesn't sure that this is actually
Okay. Still
Okay. Still
pissed. Your team, you ran out again.
Oops. And now it's actually going to
Oops. And now it's actually going to
have to
rebuild.
Those
faults. This is why I try not to do too
faults. This is why I try not to do too
much in this this section, by the way,
much in this this section, by the way,
cuz like it gets really obnoxious very
cuz like it gets really obnoxious very
quickly.
quickly.
Okay. So, what is the reason why you
Okay. So, what is the reason why you
need to set this pylong and total count
need to set this pylong and total count
where oh, so I'm adding I'm just I'm
where oh, so I'm adding I'm just I'm
adding stuff into a Python list for you
adding stuff into a Python list for you
because we're returning a Python list.
because we're returning a Python list.
Okay.
Okay.
So, this is a Python. So, that's what
So, this is a Python. So, that's what
set item does. So, set item takes like
set item does. So, set item takes like
the thing you're sending it to, the
the thing you're sending it to, the
index of it, and then Oh, this is the
index of it, and then Oh, this is the
issue right here. Um, because you're
issue right here. Um, because you're
setting the index as
setting the index as
Yeah. And I I was set it to the wrong
Yeah. And I I was set it to the wrong
thing. It needs to be set to
numb. There it is. Now it's got to
work. There you go.
Oh, nice. For honor and country. Wait,
Oh, nice. For honor and country. Wait,
but the last one's null. Well, we we
but the last one's null. Well, we we
added an extra one for total agents, and
added an extra one for total agents, and
you told me we didn't need it.
you told me we didn't need it.
So, do we want it or not? Oh, okay. I
So, do we want it or not? Oh, okay. I
just I think I misunderstood how that
just I think I misunderstood how that
the Python how the API works. Yes, we
the Python how the API works. Yes, we
still need it because we need to set up
still need it because we need to set up
the numbum agents for the
the numbum agents for the
um what's it
called? Don't you need numbum agents
called? Don't you need numbum agents
whenever you initialize the puffer
like the Python the the super innit from
like the Python the the super innit from
Python? Yeah.
Okay. So now the total count should be
Okay. So now the total count should be
like 582
like 582
57 there are 64 m. Oh okay.
Aha. That sounded about right.
Aha. That sounded about right.
requires five arguments.
Is it missing
terminals
terminals?
See objection terminal truncations.
Right.
Right.
I don't know.
We could just chill here instead. That'd
We could just chill here instead. That'd
be
cool. We might have to go make sure it's
cool. We might have to go make sure it's
actually
actually
like doing stuff
correctly. Well, this is progress
though. Yeah. And to be fair, this is
though. Yeah. And to be fair, this is
one of the more complicated uses. This
one of the more complicated uses. This
and grid is the only thing that has like
and grid is the only thing that has like
a shared at the moment.
I don't even need it for
nurmoal. All right. So, we just do um be
nurmoal. All right. So, we just do um be
backend serial.
We get
there. Now it's
like uh I think I know why
though. We could have caught these
though. We could have caught these
things with checks if I were not being
lazy. Okay. So, because this is not an
lazy. Okay. So, because this is not an
int or wait, no, is this an int?
Oh, this is an int.
Oh, this is an int.
I think invite is an
I think invite is an
int. a human agent
index. I mean, we can always double
index. I mean, we can always double
check by just printing it out.
check by just printing it out.
But I mean, I guess we just go here
But I mean, I guess we just go here
then, right? We go uh to here and make
then, right? We go uh to here and make
sure stuff's getting initialized
sure stuff's getting initialized
correctly. Yeah, because it for sure
correctly. Yeah, because it for sure
would instantly seg if the map is not
would instantly seg if the map is not
being read in.
being read in.
So, we do
H colon 40.
Oh no, we hit a bulb before
this. My object type check.
OBS actions, rewards, terminals,
OBS actions, rewards, terminals,
truncations,
truncations,
seed. And then we have these
three seems fine to
me. It's breaking before on it and
me. It's breaking before on it and
venet unless I just unless I I loaded
venet unless I just unless I I loaded
the library wrong. Let me see.
Oh, it's binding
Oh, it's binding
C. I loaded the binding
wrong. It should now hit this
There we go. Do we have break
points? Human agent
zero. That's
zero. That's
right. Zero reward off-road collision
right. Zero reward off-road collision
doesn't seem
doesn't seem
right. No, it should probably pull it in
right. No, it should probably pull it in
from the config now.
Oh, wait. No, I just printed the wrong
Oh, wait. No, I just printed the wrong
one.
one.
Right. I mean, they'll both be 75 either
Right. I mean, they'll both be 75 either
way.
way.
Did you just type it wrong or Yeah,
Did you just type it wrong or Yeah,
I typed the one that hadn't been set
I typed the one that hadn't been set
yet. See? So, like after it sets. Okay,
yet. See? So, like after it sets. Okay,
then that's fine. If I do zero,
the first one should be okay. Okay,
the first one should be okay. Okay,
let's see if that gets the map.
let's see if that gets the map.
Resources GP drive binaries.
Resources GP drive binaries.
Yeah.
Yeah, I think that that is how we
Yeah, I think that that is how we
do. I'm trying to think if there's a
do. I'm trying to think if there's a
relative path
issue if there would be anything with
issue if there would be anything with
that.
that.
see how we do it in uh
see how we do it in uh
I don't think there is
I don't think there is
in Syon it accepted resources but I
in Syon it accepted resources but I
don't know about the
binding oh bet did a thing with
this oh maybe there
this oh maybe there
is but I did it with neural mammone and
is but I did it with neural mammone and
I didn't have any issues
Wait, wait. Do Do the binaries even
Wait, wait. Do Do the binaries even
exist in your version? Did we confirm
exist in your version? Did we confirm
that?
Uh, this is on your
box. Oh, well, my box should have it.
Yeah. Okay. The binaries exist.
time.
Okay, this is what is in star M.
good data.
good data.
I don't see anything that would be
I don't see anything that would be
off like it it's clearly running the set
off like it it's clearly running the set
active agent count. It's
active agent count. It's
running your sets.
Is there any is it? So, yeah, it's got
Is there any is it? So, yeah, it's got
to be loading the map correctly then. If
to be loading the map correctly then. If
it's if it's doing that, it has to be
it's if it's doing that, it has to be
loading the map. It would have no way of
loading the map. It would have no way of
loading the map um
loading the map um
correctly. If it those numbers if those
correctly. If it those numbers if those
numbers were not the numbers they
numbers were not the numbers they
currently are, or literally any number,
currently are, or literally any number,
it would have broken them before then.
it would have broken them before then.
Here's M by D1.
It's different
It's different
data. Active agent count three. So the
data. Active agent count three. So the
offset is still
offset is still
correct. Let's uh let's see if we can
correct. Let's uh let's see if we can
actually like compile and run the C
Oh yeah, I just always use GCC, but I
Oh yeah, I just always use GCC, but I
don't know if it makes any
difference. I think that was in the C
difference. I think that was in the C
file.
So something happened because this is
So something happened because this is
like a tenth the speed it used to be.
like a tenth the speed it used to be.
Did you do compile local versus compile
Did you do compile local versus compile
fast? No.
Okay, that matches. So, it still works
Okay, that matches. So, it still works
here. Um, let's see. I
here. Um, let's see. I
guess do we get through in it now? It's
guess do we get through in it now? It's
loading the map.
loading the map.
It's getting
It's getting
through set active agents.
getting through. What else would be
getting through. What else would be
breaking inside there?
Ah, so one of these M's it fails on one
Ah, so one of these M's it fails on one
of these vectorized calls.
Is it the last one? Is it going too far
Is it the last one? Is it going too far
because there should only Well, these
because there should only Well, these
are per worker. This is one per worker.
No, I've only done eight. We have like
No, I've only done eight. We have like
16 workers or whatever, right?
It's weird that it only eventually like
It's weird that it only eventually like
it it doesn't always fail on this,
it it doesn't always fail on this,
right? I mean, I can try to run with a
right? I mean, I can try to run with a
dress sanitizer
technically. Maybe that's worth doing.
I this freaking asan
symbols. This thing is the thing that
symbols. This thing is the thing that
always messes us up like trying to debug
always messes us up like trying to debug
this way. I never know how you get these
this way. I never know how you get these
symbols.
I just do This
lack of symbols is very disappointing.
Well, that's
obnoxious. I don't know how we
obnoxious. I don't know how we
uh how we're supposed to do this.
I'm going have to put more time into
I'm going have to put more time into
figuring out this debugging stack
figuring out this debugging stack
because it's it's pretty darn
because it's it's pretty darn
nice. Um, except in this exact
instance where it's like some like
instance where it's like some like
random seg that happens
eventually. What we can do
here. What's the Sython look like
again? Sorry, I had to take a quick
again? Sorry, I had to take a quick
phone call.
phone call.
Mhm. In a knit here.
Are you going over the Syon now to try
Are you going over the Syon now to try
and find like a difference?
Yeah, this is only
Yeah, this is only
taking map name,
reward. We got all these things. We
reward. We got all these things. We
don't have log buffer anymore.
We know it is loading the map
correctly. Hang on.
We'll see when it
fails. This is zero.
fails at
nine. Well, this is this would be index
nine. Well, this is this would be index
eight or map
eight. The map start from zero, right?
eight. The map start from zero, right?
The maps start from zero,
correct? Let me verify that real quick,
correct? Let me verify that real quick,
but I'm pretty sure that's true.
Yes, they start at 0000.
I mean, it fails on it loads the maps
I mean, it fails on it loads the maps
correctly eight times and then the ninth
correctly eight times and then the ninth
time it tries to load the maps, it
fails. That's kind of
fails. That's kind of
weird. That's extremely odd.
We're always passing in dumb
MS. I can't think of what would be
MS. I can't think of what would be
different. Like it's even on serial,
different. Like it's even on serial,
right? It loads them eight times or
right? It loads them eight times or
whatever and then it fails on the ninth
time. Okay. Sorry, I was dealing with
time. Okay. Sorry, I was dealing with
like a minor
crisis. Um, okay. Okay. So, it's failing
crisis. Um, okay. Okay. So, it's failing
on the eighth one every single time.
Is it a weird vectorization
Is it a weird vectorization
multi-processing thing? I tried it with
multi-processing thing? I tried it with
serial.
Okay. Still breaks.
Why would it break on the eighth?
Why would it break on the eighth?
Maybe if we're lucky, we might get a
Maybe if we're lucky, we might get a
sane back trace from it.
Okay, that looks like it is something to
Okay, that looks like it is something to
do with the map, right? Pi unic code
do with the map, right? Pi unic code
from format.
from format.
Where are you looking at when you're
Where are you looking at when you're
looking? Oh, pi unicord from format V.
But wait, this is inside of
But wait, this is inside of
of
numpy. I air format
I don't even know if this is a correct
I don't even know if this is a correct
stack trace though because this is like
stack trace though because this is like
inside of random numpy stuff,
right? I feel like if it's inside of
right? I feel like if it's inside of
numpy that then
I I I find it would be very odd if it's
I I I find it would be very odd if it's
inside of the map
reading action. just gets assigned.
Do we know how far it gets in the ninth
Do we know how far it gets in the ninth
one?
Uh, no. Or does it in does it just
Uh, no. Or does it in does it just
instantly die? We don't know. Can we
instantly die? We don't know. Can we
find We do not. Is there any way for us
find We do not. Is there any way for us
to check? Maybe.
to check? Maybe.
Can't think of any. I also don't know if
Can't think of any. I also don't know if
I'm handling this reference counting
I'm handling this reference counting
stuff.
Um, you would think this should be
fine. Should be totally fine.
Every time map file gets called, it's
Every time map file gets called, it's
creating a new 100 array, right? So it's
creating a new 100 array, right? So it's
not like
not like
it's continuously loading on top of each
it's continuously loading on top of each
other
other
and then it gets
um map file.
And we've printed out the whole agent
And we've printed out the whole agent
offsets before and it it got all of
offsets before and it it got all of
them. So
them. So
it has to have done it initialized all
it has to have done it initialized all
of them once before. It's initialized
of them once before. It's initialized
them all eight times, right?
them all eight times, right?
Huh? It's initialized all the maps eight
Huh? It's initialized all the maps eight
times.
Why is it doing that though? Well, why
Why is it doing that though? Well, why
eight times? Well, it's going to be 16
eight times? Well, it's going to be 16
times. It's 16 workers.
I have it in serial, so just do it in a
I have it in serial, so just do it in a
loop.
If if you switched workers to eight and
If if you switched workers to eight and
eight, does it work? I don't
eight, does it work? I don't
know. I can see if we switch it to one
know. I can see if we switch it to one
if it works.
and
unpacks. that
way. It says we're on this
way. It says we're on this
unpack of numb M's.
That's where it's dying. Well, I don't
That's where it's dying. Well, I don't
know if this is actually accurate. This
know if this is actually accurate. This
PI unic code from format V
Um, there's no way. There's just no way,
Um, there's no way. There's just no way,
right?
Okay. So, we still get a seg. Well, it
Okay. So, we still get a seg. Well, it
gets farther
gets farther
though. Is that consistent?
though. Is that consistent?
I I read about um apparently
I I read about um apparently
autocompletes there's like a breaking
autocompletes there's like a breaking
underscore or like a breaking what? Like
underscore or like a breaking what? Like
a breaking dash. Dude, no [ __ ] way.
a breaking dash. Dude, no [ __ ] way.
Really? Yeah. That like LLMs like to
Really? Yeah. That like LLMs like to
use. I doubted that's what's happened.
use. I doubted that's what's happened.
There's like no
way with that would be disgusting to if
way with that would be disgusting to if
that's if that's [ __ ] it. We're
that's if that's [ __ ] it. We're
deleting all language models and they're
deleting all language models and they're
banned from puffer lib editing
banned from puffer lib editing
permanently.
permanently.
Do you see this is why I just wanted to
Do you see this is why I just wanted to
use regular Vim and never use the Neo
use regular Vim and never use the Neo
Vim. Ah, you can use Neovim without the
Vim. Ah, you can use Neovim without the
autocomplete to be fair.
I doubt it's the problem, but if it is,
I doubt it's the problem, but if it is,
I'm that'll be insane. the machine. That
I'm that'll be insane. the machine. That
would be insane,
would be insane,
right? Hey, you have freaking cursor
right? Hey, you have freaking cursor
installed. Okay.
installed. Okay.
Hey, but at least it doesn't like I
Hey, but at least it doesn't like I
don't know. I feel like Neil Vim takes a
don't know. I feel like Neil Vim takes a
little bit more liberties. No, it
little bit more liberties. No, it
doesn't. You still have like you have
doesn't. You still have like you have
shitty models on that like
Okay, so here we have M ideas.
Okay, so here we have M ideas.
Wait, but that's totally not right.
Wait, but that's totally not right.
Those are pointers.
Those are pointers.
Okay. Yeah, they're just pointers. I
Okay. Yeah, they're just pointers. I
mean, you can even see how long they are
technically. One 140 and then
technically. One 140 and then
one. It's like however many
kilobytes I don't know.
So,
So,
so where did it die now? Some god awful
so where did it die now? Some god awful
unknown
unknown
place in this like random inline
method. I mean, it lets you call
method. I mean, it lets you call
vectorize now.
Um, so we're past all the init.
See, it is very weird that I just
See, it is very weird that I just
retyped numbum m and it gets farther
retyped numbum m and it gets farther
consistently though, right?
consistently though, right?
Yeah.
Yeah.
Do you imagine that was actually one of
Do you imagine that was actually one of
them? I mean, I think Numms is typed in
them? I mean, I think Numms is typed in
a few places like but in the string like
a few places like but in the string like
it's in quotes as like the thing that
it's in quotes as like the thing that
has to get unpacked in
C. I wonder if it was a different
C. I wonder if it was a different
underscore
underscore
character. Be insane.
character. Be insane.
I'm not here for this level of evil.
I'm not here for this level of evil.
Is it
Is it
breaking her
score? Like,
yeah, apparently this is a thing and
yeah, apparently this is a thing and
LLM's like using it.
LLM's like using it.
Dude, whatever
Dude, whatever
demon decided to create a longer or
demon decided to create a longer or
shorter underscore. I honestly I
shorter underscore. I honestly I
wouldn't be surprised if it's like
wouldn't be surprised if it's like
somebody has a data poisoning thing to
somebody has a data poisoning thing to
try to like or even the companies
try to like or even the companies
themselves, right? It could try to be
themselves, right? It could try to be
like a watermarking thing, right?
like a watermarking thing, right?
Wouldn't that be funny? Oh my god. Like,
Wouldn't that be funny? Oh my god. Like,
yeah, we're going to watermark code by
yeah, we're going to watermark code by
like making it use some random ass
like making it use some random ass
character
character
so that people can know how much code is
so that people can know how much code is
created by their LLM. I I wouldn't be
created by their LLM. I I wouldn't be
surprised if it's like there's some
surprised if it's like there's some
crazy shenanigans like that going on.
be
nuts. Uh, so I do
nuts. Uh, so I do
have I have a breakpoint on
have I have a breakpoint on
step. Okay.
But we didn't hit that.
So it got to vectorize. It got to
So it got to vectorize. It got to
vectorize of the driver M because
vectorize of the driver M because
there's a driver M, right?
And now it gets to the reset properly.
And now it gets to the reset properly.
And SE faults on reset. Okay. So it's
And SE faults on reset. Okay. So it's
SEG faults on reset now. Okay. Oh, you
SEG faults on reset now. Okay. Oh, you
know
know
what would that I don't know how I wrote
what would that I don't know how I wrote
serial but if batch size is eight then
serial but if batch size is eight then
it it might have been seg faulting on
it it might have been seg faulting on
the first reset
the first reset
then hang on let's go confirm
that maybe
Oh, look at that. It is. You see
Oh, look at that. It is. You see
that? It's cuz it's the batch size is
that? It's cuz it's the batch size is
eight. So, it gets to the first
reset and then it freaking dies. Okay,
reset and then it freaking dies. Okay,
cool.
cool.
We figured it out. We figured out where
We figured it out. We figured out where
it is dying. Okay. So, it's dying in
it is dying. Okay. So, it's dying in
reset, which means we can put a break
reset, which means we can put a break
point in reset. H. Yes. Mhm.
So, it's not just dying randomly. It's
So, it's not just dying randomly. It's
dying consistently at the start of
dying consistently at the start of
reset. It's because it's eight in
reset. It's because it's eight in
because that was the batch size.
There's a C reset
There's a C reset
here. And we just go line 1,00. Perfect.
the honorable line
10,00 or dishonorable if you feel like
10,00 or dishonorable if you feel like
the code should be less than a thousand
the code should be less than a thousand
lines which I don't think is possible.
lines which I don't think is possible.
If I can make the train file less than a
If I can make the train file less than a
thousand lines. I'm just
saying can make the entire puffer train
file. Okay, so we did not actually get
file. Okay, so we did not actually get
to
here is not
here is not
good. We did not get the breaking as it
good. We did not get the breaking as it
even calls reset on the Python side and
even calls reset on the Python side and
not even getting to the C. Well, or it
not even getting to the C. Well, or it
could be in the end binding.
Okay, the ve reset is endbinding
Okay, the ve reset is endbinding
409 or actually that's the
header 10.
I thought this was going to be a lot
I thought this was going to be a lot
easier when I said, "Let's do this." By
easier when I said, "Let's do this." By
the way,
feel like I was not extremely confident
feel like I was not extremely confident
in this being easy. Yeah, I
know. because I knew I had to do really
know. because I knew I had to do really
jank stuff in order to get the site even
jank stuff in order to get the site even
to
to
work. Okay, so this is 64
m. God damn it.
Seriously, I think this might be my
fault. Yeah, this my fault. Oh, dude,
fault. Yeah, this my fault. Oh, dude,
that's so terrible.
Okay, a damn warning. And you call
Okay, a damn warning. And you call
reset. See missing a
fire. I have to actually go see how it's
fire. I have to actually go see how it's
even possible that it lets you call this
even possible that it lets you call this
with the wrong [ __ ] signature.
Is it is it even is it a keyword arc? I
Is it is it even is it a keyword arc? I
think it matters whether it's like a
think it matters whether it's like a
keyword or
keyword or
not. Yeah, it literally I can't I don't
not. Yeah, it literally I can't I don't
think it can be a keyword
arc. Okay.
for honor and glory.
for honor and glory.
For honor and glory. Yes, you
won. That's my bad on that
one. That is good to know that we have
one. That is good to know that we have
that shenanigans happening.
that shenanigans happening.
Dude, your to-do list was gigantic.
Dude, your to-do list was gigantic.
Most of it's done.
episode
length. That's easy.
It
It
runs. How long does it take for logs?
runs. How long does it take for logs?
It should be there by now. Okay, we'll
It should be there by now. Okay, we'll
figure that one out.
it
fast. Arguably should be the same speed.
fast. Arguably should be the same speed.
No, 400 something. I don't
know. Where are
logs? Where are our logs?
Oh, I did tell you to do this.
Yeah, that's my bad.
Yeah, that's my bad.
I at least I catch that one fast.
I at least I catch that one fast.
That's my
Ah, and you see it didn't rebuild it.
Ah, and you see it didn't rebuild it.
You see that? Mhm.
Has only the binding changed and not the
Has only the binding changed and not the
uh the actual source. I mean only the
uh the actual source. I mean only the
source changed, not the binding.
Yeah. All
right. Okie do. New binding in.
right. Okie do. New binding in.
All right. Give me a second. I will be
All right. Give me a second. I will be
back. I'm getting a
back. I'm getting a
drink. Good [ __ ]
Okay. Did it do anything?
Okay. Did it do anything?
It's uh it went down and now it's on its
It's uh it went down and now it's on its
way back up. So, it matches. I mean,
way back up. So, it matches. I mean,
that's what we
that's what we
expect. See if it's does what we expect
expect. See if it's does what we expect
it to do. Is this the same training
it to do. Is this the same training
speed as before?
speed as before?
Yeah. 400 something.
Yeah. 400 something.
Well, 1% of times 1% of
time. I mean, ideally I we don't have to
time. I mean, ideally I we don't have to
use 16 workers to get there, but I guess
use 16 workers to get there, but I guess
that that's the
that that's the
way.
way.
Ideally, I mean, we can try with eight
Ideally, I mean, we can try with eight
and stuff
and stuff
after. Um, it would actually let us
after. Um, it would actually let us
fewer workers lets us use more maps as
fewer workers lets us use more maps as
well, which is
well, which is
good. And actually, when you do um, if
good. And actually, when you do um, if
you do the thing I suggest where you
you do the thing I suggest where you
like cut to a specific number of maps,
like cut to a specific number of maps,
we can use random maps per worker
very easily from that.
It looks like it's going. It'll probably
It looks like it's going. It'll probably
cap out at it.
cap out at it.
So, okay, we'll confirm this and then uh
So, okay, we'll confirm this and then uh
you know, the original reason for all
you know, the original reason for all
this was that we were trying to figure
this was that we were trying to figure
out what's happening with the
out what's happening with the
uh there was like some weird thing that
uh there was like some weird thing that
was like the first two maps being the
was like the first two maps being the
same.
same.
Oh yeah.
Oh yeah.
So we can go check on that. That was
So we can go check on that. That was
like the original problem. Now we can
like the original problem. Now we can
put a break point in there and we can
put a break point in there and we can
diss we can determine that right where
diss we can determine that right where
the first two agents being the
the first two agents being the
same. Oh yeah, that's what we started on
same. Oh yeah, that's what we started on
hours
hours
ago. To be fair, we did get the binding
ago. To be fair, we did get the binding
to work and now we have GPU drive
to work and now we have GPU drive
binding.
binding.
Mhm. So that's really
Mhm. So that's really
nice. And now you can go flex that on
nice. And now you can go flex that on
captain so he actually does the impulse
captain so he actually does the impulse
wars one.
wars one.
I mean I don't know if there's much I
I mean I don't know if there's much I
can flex on captain. This was 85% maybe
can flex on captain. This was 85% maybe
95% you and 5% me. Yeah, you can flex it
95% you and 5% me. Yeah, you can flex it
anyways.
anyways.
The captain is so easy. I did it all by
The captain is so easy. I did it all by
myself in in two hours. It's no big
myself in in two hours. It's no big
deal. Exactly.
It totally wasn't a
cluster. I wonder if that underscore was
cluster. I wonder if that underscore was
actually a different
character. It's unlikely, but it would
character. It's unlikely, but it would
be so
funny. I mean, the actual issue was the
funny. I mean, the actual issue was the
seed thing, right? On reset. That's my
seed thing, right? On reset. That's my
bad.
They've been added to AI
Pete. Am I in good
company? This is literally just like all
company? This is literally just like all
the people from one of my random group
the people from one of my random group
DMs.
Is this Jonathan's new game? This looks
Is this Jonathan's new game? This looks
cool. What is
cool. What is
this? Looks
cool. Okay. So, this trains I think
cool. Okay. So, this trains I think
we're good. Do we call this? And uh here
we're good. Do we call this? And uh here
I think that was successful. I mean it
I think that was successful. I mean it
it gets to it's climbing. Okay. You may
it gets to it's climbing. Okay. You may
go commit this now and then we will uh
go commit this now and then we will uh
start on the other bit of the work. Yes,
start on the other bit of the work. Yes,
do
commit. Much work was accomplished on
commit. Much work was accomplished on
this and that whole Syon file gets to go
this and that whole Syon file gets to go
away now.
away now.
True. True. So we deleted like 20 some
True. True. So we deleted like 20 some
odd lines from uh the environment file
odd lines from uh the environment file
and we delete the entire Syon file and
and we delete the entire Syon file and
we have a much shorter binding file. All
we have a much shorter binding file. All
right. So I'm going to formally remove
right. So I'm going to formally remove
the Syon file.
the Syon file.
Goodbye Satan.
No. Wait. Okay. Careful. What? Yeah. I
No. Wait. Okay. Careful. What? Yeah. I
just want to make sure you don't
just want to make sure you don't
accidentally remove something we need.
accidentally remove something we need.
It's a dangerous thing to not to be
It's a dangerous thing to not to be
removing [ __ ] before you've committed
removing [ __ ] before you've committed
the changes.
the changes.
Skill.
Skill.
I
I
mean, all I'm saying is if you if you
mean, all I'm saying is if you if you
lose it, you're redoing it.
lose it, you're redoing it.
Fair.
Fair.
All right. Um, we're not we didn't touch
All right. Um, we're not we didn't touch
setup.py meaningfully, right? We were
setup.py meaningfully, right? We were
just commenting things in and out or
just commenting things in and out or
just get this stuff in there for now. I
just get this stuff in there for now. I
just just I don't care. Just get this in
just just I don't care. Just get this in
there so that we don't have things
there so that we don't have things
break.
Oh, we have
inquiry. All
right, it's been
pushed. You want me to make a PR for it?
Uh, no. I just wanted to have it push
Uh, no. I just wanted to have it push
for now so that we can Let's fix the
for now so that we can Let's fix the
other stuff.
other stuff.
Okay.
Okay.
So, you will actually be able to PR this
So, you will actually be able to PR this
cuz we didn't break anything.
True, true, true. Isn't that great?
True, true, true. Isn't that great?
All right, but do you want to let's PR
All right, but do you want to let's PR
it after we get the new let's figure out
it after we get the new let's figure out
let's go check some data.
let's go check some data.
All
All
right. All right. Well, now that things
right. All right. Well, now that things
actually work, you can go put a break
actually work, you can go put a break
point in data. Yeah. All
point in data. Yeah. All
right. Let's go
stop. I should have gotten a wireless
stop. I should have gotten a wireless
one of these so I could just like Yeah,
one of these so I could just like Yeah,
you go do that. I'm busy doing whatever
you go do that. I'm busy doing whatever
the hell exercise.
the hell exercise.
So there's no demo that apply. So it's
So there's no demo that apply. So it's
always clean puff for now. Yeah, clean
always clean puff for now. Yeah, clean
puff for all has. And if you run w like
puff for all has. And if you run w like
word count on it, it's under a thousand
word count on it, it's under a thousand
lines of actual code for everything in
lines of actual code for everything in
there.
Anger.
Anger.
Why? Oh, I'm going to switch to
native.
native.
Could be a
multiprocessing back. Back
end back end
end back end
capital. No, no, not that capital. That
capital. No, no, not that capital. That
that lower than the actual back end.
that lower than the actual back end.
Yeah.
Backend equal capital S serial.
Do you not like doing native anymore? Is
Do you not like doing native anymore? Is
that like banned from life? No, I just I
that like banned from life? No, I just I
think I broke things and I haven't
think I broke things and I haven't
messed with it in a bit.
Oh, we've had a surprising number of
Oh, we've had a surprising number of
people that have enjoyed watching two
people that have enjoyed watching two
hours of debugging
hours of debugging
horrendous low-level stuff. To be fair,
horrendous low-level stuff. To be fair,
almost every environment has literally
almost every environment has literally
just been like binding file, write 20
just been like binding file, write 20
lines, close,
lines, close,
done. This one is because of the shared
done. This one is because of the shared
initialization and stuff, which most
initialization and stuff, which most
don't
don't
need. Uh, it looks like the fifth one is
need. Uh, it looks like the fifth one is
the same one as the third
the same one as the third
one, and the first and the second are
one, and the first and the second are
identical.
identical.
The fifth one is what?
The fifth one is what?
The fifth and the third are the same and
The fifth and the third are the same and
the first and the second are the same.
the first and the second are the same.
You're misreading that.
You're misreading that.
No, I think you're misreading
that. There you
that. There you
go. Text is wrapped on your
screen. Yeah.
screen. Yeah.
I think it's the same dude. What?
I think it's the same dude. What?
Look. See? Two and four are the same.
Look. See? Two and four are the same.
Two and four are the same. Yeah. Well,
Two and four are the same. Yeah. Well,
zero zero and one are the same as well.
zero zero and one are the same as well.
I know, but I'm just saying that's
I know, but I'm just saying that's
another thing that's weird.
Oh, like
Oh, like
I don't think they should be the same.
I don't think they should be the same.
Okay. Well, breakpoint and compute
Okay. Well, breakpoint and compute
observations time.
observations time.
serial back end break point at start of
serial back end break point at start of
comput
comput
ops. But let me
yeah hang this back
up that break
point. Oh wait I can go
Oh, so this is the new thing I can do
Oh, so this is the new thing I can do
now, right? So it's if I
put all right so line 888.
All right. So what is this? GDB- args.
All right. So what is this? GDB- args.
And then I run the thing.
And then I run the thing.
PDP- args and then you run your Python.
PDP- args and then you run your Python.
But you just put PDP- args in front of
But you just put PDP- args in front of
your Python command.
Yeah. And then from here I do what?
Yeah. And then from here I do what?
Break or B?
Break or B?
And then the line number and the file
And then the line number and the file
the full file path and the line number.
No dashes or anything. Just file name,
No dashes or anything. Just file name,
line number, colon 888.
Mhm.
Mhm.
Okay.
Yes. And then what now? Run. Mhm.
Hit run again.
Try
again.
Um,
Um,
what? I get that on my machine
what? I get that on my machine
sometimes. Um, but it it it's like an
sometimes. Um, but it it it's like an
intermittent thing and it just goes away
intermittent thing and it just goes away
if you run it a couple times. It's like
if you run it a couple times. It's like
an OS permission [ __ ] thing. Try
an OS permission [ __ ] thing. Try
again. I guess that's bizaro.
Keep on doing
this. No executable file specified.
What?
Run starting program. See the You didn't
Run starting program. See the You didn't
run Python. You You missed Python. Oh,
run Python. You You missed Python. Oh,
I'm an idiot.
Yeah, it doesn't. Okay. An idiot thing.
Yeah, it doesn't. Okay. An idiot thing.
All right.
Wait, how do you have to rebuild? Huh?
Wait, how do you have to rebuild? Huh?
Why? Why would you have to rebuild?
Why? Why would you have to rebuild?
Because I put a breakpoint in the C in
Because I put a breakpoint in the C in
the C in the in theh file.
the C in the in theh file.
No, it's the breakpoint isn't in the
No, it's the breakpoint isn't in the
source.
Yeah, it is.
Yeah, it is.
No, it isn't. The breakpoint is
No, it isn't. The breakpoint is
configured through
configured through
GDP. It's not like, you know, you you
GDP. It's not like, you know, you you
can put break points. Go and type a
can put break points. Go and type a
breakpoint, but like it's configured
breakpoint, but like it's configured
through it.
through it.
So, it should just stop at line 88, but
So, it should just stop at line 88, but
clearly it's just punching through.
clearly it's just punching through.
Okay, let me let me do it.
Okay, let me let me do it.
Fine. Yeah. Give give.
See just popping
Does this not get
called? It has to get called, right? It
called? It has to get called, right? It
has to get called otherwise nothing
has to get called otherwise nothing
would be happening.
Here we
go. Must have been messing up the line
number. Wait.
Okay.
Okay.
Active
out.
out.
Ah, optimized out. So, we need to
Ah, optimized out. So, we need to
freaking compile this stuff without all
freaking compile this stuff without all
these optimizations, I
think. At
least we get I
All
right. I gets to
one. So there are multiple agents. Yes.
one. So there are multiple agents. Yes.
In the first level, I think there should
In the first level, I think there should
only be two.
only be two.
Okay, let's
Okay, let's
see. Yeah, and then we get to the start
see. Yeah, and then we get to the start
of the function. So, there are
of the function. So, there are
two. We do see two. Let's let's uh fix
two. We do see two. Let's let's uh fix
our debugging
experience. Wait, is that even right?
experience. Wait, is that even right?
Should there be
two? Technically, that should be map
two? Technically, that should be map
0000.bin, right? Mhm.
Um, I'm gonna lo I'm gonna locally
Um, I'm gonna lo I'm gonna locally
render that real quick while you're
render that real quick while you're
doing
doing
that. I'm suspicious of there being
that. I'm suspicious of there being
actually two
cars. Now it's not optimized out anymore
cars. Now it's not optimized out anymore
and we can actually see
and we can actually see
things. Active agent count is
two and map name is
two and map name is
should be 00.
Map name is J.
I don't know if this is just not
I don't know if this is just not
printing correctly
printing correctly
though. It says map name
equals. This was rendering the uh the
equals. This was rendering the uh the
text correctly before. So that's weird.
I think I did something weird in Syon to
I think I did something weird in Syon to
address
that. Ego
that. Ego
entity is entities of
I. Do they all start with the same
I. Do they all start with the same
heading or something?
heading or something?
Do they all start with the same heading?
Do they all start with the same heading?
No, it's based on whatever the
No, it's based on whatever the
trajectory that they were given what
trajectory that they were given what
spawn
was. Okay. So, here are the ego
entities. Uh the ego entity is
points to the same
points to the same
address for index zero and
one. So it's end of
entities. Where's this other
entities. Where's this other
car? When I load the map, I don't see
car? When I load the map, I don't see
this other car.
When I render it, this other car is
When I render it, this other car is
nowhere to be
nowhere to be
found. Um,
active agent entities.
active agent entities.
Oh, I wonder if I know what this bug is.
Oh, I wonder if I know what this bug is.
Okay, I have an idea.
Okay, I have an idea.
It's in set active agents I
It's in set active agents I
think and
and Okay, hold up. Let me think about
and Okay, hold up. Let me think about
how I fix
how I fix
this. Hello to all the Twitch
this. Hello to all the Twitch
folks. because the first So the way that
folks. because the first So the way that
they set it up is that the first
they set it up is that the first
car is actually the last car because it
car is actually the last car because it
guarantees that the last car actually
guarantees that the last car actually
has a path. Um cuz there's a weird
has a path. Um cuz there's a weird
situation where you could have like you
situation where you could have like you
could have technically because the max
could have technically because the max
cars are 64. Mhm. You could possibly run
cars are 64. Mhm. You could possibly run
into a situation where you have 64
into a situation where you have 64
static cars before you reach an active
static cars before you reach an active
car.
car.
Okay.
Okay.
So they always know that the last car is
So they always know that the last car is
going to be an active car. And I think I
going to be an active car. And I think I
may still be looping at second time even
may still be looping at second time even
though that's the only car available.
What would the impact of that be? You'd
What would the impact of that be? You'd
have two of the same first car.
have two of the same first car.
Oh, I mean that would do it.
Oh, I mean that would do it.
But let me think about how I would
But let me think about how I would
resolve such thing.
I think I just add a minus one
here. But n of active agent indices
Okay, so n of active agent indices of
Okay, so n of active agent indices of
zero is 63 and m active agent indices of
zero is 63 and m active agent indices of
one is also
one is also
63. So the ego obs are identical and
63. So the ego obs are identical and
they're both referring to this index
they're both referring to this index
63. That does seem
incorrect. Bug has been discovered.
You have idea for fix for that? Yeah.
You have idea for fix for that? Yeah.
I'm just verifying that what happens and
I'm just verifying that what happens and
see if you do something.
Mhm. Okay. So that whole thing gets
How does that work?
All right, I have an idea. Okay, go into
All right, I have an idea. Okay, go into
theh file or I I can probably do this.
theh file or I I can probably do this.
Yeah, go ahead. I'm gonna I'll go use
Yeah, go ahead. I'm gonna I'll go use
the restroom real quick. I'll be back in
the restroom real quick. I'll be back in
a minute and then I've got hour and a
a minute and then I've got hour and a
half before dinner. Okay, we'll see what
half before dinner. Okay, we'll see what
gets done.
gets done.
Don't let me forget to unmute.
3840. We remember
or
Good. Uh, new. So, fix that, which leads
Good. Uh, new. So, fix that, which leads
to a batch size bug because the numbum
to a batch size bug because the numbum
agents is different.
agents is different.
Uh-huh. Um,
Uh-huh. Um,
agent is 480.
agent is 480.
Okay. So, that's not a good number. I
Okay. So, that's not a good number. I
don't like that number. So, it should be
don't like that number. So, it should be
480 versus 592.
480 versus 592.
Okay. Can you get it?
Okay. Can you get it?
Um, keep incrementing until it like up
Um, keep incrementing until it like up
to 512 but not
over. Wait,
what? Yeah, I I can do
it. You just want to up the levels till
it. You just want to up the levels till
it's above 592. So, you're going to go
it's above 592. So, you're going to go
to like a little bit
to like a little bit
higher on input size or numms m. Well,
higher on input size or numms m. Well,
it's
both four. What would you say it was
both four. What would you say it was
before?
before?
I thought it was 48. The wrong the wrong
I thought it was 48. The wrong the wrong
number was 592 like from the bug after
number was 592 like from the bug after
the bug has been addressed.
It was 592 before.
It was 592 before.
Is that what it was 592 before? It was
Is that what it was 592 before? It was
592.
592.
This just didn't you modified the input
This just didn't you modified the input
size, not the
size, not the
um that's what I was Oh, okay. Yeah. Me
um that's what I was Oh, okay. Yeah. Me
dumb.
I need to take out the break point,
I need to take out the break point,
but it's too big.
probably 72. Are you trying to get this
probably 72. Are you trying to get this
to be exactly 512?
No. I get
close
close
seven. One more.
So not
So not
this 72 is the
number. What was it? 510 before
number. What was it? 510 before
something. It was 592
before. The new number is
before. The new number is
480. Or I guess now I guess now you just
480. Or I guess now I guess now you just
changed it to five. Whatever.
changed it to five. Whatever.
Five to
07 times
07 times
64*
16 4
So that's a big chunk of data that was
So that's a big chunk of data that was
worthless. It's a big chunk of worthless
worthless. It's a big chunk of worthless
data.
data.
So that may have been the reason why it
So that may have been the reason why it
was learning nothing.
Then what did we do for mini batch size?
Then what did we do for mini batch size?
It's 256.
It's 256.
I think this stays the
same. That
size train the
puffer want to take out the break point.
puffer want to take out the break point.
Oh
yeah. See if we've gotten
See if your document has arrived.
Oh, cool. You got a cool email.
Yeah.
Different one. They're taking their
Different one. They're taking their
time. The other
time. The other
one. Oh.
bandage size of tensor
bandage size of tensor
uh must
uh must
match. Why does my fly paper keep
match. Why does my fly paper keep
falling down? It's disgusting. Hang
on. Oh, I didn't see this email.
Let me just tell him anytime next week
Let me just tell him anytime next week
that he that works.
All
All
right. Banded size of tensor.
Oh, you had your headphones on. Uh, do
Oh, you had your headphones on. Uh, do
you want me to just tell them anytime
you want me to just tell them anytime
that works next week?
Yeah. All right.
EST. Any reasonable time?
EST. Any reasonable time?
My family as well. Okay. He's Yeah, he's
Mhm. And uh, anything on Friday?
Mhm. And uh, anything on Friday?
No. Um, let
No. Um, let
me check in with that. Many things to
check. I'll set a reminder to call in
check. I'll set a reminder to call in
this
evening. They said they have a bunch of
evening. They said they have a bunch of
demos going on right now.
You can have one more demo with puffer
You can have one more demo with puffer
lip.
lip.
Exactly.
Expanded size. What? What do we screw up
Expanded size. What? What do we screw up
here?
OBS 460.
This obs shape seems wrong.
Um,
Oh, I just I just like totally messed up
Oh, I just I just like totally messed up
for no apparent
reason. My bad.
this train too slow.
Okay.
Okay.
All right. So now this is actually
All right. So now this is actually
training looks like a reasonable pace.
training looks like a reasonable pace.
450,000 steps per second.
Now we need now we need to figure out if
Now we need now we need to figure out if
that's only one of the data issues. Oh,
that's only one of the data issues. Oh,
of course. But let's see if this
of course. But let's see if this
actually does anything of
actually does anything of
interest initially.
Hey
uh much
code. It's going to be fun once we have
code. It's going to be fun once we have
all the machines for all the
all the machines for all the
experiments.
Yeah, it'll be
Yeah, it'll be
cool. for all the open source research.
I now just going back up.
Maybe if this actually is just worse.
Maybe if this actually is just worse.
Feels bad.
Feels bad.
This is going back up. This is like the
This is going back up. This is like the
curve that we expect. I don't know why
curve that we expect. I don't know why
it goes down. Like that seems weird.
it goes down. Like that seems weird.
That seems like bad hypers or
whatever. We could technically try the
whatever. We could technically try the
um I did a grid sweep. We could try the
um I did a grid sweep. We could try the
grid parameters on
grid parameters on
this. Okay. That would be a nice next
this. Okay. That would be a nice next
thing to
thing to
try cuz that like we did really really
try cuz that like we did really really
well on that and it's kind of a similar
well on that and it's kind of a similar
Yeah, it's basically the same problem
Yeah, it's basically the same problem
but you just get punished a little
but you just get punished a little
harder.
harder.
I mean look at uh look at these hyper
I mean look at uh look at these hyper
prams
prams
though. This is Are they pretty
though. This is Are they pretty
different from the prams on default? I
different from the prams on default? I
mean look at them. Oh, sorry. I'm
mean look at them. Oh, sorry. I'm
looking I'm typing out the email. Okay,
looking I'm typing out the email. Okay,
you're good.
you're good.
a female.
So that
So that
versus Okay, I think that one's the high
versus Okay, I think that one's the high
gamma,
gamma,
right? Or did we did we change the gamma
right? Or did we did we change the gamma
in this one?
in this one?
Uh, this one was 98 gamma for Okay,
Uh, this one was 98 gamma for Okay,
fine.
Wait, who is this
Wait, who is this
guy? I don't I've never heard this guy
guy? I don't I've never heard this guy
before, but like I had somebody DM me
before, but like I had somebody DM me
that they helped this guy get into the
that they helped this guy get into the
news or
news or
whatever. I I don't know if it's just
whatever. I I don't know if it's just
like they're farming. They can't even
like they're farming. They can't even
see your likes, but like are they just
see your likes, but like are they just
seeing like if you comment on specific
seeing like if you comment on specific
posts and like, "Oh yeah, we helped so
posts and like, "Oh yeah, we helped so
and so get into the news or whatever."
scams. Interesting.
Let's see how this thing's
Let's see how this thing's
going. It's kind of following the exact
same. Well, what were the ghost cars
same. Well, what were the ghost cars
doing before?
Um,
right. You had like ghost cars. So, what
right. You had like ghost cars. So, what
were they doing? You have a You would
were they doing? You have a You would
have a ghost car
have a ghost car
that is exactly on top of another car.
They collide. Is it registering success?
They collide. Is it registering success?
Is it like
arguably it should be
arguably it should be
colliding at all steps, but that was not
colliding at all steps, but that was not
what it was indicating.
what it was indicating.
The car in the first map was always
The car in the first map was always
colliding, but it might have just been
colliding, but it might have just been
because it was crashing.
because it was crashing.
No, I'm saying like it should have been
No, I'm saying like it should have been
red at all times if technically there
red at all times if technically there
was a car on top of it.
Okay, so this is like not meaningfully
Okay, so this is like not meaningfully
different despite having fixed what
different despite having fixed what
would have seemed like a major bug. Yes.
would have seemed like a major bug. Yes.
Oh, don't you love it when that happens?
Oh, don't you love it when that happens?
All right, let's do we've killed this,
All right, let's do we've killed this,
but this the other one I think got hung
but this the other one I think got hung
at some point. So, this one does seem to
at some point. So, this one does seem to
at least increase. All right. Uh I think
at least increase. All right. Uh I think
this is at least back to a reasonable
this is at least back to a reasonable
position. We're doing this now.
position. We're doing this now.
Okay.
Okay.
Don't need this one.
Already
Already
set
this tiny mini batch size. A little
this tiny mini batch size. A little
weird.
We'll do this and
We'll do this and
then I will see if we have any other
then I will see if we have any other
good params.
file contains no section headers
file contains no section headers
at the top. At the very top, you have a
at the top. At the very top, you have a
How do I do that?
Ghost code.
So this is number one trial. Number two
So this is number one trial. Number two
is going to
is going to
be dependent on what results we have
be dependent on what results we have
over
over
here. I have in fact been running a
here. I have in fact been running a
sweep this entire time.
sweep this entire time.
planned from the start. I hope this at
planned from the start. I hope this at
least continuously goes up.
Big
ask. I don't know why it's starting at 0
ask. I don't know why it's starting at 0
either. So, best
either. So, best
breakout is sub 20 second solve
breakout is sub 20 second solve
breakout.
Okay,
Okay,
we got sub 20.
we got sub 20.
Yo, ridiculous honestly. First sub
20. That's pong level status.
Okay. So, that's got to be I mean that's
Okay. So, that's got to be I mean that's
soda. So, what about
this? Yeah, that's uh you could say
this? Yeah, that's uh you could say
that's pretty good.
You could say that that's pretty
You could say that that's pretty
freaking
good.
Okay, let's go get you one of these.
Holy. Does grid also dump at the
Holy. Does grid also dump at the
beginning? Did
beginning? Did
it maybe a little
it maybe a little
bit? Well, there's a good reason for
bit? Well, there's a good reason for
that one.
Yeah, I'm still suspicious of like All
Yeah, I'm still suspicious of like All
right, so let's see what we what we're
right, so let's see what we what we're
doing
doing
here. I'll let this run a little bit.
here. I'll let this run a little bit.
This one's a slow config, though.
Did this thing do? I'm actually now I'm
curious. It must have messed with the
curious. It must have messed with the
clip
clip
coefficients. Oh yeah.
coefficients. Oh yeah.
Okay. That's a clip coefficient right
there
and.3 clip coefficient on
and.3 clip coefficient on
PO. So on your new sweeps, are you
PO. So on your new sweeps, are you
sweeping everything including the Atom
sweeping everything including the Atom
betas and such? We are doing lots of
betas and such? We are doing lots of
sweeps.
sweeps.
Okay. Oh, there you go. the RL results
Okay. Oh, there you go. the RL results
obtained
live. I'm going to start copying these
live. I'm going to start copying these
over to my local grid
over to my local grid
because it's going to be freaking This
because it's going to be freaking This
is a faster run as well than the one
is a faster run as well than the one
before. Just faster, better.
So good to just win
RL is so
good. I bet this is going to have some
good. I bet this is going to have some
fun data as
fun data as
well. You know, this whole
well. You know, this whole
sweep. I'm really happy I made this grid
sweep. I'm really happy I made this grid
end. Like I spent a few days doing it,
end. Like I spent a few days doing it,
but was
but was
like totally worth it.
How's this going? Is it raining yet? I
How's this going? Is it raining yet? I
don't know. You look You have access to
don't know. You look You have access to
that one, don't you?
that one, don't you?
Yeah, it's it it fell out of its trough
Yeah, it's it it fell out of its trough
and now it's climbing again, but it's
and now it's climbing again, but it's
seemingly like pretty much the same.
Okay. Well, we'll give you the god
Okay. Well, we'll give you the god
parameters.
So, what's up with n being a fixed
So, what's up with n being a fixed
number?
number?
What? What do you mean? N n in the logs.
What? What do you mean? N n in the logs.
Uh, it's fixed because you're always
Uh, it's fixed because you're always
collecting the exact same number of
collecting the exact same number of
rollouts because you have a fixed roll
rollouts because you have a fixed roll
out length.
This is 201 million. What is this?
This is 201 million. What is this?
200 1 million time steps. So, this does
200 1 million time steps. So, this does
it faster and more sample efficient than
it faster and more sample efficient than
before.
So, this is kind of funny because this
So, this is kind of funny because this
is like one of those benchmarks where
is like one of those benchmarks where
it's like, why would you even bother
it's like, why would you even bother
trying to solve this when you can solve
trying to solve this when you can solve
like real world problems so much more
like real world problems so much more
easily than this? But we solve it
easily than this? But we solve it
anyways.
Well, now it makes me feel like there
Well, now it makes me feel like there
has to be another data issue in the GPU
has to be another data issue in the GPU
drive one. Yeah. Let me see if this
drive one. Yeah. Let me see if this
replicates.
Wonder how fast this
Wonder how fast this
brings. Yo, we fast as
brings. Yo, we fast as
[ __ ] Okay, 1.5 mil step per second.
going to be a twominut uh twominut soda
going to be a twominut uh twominut soda
right
here. I'm gonna send this to Aaron. He's
here. I'm gonna send this to Aaron. He's
going to just lose his [ __ ] because he's
going to just lose his [ __ ] because he's
like there's so much curriculum learning
like there's so much curriculum learning
on this
on this
thing. Of course, I think it'll stack so
thing. Of course, I think it'll stack so
like it'll do even better. But it's
like it'll do even better. But it's
still funny.
Massively
better. Yeah, this thing's been better.
better. Yeah, this thing's been better.
This thing's better in a minute than
This thing's better in a minute than
we've had previously like working at
we've had previously like working at
all.
Jeez. Now, there's no guarantee that the
Jeez. Now, there's no guarantee that the
hypers transfer one to like just
hypers transfer one to like just
transfer zero shot, but um this is the
transfer zero shot, but um this is the
exact size network that you have. So,
exact size network that you have. So,
decent chance.
I think I after this I'm going to run a
I think I after this I'm going to run a
real quick test just to make sure that
real quick test just to make sure that
the logging is as it should be because
the logging is as it should be because
if I switch everything to move as expert
if I switch everything to move as expert
it should immediately go to 100% and if
it should immediately go to 100% and if
it doesn't then there's something
it doesn't then there's something
screwed. Good idea.
This is like actual legit
This is like actual legit
experimentation now at over a million a
experimentation now at over a million a
second because this is like this is a 2
second because this is like this is a 2
million parameter model. This is a 512
million parameter model. This is a 512
hidden dim. This is not
hidden dim. This is not
like this is now like on the same like
like this is now like on the same like
this is the size that of people were
this is the size that of people were
using for Atari models were like single
using for Atari models were like single
digit low single digit millions
but they trained at a thousand steps per
second. Okay. So we
second. Okay. So we
get
get
82. Let's not fully
replicate. Pretty close. They got 86 and
replicate. Pretty close. They got 86 and
I get
I get
83. I got
whatever. Let me make sure I didn't miss
whatever. Let me make sure I didn't miss
a param.
Very close. All right. I think I'm going
Very close. All right. I think I'm going
to cancel this experiment.
to cancel this experiment.
Okay. Well, I will give you these
Okay. Well, I will give you these
params.
It's still at like 33% which is just
It's still at like 33% which is just
like not acceptable at 177
like not acceptable at 177
million.
Also, the speed dropped. Oh, because
Also, the speed dropped. Oh, because
update evoxes, too. I'm giving you new
update evoxes, too. I'm giving you new
params in a second here.
params in a second here.
Yeah. Here, I'm I'm going to kill this
Yeah. Here, I'm I'm going to kill this
and then let me uh check out the what
and then let me uh check out the what
should be optimal performance
should be optimal performance
automatically.
I will let you do that and then we will
I will let you do that and then we will
run the next
run the next
experiment and we'll see if it does
experiment and we'll see if it does
anything different. So I got to run d
anything different. So I got to run d
force now every time.
force now every time.
What when I uh rebuild recompile the
What when I uh rebuild recompile the
source
source
probably but that's going to recompile
probably but that's going to recompile
everything.
everything.
That's fine. easier to just like remove
That's fine. easier to just like remove
the one binding like the one compiled
the one binding like the one compiled
binding file.
binding file.
It's like a two second difference in my
life. All right. Please tell me this at
life. All right. Please tell me this at
least gets to
least gets to
100%. All right. Yeah. So, Perf does
100%. All right. Yeah. So, Perf does
100% automatic when Move Expert is on.
100% automatic when Move Expert is on.
So, it does still have off-road rates
So, it does still have off-road rates
and collision rates, which is a little
and collision rates, which is a little
bit suspect, but
It at least is recognizing getting to
It at least is recognizing getting to
the goal with 100% rate.
the goal with 100% rate.
So logging is still correct.
Are we ready for the parameters then?
Are we ready for the parameters then?
Yep. I'm just putting it back.
All right. Fine.
So we do have to slightly modify the
So we do have to slightly modify the
batch I
batch I
believe to
be mini batch needs to be hang
be
23 96
Okay, let's see if this insta
Okay, let's see if this insta
solves. Let's see if this reinforcement
solves. Let's see if this reinforcement
learns everything.
learns everything.
And if not, we go yell at me about data
And if not, we go yell at me about data
issues. Probably.
issues. Probably.
Oh, that's right. Cuz you took over
Oh, that's right. Cuz you took over
before it uh finished.
before it uh finished.
I have Perf 1.0. It's immediately
I have Perf 1.0. It's immediately
solved.
solved.
Yes. Yes.
Very big brain. Yes. Yes. Oh, Tyler is
Very big brain. Yes. Yes. Oh, Tyler is
still here comments and stuff
still here comments and stuff
periodically. Hey, how's it going?
It is fast.
It is fast.
450k. It's better than I had before at
450k. It's better than I had before at
100 something.
100 something.
So, and this is with like all possible
ops. We need a million step per second
ops. We need a million step per second
training though.
We actually do kind of need million step
We actually do kind of need million step
per second training because the thing is
per second training because the thing is
their initial paper claimed million step
their initial paper claimed million step
per second training and was off by a
per second training and was off by a
factor of 20.
factor of 20.
So the goal is going to be give them
So the goal is going to be give them
actual million step per second training.
actual million step per second training.
You're like here you go. I don't think
You're like here you go. I don't think
that's possible without cutting the obs.
that's possible without cutting the obs.
We are allowed to cut the ops
if we can give them a good policy.
Yeah, I know for a fact cutting OBS on
Yeah, I know for a fact cutting OBS on
the roads in half immediately gets you
the roads in half immediately gets you
like 200,000 steps per second on M time.
like 200,000 steps per second on M time.
I don't know how well that translates to
I don't know how well that translates to
training time. Well, I can tell you I
training time. Well, I can tell you I
have the same exact size model that you
have the same exact size model that you
have training 3x faster on a grid,
have training 3x faster on a grid,
right? But grid's ob size is what?
right? But grid's ob size is what?
Peanuts.
Peanuts.
Time to work on uh shelling shelling
Time to work on uh shelling shelling
some peanuts then.
Like what is the grid op size? Is is it
Like what is the grid op size? Is is it
the whole map? No, it's like 11 by 11.
Better I think
cuz it's only been up for like two
cuz it's only been up for like two
minutes and we're almost back at point4.
I am giving you the best possible
I am giving you the best possible
reinforcement learning.
reinforcement learning.
Like I'm giving you the best possible
Like I'm giving you the best possible
reinforcement learning other than having
reinforcement learning other than having
to run your own sweep on GPU drive,
to run your own sweep on GPU drive,
which you probably should do anyways.
which you probably should do anyways.
Um, but I think from here we look for
Um, but I think from here we look for
data issues.
data issues.
Oh, but it's it's doing. Oh, unless
Oh, but it's it's doing. Oh, unless
unless I just
unless I just
solve do
solve do
go. Oh, it's
go. Oh, it's
better. It's better. There's no
better. It's better. There's no
question. It's better. Now, let's see if
question. It's better. Now, let's see if
it stops. But
we'll I swear to God if this just god
we'll I swear to God if this just god
solves
solves
it for
50k. If this does just go solve it. I
50k. If this does just go solve it. I
mean, this is the puffer advantage,
mean, this is the puffer advantage,
right?
right?
Damn. I swear.
I mean, it's like if I'm setting soda on
I mean, it's like if I'm setting soda on
everything and it doesn't work on your
everything and it doesn't work on your
pretty simple problem, your simple
pretty simple problem, your simple
problem is wrong, right?
problem is wrong, right?
You'd think so. At the least, that's a
You'd think so. At the least, that's a
massive improvement over the previous
massive improvement over the previous
one. Yes. It's at least a 50%
one. Yes. It's at least a 50%
improvement over the previous version.
improvement over the previous version.
So then here's what we do now. We get
So then here's what we do now. We get
this policy and we look at it and see
this policy and we look at it and see
what it's doing. Yeah. And then we
what it's doing. Yeah. And then we
actually look for identifiable error
actually look for identifiable error
classes.
I don't think I did one beyond this one
I don't think I did one beyond this one
though. That's okay. We'll do that
though. That's okay. We'll do that
again. But it still has the policy
again. But it still has the policy
anyways,
anyways,
right? You still have the policy on this
right? You still have the policy on this
box. Yeah, I guess I have to I can SCP
box. Yeah, I guess I have to I can SCP
it or whatever. What you do is you copy
it or whatever. What you do is you copy
the policy out of the folder. So you
the policy out of the folder. So you
copy it into the Docker folder because
copy it into the Docker folder because
that's mounted and then you SCP it from
that's mounted and then you SCP it from
there.
there.
So you're saying take it out of Docker.
So you're saying take it out of Docker.
All you have to do to take it out of
All you have to do to take it out of
Docker is just copy it to the
Docker is just copy it to the
buffer/puffer tanker that location
buffer/puffer tanker that location
because that like that directory is
because that like that directory is
mounted.
Okay. So now, mind you, it's like it's
Okay. So now, mind you, it's like it's
possible that at the end because cosign
possible that at the end because cosign
and kneeling goes crazy with your
and kneeling goes crazy with your
learning rate. Like it's possible
learning rate. Like it's possible
there's some things, but we we got it to
there's some things, but we we got it to
like 58 midway through.
like 58 midway through.
Um, I'm going to go do a set. I'll be
Um, I'm going to go do a set. I'll be
right back. Yeah, it's only five minutes
right back. Yeah, it's only five minutes
round. It's not a big deal.
The off-road rate is really low, but the
The off-road rate is really low, but the
collision rate is kind of
collision rate is kind of
high. Weird.
So it crashed.
Yeah, it looks like it's failing at this
Yeah, it looks like it's failing at this
point.
point.
That's okay. I mean, these are params
That's okay. I mean, these are params
are not optimized for this, right? I got
are not optimized for this, right? I got
them. These are for grid.
them. These are for grid.
But it is better. I mean, we
But it is better. I mean, we
totally we totally got way
better. Do you want me to just kill this
better. Do you want me to just kill this
and rerun it with less steps? Yeah.
and rerun it with less steps? Yeah.
Should make it like 100 million or
Should make it like 100 million or
something? Yeah. And we'll see if
something? Yeah. And we'll see if
um the analing might mess with it a
um the analing might mess with it a
little bit, but we'll see. Oh, that's if
little bit, but we'll see. Oh, that's if
that's true, but I don't know. I don't
that's true, but I don't know. I don't
know if it's going to work without it,
know if it's going to work without it,
though. So, we'll try that. We'll get a
though. So, we'll try that. We'll get a
policy. We'll get this thing running.
policy. We'll get this thing running.
I'm super happy though with these
I'm super happy though with these
results. Like, holy.
results. Like, holy.
Let's see what happens. Hey, look at
Let's see what happens. Hey, look at
this freaking sweep.
Oh, dra not exist yet anymore. Neptune.
Oh, dra not exist yet anymore. Neptune.
That hasn't existed for a while.
That hasn't existed for a while.
Well, it shows you what version of dev I
Well, it shows you what version of dev I
was on.
Buffer goes fast.
up her very
fast. All right. Don't eat my uh token.
Fast moving
Fast moving
puffer. Closeing puffer. Does this save
puffer. Closeing puffer. Does this save
uh weights now to Neptune or is that not
uh weights now to Neptune or is that not
in release yet?
in release yet?
Nope. Haven't done that yet.
Nope. Haven't done that yet.
All right. I got to change it in clean
All right. I got to change it in clean
puffer, I think.
puffer, I think.
Too much entropy kills maze runs.
Oh, wait. No, I know where it is. It's
Oh, wait. No, I know where it is. It's
in a It's in default now, right? Yeah.
work. Yeah, there is a correlation with
work. Yeah, there is a correlation with
the priorities the pryo coefficients.
the priorities the pryo coefficients.
Now looks like
Now looks like
Excuse
me. Very
fast. What the
fast. What the
hell? I just did
this. Does it think it's on a different
this. Does it think it's on a different
project? I just changed it.
If I change clean up RL, do I have to
If I change clean up RL, do I have to
recompile? No.
recompile? No.
Or that way. I only changed the config
Or that way. I only changed the config
too. Let's try
again. Here's the puffer
grid. Oh, that's a really hard
maze. It's like a ludicrously hard
maze. I mean, I think I see it. Yeah, I
maze. I mean, I think I see it. Yeah, I
see it.
But it's like doing high level
But it's like doing high level
backtracking though. That's like good 20
backtracking though. That's like good 20
step
backtracking. Yeah. Look at this.
Holy. Yeah, this thing is good. This is
Holy. Yeah, this thing is good. This is
a ridiculously good maid solving agent
a ridiculously good maid solving agent
for like Tabularasa RL.
Yeah.
Okay. Freaking ludicrously good maze
Okay. Freaking ludicrously good maze
agent. Did you hard force your Neptune
agent. Did you hard force your Neptune
credentials anywhere?
credentials anywhere?
Uh, I just paste them in like I just
Uh, I just paste them in like I just
export them as an N variable whenever I
export them as an N variable whenever I
need to.
No, I know. That's what I normally do,
No, I know. That's what I normally do,
too.
too.
But oh my, look at this freaking maze
But oh my, look at this freaking maze
agent.
Holy. It still doesn't have
Holy. It still doesn't have
like It needs a pretty long
like It needs a pretty long
memory to
um Yeah, it would need a pretty long
um Yeah, it would need a pretty long
memory to be fair. I don't think I could
memory to be fair. I don't think I could
do this task by the way with um the
do this task by the way with um the
vision perspective it has. I would have
vision perspective it has. I would have
to like follow the left wall or
to like follow the left wall or
something.
Like this thing only sees like five
Like this thing only sees like five
tiles to either side and then it has to
tiles to either side and then it has to
remember where it's
been. I don't think I could solve this
been. I don't think I could solve this
under those constraints without like
under those constraints without like
using, you know, the left wall
using, you know, the left wall
rule or right wall pick a wall. Doesn't
matter. And like nobody just does that
matter. And like nobody just does that
either. You're told that that works.
And like it literally only works because
And like it literally only works because
of an assumption on the way maze
of an assumption on the way maze
generation is usually
generation is usually
done. Like you can make a cord maze in
done. Like you can make a cord maze in
which that won't even
which that won't even
work. Weird that does it does get hard
work. Weird that does it does get hard
stuck
stuck
sometimes. Oh
no. Guess I just won't use Neptune right
no. Guess I just won't use Neptune right
now.
That does look like a
That does look like a
bug. Looks like there's like a rare,
bug. Looks like there's like a rare,
very rare edge case bug.
All this it
does. It's a hard maze.
does. It's a hard maze.
Sometimes the ones that are
um like the smaller mazes can be just as
um like the smaller mazes can be just as
hard if not
harder. So there's the
bug. I don't know if it's an end bug or
bug. I don't know if it's an end bug or
like the policy logic's exploding
like the policy logic's exploding
though.
Full maze solving
Full maze solving
agent. Very
agent. Very
nice mazes.
Almost
there. And hopefully we will uh at least
there. And hopefully we will uh at least
get a little bit of stuff done before I
get a little bit of stuff done before I
got to go for dinner.
got to go for dinner.
Yeah, I also progress at the same time.
See if it gets to 60 or
See if it gets to 60 or
not. I'm most hungry.
Okay, so that's a 58 center. Wait for it
Okay, so that's a 58 center. Wait for it
to finish.
Evvel 58 flat.
Evvel 58 flat.
Okay, you can go ahead and grab the uh
Okay, you can go ahead and grab the uh
grab that policy.
grab that policy.
What is this again? It's an experiment
What is this again? It's an experiment
and
and
then Oh [ __ ]
Uh oh. What's this? What's the syntax
Uh oh. What's this? What's the syntax
for this again? It's like
for this again? It's like
negative1 W or something. You get the
negative1 W or something. You get the
most recent one that popped up. What's
most recent one that popped up. What's
that? What's the full screen key?
Wait, what's the full screen key?
Wait, what's the full screen key?
The full screen key. Yeah, dude. I F11.
The full screen key. Yeah, dude. I F11.
I don't know. F11. Oh, yeah, it is.
I don't know. F11. Oh, yeah, it is.
Bye.
Bye.
Oh, what's the thing again for this? Do
Oh, what's the thing again for this? Do
you remember? SCP.
you remember? SCP.
No, no, not that. The most recent
No, no, not that. The most recent
experiment. It's
experiment. It's
LS-LT experiments. Pipe head.
And that's the top one.
Yep. Grab the model out of
that.
Okay. Okay. All right. So, SCP
Uh uh like call it like move it to like
Uh uh like call it like move it to like
puffer tanker GPU drive.pt.
puffer tanker GPU drive.pt.
All right. Puffer tank docker. You said
All right. Puffer tank docker. You said
GPU drive
and then just and then uh Okay. Get out
and then just and then uh Okay. Get out
of the container now.
container here. I'll do it.
container here. I'll do it.
I press exit enough times and I'll be
I press exit enough times and I'll be
out of it. So, home puffer puffer
tank. Home
tank. Home
puffer puffer
tank. Okay, so that
tank. Okay, so that
worked. This SCP,
you're rendering it now on your side.
you're rendering it now on your side.
[Music]
Probably should get rid of the ghost
Probably should get rid of the ghost
cars in this.
Oh, do you know how to fix it for the
Oh, do you know how to fix it for the
ghost cars?
Uh, I mean, we didn't PR any of the
Uh, I mean, we didn't PR any of the
stuff we did, right?
No, I can right now.
No, I can right now.
Hold
Hold
on. If it works first.
I doubt it's going to because the agent
I doubt it's going to because the agent
counts are going to be different.
counts are going to be different.
It runs.
Okay. Some of these guys are getting
Okay. Some of these guys are getting
there. Others are just ramming straight
there. Others are just ramming straight
into walls.
into walls.
Yeah. So
Yeah. So
presumably also the expert is going
presumably also the expert is going
through a wall,
right? Yeah, that expert can go through
right? Yeah, that expert can go through
a wall and it's not considered a
a wall and it's not considered a
collision.
Most of the cars are kind of just going
Most of the cars are kind of just going
straight.
So definitely PR everything so we make
So definitely PR everything so we make
sure we're not just looking at garbage.
sure we're not just looking at garbage.
But probably this is
But probably this is
correct. The question is like why the
correct. The question is like why the
hell is it doing this?
I thought the first scene only has uh
I thought the first scene only has uh
like two agents that are human
like two agents that are human
controlled.
It does. You're not on Are you on the
It does. You're not on Are you on the
first scene? Oh, I guess this is some
first scene? Oh, I guess this is some
random scene.
You running local or you running eval?
You running local or you running eval?
You're running EVO? Eval. Yeah.
The expert going through the wall. Like
The expert going through the wall. Like
that wall looks like it's a parking lot.
that wall looks like it's a parking lot.
Not a not a wall.
Not a not a wall.
Or maybe it's like a line where it's
Or maybe it's like a line where it's
like, "Hey, dish the entrance to the
like, "Hey, dish the entrance to the
parking lot if you care about that."
parking lot if you care about that."
Technically, it's a road edge. And then
Technically, it's a road edge. And then
although currents aren't drawn,
although currents aren't drawn,
currently it's not drawn. Um, I could
currently it's not drawn. Um, I could
add like the other like road lines and
add like the other like road lines and
lanes, which the model at the moment is
lanes, which the model at the moment is
technically seeing.
technically seeing.
I see. So, we could make this pretty
I see. So, we could make this pretty
freaking cool looking is what you're
freaking cool looking is what you're
saying. Yeah. I mean, you could add like
saying. Yeah. I mean, you could add like
yellow lanes, lines, or whatever, and
yellow lanes, lines, or whatever, and
all those types of things and like the
all those types of things and like the
driveways. Okay. When we get superhuman
driveways. Okay. When we get superhuman
driving model, we get to take a little
driving model, we get to take a little
bit of time to make Tokyo Puff look or
bit of time to make Tokyo Puff look or
Tokyo Puff or whatever.
Tokyo Puff or whatever.
Well, I don't know about loading loading
Well, I don't know about loading loading
the Tokyo map. It might be hard, but
the Tokyo map. It might be hard, but
make these maps look freaking cool is a
make these maps look freaking cool is a
good start.
good start.
Let's say make it look good and then for
Let's say make it look good and then for
at least to pass it off and then we can
at least to pass it off and then we can
take it on from there to go do like
take it on from there to go do like
Carla or the other levels or you
know. Um, okay. So, get puffer drive
know. Um, okay. So, get puffer drive
acquired for a billion dollars.
acquired for a billion dollars.
Exactly.
Exactly.
Puffer driving sim.
Puffer driving sim.
Most realistic driving sim out there. I
Most realistic driving sim out there. I
mean, fastest driving sim out there.
mean, fastest driving sim out there.
Maybe
be that'd be cool. I could put a second
be that'd be cool. I could put a second
one of these warehouses and fill it
one of these warehouses and fill it
entirely with
GPUs. All right.
GPUs. All right.
[Music]
[Music]
Um, am I in the release branch? Is that
Um, am I in the release branch? Is that
right? All right. I'm pring my this into
right? All right. I'm pring my this into
the release branch.
This looks like this has
all
all
right. PR's in six files changed.
How many lines? miners were cut from GPU
How many lines? miners were cut from GPU
drive.h like 100.
Well, 250 gone from the Syon obviously.
Well, 250 gone from the Syon obviously.
Yeah.
Yeah.
100 looks like 100. Cool.
100 looks like 100. Cool.
It's pretty good.
Maximally puffed.
[Music]
I still feel like a better obset would
I still feel like a better obset would
just to be like do
just to be like do
comms, but
comms, but
yes, that would be a better thing to
Did you not commit the binding
C? Please commit binding C.
Oh, is that in there? Nope.
Did you already merge the PR or is that
Did you already merge the PR or is that
uh trying to make another PR?
Well, you got to get it to me somehow.
Well, you got to get it to me somehow.
No, I just didn't didn't know if you did
No, I just didn't didn't know if you did
you catch that before merging it. No, I
you catch that before merging it. No, I
merged it. Okay.
All
right, I just made another PR
binding
file. Very
good.
Okay. Isn't that nice? Now it's up to
Okay. Isn't that nice? Now it's up to
date with the new Puffer API.
Tech render requires two
arguments. Oh, you have you can pass it
arguments. Oh, you have you can pass it
an index and it'll actually render that
an index and it'll actually render that
M now, which is kind of cool. I forgot I
M now, which is kind of cool. I forgot I
did
did
that. So, that's kind of nice, right?
that. So, that's kind of nice, right?
Index
Index
now. Uh, it's an arg render.
So I can pass like zero and I get the
So I can pass like zero and I get the
first N.
first N.
Oh, okay. Got you.
Cool. Look at this awesome driving
Cool. Look at this awesome driving
performance.
performance.
Go. I feel like that's a super simple
Go. I feel like that's a super simple
one that should be able to figure out.
one that should be able to figure out.
Yeah, I think that that's a data
problem because we had better policies
problem because we had better policies
than this or right. Yeah. Yeah. Data
than this or right. Yeah. Yeah. Data
problem.
problem.
Oh, let's one.
Oh, have you seen what happens when you
Oh, have you seen what happens when you
hold shift? You can see like all the
hold shift? You can see like all the
lasers fly away.
lasers fly away.
That's cool.
So that's my rendering of its
So that's my rendering of its
observations. So like that's the part
observations. So like that's the part
where I feel like the data being wrong
where I feel like the data being wrong
is like confusing to me. But obviously
is like confusing to me. But obviously
something must be wrong
something must be wrong
and it can see the goal. Mhm.
and it can see the goal. Mhm.
They are also colliding with [ __ ] that
They are also colliding with [ __ ] that
they can
they can
see. Rewards could be wrong.
see. Rewards could be wrong.
I mean yeah I mean there could be a host
I mean yeah I mean there could be a host
of things that are wrong but memory
of things that are wrong but memory
could be
could be
corrupted. Puffer could be uninflated.
corrupted. Puffer could be uninflated.
I don't know. PG puffer.
Let's see if we can make any progress
Let's see if we can make any progress
next. Yeah. The problem is not hard
next. Yeah. The problem is not hard
enough where it shouldn't be able just
enough where it shouldn't be able just
to solve. No. Yeah. Once we fix this,
to solve. No. Yeah. Once we fix this,
it's going to be like boop. Problem
it's going to be like boop. Problem
solved in 40 mil. Well, that was
solved in 40 mil. Well, that was
trivial.
trivial.
Yeah. It just has to
Okay. Idea. Can we train it on one map?
Uh, with the new
Uh, with the new
binding, I don't see any reason why not,
binding, I don't see any reason why not,
right? We can totally do that, right?
right? We can totally do that, right?
You should just only have to change num
You should just only have to change num
ms in config. I think
I don't think we hard set anything in
I don't think we hard set anything in
the binding. I was going to say that we
the binding. I was going to say that we
just make the map index or yeah envid in
just make the map index or yeah envid in
the in GPU drive, right? Because envid
the in GPU drive, right? Because envid
is just
is just
we can pass in we can actually just in
we can pass in we can actually just in
the GPU drive.py set env ID to always be
the GPU drive.py set env ID to always be
a zero.
a zero.
So that you have 75 or however many
72 of the same
lap. Okay. Apparently this somehow
lap. Okay. Apparently this somehow
trains
I'm suspicious of this training because
I'm suspicious of this training because
it goes to
zero. Um, everything is zero. That's
us. Oh, it's
We're going to debug this. Is it going
We're going to debug this. Is it going
to work
today? 507.
today? 507.
What? Oh, because Yeah, I I
trolled cuz it's this agent offset
trolled cuz it's this agent offset
thing. Yeah.
So we have to do kind of like the jank
So we have to do kind of like the jank
version
version
the cloning way I did it before. Well, I
the cloning way I did it before. Well, I
think it's like num
think it's like num
m num m is
m num m is
one and vec numb n numb n numb n numb n
numb n numb n numb n numb n numb n numb
n numbum workers is 16 and num m is
n numbum workers is 16 and num m is
going to be
going to be
like
like
4096 like 20
4096 like 20
48 and then we can actually
do batch and mini batch
batch size is still
wrong. So, it's going to be what?
wrong. So, it's going to be what?
Um 8192 *
Um 8192 *
256. That's too
big. 7
We don't need
cereal. Mini batch must be divisible by
cereal. Mini batch must be divisible by
horizon. That's true. Yeah, that's true.
Okay, this
Okay, this
is an absolutely freaking trivial
is an absolutely freaking trivial
problem.
You would have
think it doesn't collide. It just
think it doesn't collide. It just
doesn't do. It's decided to do nothing.
doesn't do. It's decided to do nothing.
It's decided to give up.
It said honorable Sepoku is the only
It said honorable Sepoku is the only
way.
You seeing this [ __ ]
You seeing this [ __ ]
Oh, it went up. I got rid of the
Oh, it went up. I got rid of the
collision penalties.
collision penalties.
We're going to do 20 million steps or
We're going to do 20 million steps or
even 15 million
even 15 million
steps and it's going to solve
steps and it's going to solve
it and then it's going to be
It could just be
this, you know.
Well, turning collisions off is like not
Well, turning collisions off is like not
like a great Well, they're not off
like a great Well, they're not off
anymore. It resets it on collision,
anymore. It resets it on collision,
remember?
Well, yeah, it resets it, but you don't
Well, yeah, it resets it, but you don't
get It like has no idea why it got
get It like has no idea why it got
reset.
reset.
Well,
Before it's a puku
now. Now it's seg
instead. Okay, it does actually just egg
instead. Okay, it does actually just egg
bault.
Can we
Can we
uh do we have any ideas on why? Oh, I
uh do we have any ideas on why? Oh, I
know why actually. Okay, I know why.
know why actually. Okay, I know why.
That's why
me. This
is Whoa. Look at this.
is Whoa. Look at this.
trying.
trying.
It's trying. I only trained at 20 mil
It's trying. I only trained at 20 mil
steps, but it actually does a thing
steps, but it actually does a thing
now. It actually does roughly what you
now. It actually does roughly what you
would hope it does. It should
do. I don't know why it's like spazzing
do. I don't know why it's like spazzing
at sometimes,
at sometimes,
but I mean, it was only 20 million
but I mean, it was only 20 million
steps. Not
steps. Not
even. You do 30 mil next. 30.
even. You do 30 mil next. 30.
It was 15. No, I'm saying yeah, go 30.
It was 15. No, I'm saying yeah, go 30.
I got to go whenever dinner is served.
I got to go whenever dinner is served.
That that works out for me. I I have
That that works out for me. I I have
dinner thing as well. We're going to get
dinner thing as well. We're going to get
a couple more experiments and maybe get
a couple more experiments and maybe get
some good models. So, while this is
some good models. So, while this is
training, since I have a minute and we
training, since I have a minute and we
do have quite a few folks on Twitch,
do have quite a few folks on Twitch,
let's take a quick look at the puffer
let's take a quick look at the puffer
star count. Did we hit 2K?
One more star. Come on. Somebody there
One more star. Come on. Somebody there
has to have not started. Somebody's got
has to have not started. Somebody's got
to come through for
to come through for
2K. But anyways, all my stuff is uh free
2K. But anyways, all my stuff is uh free
and open source right here on
and open source right here on
puffer.ai. I do this pretty much every
puffer.ai. I do this pretty much every
single day. Um you want to help me out,
single day. Um you want to help me out,
start the GitHub. If you want to get
start the GitHub. If you want to get
involved in development of this, build
involved in development of this, build
ultra high performance reinforcement
ultra high performance reinforcement
learning M, get into AI, help advance
learning M, get into AI, help advance
AI, any of that stuff, some of our top
AI, any of that stuff, some of our top
contributors came in with zero AI
contributors came in with zero AI
experience whatsoever, so it can be
experience whatsoever, so it can be
learned. Join the Discord for that.
learned. Join the Discord for that.
Other than that, you can follow me on X
Other than that, you can follow me on X
for more RL content. I'll be
for more RL content. I'll be
here for a few more minutes and then I
here for a few more minutes and then I
will probably be back after dinner for a
will probably be back after dinner for a
little bit, depending. If not, I will
little bit, depending. If not, I will
definitely be back in the morning.
definitely be back in the morning.
Okay. So, this is full solved. Yeah.
So, there is one more experiment. I want
So, there is one more experiment. I want
to
to
run. One more.
run. One more.
Okay. Are you just going to do the same
Okay. Are you just going to do the same
same concept but with more levels? Of
same concept but with more levels? Of
course.
That works, right? It no longer looks
That works, right? It no longer looks
like it's insane. That's like a
like it's insane. That's like a
reasonable turn radius.
Pretty consistent. Yeah.
Wait, is there undo in Neoam?
Wait, is there undo in Neoam?
Yes. Wait, do not
Yes. Wait, do not
you. And there's redo as well. Capital
you. And there's redo as well. Capital
R.
R.
Oh, that's so legit. Wait, is it capital
Oh, that's so legit. Wait, is it capital
R?
Yeah, capital R. I know it intuitively,
Yeah, capital R. I know it intuitively,
right? I actually have to like do it to
right? I actually have to like do it to
know what it
know what it
is. That's so weird that that can
is. That's so weird that that can
happen. Your muscle memory is just Yeah.
happen. Your muscle memory is just Yeah.
Like I know I know intuitively how to do
Like I know I know intuitively how to do
it, but if I think about it, I don't
it, but if I think about it, I don't
know what the key is.
I actually think that um Neoim is why I
I actually think that um Neoim is why I
kind of type wrong if you think about it
kind of type wrong if you think about it
because it's
because it's
HJKL. So if you think about it, your
HJKL. So if you think about it, your
hands shift over a whole position to the
hands shift over a whole position to the
left on the keyboard,
right? I mean, I don't use any if why
right? I mean, I don't use any if why
would you be using
would you be using
HJKL versus something else?
HJKL versus something else?
That's navigation in Vim.
Dude, I just use backslash to get me to
Dude, I just use backslash to get me to
everywhere. I just search everything.
everywhere. I just search everything.
You're screwing with me.
You're screwing with me.
I search and press N. Nah, you're screw
I search and press N. Nah, you're screw
you're screwing with me. Nah. Nah,
you're screwing with me. Nah. Nah,
you're trolling. You're freaking
you're trolling. You're freaking
trolling. You do not do that [ __ ]
trolling. You do not do that [ __ ]
You're trolling. You're such trolling.
You're trolling. You're such trolling.
Do you don't believe my efficiency of
Do you don't believe my efficiency of
building M comes from pressing search
building M comes from pressing search
bar?
bar?
If it is, you could be building them a
If it is, you could be building them a
fair bit faster, I'll
say. Okay. So, there isn't a weird dip
say. Okay. So, there isn't a weird dip
at the start
at the start
anymore. Not really.
anymore. Not really.
I wouldn't consider that first thing to
I wouldn't consider that first thing to
be a relevant dip. It's not like Well,
be a relevant dip. It's not like Well,
this is what it used to look like.
this is what it used to look like.
No, that's what I'm saying. Like the I'm
No, that's what I'm saying. Like the I'm
saying that the dip at the start of the
saying that the dip at the start of the
new curve. I mean, that could be just
new curve. I mean, that could be just
like noise from like being alive for 0.1
like noise from like being alive for 0.1
seconds.
Uh, it is only run for 100 mil though.
Uh, it is only run for 100 mil though.
That's fine. We'll see how how well it
That's fine. We'll see how how well it
does in that time frame.
does in that time frame.
You can make it 250 or 500 or whatever.
You can make it 250 or 500 or whatever.
So if I get this to work then with this
So if I get this to work then with this
or if this like works at least
or if this like works at least
substantially
substantially
better
better
then it's going to be
then it's going to be
sweep the hyper
sweep the hyper
pram
pram
including the nth reward
coefficients
coefficients
right yeah I guess.75 is too aggressive
right yeah I guess.75 is too aggressive
we'll sweep
But do you want to sweep with the new
But do you want to sweep with the new
sweep with current params fixed and then
sweep with current params fixed and then
reward? No, just sweep everything or
reward? No, just sweep everything or
just giga sweep everything. Giga sweep
just giga sweep everything. Giga sweep
freaking everything for uh 150 mil or
freaking everything for uh 150 mil or
whatever time steps. Yeah. Yeah. Yeah. I
whatever time steps. Yeah. Yeah. Yeah. I
use my defaults or whatever. So we fix
use my defaults or whatever. So we fix
mini batch size. You fix it to fast runs
mini batch size. You fix it to fast runs
so that all the runs are like reasonably
so that all the runs are like reasonably
paced and you just crank out 200
paced and you just crank out 200
experiments overnight.
Wait, wait, wait, no, no, no. Because I
Wait, wait, wait, no, no, no. Because I
have to use the special mini batches and
have to use the special mini batches and
batches sizes for this. So that can't be
batches sizes for this. So that can't be
touched. Then leave it fixed. So that
touched. Then leave it fixed. So that
will have to be fixed and everything
will have to be fixed and everything
else can run around. Yeah, but we have a
else can run around. Yeah, but we have a
lot of coefficients to sweep. Yeah.
lot of coefficients to sweep. Yeah.
Yeah. Okay. This getting hard stuck at
Yeah. Okay. This getting hard stuck at
58 is
58 is
sus.
Remember that's what we got
before.58. I thought it went a little
before.58. I thought it went a little
higher, but thought it was like
58%. It seems to have hit a
58%. It seems to have hit a
wall. Now it's sus.
We have this
We have this
model. Let's see though if we tr we
eval. And I'm going after we do this.
eval. And I'm going after we do this.
Yeah, that
Yeah, that
works. And you know what to do to repro.
Ah, isn't that
Ah, isn't that
funny? We train on more
funny? We train on more
M's punk into the wall.
M's punk into the wall.
Isn't that weird? Data issue question
Isn't that weird? Data issue question
mark of like assigning could be the N
mark of like assigning could be the N
could be like how the observations are
could be like how the observations are
being assigned between M's could
be but we get it. It it can overfitit a
be but we get it. It it can overfitit a
map immediately pretty much, right?
map immediately pretty much, right?
It has a weird ass like plateaus like
It has a weird ass like plateaus like
that that flat equals problem. It can't
that that flat equals problem. It can't
learn more,
right? So, I don't
right? So, I don't
know. I'm going to get dinner. If I see
know. I'm going to get dinner. If I see
you around after dinner, we can continue
you around after dinner, we can continue
on this. Otherwise, we can do this
on this. Otherwise, we can do this
whenever you're free. All right. Sounds
whenever you're free. All right. Sounds
good. Thanks. Well, thanks, Spencer.
good. Thanks. Well, thanks, Spencer.
Good progress.
Good progress.
Oh. Uh, did you send me anything or no?
Oh. Uh, did you send me anything or no?
Uh, let me check my inbox.
Nope. They haven't sent anything over. I
Nope. They haven't sent anything over. I
It would be rude to nudge him right now.
It would be rude to nudge him right now.
I'll nudge him. I'm not I'm not stressed
I'll nudge him. I'm not I'm not stressed
about it. Cool. All right. Sounds good.
about it. Cool. All right. Sounds good.
See you, Spencer. And for all the folks
See you, Spencer. And for all the folks
uh on Twitch, let's see if we hit
2K. Did anybody actually start just now?
Is the star count up to
date? App's missing one star. Come on.
date? App's missing one star. Come on.
Somebody has to have not started.
Somebody has to have not started.
Anyways, then I'll be back either later
Anyways, then I'll be back either later
tonight or tomorrow. Thanks, folks. See
tonight or tomorrow. Thanks, folks. See
you around.

Kind: captions
Language: en
Five.
Hi. We are going to check on some
Hi. We are going to check on some
experiments. We're going to launch some
experiments. We're going to launch some
sweeps. Whenever Spencer is
sweeps. Whenever Spencer is
around, we will um do some stuff on GPU
around, we will um do some stuff on GPU
drive. We will go from
there. Discord needs to update. One
there. Discord needs to update. One
second.
All
All
right, let's just see uh when he is
right, let's just see uh when he is
around so we will be able to get to work
around so we will be able to get to work
on that
today built
today built
six.
Perfect. Huh.
We do have continuous action
support. Perfect.
support. Perfect.
So Spencer will be around in, you know,
So Spencer will be around in, you know,
whenever and we will look at the uh
whenever and we will look at the uh
driving simulator stuff and get those
driving simulator stuff and get those
experiments working. Uh I think what
experiments working. Uh I think what
we're going to do in the meantime is
we're going to do in the meantime is
we're going to look at the maze
we're going to look at the maze
experiments from earlier today and uh
experiments from earlier today and uh
also
also
the uh the breakout experiments. We're
the uh the breakout experiments. We're
going to launch some new hyperparam
going to launch some new hyperparam
sweeps. We're going to figure out a few
sweeps. We're going to figure out a few
small details there. That should have us
small details there. That should have us
in a spot where we have some really
in a spot where we have some really
really solid models. uh that we can now
really solid models. uh that we can now
start using those hyperparameters on
start using those hyperparameters on
other
other
environments. We can probably start
environments. We can probably start
hyperparam sweeping neural MMO and
hyperparam sweeping neural MMO and
really optimizing that. Yeah, lots and
really optimizing that. Yeah, lots and
lots of good things coming here. And one
lots of good things coming here. And one
message real
quick. Welcome Twitch folks.
Okay. So, where we left this off, uh, we
Okay. So, where we left this off, uh, we
were looking at these experiments over
were looking at these experiments over
here. Where'd it
here. Where'd it
go? All right. So, we got
go? All right. So, we got
these and we have the breakout graphs.
these and we have the breakout graphs.
These are super simple. But we also have
These are super simple. But we also have
this. This is best performance ever seen
this. This is best performance ever seen
on uh maze solving. In fact, why don't
on uh maze solving. In fact, why don't
we watch this policy real
quick? We've got this maze
policy. This is an incredibly difficult
policy. This is an incredibly difficult
environment for reinforcement learning.
environment for reinforcement learning.
Uh it's just seeing a little tiny window
Uh it's just seeing a little tiny window
around itself and it has to figure out
around itself and it has to figure out
how to do this whole maze. Uh we have
how to do this whole maze. Uh we have
this policy here. So what you're seeing
this policy here. So what you're seeing
now, even though this particular
now, even though this particular
instance it's not doing so well, you see
instance it's not doing so well, you see
how it's actually like backtracking
how it's actually like backtracking
somewhat coherently. Yeah, that's not a
somewhat coherently. Yeah, that's not a
thing that RL typically learns. And if
thing that RL typically learns. And if
you look at most works that do mazes
you look at most works that do mazes
with RL, they do little tiny mazes and
with RL, they do little tiny mazes and
then they come up with a bunch of really
then they come up with a bunch of really
specific methods for solving mazes uh
specific methods for solving mazes uh
just mazes or whatever or like they hack
just mazes or whatever or like they hack
additional exploration things onto it.
additional exploration things onto it.
Uh we didn't do any of that and this
Uh we didn't do any of that and this
kind of just does stuff. You can see
kind of just does stuff. You can see
it's exploring like pretty different
it's exploring like pretty different
sections of this maze. It's actually
sections of this maze. It's actually
gotten pretty close
now. You know, it just needs to get this
now. You know, it just needs to get this
last section here. This is a very hard
last section here. This is a very hard
maze.
Oh, come on,
Oh, come on,
Puffer. I'd be very impressed if it
Puffer. I'd be very impressed if it
solves this one. This one's really hard.
solves this one. This one's really hard.
Like, look at the length of the path
Like, look at the length of the path
here. Oh, yeah. Yeah, it's like all the
here. Oh, yeah. Yeah, it's like all the
way winding around this way. The very
way winding around this way. The very
hard maze and it's very
hard maze and it's very
close. I don't know why it's stuck on
close. I don't know why it's stuck on
this corner here. I think that this will
this corner here. I think that this will
just be improved when we tune the policy
just be improved when we tune the policy
generally. These little ones though, you
generally. These little ones though, you
can see it's like, yeah, no big deal. It
can see it's like, yeah, no big deal. It
just solves them,
right? The bigger ones can be
harder. See, like that was a big maze
harder. See, like that was a big maze
where the optimal path wasn't that hard.
where the optimal path wasn't that hard.
The ones where it's really hard though,
The ones where it's really hard though,
it's like you're not solving that with
it's like you're not solving that with
anything else in
RL. Okay, so this is what we have at the
RL. Okay, so this is what we have at the
moment on this.
Um, I'm trying to think where we go from
Um, I'm trying to think where we go from
here. There are a few little bits of
here. There are a few little bits of
analysis I want to still do.
So, we
So, we
have these hypers over here. This is
have these hypers over here. This is
from the optimized
run. I probably do want to rerun this
run. I probably do want to rerun this
sweep with like slightly better
args. I do want to also compare though
args. I do want to also compare though
the default hypers from before the
the default hypers from before the
sweep, the hypers we got after. First
sweep, the hypers we got after. First
let's do the breakout
let's do the breakout
ones. So on breakout
here Adam beta 1 got increased from 0.9
here Adam beta 1 got increased from 0.9
to.99. That's a big change. Beta 2 got
to.99. That's a big change. Beta 2 got
dropped no increased again an
dropped no increased again an
extra
extra
n. Epsilon is just always super low. We
n. Epsilon is just always super low. We
didn't sweep batch size or anything. I
didn't sweep batch size or anything. I
think entropy yeah entropy got
think entropy yeah entropy got
increased.
increased.
Lambda stayed the
Lambda stayed the
same. Gamma got decreased. Actually in
same. Gamma got decreased. Actually in
line with what I would
line with what I would
expect. Uh learning rate I believe got
expect. Uh learning rate I believe got
doubled because mini batch size also got
doubled because mini batch size also got
doubled. That's
doubled. That's
sensible. Max grad norm got tripled.
sensible. Max grad norm got tripled.
Okay. And then the value function
Okay. And then the value function
coefficient was high before and is still
coefficient was high before and is still
high now. Okay. So we have some changes
high now. Okay. So we have some changes
here.
here.
Um, not a huge number of changes, but we
Um, not a huge number of changes, but we
definitely have some
definitely have some
changes. I think what we're going to do
changes. I think what we're going to do
is we are going to rerun the sweeps with
is we are going to rerun the sweeps with
uh some changes to the ranges over which
uh some changes to the ranges over which
we're allowed to
we're allowed to
sweep. I think we will probably rerun
sweep. I think we will probably rerun
both breakout and
both breakout and
uh and
uh and
mazes. The breakout sweep will be done
mazes. The breakout sweep will be done
later today. It's quite quick. The maze
later today. It's quite quick. The maze
sweep will take longer.
sweep will take longer.
So then later once we're done with the
So then later once we're done with the
maze sweep, we will start sweeping some
maze sweep, we will start sweeping some
other environments such as GPU drive or
other environments such as GPU drive or
uh Impulse Wars or any of those because
uh Impulse Wars or any of those because
we're starting to actually get to where
we're starting to actually get to where
we can really use this stuff
we can really use this stuff
effectively. So few things to
effectively. So few things to
start before I
forget. Generally, we do want to
have I think you generally want to have
have I think you generally want to have
a few random
runs. Yeah, I think you generally do
runs. Yeah, I think you generally do
want to have um a few random runs
here. I think if that makes sense.
versus starting with some
defaults. Maybe if you don't have a
defaults. Maybe if you don't have a
search center to seed
search center to seed
with, maybe then it makes sense.
Something like that.
I don't know why I stopped doing uh
I don't know why I stopped doing uh
audio books. I don't know.
I haven't at all this
year. I guess we don't really need to do
year. I guess we don't really need to do
anything with this if
um it just seems really weird to me to
um it just seems really weird to me to
rely on random
rely on random
search for much of anything.
Like you have 20 dimensional space and
Like you have 20 dimensional space and
you just pick five random points. Like
you just pick five random points. Like
that scales
terribly. I think we just do it this
way. Yeah, just do it this way. And you
way. Yeah, just do it this way. And you
have to have like at least something
have to have like at least something
that kind of trains to start with.
that kind of trains to start with.
That's no
problem. Okay. So now the main thing
problem. Okay. So now the main thing
that we need to do
then we need to add um add some defaults
then we need to add um add some defaults
in here.
We want to sweep clip
coefficient and value function clip
coefficient train clip
coefficient train clip
coefficient be
coefficient be
uniform can't be zero.
Yes, it technically could be, but that'd
Yes, it technically could be, but that'd
be really weird.
What's like a reasonable
What's like a reasonable
max?
max?
One and then we set mean at
0.1 makes sense as a
0.1 makes sense as a
uniform. I think this makes sense as a a
uniform. I mean, everything you do with
uniform. I mean, everything you do with
this, right, it makes it harder to
this, right, it makes it harder to
learn,
but value function clip coefficient can
but value function clip coefficient can
be way higher though,
be way higher though,
right? Be like five max or
right? Be like five max or
something. Or do we also set this to one
something. Or do we also set this to one
max?
I think we'll set it to five
max. These are both at um 0.1 mean
max. These are both at um 0.1 mean
though the
scale. It's at
auto. So those are a few things.
epoxy really want to sweep update epochs
though. Do
I Does it make
sense? The thing is it's like it's
sense? The thing is it's like it's
tricky because it's a discrete variable.
If I just don't do this for now, we just
If I just don't do this for now, we just
keep it at one update epoch,
right? And then we just like comment
this. Are there any other prams we
this. Are there any other prams we
should sweep? Two. Three, four,
should sweep? Two. Three, four,
five, six. Oh, this should not
five, six. Oh, this should not
be. This should be like log or
be. This should be like log or
something,
right?
Yeah. One, two, three, four, five, six,
Yeah. One, two, three, four, five, six,
eight.
You get your priorities. You got your
betas. Oh, hey, Spencer's around
now. Perfect.
Looks like we'll do some GPU drive
Looks like we'll do some GPU drive
stuff. Let me see if I can at least kick
stuff. Let me see if I can at least kick
off these
off these
experiments while
experiments while
uh he gets
uh he gets
here. Think we can just launch him.
This should be way longer though, right?
This should be way longer though, right?
This should be
like Let's double it
maybe. Probably not even
maybe. Probably not even
enough. I don't want it to go like
enough. I don't want it to go like
crazy, though.
Let's start our new sweeps.
Hey, Spencer.
Hey, Spencer.
Hey. How's it going?
Hey. How's it going?
I'm pretty good.
I'm pretty good.
Um, we're doing quite well here. The
Um, we're doing quite well here. The
sweeps were pretty nice overnight.
sweeps were pretty nice overnight.
Nice address. I'm trying to get a clean
Nice address. I'm trying to get a clean
version into release right now. I can
version into release right now. I can
help with that.
Um, when I was trying to do like just an
Um, when I was trying to do like just an
a down and dirty just kind of like
a down and dirty just kind of like
pulling things from release into mine, I
pulling things from release into mine, I
ran into a kind of an odd error where I
ran into a kind of an odd error where I
was looking for an underscore C package.
was looking for an underscore C package.
I don't know if that's something you're
I don't know if that's something you're
Yeah. Oops.
Yeah. Oops.
I have to I Yeah, I have to show you.
I have to I Yeah, I have to show you.
There's There's a jank way you have to
There's There's a jank way you have to
build the new release stuff. My bad. I
build the new release stuff. My bad. I
forgot to tell you about that.
forgot to tell you about that.
No problem. Uh, I think the cleanest way
No problem. Uh, I think the cleanest way
to go about this would be for me to just
to go about this would be for me to just
make a new branch from release and then
make a new branch from release and then
just start dropping the the files I had
just start dropping the the files I had
from the puffer drive branch just
from the puffer drive branch just
directly from like the four files it is
directly from like the four files it is
from the in the GPU drive. Uh, just like
from the in the GPU drive. Uh, just like
check out what you would do is you would
check out what you would do is you would
just make why you don't want to just
just make why you don't want to just
merge it into the release branch. Um
merge it into the release branch. Um
because the it seems like when I was
because the it seems like when I was
looking at the PR differences when uh I
looking at the PR differences when uh I
was going to make a PR with just like
was going to make a PR with just like
kind of pulling in release, it had like
kind of pulling in release, it had like
50 files that were changed. Yeah. But it
50 files that were changed. Yeah. But it
should none of it should really affect
should none of it should really affect
you,
right? But it may affect the other
right? But it may affect the other
release things. No. From just maybe
release things. No. From just maybe
things. No, not if you just add if
things. No, not if you just add if
you're just adding in GPU drive as an
you're just adding in GPU drive as an
end, it
end, it
won't. And also the release branch is
won't. And also the release branch is
like the branch that I'm working on for
like the branch that I'm working on for
the release. It's not like it is the
the release. It's not like it is the
current release, right? Sure. It's Yeah,
current release, right? Sure. It's Yeah,
I'd rather just have this thing like up
I'd rather just have this thing like up
to date because like my plan is to work
to date because like my plan is to work
more closely with you on this since you
more closely with you on this since you
have more time. So, we just like, you
have more time. So, we just like, you
know, nail this thing and we get this to
know, nail this thing and we get this to
NYU before like everybody's fully gone
NYU before like everybody's fully gone
and you know, like we just Yeah. Like we
and you know, like we just Yeah. Like we
get the thing going quick. Basically,
get the thing going quick. Basically,
whenever anything is working fully in
whenever anything is working fully in
release, like dev goes fast because I
release, like dev goes fast because I
can test my latest stuff on it by
can test my latest stuff on it by
default. And whenever it doesn't, it's
default. And whenever it doesn't, it's
slow.
slow.
Okay, then.
Okay, then.
Um, yeah, I mean, there's just a bunch
Um, yeah, I mean, there's just a bunch
of files you change that I have not
of files you change that I have not
touched. So, I'm just going to kind of
touched. So, I'm just going to kind of
assume that these are not fine. I'll
assume that these are not fine. I'll
show you how to build them then with um
show you how to build them then with um
stuff in here.
Let me just triple check that it has the
Let me just triple check that it has the
right thing.
Okay. All right. PRing buffer drive into
Okay. All right. PRing buffer drive into
the release
branch. And I am also uh I'm just
branch. And I am also uh I'm just
launching some new sweeps for us real
launching some new sweeps for us real
quick.
quick.
I'm like fine-tuning the uh the sweep
I'm like fine-tuning the uh the sweep
system for us so like it really nails
system for us so like it really nails
everything. We got some pretty cool
everything. We got some pretty cool
results on mazes
overnight. Oh, that's sick.
Okay.
Okay.
Yeah. Did you just push something to
Yeah. Did you just push something to
release? Oh, I'm always pushing stuff to
release? Oh, I'm always pushing stuff to
release.
release.
Okay. Hold up. Like Yeah, of course. I
Okay. Hold up. Like Yeah, of course. I
pushed like stuff like five times in the
pushed like stuff like five times in the
last few minutes.
last few minutes.
Okay. Well, I'm trying to sync my fork
Okay. Well, I'm trying to sync my fork
of release into yours. I mean to make
of release into yours. I mean to make
sure that I have Well, I didn't say I
sure that I have Well, I didn't say I
was going to make it easy on you.
was going to make it easy on you.
All right. Don't Don't push something
All right. Don't Don't push something
for like minutes. Okay. Let me in your
for like minutes. Okay. Let me in your
damn thing.
I wasn't actually trying to just mess
I wasn't actually trying to just mess
with that. I just happened to be setting
with that. I just happened to be setting
up hyperparam sweeps and needed to sync
up hyperparam sweeps and needed to sync
Thanks.
All right. Have our sweeps
All right. Have our sweeps
done. Those are all
done. Those are all
launched. The latest configs. Expect
launched. The latest configs. Expect
great things from them.
great things from them.
Um, soon as you have that done, I will
Um, soon as you have that done, I will
merge things. We should be good to
merge things. We should be good to
[Music]
go. Okay, so that merge should be in
go. Okay, so that merge should be in
here. So now if I go to the
PRs, I think it should just
PRs, I think it should just
automatically update my PR with the
automatically update my PR with the
thing I just did.
You know, one crazy thing
You know, one crazy thing
uh since starting Puffer is a lot of my
uh since starting Puffer is a lot of my
spam has now turned into like marketing
spam has now turned into like marketing
for founders.
So, I get I get DMs like, "Hey, you want
So, I get I get DMs like, "Hey, you want
to pay us to help us help us get you
to pay us to help us help us get you
into the news?" It's like, "Can I pay
into the news?" It's like, "Can I pay
you to like keep us out of the news?"
you to like keep us out of the news?"
Oh. Have you gotten the author spams
Oh. Have you gotten the author spams
where they're like, "Can I can I write a
where they're like, "Can I can I write a
book about you?"
book about you?"
No, I don't get those. I get like, "Can
No, I don't get those. I get like, "Can
you like submit your paper to this like
you like submit your paper to this like
crap predatory conference?"
Okay.
Is this to do.
What file did I just get to make sure
What file did I just get to make sure
this is
I await PR.
I await PR.
Yes. Yes. Yes.
Just trying to make sure I don't nuke
Just trying to make sure I don't nuke
your code base. I mean, I do it
your code base. I mean, I do it
constantly.
constantly.
I do have a PR up. We are literally two
I do have a PR up. We are literally two
stars off of
stars off of
2K. Come on. There at least two people
2K. Come on. There at least two people
watching this who have not started the
watching this who have not started the
repo. Start the
repo. It's
repo. It's
free. All right. There's a buffer drive
free. All right. There's a buffer drive
PR
PR
open to merge my puffer drive from my
open to merge my puffer drive from my
somebody opened of Intel.
somebody opened of Intel.
Yeah, I saw that request earlier. I
Yeah, I saw that request earlier. I
don't know what it was for.
Is this an actual person or is this like
Is this an actual person or is this like
I'm starting to suspect that there are
I'm starting to suspect that there are
um
um
way
way
but like the thing is I I didn't type
but like the thing is I I didn't type
this anywhere. So that means that they
this anywhere. So that means that they
have bots doing
have bots doing
Yeah, they're doing like captioning
Yeah, they're doing like captioning
followed by this stuff.
That's really
aggressive. I mean,
aggressive. I mean,
like this one for
like this one for
instance.
Possibly. There are a lot of like
Possibly. There are a lot of like
coherent but like very random off-topic
coherent but like very random off-topic
things.
Oh, you did open the PR. Yeah. Is this
Oh, you did open the PR. Yeah. Is this
ready to be merged? It should be. Oh, I
ready to be merged? It should be. Oh, I
thought you were still doing it.
Okay. Merge into
Okay. Merge into
release. 26 file
changes. Let me see what you
changes. Let me see what you
did. 26 files is
did. 26 files is
I was telling you it's a lot. But like
I was telling you it's a lot. But like
there's Connect 4 stuff in here.
Are these fixes for things? That's why I
Are these fixes for things? That's why I
was saying cuz this this is stuff that
was saying cuz this this is stuff that
just came in from from
just came in from from
dev. So I can make a cleaner one with
dev. So I can make a cleaner one with
just GPU drive stuff. Oh yeah, that's
just GPU drive stuff. Oh yeah, that's
Yeah, that was the idea because like
Yeah, that was the idea because like
there's a whole bunch of Connect 4 stuff
there's a whole bunch of Connect 4 stuff
in here.
in here.
That's that's what I was trying to say,
That's that's what I was trying to say,
but you were like just just nuke it. So
but you were like just just nuke it. So
yeah. No, I meant like just give me the
yeah. No, I meant like just give me the
the GPU drive files and just shove them
the GPU drive files and just shove them
to dev. Okay, that's what I'm going to
to dev. Okay, that's what I'm going to
do. It shouldn't be 26 files. Like you
do. It shouldn't be 26 files. Like you
shouldn't need to change. No, it should
shouldn't need to change. No, it should
be like four.
Yeah. Yeah. Okay. I I guess that was not
Yeah. Yeah. Okay. I I guess that was not
clear. So yes, that is what I
meant. Not break other ends.
I'm going to give you a minute to do
I'm going to give you a minute to do
that. I will be right back. Yeah.
How we doing?
I'm getting through one file right now.
I'm getting through one file right now.
I'm doing them all one at a time.
I'm doing them all one at a time.
I'm doing this via the
I'm doing this via the
box right now.
box right now.
So like copy pasting files. Yep.
Have you seen
Have you seen
um Tyler slash big cat slash whatever
um Tyler slash big cat slash whatever
the heck his other username is around in
the heck his other username is around in
the discord or wherever?
Um was he the circuit guy or was he he
Um was he the circuit guy or was he he
does uh pulse power. He's like
does uh pulse power. He's like
He's uh yeah, he does like pulse power
He's uh yeah, he does like pulse power
stuff. Um and he's trying to do RL
stuff. Um and he's trying to do RL
things as well. And
things as well. And
apparently he's gotten himself uh an
apparently he's gotten himself uh an
intern who wants to do RL drone things
intern who wants to do RL drone things
over the summer. Oh,
cool. So, if you're looking
cool. So, if you're looking
to set stuff up in that space and have
to set stuff up in that space and have
some help with it.
some help with it.
Yep.
Yep.
I outsource things to you and you
I outsource things to you and you
outsource things further on.
outsource things further on.
Yeah, let me uh let me work on that.
Almost done. I'm on the last file.
If you didn't do it already, I would
If you didn't do it already, I would
make sure just to reject that uh PR, the
make sure just to reject that uh PR, the
previous one.
previous one.
This
This
whatever. I think the one is 217 or
whatever. I think the one is 217 or
something like that. The most whatever
something like that. The most whatever
that one was. Okay. The one that had
that one was. Okay. The one that had
like all the file changes.
Oh, hold up. You're going to
Oh, hold up. You're going to
need What else are you going to
need? Oh, how am I going to get these
need? Oh, how am I going to get these
things into you?
be a minute.
Yeah. I'm just thinking it was the
Yeah. I'm just thinking it was the
easiest way to get the GB files over
easiest way to get the GB files over
from the other branch. GLB
from the other branch. GLB
the model files for the cars.
What is the best way?
Okay, I think I
Well, certainly providing me ample time
Well, certainly providing me ample time
for exercise.
for exercise.
Oh, chill.
Oh, chill.
I'm typing at light speed.
I'm typing at light speed.
I'm not complaining.
I'm not complaining.
It used to be I'd have to just sit
It used to be I'd have to just sit
there, but now I have all sorts of fun
things. All right, now I got the car
things. All right, now I got the car
models over. Let me pull up the Now, let
models over. Let me pull up the Now, let
me make the
PR All
right, that's more like it. 10 file
changes. Okay, I did that into the
changes. Okay, I did that into the
release branch. All right. Lean puffer
drive Python file.
drive Python file.
It should have four major files and then
It should have four major files and then
six car models.
six car models.
Perfect.
Um, when I one Yeah. Well, first I guess
Um, when I one Yeah. Well, first I guess
I want to know how do you set up your
I want to know how do you set up your
All right, let me show you. It's kind of
All right, let me show you. It's kind of
dumb.
dumb.
It's kind of real
It's kind of real
dumb. The first thing we do, let's build
dumb. The first thing we do, let's build
your GPU drive
your GPU drive
thing, which
thing, which
is Syon extensions. Yeah, it should be
is Syon extensions. Yeah, it should be
Syon.
It's just called
It's just called
extensions. So we go to ext modules and
extensions. So we go to ext modules and
build
extensions. Yes.
extensions. Yes.
Okay. That builds GPU
Okay. That builds GPU
drive. Okay. So that builds correctly.
Yeah. It didn't look like any errors
Yeah. It didn't look like any errors
came up. Mhm. And now what we have to do
came up. Mhm. And now what we have to do
Whoops.
Whoops.
is we have to
is we have to
do forch extensions with this build
do forch extensions with this build
command.
So the same build command this command
So the same build command this command
class build has to get uncommented.
class build has to get uncommented.
Oh, okay. It's annoying cuz
Oh, okay. It's annoying cuz
like there's a bunch of stuff I have to
like there's a bunch of stuff I have to
do to make this not as to set
do to make this not as to set
up.
up.
Basically, essentially, Python tooling
Basically, essentially, Python tooling
is just terrible.
GPU drive is now in.
Oh, it might be on uh performance right
Oh, it might be on uh performance right
now, not demo.
Six could be
Six could be
faster. There we
faster. There we
are. GPU drive is got to be puffer drive
are. GPU drive is got to be puffer drive
or something because it's not on a GPU
or something because it's not on a GPU
anymore.
anymore.
Yeah,
Yeah,
buffer drive.
buffer drive.
Should probably pick a different map as
Should probably pick a different map as
the map it just spawns in. Yeah, wrecks
the map it just spawns in. Yeah, wrecks
itself. But
I thought these were like It's not
I thought these were like It's not
perfect,
but we zoom out. I don't think they're
but we zoom out. I don't think they're
like that
noticeable. All right. All right. So,
noticeable. All right. All right. So,
now that you have that done, uh, one
now that you have that done, uh, one
thing I noticed when I tried to do the
thing I noticed when I tried to do the
latest run after our work yesterday was
latest run after our work yesterday was
it just doesn't work at
it just doesn't work at
all. Even though I just pulled it
all. Even though I just pulled it
in to the latest one we had with the
in to the latest one we had with the
latest config
latest config
changes, the value loss was like spiking
changes, the value loss was like spiking
to like infinity.
to like infinity.
So, when you did what then? The value
So, when you did what then? The value
loss spikes to infinity. um when I just
loss spikes to infinity. um when I just
pulled from last night's
pulled from last night's
work and then copied over the
work and then copied over the
uh
config like I wasn't able to match the
config like I wasn't able to match the
point4 that I had from yesterday.
point4 that I had from yesterday.
See this config
needs needs tweaks apparently.
Don't have a sweep thing defined in
Don't have a sweep thing defined in
here. Oh, it's supposed to be I didn't
here. Oh, it's supposed to be I didn't
push a config file.
push a config file.
Upper G drive.
We do Horizon
We do Horizon
91. And what did we say we were going to
91. And what did we say we were going to
do? Uh, if you look in the general chat,
do? Uh, if you look in the general chat,
you you copied it from last night. Okay.
you you copied it from last night. Okay.
So, let's just
that. Um, let's see what else would you
that. Um, let's see what else would you
not have in the release branch.
You're not going to have all the
You're not going to have all the
binaries, I don't think. What binaries?
binaries, I don't think. What binaries?
Like all the maps. Oh, yeah. How we get
Like all the maps. Oh, yeah. How we get
um You got to go
um You got to go
to Let me go to the GPU drive.
to Let me go to the GPU drive.
Well, I I have them on the same machine
Well, I I have them on the same machine
from anyways, right?
from anyways, right?
Did they get wiped from the being on
Did they get wiped from the being on
this branch? They're not tracked by yet.
banded
tensor cuz this stuff is now in
Beck. I am here to help fix things.
Total agents.
Is the eight still hardcoded in there?
Is the eight still hardcoded in there?
It shouldn't be. No, it should just be
It shouldn't be. No, it should just be
the 582 now or whatever it
the 582 now or whatever it
is. I took that out.
Yeah, all those eights were taken
out. Okay, so the VMs has a ton of
out. Okay, so the VMs has a ton of
agents for some weird reason.
Okay. 1,900 agents in one file for 64
Okay. 1,900 agents in one file for 64
maps. That's high, right? For it should
maps. That's high, right? For it should
be 75 maps, but I don't know if you just
be 75 maps, but I don't know if you just
set it at 64. Yeah, I did. But this is
set it at 64. Yeah, I did. But this is
too big. Yeah, it should be nowhere near
too big. Yeah, it should be nowhere near
that high. Okay, so um
that high. Okay, so um
M 256 M is high, right? Yes, it is. That
M 256 M is high, right? Yes, it is. That
would be more appropriate if it was 256.
would be more appropriate if it was 256.
Oh,
64. All these rewards are also screwy.
64. All these rewards are also screwy.
They should be 75.
We'll edit CUDA for you. I
suppose works with 128
maybe.
No. Oh, we had
No. Oh, we had
um there was like a weird mini batching
um there was like a weird mini batching
thing,
thing,
remember? So, this is where we said it
remember? So, this is where we said it
would be easier if
would be easier if
um if you did the thing where we like
um if you did the thing where we like
crop it, do a big batch size, but then
crop it, do a big batch size, but then
you just picked a mini bin mini batch
you just picked a mini bin mini batch
size that works. also like cropping so
size that works. also like cropping so
that the agents the M's just give you a
that the agents the M's just give you a
clean number
clean number
cuz remember I had to do
cuz remember I had to do
Yeah, we talked about the idea of just
Yeah, we talked about the idea of just
picking the number of agents and then
picking the number of agents and then
picking the maps
accordingly. I I did not implement that.
accordingly. I I did not implement that.
Well, I will do something. I'll do the
Well, I will do something. I'll do the
same thing I did for now for before.
which is in computing puffer advantage.
Okay. So, this is now training.
Okay. So, this is now training.
Yeah. And when I was trying to run this,
Yeah. And when I was trying to run this,
maybe maybe now it'll be fixed, but
maybe maybe now it'll be fixed, but
before value loss started going crazy
before value loss started going crazy
mode.
I'm pushing you this path.
I'm pushing you this path.
Yeah.
And then we will see whether value loss
And then we will see whether value loss
is still
is still
crazy. Very
good. Out of memory.
weird.
weird.
Something is
Something is
Yeah, something is just like eating all
Yeah, something is just like eating all
the
memory. There's this one command on
memory. There's this one command on
uh kill all literally doesn't do
uh kill all literally doesn't do
anything. This freaking like ridiculous
anything. This freaking like ridiculous
thing that actually works.
thing that actually works.
every
every
time. One freaking stack overflow
post. So, something changed cuz this
post. So, something changed cuz this
only has 700k per.
Didn't you make it 512?
Yeah, I did. So this that's not in
this. I made the It was 64512, right?
this. I made the It was 64512, right?
Yeah, it was
Yeah, it was
512. Okay. And then we had N75, but I
512. Okay. And then we had N75, but I
get picking 64 doesn't really matter
get picking 64 doesn't really matter
either way. I did that to match um some
either way. I did that to match um some
dimensions.
This is the correct model
size. This is actually faster as
well. Now we're at 400k train.
well. Now we're at 400k train.
Okay. With 50% copy overhead.
What is the copy overhead? I don't think
What is the copy overhead? I don't think
I ever knew. It's just taking the
I ever knew. It's just taking the
observations and putting them on the
observations and putting them on the
GPU.
Oh's too chunky.
I mean that task is mandatory, right?
I mean that task is mandatory, right?
You can't like not put it on GPU.
You can't like not put it on GPU.
Technically in Python 314 if they nail
Technically in Python 314 if they nail
threading or if I write a C++
threading or if I write a C++
uh or a C-blaced my not C++ a C-based uh
uh or a C-blaced my not C++ a C-based uh
thread back end for puffer ms we will be
thread back end for puffer ms we will be
able to um put stuff into torch
able to um put stuff into torch
asynchronously on each worker so we
asynchronously on each worker so we
won't have to block on it.
So there is still more optimizing I can
So there is still more optimizing I can
do. You know the year is 2027. Puffer
do. You know the year is 2027. Puffer
trains at 20 million steps per
second. Well, I mean you started at 1
second. Well, I mean you started at 1
million and I think many are now in the
million and I think many are now in the
two to three range.
two to three range.
Mhm. We're making good progress.
Mhm. We're making good progress.
The value
The value
loss may or m may not be exploding.
loss may or m may not be exploding.
Mine is going to like hundreds of
Mine is going to like hundreds of
thousands.
thousands.
Well, how immediately?
Well, how immediately?
Within pretty quick range. Yeah, seems
Within pretty quick range. Yeah, seems
fine.
fine.
Check our
Neptune. This is loading the uh the GPU
Neptune. This is loading the uh the GPU
pretty well, I will say.
That doesn't actually mean you're using
That doesn't actually mean you're using
it
effectively. There we
effectively. There we
go. So, this is doing. So, it is okay.
go. So, this is doing. So, it is okay.
It is learning again. So, I don't know
It is learning again. So, I don't know
why mine was like going crazy, but maybe
why mine was like going crazy, but maybe
because I just didn't have
because I just didn't have
the advantages change or whatever and
the advantages change or whatever and
the puff
the puff
advantage. Uh, it's supposed to like
advantage. Uh, it's supposed to like
fail without that. So, I don't know what
fail without that. So, I don't know what
you had.
you had.
I don't
I don't
know. But this seems close to what we
know. But this seems close to what we
were getting yesterday. Yeah. I mean, it
were getting yesterday. Yeah. I mean, it
was it capped at like point4, I think.
Okay. So, um let it What is the most
Okay. So, um let it What is the most
productive thing we can do with this? we
productive thing we can do with this? we
have it run a sweep or
have it run a sweep or
um I think it would probably be worthy
um I think it would probably be worthy
of one checking to make sure my logging
of one checking to make sure my logging
is as correct as I believe it should be
is as correct as I believe it should be
for what we're trying to accomplish on
for what we're trying to accomplish on
completion rate for being
completion rate for being
score two looking at the data.
score two looking at the data.
Okay, let's do that probably before
Okay, let's do that probably before
running the sweep. I know we talked
running the sweep. I know we talked
about yesterday sweeping and then
about yesterday sweeping and then
checking out data, but yeah, this is
checking out data, but yeah, this is
lagging like local.
So driving simulator.
Uh the last one should be
Uh the last one should be
by
by
200 time
7 or time 13 per
se. None of these numbers
match. Also why is it's 63
match. Also why is it's 63
partner 64* 7 road.
partner 64* 7 road.
So it's 60 because
So it's 60 because
there's up to 64 cars. So 64 minus one
there's up to 64 cars. So 64 minus one
is 63 partner
and then it's seven plus six on the
and then it's seven plus six on the
attributes for the road because there's
attributes for the road because there's
six one hot encoded
six one hot encoded
um categories of of the type of road
um categories of of the type of road
classifications.
But that's not what I mean that's not
But that's not what I mean that's not
what's in the observations here, right?
Like you're grabbing the
first.
first.
See? Yeah. You're grabbing the road
See? Yeah. You're grabbing the road
points are totally messed up then if
points are totally messed up then if
there 13 attributes of them, right?
there 13 attributes of them, right?
Wait, wait. Are you okay? Where is this
Wait, wait. Are you okay? Where is this
breakpoint? Is this breakpoint in torch
breakpoint? Is this breakpoint in torch
or is this breakpoint in
or is this breakpoint in
torch? Okay. Okay. So the observations
torch? Okay. Okay. So the observations
coming in should be in the shape of 200*
coming in should be in the shape of 200*
7 and then when they get passed into the
7 and then when they get passed into the
network they you get we I add in the the
network they you get we I add in the the
one hot afterwards but even then that
one hot afterwards but even then that
number seems to be off somehow. Yeah.
number seems to be off somehow. Yeah.
None of these match
None of these match
right? I guess this one this one
right? I guess this one this one
matches 1847.
Okay. So,
Okay. So,
would 4136 be the number of aid? Wait,
would 4136 be the number of aid? Wait,
this is the batch size.
this is the batch size.
Okay. So, if the 1847 is matching, that
Okay. So, if the 1847 is matching, that
makes more sense. So, it's 200 road
makes more sense. So, it's 200 road
points and they each have seven
points and they each have seven
attributes.
attributes.
Yes. And then I do the one hunt
Yes. And then I do the one hunt
afterwards when passing it to the
layer inside of the torch policy.
So what do these dimensions represent?
So what do these dimensions represent?
The first six should
be the relative gold distance.
The first one has two cars on top of
The first one has two cars on top of
each other for the first point.
each other for the first point.
So the first point should have real goal
So the first point should have real goal
X and real goal Y. And these are all
X and real goal Y. And these are all
normalized.
The first two observation calls are the
The first two observation calls are the
first two observations are the same
first two observations are the same
here.
How big is this
How big is this
function? Possibly big.
function? Possibly big.
I would argue something is funky. Then
I would argue something is funky. Then
it could be that it's like the same map
it could be that it's like the same map
or something loaded that way, but it
or something loaded that way, but it
would be weird.
would be weird.
It should be the second
map because each of those should be
map because each of those should be
their own independent
map. It would be a little odd if the
map. It would be a little odd if the
first one is copied to the same world
first one is copied to the same world
again.
My favorite trick.
Oh, we can't do this because you have
Oh, we can't do this because you have
Syon.
Syon.
We can't do it because you have Syon,
We can't do it because you have Syon,
right?
right?
Yeah. And damn
Yeah. And damn
it. Uh, if you want to put it into
it. Uh, if you want to put it into
non-syon, we can try as
I don't think I've done anything to fix
I don't think I've done anything to fix
your map loading shenanigans. I guess Do
your map loading shenanigans. I guess Do
you load them in Python anyways?
No, they're loaded in C.
Does anything need to get What do you
Does anything need to get What do you
actually need to pass to
these? You just pass observations,
these? You just pass observations,
actions, rewards,
actions, rewards,
terminals,
terminals,
coefficients, offsets, and then yeah,
coefficients, offsets, and then yeah,
that's the weird thing I do is to get
that's the weird thing I do is to get
the agent offsets. But you make these in
the agent offsets. But you make these in
GPU drive and then you pass them to GPU
GPU drive and then you pass them to GPU
drive. Yeah.
drive. Yeah.
So you don't use these for anything in
So you don't use these for anything in
this Python.
this Python.
No, but you use it in the Sython. So it
No, but you use it in the Sython. So it
gets passed to
gets passed to
Syon because the Syon uses those offsets
Syon because the Syon uses those offsets
to determine how to offset the
to determine how to offset the
observations, rewards, and actions. Why
observations, rewards, and actions. Why
Why can't you just do this in the init?
Why can't this just be in the init?
Why can't this just be in the init?
Because numbum agents has to be set
Because numbum agents has to be set
ahead of time to the correct number.
ahead of time to the correct number.
Ah,
Ah,
okay. Well, we can do that easy enough,
okay. Well, we can do that easy enough,
I
I
think. I don't know. It would be kind of
think. I don't know. It would be kind of
cool to get this into the new bindings
cool to get this into the new bindings
today. It would make debugging a hell of
today. It would make debugging a hell of
a lot easier.
a lot easier.
Do you use all this entity DT type stuff
Do you use all this entity DT type stuff
that I think is an artifact at this
that I think is an artifact at this
point?
Uhhuh. How complicated is
thing? Total agent is basically making a
thing? Total agent is basically making a
fake env to run a function to get the
fake env to run a function to get the
right account.
with some small modifications then I
with some small modifications then I
think we can make this work because
here this is the binding that I have for
here this is the binding that I have for
uh the grid end and here I make I
uh the grid end and here I make I
generate all the maps in
generate all the maps in
C right so this gets called once at the
C right so this gets called once at the
start and then I just
start and then I just
like where is it
levels. Yeah. So here like I make this
levels. Yeah. So here like I make this
levels thing and I can actually return
levels thing and I can actually return
it. You can return a pi
object. You could just return num maps
object. You could just return num maps
or whatever with this. Or you could just
or whatever with this. Or you could just
init the levels either
init the levels either
way. This actually you you have to
way. This actually you you have to
create all the levels twice, don't you?
create all the levels twice, don't you?
In the current approach, yes, because
In the current approach, yes, because
one time you have to create the levels
one time you have to create the levels
to get the agent counts from them and
to get the agent counts from them and
then the second one's the actual So
then the second one's the actual So
maybe this lets you just do it then
maybe this lets you just do it then
because here I make all the levels. I
because here I make all the levels. I
don't return the count of them to be
don't return the count of them to be
fair, though that's easy enough to do.
fair, though that's easy enough to do.
And I keep the levels and see
And I keep the levels and see
the one Okay. I don't actually know if
the one Okay. I don't actually know if
that's an issue on this end, but it's
that's an issue on this end, but it's
something we'll have to test out is if
something we'll have to test out is if
we're going to break the memory limit.
we're going to break the memory limit.
The memory limit of what? Because it's
The memory limit of what? Because it's
cal. There's a bunch of
cal. There's a bunch of
cache
cache
like that goes on when you initialize
like that goes on when you initialize
the levels.
the levels.
But that's like stack limit.
But that's like stack limit.
Yeah. But you can
Yeah. But you can
cal you can put it on the heap.
I think we just I thought when we talked
I think we just I thought when we talked
about this we just determined that the
about this we just determined that the
number may just end up being too big.
Well, if it doesn't fit on the heap,
Well, if it doesn't fit on the heap,
then it doesn't fit in RAM,
right? I mean, how much RAM do we have?
right? I mean, how much RAM do we have?
What are you doing now if it's not in
What are you doing now if it's not in
RAM?
Well, it's only doing those 75 levels. I
Well, it's only doing those 75 levels. I
thought I'm talking about like as you
thought I'm talking about like as you
get to like 10,000 levels. Oh, yeah. But
get to like 10,000 levels. Oh, yeah. But
then like we all have the same bloody
then like we all have the same bloody
problem in Syon or in or in this, right?
What does Syon let you do that you don't
What does Syon let you do that you don't
know if you can do here?
in the new binding.
Okay, if you just cal up each of the
Okay, if you just cal up each of the
states of a level. I mean, I think
states of a level. I mean, I think
you're going to have to what? Create a
you're going to have to what? Create a
new state object inside the inside of
new state object inside the inside of
the end.
the end.
Uh that's what we did for this for the
Uh that's what we did for this for the
grid because we load and save a bunch of
grid because we load and save a bunch of
levels very often is probably the way
levels very often is probably the way
you would want to do it because like
you would want to do it because like
that's the same type of way I did it for
that's the same type of way I did it for
tower climb too is like I just generated
tower climb too is like I just generated
all the levels at once. The levels
all the levels at once. The levels
aren't big. Wait, the levels aren't like
aren't big. Wait, the levels aren't like
big, right? The issue is that when you
big, right? The issue is that when you
when you materialize them into the
when you materialize them into the
format that's like efficient to compute
format that's like efficient to compute
observations over, they get big, right?
observations over, they get big, right?
Yes, that's correct. So we can just like
Yes, that's correct. So we can just like
we can load them either fully expanded
we can load them either fully expanded
or just like load the files and whatever
or just like load the files and whatever
for now and then when you reset you can
for now and then when you reset you can
rematerialize.
Okay, I'm I like that approach. Well, we
Okay, I'm I like that approach. Well, we
don't even we'll just do exactly what
don't even we'll just do exactly what
you're doing now. That's just like we
you're doing now. That's just like we
have outs for when we want to scale
have outs for when we want to scale
this.
this.
Right.
Right.
Uh, the only thing is I guess if we want
Uh, the only thing is I guess if we want
to return both the levels and the um the
to return both the levels and the um the
count, we might have
to think. So, do you no longer have to
to think. So, do you no longer have to
return an array of offsets with this
return an array of offsets with this
approach? I don't think you do because I
approach? I don't think you do because I
think you can just get access to the
think you can just get access to the
levels in in C, right?
which is kind of
cool. There's a little bit of PI API
cool. There's a little bit of PI API
shenanigans. So like ideally you want as
shenanigans. So like ideally you want as
little code as possible in this binding
little code as possible in this binding
file and as much of it as possible in
theh it's pretty clean. This is the
theh it's pretty clean. This is the
whole binding file for grid and grid has
whole binding file for grid and grid has
like you know procedure big set of
like you know procedure big set of
procedural levels and it swaps them in
procedural levels and it swaps them in
dynamically on reset.
Yeah. I mean, I'm effectively going to
Yeah. I mean, I'm effectively going to
have to I'm going to copy that approach
have to I'm going to copy that approach
for tower climb on how that binding will
for tower climb on how that binding will
work because they run the same way.
work because they run the same way.
Yeah.
Yeah.
Um I'm trying to think what things
Um I'm trying to think what things
should be inside of theh file.
Well, everything that doesn't require
Well, everything that doesn't require
the Python API goes in
the binding should be as small as
the binding should be as small as
possible.
Well, if we're saying we no longer need
Well, if we're saying we no longer need
the count
the count
if you have access to levels, you don't
if you have access to levels, you don't
need the count, right? Because you just
need the count, right? Because you just
like on init like in this init function
like on init like in this init function
here, you would just go through and read
here, you would just go through and read
it, right?
it, right?
But when you set up the Python side,
But when you set up the Python side,
doesn't don't you have to tell the
doesn't don't you have to tell the
agents for when
um
um
well, you need to know how many agents
well, you need to know how many agents
are going to be made, I guess.
are going to be made, I guess.
Yeah. When you when you super init the
Yeah. When you when you super init the
actual GPU drive in Python. I mean, I've
actual GPU drive in Python. I mean, I've
been promising Aaron like um like a get
been promising Aaron like um like a get
method as well. So, I could get you like
method as well. So, I could get you like
an extra get or something. You can
an extra get or something. You can
return whatever
return whatever
we could do that from the from theh
we could do that from the from theh
files into the Python. Mhm.
files into the Python. Mhm.
I could just give you an extra binding
I could just give you an extra binding
for a get method.
Yeah. I mean that would I think solve
Yeah. I mean that would I think solve
that issue.
that issue.
Unless a simpler solution.
Unless a simpler solution.
It's not that hard.
I know. I just figured we had to do this
I know. I just figured we had to do this
anyways. Like I'm sick of not being able
anyways. Like I'm sick of not being able
to to debug this complicated ass
to to debug this complicated ass
environment.
What you thinking, Spencer?
What you thinking, Spencer?
Oh, I was um I thought we were going to
Oh, I was um I thought we were going to
start on the news binding. Yeah, I like
start on the news binding. Yeah, I like
I thought you were deciding a couple
I thought you were deciding a couple
things. I'm just sending a couple
things. I'm just sending a couple
messages on the uh the other thing we're
messages on the uh the other thing we're
starting together. Uh all
starting together. Uh all
right, let's
right, let's
do binding shenanigans.
do binding shenanigans.
Yeah.
Yeah.
You have this working on a remote box
You have this working on a remote box
right now?
right now?
Um currently, yeah, let's just do it
Um currently, yeah, let's just do it
there.
I was just running a
I was just running a
uh a train. I was just doing a train
uh a train. I was just doing a train
just to make sure that everything was
just to make sure that everything was
still lining up. But on the box it looks
still lining up. But on the box it looks
like Yeah. 420,000 470,000 or so. Want
like Yeah. 420,000 470,000 or so. Want
to just do the
to just do the
um should we just do the uh the
um should we just do the uh the
integration there so we can both edit
integration there so we can both edit
it? Yeah, that works. What box you want?
it? Yeah, that works. What box you want?
Uh
Uh
one box. Uno.
one box. Uno.
Sorry, I was ordering my uh my food.
There we are. T-Mox. Mine's not on T-Max
There we are. T-Mox. Mine's not on T-Max
right now. Let me just
right now. Let me just
uh let me kill the run and then open up
uh let me kill the run and then open up
a T-X. There is a T-ux here.
a T-X. There is a T-ux here.
Oh, unless I
Oh, unless I
Yeah, it looks like it's an old one.
Yeah, it looks like it's an old one.
This is the right machine I'm on, right?
This is the right machine I'm on, right?
Yeah. I mean, if it says my name in
Yeah. I mean, if it says my name in
there somewhere in
there somewhere in
there, like the if if the team's
there, like the if if the team's
attached is the end of Yeah. Pepper box
attached is the end of Yeah. Pepper box
one.
The tank is
The tank is
tank.
tank.
See what which one is your tank? Should
See what which one is your tank? Should
be puffer tank. Just the one without the
be puffer tank. Just the one without the
two.
two.
Yeah, Spencer. Cool.
Yeah, Spencer. Cool.
I think the two was I think Bet maybe
I think the two was I think Bet maybe
wanted to do something at one point.
wanted to do something at one point.
Yep. All right.
Yep. All right.
So, have you done have you done any
So, have you done have you done any
binding ports yet? Yeah, this is
binding ports yet? Yeah, this is
completely new to me. I haven't touched
completely new to me. I haven't touched
any of the binding ports. So, I get to
any of the binding ports. So, I get to
show you how this works then.
show you how this works then.
Um, so what we do with this
is let's grab the grid one.
And then there are a couple things
And then there are a couple things
here. So we have a log
here. So we have a log
function. Anything that goes in log
function. Anything that goes in log
should go here. Okay. Okay. So, all the
should go here. Okay. Okay. So, all the
stats from uh GPU drive should go in
stats from uh GPU drive should go in
there. That's super easy.
there. That's super easy.
What is Perf now? Is that supposed to be
What is Perf now? Is that supposed to be
a new
a new
uh perf? That's a part of everything.
uh perf? That's a part of everything.
Yeah. So, I it would it's often times
Yeah. So, I it would it's often times
going to be the same as score.
going to be the same as score.
Okay. It's just a 01 normalized. It's
Okay. It's just a 01 normalized. It's
just 01 normalized is the main thing.
just 01 normalized is the main thing.
So, if you already have if the
So, if you already have if the
completion rate it's the same. Yeah.
completion rate it's the same. Yeah.
I'm still playing with stuff like
I'm still playing with stuff like
that. What we do is we take these stats.
that. What we do is we take these stats.
Uh I think you also there are a couple
Uh I think you also there are a couple
required
variables that we can get from right
here. My visual does not have any visual
here. My visual does not have any visual
indicator. This is annoying.
You don't see your cursor? Uh, like when
You don't see your cursor? Uh, like when
I go to highlight stuff in visual mode,
I go to highlight stuff in visual mode,
there's no change. It's silly. Oh.
Score episode return episode length.
Score episode return episode length.
This that and float
n. Grab all these.
assigned to dict score be perfect score
return off-road collision and
return off-road collision and
okay cool
okay cool
now now we have all that done
now now we have all that done
uh now for a net we need to know what
uh now for a net we need to know what
args so those are just whatever you have
args so those are just whatever you have
in GPU drivep Pi that is currently being
in GPU drivep Pi that is currently being
put into
here. You have this signature right now.
here. You have this signature right now.
Okay. So we have it looks like human
Okay. So we have it looks like human
agent index.
You unpack you have a reward. You have
You unpack you have a reward. You have
this and then the offsets we're handling
this and then the offsets we're handling
separately.
separately.
Okay. And then you
Okay. And then you
have there an init function
have there an init function
in the Python or just in general in theh
in the Python or just in general in theh
in theh. Yeah, there's an init. It's
in theh. Yeah, there's an init. It's
just it should just be an init by
just it should just be an init by
itself.
itself.
It takes the end, right? Yeah. Yeah. And
It takes the end, right? Yeah. Yeah. And
then what's this handle
object? There's also this state here.
Um, so this state is going to be the
Um, so this state is going to be the
levels thing that we're going to make.
levels thing that we're going to make.
We're actually probably going to be able
We're actually probably going to be able
to keep this similar and like whatever
to keep this similar and like whatever
levels is called or whatever, however we
levels is called or whatever, however we
do
this. Like I think we just we'll give it
this. Like I think we just we'll give it
we just give all the M's the pointer to
we just give all the M's the pointer to
all the levels and you just pick
all the levels and you just pick
whichever one and then it's shared
whichever one and then it's shared
memory anyways.
memory anyways.
Okay. Yeah.
Okay. Yeah.
Okay. Okay. And now the only other thing
Okay. Okay. And now the only other thing
is the level initialization. So this
is the level initialization. So this
gets called once for all ends. This gets
gets called once for all ends. This gets
called at the start. And this just lets
called at the start. And this just lets
you call whatever C you
want in this my shared function.
Yes.
Yes.
So like this
So like this
here, this is what you wanted to do for
here, this is what you wanted to do for
a net pretty much.
You have this function here that takes
You have this function here that takes
in. You need rewards for get total agent
in. You need rewards for get total agent
count.
count.
No,
No,
you need just num m, right?
you need just num m, right?
You should just need which is num maps.
You should just need which is num maps.
Why did I
Why did I
It should be numb maps, not num m,
It should be numb maps, not num m,
shouldn't it? Or dumb mum maps. I don't
Arguably, it should only need numms.
I think I assumed that when I was doing
I think I assumed that when I was doing
my like Python to Sython stuff, I was
my like Python to Sython stuff, I was
just keeping everything the
just keeping everything the
same in order to initialize the
same in order to initialize the
environment. Okay, but you really should
environment. Okay, but you really should
only need
only need
numm,
numm,
which is just a variable name for just
which is just a variable name for just
could be num maps.
Okay. So then can you fill in um what
Okay. So then can you fill in um what
grid even knows
can you fill in logic here to like load
can you fill in logic here to like load
the num num m's maps or
the num num m's maps or
whatever. If I just exit I will uh I'll
whatever. If I just exit I will uh I'll
exit out so I don't I'm not on
there. I'm I'm out of it. So, make sure
there. I'm I'm out of it. So, make sure
you over right now.
Okay. So, you can now see my stuff.
Okay. So, you can now see my stuff.
Uh, yeah. Okay.
Okay. And so, what do you want me to do?
Okay. And so, what do you want me to do?
You want me to set up the function like
You want me to set up the function like
how I did in Syon, but here?
how I did in Syon, but here?
Yeah. Yeah, just calling the C. So all
Yeah. Yeah, just calling the C. So all
you have to do is load num maps
levels. Num M's
levels and you're going to be able to
levels and you're going to be able to
return a pointer of this to Python which
return a pointer of this to Python which
will then be you'll be able to use in
will then be you'll be able to use in
the C
Okay, so here's something I did that I
Okay, so here's something I did that I
don't know
don't know
how if this is going to be the best way
how if this is going to be the best way
to go about it. I made a bunch of GPU
to go about it. I made a bunch of GPU
drive
instances temporarily. Are we still
instances temporarily. Are we still
going to go with that as the approach?
going to go with that as the approach?
because I mean this is effectively the
because I mean this is effectively the
function that I'm going to be
running. And then I then
call agents
and then we're no longer caring about
and then we're no longer caring about
offsets.
Um, well, I mean, you don't need to
Um, well, I mean, you don't need to
return offsets if you just have the
levels. Okay. So, if you just want the
levels. Okay. So, if you just want the
the the level to be
loaded, this is the part where I'm a
loaded, this is the part where I'm a
little confused on how we're going to be
little confused on how we're going to be
implementing this as part of the now the
implementing this as part of the now the
new binding.
What are we actually storing now?
What are we actually storing now?
So, uh, you just store there's one
So, uh, you just store there's one
calic, right, for the
calic, right, for the
levels. Like this one calic up here for
levels. Like this one calic up here for
levels. It's not a state. It's whatever
levels. It's not a state. It's whatever
the level object is.
Okay. So, I don't have a level object.
Okay. So, I don't have a level object.
Okay. You have you just have M's or
Okay. You have you just have M's or
whatever though, right? You have like
whatever though, right? You have like
temp M's. I just have like I just have
temp M's. I just have like I just have
the whole n and then like entities.
the whole n and then like entities.
Okay. So then it would just be num m*
Okay. So then it would just be num m*
size of m or whatever and you'll pass a
size of m or whatever and you'll pass a
pointer to that whole array.
So I would make these the GPU drive
ends where this would be like the actual
ends where this would be like the actual
strct.
Why am I in insert visual mode?
Okay, hold
on. I think I only would need to do load
on. I think I only would need to do load
map binary at the moment. If you're
map binary at the moment. If you're
saying that we're no longer using, if we
saying that we're no longer using, if we
no longer are taking this count object
no longer are taking this count object
back into Python,
back into Python,
we don't need what? I'm saying active
we don't need what? I'm saying active
agents can just be put
into like you don't I don't think you
into like you don't I don't think you
have to call all of the things inside of
have to call all of the things inside of
my init.
my init.
No, I we just need to know either you
No, I we just need to know either you
make the maps or you just compute the
make the maps or you just compute the
number or what this is just this
number or what this is just this
function. All this function does is it
function. All this function does is it
lets you return something to Python. It
lets you return something to Python. It
lets you compute some stuff and return
lets you compute some stuff and return
stuff to Python. If you want that to be
stuff to Python. If you want that to be
a pointer to all the M's, like all the
a pointer to all the M's, like all the
levels, you can do it that way, right?
levels, you can do it that way, right?
Like because you don't you don't load
Like because you don't you don't load
the M's. Do you load all the M's inside
the M's. Do you load all the M's inside
of each each C environment or C
of each each C environment or C
instance?
I am loading. You do it once in the
I am loading. You do it once in the
Sython layer, right?
Sython layer, right?
Once in the Syon layer, I knit them all.
Once in the Syon layer, I knit them all.
That would be this
then.
Okay. But in this case, I'm writing in
Okay. But in this case, I'm writing in
what? Python here.
So I You're writing This is C.
At least what I see on my screen. Yeah,
At least what I see on my screen. Yeah,
you're rewriting in C.
Oh, this whole thing's supposed to be in
Oh, this whole thing's supposed to be in
C. You not see the notate. That's the
C. You not see the notate. That's the
Python C API. PI object star start star
Python C API. PI object star start star
start star pointer. It's like it's the C
start star pointer. It's like it's the C
API. Okay, hold on.
API. Okay, hold on.
Let's let us correct the situation.
Let's let us correct the situation.
Okay. So if I'm just basically
Okay. So if I'm just basically
recreating the init then I just need the
recreating the init then I just need the
map
file. I would not
need this line. This line this
line. No stupid auto complete.
So would I just be initializing this
So would I just be initializing this
like I normally would in the Sython
like I normally would in the Sython
this? So this is the part where I just
this? So this is the part where I just
don't really understand how I'm supposed
don't really understand how I'm supposed
to be doing the lighting because I would
to be doing the lighting because I would
generally pop in my offsets here and
generally pop in my offsets here and
just initialize the
You don't see
how I don't know why it keeps spamming
how I don't know why it keeps spamming
me with like this
me with like this
giant block of
giant block of
you seeing the dots on the right block.
you seeing the dots on the right block.
It's just giant giant
It's just giant giant
dots.
Um what? So, like you want are you used
Um what? So, like you want are you used
to having like an F string to load maps
to having like an F string to load maps
or
or
something? Is that the thing that you're
something? Is that the thing that you're
I don't know what we're trying to
I don't know what we're trying to
accomplish right now in this particular
accomplish right now in this particular
section like I'm trying to load the map
section like I'm trying to load the map
the thing that you have in Syon right
the thing that you have in Syon right
now but I got distracted with some
now but I got distracted with some
messages on the side again here
configur you have some like load map
configur you have some like load map
thing right here right
load so you have this thing right here
load so you have this thing right here
that does like this loading in temp and
that does like this loading in temp and
then you do it again somewhere, right?
then you do it again somewhere, right?
No. Where's the map? Where do the maps
No. Where's the map? Where do the maps
get loaded here?
get loaded here?
I just call in it again in the uh
I just call in it again in the uh
where does it pick the map? I passed in
where does it pick the map? I passed in
the map file to the end again. I just
the map file to the end again. I just
call it
afterwards. You can do that as well.
afterwards. You can do that as well.
Like if you want to like load them
Like if you want to like load them
twice, you can also do that. It's up to
twice, you can also do that. It's up to
you if you want to do it like the way it
you if you want to do it like the way it
would have to be with tower climbing the
would have to be with tower climbing the
grid or you just want to do it this. I
grid or you just want to do it this. I
mean, either way, you're going to have
mean, either way, you're going to have
to load them to check how many agents
to load them to check how many agents
there are,
there are,
right? If you just want to load them
right? If you just want to load them
like to check if you just want to like
like to check if you just want to like
load them to check how many agents there
load them to check how many agents there
are for now and just return the number
are for now and just return the number
of agents, that's fine, too.
And this can all just be done in this
And this can all just be done in this
area of C. So I can set up like an N but
area of C. So I can set up like an N but
then just basically do the exact same
then just basically do the exact same
thing I did. You can write arbitrary C.
thing I did. You can write arbitrary C.
Oh
Oh
yes, you have you can write arbitrary C
yes, you have you can write arbitrary C
and then within the confines of what is
and then within the confines of what is
easy to do with the Python C API, we can
easy to do with the Python C API, we can
pass arbitrary data back to Python.
pass arbitrary data back to Python.
Because the whole point of me doing
Because the whole point of me doing
the first round of setting up the M's
the first round of setting up the M's
was to set up offsets. When you say set
was to set up offsets. When you say set
up offsets, it's it's to figure out the
up offsets, it's it's to figure out the
total number of agents, isn't it? It's
total number of agents, isn't it? It's
to figure out the total number of agents
to figure out the total number of agents
and also when you're passing
and also when you're passing
in to a specific
in to a specific
Oh, yeah. Yeah, I remember that thing.
Oh, yeah. Yeah, I remember that thing.
Yeah. Okay. The variable number of
Yeah. Okay. The variable number of
agents that you have in that map and
agents that you have in that map and
where to tell your observations to
where to tell your observations to
start. Okay. Then in that case, then
start. Okay. Then in that case, then
just return the whole offsets thing.
just return the whole offsets thing.
Sure.
Sure.
Okay.
Yeah, I see what you Okay, I I
Yeah, I see what you Okay, I I
understand now why that is there. Um
understand now why that is there. Um
that's why I was like, am I just
that's why I was like, am I just
replicating my Sython? Yeah, in that
replicating my Sython? Yeah, in that
case then you are. Yeah, that case you
case then you are. Yeah, that case you
are. Then the only thing I have to
are. Then the only thing I have to
figure out for you is how to
figure out for you is how to
um you probably are going to have to
um you probably are going to have to
like make a pile list and do like pile
like make a pile list and do like pile
ad or some [ __ ] but other than
ad or some [ __ ] but other than
that, it'll be fine.
that, it'll be fine.
Okay. All right.
And we will do this the same
Yep. Okay. So now I have my agent
Yep. Okay. So now I have my agent
offsets. I have the total
offsets. I have the total
count inside of agent
count inside of agent
offsets. And then now I can set up
the actual end with its
the actual end with its
offsets. Uh hang on. So you have first
offsets. Uh hang on. So you have first
of all you're writing Python inside of C
of all you're writing Python inside of C
here, right?
here, right?
All right. Fair enough.
All right. Fair enough.
Let me go find you the PI
API. What is
PIO3? Oh, rust.
Okie dokie. Okay. So, you will have to
Okie dokie. Okay. So, you will have to
do this shenanigans, but it's not that
do this shenanigans, but it's not that
bad.
I don't know why it is that I see like
I don't know why it is that I see like
four lines of your screen flying around
four lines of your screen flying around
on my screen. I My bad. I clicked it a
on my screen. I My bad. I clicked it a
few times.
few times.
I was trying to see what you were doing
I was trying to see what you were doing
because it like it keeps shrinking my
because it like it keeps shrinking my
view to like four lines of your
screen. A little
silly. Let's do this.
So because now when I did this in the
So because now when I did this in the
Sython, what I did was I
Sython, what I did was I
had use these temp environments to set
had use these temp environments to set
up my
offsets. I got to switch
this. I presume I have to free these as
this. I presume I have to free these as
well.
Well, you just made one calic. So,
Well, you just made one calic. So,
well, no, because whenever I do
well, no, because whenever I do
something on the inside with the calling
something on the inside with the calling
those functions, I'm I'm also doing
those functions, I'm I'm also doing
other things.
other things.
There's more cal in the in the C then.
There's more cal in the in the C then.
Yes.
Yes.
So, kind of gross. We should find a
So, kind of gross. We should find a
cleaner way of doing all this. But I at
cleaner way of doing all this. But I at
least want to get this thing into the
least want to get this thing into the
freaking end binding, the new end
freaking end binding, the new end
binding, so we can stop dealing with
binding, so we can stop dealing with
Syon hell.
Going to be very nice for you to be able
Going to be very nice for you to be able
to like set break points through Python.
to like set break points through Python.
I would
think also this is useful so that with
think also this is useful so that with
the new environment we were going to be
the new environment we were going to be
doing um we can just do it this way from
doing um we can just do it this way from
the start, right?
the start, right?
Yeah. Especially if we're adding on to
Yeah. Especially if we're adding on to
it and you know adding bigger maps and
it and you know adding bigger maps and
things like
that. I say it is a really odd feeling
that. I say it is a really odd feeling
to be like converting
um like Python into C as I'm like
um like Python into C as I'm like
reading Python.
You've been spending too much time
You've been spending too much time
looking at Python.
Then not a fun language. This is just a
Then not a fun language. This is just a
matter of having to translate over as
matter of having to translate over as
I'm reading. It's like sheet reading new
I'm reading. It's like sheet reading new
piano.
Look, I personally would be very, very
Look, I personally would be very, very
happy to be spending more time writing C
happy to be spending more time writing C
environments instead of all the stuff
environments instead of all the stuff
I'm dealing with lately. Okay,
so I don't want to free agent offsets,
so I don't want to free agent offsets,
but I want to take out the temp
but I want to take out the temp
environments because I don't need that
environments because I don't need that
variable anymore. Oh man, this is so
variable anymore. Oh man, this is so
gross. I basically do this three times
gross. I basically do this three times
of looping this over, but this should be
of looping this over, but this should be
the last time. Why do you have to do
the last time. Why do you have to do
what's the next one for
what's the next one for
the actual initialization of the maps? I
the actual initialization of the maps? I
thought you were just figuring out the
thought you were just figuring out the
numbers.
I thought you were just
I thought you were just
round one is
round one is
getting what's commenting in this
getting what's commenting in this
hashtag
hashtag
double slash. You've been writing C for
double slash. You've been writing C for
a while. Like what? Also C doesn't have
a while. Like what? Also C doesn't have
F strings.
All right. So, like these are like the
All right. So, like these are like the
whole point of the top one is to get the
whole point of the top one is to get the
agent count. Uhhuh.
agent count. Uhhuh.
And the offsets. Isn't that all you
And the offsets. Isn't that all you
need? You're setting up the whole
need? You're setting up the whole
environment, right? So, well, you can I
environment, right? So, well, you can I
have to free all the excess things. I'm
have to free all the excess things. I'm
just confused because the way you have
just confused because the way you have
it in the Sython at the moment, like
it in the Sython at the moment, like
yes, this is a way that we can do it
yes, this is a way that we can do it
that would probably be better than what
that would probably be better than what
you have in the Syon, but like
you have in the Syon, but like
why? I mean, you could just make the
why? I mean, you could just make the
bloody M's right here and be done or no?
bloody M's right here and be done or no?
And then I guess here. How do I
And then I guess here. How do I
know which end is which OBS are going to
know which end is which OBS are going to
which end? Okay. At what point? So, what
which end? Okay. At what point? So, what
if you just do this? You return the I
if you just do this? You return the I
guess you have to return the offsets and
guess you have to return the offsets and
the end, which is a little bit awkward,
the end, which is a little bit awkward,
but we can do it.
but we can do it.
Um, and then you just have to like it's
Um, and then you just have to like it's
literally just setting pointers for the
literally just setting pointers for the
observations and rewards and stuff,
observations and rewards and stuff,
right?
right?
Yeah. When you're just setting
Yeah. When you're just setting
observations to observations and you
observations to observations and you
just you're giving it the first point in
just you're giving it the first point in
where in that pointer you're going to.
where in that pointer you're going to.
But yeah, so you can just make the M's
But yeah, so you can just make the M's
here. Hang on. So like if we make the
here. Hang on. So like if we make the
M's here. Okay, here. Hang on. We make
M's here. Okay, here. Hang on. We make
the M's here.
the M's here.
We This doesn't show highlights at all,
We This doesn't show highlights at all,
but we make the M's here. We return
but we make the M's here. We return
these offsets. And we also return the
these offsets. And we also return the
M's, which are no longer
M's, which are no longer
temp. Okay. And then in here, we get the
temp. Okay. And then in here, we get the
levels or we get the we already have the
levels or we get the we already have the
M's.
M's.
Mhm.
Well, it's a little awkward because it's
Well, it's a little awkward because it's
expecting new M's.
expecting new M's.
Yeah. Fine. We'll just
do then. All we have to do is return the
do then. All we have to do is return the
offsets, right? And we make the new M.
offsets, right? And we make the new M.
All we have to do in this top one is
All we have to do in this top one is
return the offsets like in in Syon. And
return the offsets like in in Syon. And
you don't need this third loop. You just
you don't need this third loop. You just
you you did the you made the things, you
you you did the you made the things, you
did the free,
did the free,
and now I just have to show you how to
and now I just have to show you how to
return some offsets.
return some offsets.
Right.
Right.
Yes. We just have to return the agent
Yes. We just have to return the agent
offsets. Okay. Let me help with that
offsets. Okay. Let me help with that
integer
integer
array. Let me see. I p I
object. Yeah, we do this pi object.
And while you're doing that, I'm gonna
And while you're doing that, I'm gonna
have to remember how to do
the there.
It's something like this. Probably
It's something like this. Probably
missing a cast. Get rid of this grid
missing a cast. Get rid of this grid
whatever [ __ ]
whatever [ __ ]
Yeah.
Yeah.
Click the f string as well. Uh you can
Click the f string as well. Uh you can
technically you already have Ray
technically you already have Ray
imported here. So you can use text
imported here. So you can use text
format, right?
format, right?
Ray's text format if you just want to do
Ray's text format if you just want to do
something quick.
I don't think I know what you mean by
I don't think I know what you mean by
that. I mean, you don't know Ray's text
that. I mean, you don't know Ray's text
format. Ray has a thing that essentially
format. Ray has a thing that essentially
gives you an fstringish.
gives you an fstringish.
Are you just talking about the the the
Are you just talking about the the the
string copy function? No, Rayb has a
string copy function? No, Rayb has a
function called text format.
No, unfamiliar with that. It's really
No, unfamiliar with that. It's really
nice. I mean, you can also just like
nice. I mean, you can also just like
print like whatever it, but like here
print like whatever it, but like here
text format
const star text format of constar char
const star text format of constar char
star text and then stuff you want to
star text and then stuff you want to
format it
with. Yeah, whatever. Do just do just do
with. Yeah, whatever. Do just do just do
it however you want to do it.
We're going to do the sprint f.
This a real
This a real
thing?
Wait, I must have like put breakout as
Wait, I must have like put breakout as
these don't look like breakout
curves.
According to this, we have some nice
According to this, we have some nice
very very fast maze learning
now. Like 10x faster than before
now. Like 10x faster than before
10 times. Yeah.
10 times. Yeah.
Than the previous sweep at
Than the previous sweep at
least. Now we're getting almost the
least. Now we're getting almost the
result that we got before, but we're
result that we got before, but we're
getting it in a minute and a half.
getting it in a minute and a half.
instead of in 10 minutes.
instead of in 10 minutes.
So, you have to leave in 10 minutes. No,
So, you have to leave in 10 minutes. No,
we're getting the result that we used to
we're getting the result that we used to
take 10 minutes. I got until 6 p.m.
take 10 minutes. I got until 6 p.m.
Fair
Fair
enough. I don't know if this is valid C.
enough. I don't know if this is valid C.
I think it is. But
well, isn't it so nice that we're going
well, isn't it so nice that we're going
to actually get real C compile errors
to actually get real C compile errors
now instead of whatever Sython does?
now instead of whatever Sython does?
Cuz I swear to God, doesn't this just
Cuz I swear to God, doesn't this just
print it? Like this is not I don't think
print it? Like this is not I don't think
this actually sets the value of it to it
this actually sets the value of it to it
does, but I I don't think it's map file.
does, but I I don't think it's map file.
There's a comma or something missing.
There's a comma or something missing.
I don't think is that the format I
I don't think is that the format I
percent I thought it was percent. I
percent I thought it was percent. I
don't freaking remember.
I just want to run it and see what
I just want to run it and see what
happens.
happens.
All right. So, how do I run this? So,
All right. So, how do I run this? So,
well, we're going to have to change the
well, we're going to have to change the
um the binding file, right? I guess we
um the binding file, right? I guess we
can compile it for now. But so, all you
can compile it for now. But so, all you
have to do to compile this is uh you go
have to do to compile this is uh you go
to the setup.py
to the setup.py
Okay.
Okay. You move the binding from Syon to
Okay. You move the binding from Syon to
pure C extensions.
pure C extensions.
Oh, this drill again. Okay. Mhm.
Oh, this drill again. Okay. Mhm.
Do you have to do this every time? What?
the reload the regular extensions and
the reload the regular extensions and
then the C extensions after the torch
then the C extensions after the torch
extensions again afterwards. Uh the
extensions again afterwards. Uh the
torch extensions aren't going to need to
torch extensions aren't going to need to
be recompiled.
I'm looking for
I'm looking for
but yes, when I'm actually editing the
but yes, when I'm actually editing the
torch extensions, I do have to do this a
torch extensions, I do have to do this a
bunch and it's a pain in the
ass. You also I meant that you had to
ass. You also I meant that you had to
like move it from side GPU drive to the
like move it from side GPU drive to the
Purd extensions
version. Okay. So, it's in there. I just
version. Okay. So, it's in there. I just
saw it. It's somewhere in here. Yeah,
saw it. It's somewhere in here. Yeah,
you just passed it. Up, up, up, up.
Going there.
Going there.
Oh, you're saying take this out. Yep.
Oh, you're saying take this out. Yep.
And that's going to go into pure C
And that's going to go into pure C
extensions.
Which is down lower.
Okay. Okay. I'm just going to put it in
Okay. Okay. I'm just going to put it in
the front.
Okay. And don't I have to also uncomment
Okay. And don't I have to also uncomment
the thing to recompile this correctly?
the thing to recompile this correctly?
Yes. Uh unless it's already set up
Yes. Uh unless it's already set up
correctly. Yeah. So that move So go from
correctly. Yeah. So that move So go from
torch extensions to like uh C
torch extensions to like uh C
extensions up. You passed it. It's in
extensions up. You passed it. It's in
the middle of your
the middle of your
screen. Okay. Down a little bit. Am I
screen. Okay. Down a little bit. Am I
just blind?
just blind?
Yes. Yes. Right there. Oh, there we go.
Yes. Yes. Right there. Oh, there we go.
The C extensions
The C extensions
and then comment the command class.
and then comment the command class.
Forgot to comment the command class.
Forgot to comment the command class.
GG, dude. Where's that?
GG, dude. Where's that?
I'm doing this. No, it's right there. I
I'm doing this. No, it's right there. I
was gonna press the comment button. You
was gonna press the comment button. You
You took too long to press the comment
You took too long to press the comment
button.
button.
Also, I'm going to give you a a really
Also, I'm going to give you a a really
nice thing that you should do. Increase
nice thing that you should do. Increase
the key repeat speed on your system. You
the key repeat speed on your system. You
will thank me later.
Okay, that's pissed off.
Okay, that's pissed off.
Yeah, because it's including the grid
Yeah, because it's including the grid
file.
Oh, I should probably include my file.
Oh, I should probably include my file.
And then N hash define uh or pound
And then N hash define uh or pound
define N GPU drive, whatever your
define N GPU drive, whatever your
that
that
like that. Literally the line below that
like that. Literally the line below that
you're looking at.
Oh, okay. Got you.
Oh, okay. Got you.
You've been getting asleep, man.
You've been getting asleep, man.
Oh, man. This is just like live
Oh, man. This is just like live
education. All right. Okay.
Come on, Jess. Give him a break. I was
Come on, Jess. Give him a break. I was
just like this is how I this is how I
just like this is how I this is how I
act when I've been like a couple days on
act when I've been like a couple days on
like five hours of sleep. Yeah, for a
like five hours of sleep. Yeah, for a
long time. But like
long time. But like
all right, it took me time to learn and
all right, it took me time to learn and
binding. H it's pissed
binding. H it's pissed
off. You don't have terminals in here.
off. You don't have terminals in here.
All
right. Did B just come in here? You just
right. Did B just come in here? You just
came in here to give me [ __ ] for giving
came in here to give me [ __ ] for giving
you [ __ ] That's funny.
you [ __ ] That's funny.
All right. Finding.h.
Let's see. It's looking for terminals.
Yeah. So GPU drive doesn't have a
Yeah. So GPU drive doesn't have a
variable named
variable named
terminals. What we're going to do, I
terminals. What we're going to do, I
think I called it dun.
Okay, now we got to update the logs. I
Okay, now we got to update the logs. I
guess we got to update the log
guess we got to update the log
structure. So, here's the cool
structure. So, here's the cool
thing. Um, is this where you press
thing. Um, is this where you press
delete? Yeah, this is literally where
delete? Yeah, this is literally where
you just get to go like this. Go up
to Forget. Do you still need log buffer?
to Forget. Do you still need log buffer?
You don't even need log buffer, do
you? You need to add
log. Look at all that code that's gone.
log. Look at all that code that's gone.
Okay, nice. Just dropped like 20 lines.
Okay, nice. Just dropped like 20 lines.
You still need ad log, but it should uh
You still need ad log, but it should uh
it should add basically it should add to
it should add basically it should add to
them.
Was is it like N or is it
Was is it like N or is it
GPU five star N? Should be star end.
GPU five star N? Should be star end.
Yeah. Okay. So, we do
N actually
Uh, this is actually going to be you.
Uh, this is actually going to be you.
So, you need to add you need to add the
So, you need to add you need to add the
stats of the agent that is finished to
stats of the agent that is finished to
to this. So, I don't know if this takes
to this. So, I don't know if this takes
agent. This probably takes like
agent. This probably takes like
Oh, it would take an index. It's
Oh, it would take an index. It's
probably like this or
probably like this or
something like
like it's probably like some [ __ ] like
like it's probably like some [ __ ] like
this.
whatever. It's like something like
whatever. It's like something like
this. I can show you the example on my
this. I can show you the example on my
screen in a
screen in a
second. Okay,
so this is how it works in breakout.
So where did N go? It was an N in here.
So in this case, since we're doing the
So in this case, since we're doing the
multiple agents within it, would this ad
multiple agents within it, would this ad
log be assumingly only taking being
log be assumingly only taking being
called for that specific agent?
called for that specific agent?
However you want to do it. So like does
However you want to do it. So like does
are you logging all the agents right at
are you logging all the agents right at
the end of the episode now?
the end of the episode now?
Right now I am logging all of them at
Right now I am logging all of them at
the end of at the end of the episode.
the end of at the end of the episode.
Correct. Okay. And I just I loop through
Correct. Okay. And I just I loop through
all of the active agents.
See, so then this block of code I pass
See, so then this block of code I pass
it.
What we do then we'll take this.
It's going to go back.
You do something like
This I Guess you are
This I Guess you are
storing you're storing a bunch of
storing you're storing a bunch of
logs anyways in here. You have like the
logs anyways in here. You have like the
separate logs thing.
Yeah, I mean you have the off-road rates
Yeah, I mean you have the off-road rates
get set earlier but you don't call ad
get set earlier but you don't call ad
log until the end. Okay, so this is
log until the end. Okay, so this is
going to be
And then do you also have to do like all
And then do you also have to do like all
the episode return and episode length
the episode return and episode length
here as well?
But this is fine, right?
Yeah. So like what's the score variable?
Yeah. So like what's the score variable?
Score variable's completion rate.
Score variable's completion rate.
Is it in logs or like where do we get it
Is it in logs or like where do we get it
from?
from?
It's in the end.
It's in the end.
M completion rates or something.
You can see what I'm doing here, right?
You can see what I'm doing here, right?
I'm filling it into this one log and I'm
aggregating. Can you fill the rest of
aggregating. Can you fill the rest of
this out real
this out real
quick? Like do you understand what this
quick? Like do you understand what this
is trying to do?
Okay. So there's one log object. There
Okay. So there's one log object. There
is one log object and it's cumulative.
is one log object and it's cumulative.
So every time like an agent needs to
So every time like an agent needs to
log, it adds its stats into that and it
log, it adds its stats into that and it
increments the n variable by one. And
increments the n variable by one. And
then uh our login code in the M binding
then uh our login code in the M binding
will take the mean for you and also
will take the mean for you and also
aggregate across like multiple C
aggregate across like multiple C
instances.
But in this case we aren't we calling
But in this case we aren't we calling
add log.
add log.
Okay. We're only calling it one time. So
Okay. We're only calling it one time. So
if
if
then we're moving it in here and we're
then we're moving it in here and we're
looping through all of them. Yeah. So if
looping through all of them. Yeah. So if
you can just add those stats in then
you can just add those stats in then
this will work and the uh logging stuff
this will work and the uh logging stuff
will be pretty well ported. Obviously
will be pretty well ported. Obviously
you just got to change a couple other
you just got to change a couple other
small calls. There's no more buffer
small calls. There's no more buffer
object or anything like that. I don't
object or anything like that. I don't
know what you mean by other stats
know what you mean by other stats
because the other stats are already
because the other stats are already
dumped in here. Uh it doesn't have
dumped in here. Uh it doesn't have
length, return, or perf all that. I
length, return, or perf all that. I
mean, wouldn't those just be from like
mean, wouldn't those just be from like
you see this is m.log, right? Not logs
you see this is m.log, right? Not logs
or log buffer. There's one
or log buffer. There's one
log. Yeah, it's just like it's whatever
log. Yeah, it's just like it's whatever
the existing variable is that you use
the existing variable is that you use
for this. I just I haven't looked at it
for this. I just I haven't looked at it
in a while, so I don't know what
in a while, so I don't know what
everything is named. and like where it's
everything is named. and like where it's
stored. Anyways, if you take a look at
stored. Anyways, if you take a look at
that for a few, I'm going to just go use
that for a few, I'm going to just go use
the restroom real quick. I'll be back in
the restroom real quick. I'll be back in
a couple. Okay. All right.
anything tracking
All right. How we doing?
We're attempting things.
I'm trying to figure out what is the
I'm trying to figure out what is the
part that is confusing here. Is it like
part that is confusing here. Is it like
not understanding how the Python API
not understanding how the Python API
stuff works in or like I think it's I'm
stuff works in or like I think it's I'm
trying to understand is where does like
trying to understand is where does like
how is this different than the original
how is this different than the original
log system? So in the original log
log system? So in the original log
system there was this big buffer that
system there was this big buffer that
you had to keep filling up and you had
you had to keep filling up and you had
to have all the m share this buffer and
to have all the m share this buffer and
then we had a function that would take
then we had a function that would take
the mean over that.
the mean over that.
Right? So now there's just one log. you
Right? So now there's just one log. you
add stuff into it and with just an extra
add stuff into it and with just an extra
n variable and you just everything gets
n variable and you just everything gets
divided by that n automatically for you.
divided by that n automatically for you.
So you don't have to have this extra
So you don't have to have this extra
like log buffer object anymore. Um you
like log buffer object anymore. Um you
just have the one log variable and then
just have the one log variable and then
aside from that the only difference
aside from that the only difference
instead of you calling like instead of
instead of you calling like instead of
like you having to call like this
like you having to call like this
aggregate and clear or whatever this
aggregate and clear or whatever this
just gets done for you through the
just gets done for you through the
ending stuff
and that affect how I'm setting the logs
and that affect how I'm setting the logs
though.
though.
Uh you're no longer interacting with a
Uh you're no longer interacting with a
log buffer and you are adding adding to
log buffer and you are adding adding to
the log instead of like setting the log,
the log instead of like setting the log,
right? Because the log buffer is each
right? Because the log buffer is each
element is the log of one agent. And now
element is the log of one agent. And now
this log is every time you have an agent
this log is every time you have an agent
ready to log it stuff, you add the
ready to log it stuff, you add the
values of that log to the current values
values of that log to the current values
of the log and you increment n by one.
Okay. For
Okay. For
example, in my step function, Mhm.
example, in my step function, Mhm.
I'm setting logs of my collision rates
I'm setting logs of my collision rates
and my off-road rates to occur and my
and my off-road rates to occur and my
episode returns and my rewards are all
episode returns and my rewards are all
being adjusted at various moments,
being adjusted at various moments,
right? Oh, okay. So, by the time you're
right? Oh, okay. So, by the time you're
done with this is like do you have all
done with this is like do you have all
the values that you need in in those
the values that you need in in those
logs? They're already in there. Well,
logs? They're already in there. Well,
like episode return is cumulative and
like episode return is cumulative and
stuff, right? Like Yeah, I see. Right.
stuff, right? Like Yeah, I see. Right.
The line below. Okay. So, let's go back
The line below. Okay. So, let's go back
up to Hang on. So, if we go back to a
up to Hang on. So, if we go back to a
[ __ ]
[ __ ]
this is like the uh what's like the Oh,
this is like the uh what's like the Oh,
let me help you. Two people typing on a
let me help you. Two people typing on a
keyboard meme. Yeah,
two people. When you're telling me to
two people. When you're telling me to
like add the stats back in, that's why
like add the stats back in, that's why
I'm confused because the stats are
I'm confused because the stats are
already in there. Okay. So, here, well,
already in there. Okay. So, here, well,
the stats aren't in this log variable,
the stats aren't in this log variable,
right? So, then here, this is literally
right? So, then here, this is literally
all it is. It's just you don't need
all it is. It's just you don't need
this. Well,
you this DNF rate isn't in there, right?
you this DNF rate isn't in there, right?
This is like calc separately.
This is like calc separately.
That's a new one. That's calc
That's a new one. That's calc
separately. So, are you saying that like
separately. So, are you saying that like
this new log is just going to be the
this new log is just going to be the
same thing as pulling into end
same thing as pulling into end
logs and just copying it from that
logs and just copying it from that
attribute?
attribute?
Yeah. So, this should just be logs I
Yeah. So, this should just be logs I
episode and just do the exact same
episode and just do the exact same
thing. You're just copying it.
thing. You're just copying it.
Yeah. Logs. What is it? Score. Perf. Uh
Yeah. Logs. What is it? Score. Perf. Uh
what's the score variable?
what's the score variable?
Okay. Like that's what I I didn't know
Okay. Like that's what I I didn't know
what you were calling it and stuff. So
what you were calling it and stuff. So
that's that's what I understand. It's
that's that's what I understand. It's
like what's the point of copying it here
like what's the point of copying it here
if score is being set above.
Oh. Okay. So this was but this is Oh,
Oh. Okay. So this was but this is Oh,
right, right, right. I see. Because it's
right, right, right. I see. Because it's
just reach score. So this is done then.
just reach score. So this is done then.
So all literally all it is is this. Hold
So all literally all it is is this. Hold
up. So episode length is going to be
up. So episode length is going to be
different.
different.
Um because I that's what I was trying to
Um because I that's what I was trying to
understand. So if episode length just
understand. So if episode length just
the OG episode length let me get rid of
the OG episode length let me get rid of
something real quick because well I mean
something real quick because well I mean
you could define it you could define it
you could define it you could define it
any one of like many ways you want. You
any one of like many ways you want. You
could also define it as like you know it
could also define it as like you know it
could be like uh the average amount of
could be like uh the average amount of
steps the agent is alive. You could
steps the agent is alive. You could
define it many ways because right now
define it many ways because right now
that number is just going to be
that number is just going to be
effectively 91. Yeah,
effectively 91. Yeah,
that's fine. Okay. Because I wasn't
that's fine. Okay. Because I wasn't
certain if you wanted this to just be a
certain if you wanted this to just be a
running tick that goes on infinitely.
No, it should right now reset and step.
No, it should right now reset and step.
Yeah. So, it's just going to be 91.
Yeah. So, it's just going to be 91.
Okay. Hold up. And let me just but you
Okay. Hold up. And let me just but you
can see like they're just like I have
can see like they're just like I have
everything do length return score perf
everything do length return score perf
and n because those are variables that
and n because those are variables that
you expect to have. Some m are going to
you expect to have. Some m are going to
have finite horizon like constant
have finite horizon like constant
horizon. That's fine.
Okay. Then this should be everything.
Okay. Then this should be everything.
All right. Cool. So we can compile it
All right. Cool. So we can compile it
because you already have you log in
because you already have you log in
there. You okay? Yeah. Yeah. Okay.
Do a few arguments to
render. Ah, so this is the other
change. This is a quick one though.
You do something like
that. I think that works.
Needs a prototype.
And then the login has
changed and binding.h no member
changed and binding.h no member
log we need it needs a
log. So instead of having a log buffer,
log. So instead of having a log buffer,
it will have
log
log
log. And I believe it is a log star, not
log. And I believe it is a log star, not
a log. Hang on one
second because my log star logs is the
second because my log star logs is the
one that's going to be doing it per
one that's going to be doing it per
agent. And then the big buffer log is
agent. And then the big buffer log is
going to be this one, right? This log.
Yes.
Yes.
Okay. Log dot. Yes. So I have my
Okay. Log dot. Yes. So I have my
variable logs that I'm have in the end
variable logs that I'm have in the end
and then I'm just copying those over to
and then I'm just copying those over to
this log which is just meant to be a
this log which is just meant to be a
simpler one because of the whole getting
simpler one because of the whole getting
rid of Syon. Well, the only reason you
rid of Syon. Well, the only reason you
have the multiple logs in the first
have the multiple logs in the first
place is because of um because multi-
place is because of um because multi-
aent. Yes. Because it's multi- aent,
aent. Yes. Because it's multi- aent,
right? Otherwise you would just like,
right? Otherwise you would just like,
you know, whenever the agent is done.
you know, whenever the agent is done.
Otherwise, I would just have like random
Otherwise, I would just have like random
variables in there as stats. Yeah. Yeah.
variables in there as stats. Yeah. Yeah.
Exactly.
Okay. Is it not called GPU
Okay. Is it not called GPU
drive or is this need um a
prototype? I guess technically we could
prototype? I guess technically we could
pass like other stuff to this, but I
pass like other stuff to this, but I
think I just usually move these
up here.
up here.
Maybe not that
high. Incomplete type.
just type destruct.
No, no, normally it's always double.
Incomplete type GPU drive is weird. Oh,
Incomplete type GPU drive is weird. Oh,
wait. There's a semicolon missing.
Semicolon after float end.
Okay. What is wrong with
this? Why does it say incomplete type? I
this? Why does it say incomplete type? I
can just move this below technically,
can just move this below technically,
right?
right?
I can totally just move this
down attribute perf. So we have to
down attribute perf. So we have to
add this needs to have uh what is
it? Then there's no log buffer anymore.
Less crap to deal with
there. Where is side GPU
drive? Oh, it's garbage.
Okay. So, now we're just uh we're into
Okay. So, now we're just uh we're into
the bindings
file. I thought pilus new returns
you pi object star pilus
new oh previous
definition it's why is it num m's plus
definition it's why is it num m's plus
one for the offsets Spencer.
I was on mute. Uh, the last one's the
I was on mute. Uh, the last one's the
total coin. The last one is the total.
total coin. The last one is the total.
Mhm. Oh, okay. So, I have to do plus
one and then you have to do pilot set
one and then you have to do pilot set
item.
Okay. So now we're just on to like this
Okay. So now we're just on to like this
temp and not existing, right?
which doesn't exist
because allocated
here. Ah, semicolon.
Yeah, these are all missing. Yeah, these
Yeah, these are all missing. Yeah, these
are all just missing semicolons.
semicolon before four. Oh, set your set
semicolon before four. Oh, set your set
items. Do those have to have semicolons,
items. Do those have to have semicolons,
too? I guess all of this does. I'm C.
too? I guess all of this does. I'm C.
It is C.
It is C.
Okay. Uh, you passed it. It's in the
Okay. Uh, you passed it. It's in the
middle of pilot set items. Pilot set
middle of pilot set items. Pilot set
items.
items.
that one.
that one.
Oh,
Oh,
and then that's the wrong one.
and then that's the wrong one.
There's another. Is there another one?
There's another. Is there another one?
No, I think that's it. All right, let's
No, I think that's it. All right, let's
see what happens.
No, still pissed.
No, still pissed.
I don't know why it says uh it can't
I don't know why it says uh it can't
find temp
Ms. Temp's M's.
It's misspelled.
Okay.
Okay.
Pointer
Pointer
pointer versus dot declaration. Yeah,
pointer versus dot declaration. Yeah,
it's entities. This
it's entities. This
is
agents. Entities has no member num
agents. Entities has no member num
agents.
agents.
Is this not just temp MUM
Is this not just temp MUM
agents? What is
this? It should be some agents. I
think Hold up. Pause.
Um, no. It's it's it's an autocomplete
Um, no. It's it's it's an autocomplete
issue. It's tempm's numbum
entities. And that may end up having to
entities. And that may end up having to
be uh, wait, hold up, hold up, hold up.
be uh, wait, hold up, hold up, hold up.
Your total count
What's this X? Is this I? No, that would
What's this X? Is this I? No, that would
be J. That's J.
Cool.
Hold up. Your total count. I'm
Hold up. Your total count. I'm
suspicious
on Yeah. Hold up. Your total count's
on Yeah. Hold up. Your total count's
wrong. Oh, good. I got it to compile
wrong. Oh, good. I got it to compile
now. Fix fix
logic. Be right back.
Okay, that should be good.
Okay, that should be good.
Good timing.
Good timing.
Air. Why is it mad? Hold up.
Hey, Tyler.
incompatible
incompatible
type in the pilot set item.
Uh where
21 incompatible types from type int on
21 incompatible types from type int on
total count. That should be like a pi in
total count. That should be like a pi in
or some dumb thing.
We make a pint.
This is like
rock. Can I not just make an
end? Oh, why do you have to use pilot
end? Oh, why do you have to use pilot
set item? Why do you why are you
set item? Why do you why are you
including total counts at all? Because
including total counts at all? Because
aren't you only getting the agent
aren't you only getting the agent
offsets? Yeah, that's what I was
doing. It's pi long from
long. So it's not pylon from void
long. So it's not pylon from void
pointer.
pointer.
Hang
Hang
on. Where are we
on. Where are we
looking? Yes, this is separate. So the
looking? Yes, this is separate. So the
agent offsets right here.
agent offsets right here.
It's pissed off about set item.
there. Python
API. Why is still
mad? Where is
mad? Where is
error? Unknown
error? Unknown
type by long.
So now you see why I was trying to
So now you see why I was trying to
minimize the uh user exposure to this
minimize the uh user exposure to this
like kind of ass API.
like kind of ass API.
Yeah.
The less Python API you have to touch
The less Python API you have to touch
the better.
Pi
Pi
object. This is a pi
object. There you
go. Okay.
So we see if the binding works.
Obviously we have to
Obviously we have to
uh edit the um Python code a little bit
uh edit the um Python code a little bit
to like use the new binding,
right? What did that just message?
I don't know. Is he here?
He's saying we should compile and
He's saying we should compile and
recompile with force.
That was like 30 minutes ago. Oh, so I
That was like 30 minutes ago. Oh, so I
don't know at what point that was
don't know at what point that was
relevant. Oops, my bad. That missed it.
relevant. Oops, my bad. That missed it.
No, it was just a chat in the general
No, it was just a chat in the general
chat message. So, it wasn't like on
What the binding is
called. Now we do total agents yada
called. Now we do total agents yada
yada. We have to
do total agents or no agent
do total agents or no agent
offsets. That's
So this is where you get the binding
So this is where you get the binding
from the my shared function. So it's
from the my shared function. So it's
binding.shared and then what was it? Num
binding.shared and then what was it? Num
ms.
ms.
Yeah, I think we did num ms equals num
Yeah, I think we did num ms equals num
ms. Looks like
ms. Looks like
this. Okay. Okay. And then we get uh
this. Okay. Okay. And then we get uh
total
total
agents
agents
offsets minus one should be the last
offsets minus one should be the last
one. Yeah.
Then now you can get rid of all that.
Then now you can get rid of all that.
So now we have
super. Now we have to we can't use this
super. Now we have to we can't use this
vein it just the way that it's used here
vein it just the way that it's used here
because you have like fancy stuff.
We want to use something like
this. Or
And what's this take? It takes like
selfobservations of what is it? Agent
selfobservations of what is it? Agent
like this probably actions reward. I I
like this probably actions reward. I I
think I to I plus one seems about right.
think I to I plus one seems about right.
It's probably just this, right? Yeah.
It's probably just this, right? Yeah.
Like
Like
uh
uh
equals next.
And then what else did we pass? Human
And then what else did we pass? Human
agent index.
agent index.
Yeah, human agent index, reward,
Yeah, human agent index, reward,
vehicle,
vehicle,
off-road,
off-road,
and map name. You got to toss in map
and map name. You got to toss in map
name. Also
name. Also
needs
needs
seed. Uh what params did we
seed. Uh what params did we
define binding?
Just just those three you're talking
Just just those three you're talking
about
about
um human
agent reward vehicle reward off-road and
agent reward vehicle reward off-road and
map name but we have to find map name
map name but we have to find map name
now
now
again do we not or is it just get passed
again do we not or is it just get passed
in from you just need the
in from you just need the
index All right.
Just pass with the index.
Just pass with the index.
Is it because now you're going to pass
the way that this thing is supposed to
the way that this thing is supposed to
work, right? So, we do this invite is
work, right? So, we do this invite is
appendid and then we just do self
vectorize by these and now you have your
CMS and then this this new thing is
CMS and then this this new thing is
almost identical. This is like
almost identical. This is like
binding.ve
binding.ve
reset
reset
selfcms also it needs seed as
well.
well.
Um and then this is like
Um and then this is like
binding.step. This is
binding.step. This is
binding dot
binding dot
backlog. And that's it. I guess well
render self.
CM self.cm.
I actually don't know what the heck is
I actually don't know what the heck is
with
with
the that I think I probably haven't done
the that I think I probably haven't done
that in a while. It's probably binding
that in a while. It's probably binding
back
back
render. Try
that. So that's the port. Pretty simple.
No
Syon and we need these variables need to
Syon and we need these variables need to
be defined
though we already have right
though we already have right
yeah now you have N by Okay. And now you
yeah now you have N by Okay. And now you
can make the
uh you can do this,
uh you can do this,
right? You can make your maps from this
uh you need to pass
in. You don't have map name in Maya
in. You don't have map name in Maya
init. You have the M ID. Just need this,
init. You have the M ID. Just need this,
right?
right?
Well, from that all we got was the total
Well, from that all we got was the total
counts for the offsets.
counts for the offsets.
We didn't actually initialize any any
We didn't actually initialize any any
but this is literally just
Isn't this just this? Yes.
Yeah. And we don't need state. We're not
Yeah. And we don't need state. We're not
doing
doing
this. So yeah, you literally just have
this. So yeah, you literally just have
to make your or you just have to call
to make your or you just have to call
init on this. So what what is it? It's
init on this. So what what is it? It's
it's in it. It should just be a nit. And
it's in it. It should just be a nit. And
you never call a nit up here, right?
you never call a nit up here, right?
Intentionally, but you need to call a
Intentionally, but you need to call a
nit after you set the file. know. Yeah.
nit after you set the file. know. Yeah.
The map file.
The map file.
So, sprint
f. Does it do you set it like end map
f. Does it do you set it like end map
name or something or do you put it in
name or something or do you put it in
init or what?
init or what?
It's inside of the init parameters.
It's inside of the init parameters.
There's a map file um like map f like
There's a map file um like map f like
this.
It's sorry it's called map name. It's
It's sorry it's called map name. It's
called map
called map
name. No, no, no. It's not like init.
name. No, no, no. It's not like init.
It's it's it's it's as part of the uh
It's it's it's it's as part of the uh
oh like Python initiation.
oh like Python initiation.
So end map name.
Yeah. So then this should just
be like this. And map name equals the
be like this. And map name equals the
map should be the map file. Yeah. Except
map should be the map file. Yeah. Except
this is does map name. Is this like a
this is does map name. Is this like a
void? Does this have its own buffer? Do
void? Does this have its own buffer? Do
I have to malic this? What do we do?
Before I didn't I I just had it I think
Before I didn't I I just had it I think
on the stack.
on the stack.
Yes, cuz this is just Yeah, this is just
Yes, cuz this is just Yeah, this is just
a All right. Yeah. Okay. I'm being dumb.
a All right. Yeah. Okay. I'm being dumb.
Yeah, this should work. Cool. So, isn't
Yeah, this should work. Cool. So, isn't
this everything or am I missing
this everything or am I missing
something?
something?
Um, the weird part for me is I
guess you no longer need to pass map
guess you no longer need to pass map
name inside of the Python. Now, I just
name inside of the Python. Now, I just
passed the ID instead of having to deal
passed the ID instead of having to deal
with unpacking a
string. I passed the ID in, right, which
string. I passed the ID in, right, which
I'm using to determine what map to load.
I'm using to determine what map to load.
And is and that ID is being incremented
And is and that ID is being incremented
from one to number of MS.
from one to number of MS.
Yeah. See? Okay. That flies.
Yeah. See? Okay. That flies.
Same thing, right?
Same thing, right?
Yes, that would be the same thing. And
Yes, that would be the same thing. And
then you get these ids which is these
then you get these ids which is these
are really pointers and you vectorize
are really pointers and you vectorize
one of these pointers. So what this env
one of these pointers. So what this env
does this returns you a pointer to the C
does this returns you a pointer to the C
object.
object.
Okay. And then vector takes a bunch of
Okay. And then vector takes a bunch of
these pointers. Believe this is star.
uh yeah star. So it just takes all the
uh yeah star. So it just takes all the
envids that you've made and then it
envids that you've made and then it
turns you it gives you essentially a
turns you it gives you essentially a
double
double
pointer and then that is what mb binding
pointer and then that is what mb binding
expects. So like all these functions you
expects. So like all these functions you
see they just take this pointer.
see they just take this pointer.
So, this is you telling the
So, this is you telling the
C what object it
has. It's pretty
cool. And then the VEX step just knows
cool. And then the VEX step just knows
to step each one of those. Yep. because
to step each one of those. Yep. because
you gave it you specifically have given
you gave it you specifically have given
it a double pointer to your
it a double pointer to your
M's and it knows how many there are from
M's and it knows how many there are from
the initialize.
the initialize.
Okay. Yeah.
Now, um this doesn't have an env.
So this is just int
ID like this.
Too many arguments to init. So init
Too many arguments to init. So init
file, right? This was Yeah, I I just
file, right? This was Yeah, I I just
misunderstood the first time. No, it's
misunderstood the first time. No, it's
fine.
Okay. Uh was it clean
Okay. Uh was it clean
pepperm
and
train
train
fault? Very scary. Seg
fault. What?
Um, we have to update container to get
Um, we have to update container to get
GDB, dude. G [ __ ] G.
Seriously, you see I have not been in
Seriously, you see I have not been in
Python land because obviously I would
Python land because obviously I would
have used a debugger.
Well, this debugger is not happy with
Well, this debugger is not happy with
us.
The one thing I haven't figured out how
The one thing I haven't figured out how
to do is um compile this in a way that
to do is um compile this in a way that
the address sanitizer plays nicely with
the address sanitizer plays nicely with
um uh with like torch and stuff. It
um uh with like torch and stuff. It
should be possible technically, but that
should be possible technically, but that
I have not figured out how to do yet.
I have not figured out how to do yet.
How to just enable the address sanitizer
How to just enable the address sanitizer
on these
on these
files. That's still annoying.
files. That's still annoying.
Um, I'm trying to think what's the
Um, I'm trying to think what's the
easiest way to figure this stupid thing
easiest way to figure this stupid thing
out. Like I'm sure we just like init
out. Like I'm sure we just like init
like are indexing something that doesn't
like are indexing something that doesn't
make sense, right? I would tend to
make sense, right? I would tend to
believe that's the only way that you
believe that's the only way that you
would get a psych at this point.
I don't know. Do we see anything obvious
I don't know. Do we see anything obvious
here?
In the beginning, I do size of GPU
In the beginning, I do size of GPU
drive. Does it know what GPU drive is?
drive. Does it know what GPU drive is?
Yeah, it's macro right here. Okay. But
Yeah, it's macro right here. Okay. But
it's imported actually, right? It's
it's imported actually, right? It's
included right here. You have access to
included right here. You have access to
everything in GPU drive.
Um, let's see if we get back. Let's see
Um, let's see if we get back. Let's see
if we get back the offsets into Python
if we get back the offsets into Python
or if we even get there. Are
are we calicking the M's at all?
are we calicking the M's at all?
Oh, we are
cuz freed the temporary M.
cuz freed the temporary M.
Yeah, get done for you. Okay.
Okay, right. That seems wrong. Mhm.
That'll do it.
Okay. Okay. So, whatever it probably is
Okay. Okay. So, whatever it probably is
returning this as a pointer is the
thing. Are you looking up how to
thing. Are you looking up how to
dreference the pointer from the Python
API? It's just the signature of uh the
API? It's just the signature of uh the
shared function.
mildly
mildly
annoying. I kind of forgot about that. I
annoying. I kind of forgot about that. I
mean, I can fix it. I'm just trying to
mean, I can fix it. I'm just trying to
think what the easiest thing to do
I mean, I can for now very
easily that we're going to have to
easily that we're going to have to
branch for this though.
But I mean I will fix it pretty directly
But I mean I will fix it pretty directly
after
after
that. Hang on. Static pi object
that. Hang on. Static pi object
star. This returns a pi
object. Oh, wait. This should
return. Okay.
turns dict which is pi object
dict.
dict.
Ah, this
Ah, this
is totally wrong.
There we
go. It was uh much simpler than I
go. It was uh much simpler than I
expected. It was just a
expected. It was just a
bad turn
bad turn
value. Well, I say having not fixed it
yet. Semicolon
does not like this at
all. I don't have any break points in
all. I don't have any break points in
here now though. I forgot. I think they
here now though. I forgot. I think they
took the breakout point out by
mistake. So it doesn't it doesn't get to
mistake. So it doesn't it doesn't get to
total agents
total agents
or to at least to here.
Huh.
Huh.
Is it still thinking that it's just
Is it still thinking that it's just
giving like a giant memory address? It's
giving like a giant memory address? It's
seging when you attempt to access it. So
I don't actually know if you need this
I don't actually know if you need this
this deck
this deck
rep without
it. What was the reason why you did
it. What was the reason why you did
that? Why I did what? You set up the
that? Why I did what? You set up the
deck ref.
deck ref.
Uh so Python has a Python has reference
Uh so Python has a Python has reference
counting. So their C API tries to like
counting. So their C API tries to like
count how many references there are to a
count how many references there are to a
thing and when there are none left it
thing and when there are none left it
destroys the object. It's like garbage
destroys the object. It's like garbage
collection,
collection,
right? It's really
annoying. Did I get out of the team up
annoying. Did I get out of the team up
somehow?
somehow?
Yes.
I'm in here, right?
I'm in here, right?
Oh, I got booted
Oh, I got booted
out. It says there's no sessions.
Oh, the session somehow died.
Okay. Feels like balls.
We did something screwy in here
We did something screwy in here
basically. Is there some way to run
basically. Is there some way to run
through this file?
through this file?
Like is there a way to set point? We
Like is there a way to set point? We
should be able to just do that. Yeah,
should be able to just do that. Yeah,
actually I don't know why it's I should
actually I don't know why it's I should
have thought of that. Ul ocean GPU
have thought of that. Ul ocean GPU
drivebinding
drivebinding
C line seven.
Okay, cool. So now we actually have
Okay, cool. So now we actually have
break points in C run from Python.
break points in C run from Python.
Pretty cool.
Pretty cool.
Yeah, this is sick. So we have 64 M. We
Yeah, this is sick. So we have 64 M. We
can see that gets passed correctly,
can see that gets passed correctly,
right? Yep. M M get our agent
right? Yep. M M get our agent
offsets. We get
our map file here which has garbage in
our map file here which has garbage in
it.
it.
Do you think it's being read improperly?
Like the map file is not like a real map
Like the map file is not like a real map
file name. Now it is now that we printed
file name. Now it is now that we printed
to
to
it. You see? Mhm. This is null
it. You see? Mhm. This is null
terminated.
terminated.
It just has whatever other.
So, we have set active
agents zero. Well, that's an issue.
agents zero. Well, that's an issue.
Yeah.
Where's total count come
Where's total count come
from? Oh, wait. It gets No, cuz see it's
from? Oh, wait. It gets No, cuz see it's
correct. It's supposed to be zero.
correct. It's supposed to be zero.
Total count should not exist. Should
Total count should not exist. Should
still be zero. It hasn't been adjusted
still be zero. It hasn't been adjusted
at all.
Well, this is temp m zero. And isn't
Well, this is temp m zero. And isn't
that cool? It prints this out like a
that cool? It prints this out like a
strruct.
It actually prints nested strruct. I
It actually prints nested strruct. I
didn't even know it did that.
didn't even know it did that.
Well, it looks like active agent count
Well, it looks like active agent count
exists.
exists.
Num cars, numbum objects. Total agents
Num cars, numbum objects. Total agents
though. Active agent count is two,
right? The total count is optimized
out. It should be two. Yeah, there it
out. It should be two. Yeah, there it
is.
That seems correct.
And then it goes up to five.
And that's because active agent count
And that's because active agent count
was three.
Yep.
All these freezer like this is what you
All these freezer like this is what you
do, right?
do, right?
That's what I did in the siphon.
It wouldn't surprise me if one of those
It wouldn't surprise me if one of those
freeze is the reason why this is pissed
freeze is the reason why this is pissed
off though. Yeah. So, let's try that
off though. Yeah. So, let's try that
next. We are getting correct. Wait, are
next. We are getting correct. Wait, are
we doing Wait, is that temp of I of J or
we doing Wait, is that temp of I of J or
temp of J of I?
Uh, I don't know. Temp I.
Uh, I don't know. Temp I.
We want to see if it works without it.
We want to see if it works without it.
Yeah. Wait, you commented out the
return
still. That seems weird to me.
Do we have to like ink? Is there an ink
route? Ah, wait. We have to increment
route? Ah, wait. We have to increment
the ref. No.
I
dict. I just returned this
then. Is it being described as a pi deck
then. Is it being described as a pi deck
right now?
right now?
Oh, it's a pi. Uh, it's a pi list what
Oh, it's a pi. Uh, it's a pi list what
we are
using. Oops.
Pile set item.
What is the What is the purpose of
What is the What is the purpose of
having total count in the pilot set
having total count in the pilot set
item? Well, you wanted total count,
item? Well, you wanted total count,
didn't you, for something? Well, if if
didn't you, for something? Well, if if
agent offsets has already inside of it
agent offsets has already inside of it
the last value as total count, you don't
the last value as total count, you don't
need to return total count
anymore because you're just dre you're
anymore because you're just dre you're
just dreerencing the last point of the
just dreerencing the last point of the
array of offsets to get the
array of offsets to get the
count. Uh, okay.
And it does seem like it is rebuilding
And it does seem like it is rebuilding
this thing correctly as well. Right.
this thing correctly as well. Right.
I'm not seeing any errors. It Well, it's
I'm not seeing any errors. It Well, it's
not like sometimes it
doesn't sure that this is actually
Okay. Still
Okay. Still
pissed. Your team, you ran out again.
Oops. And now it's actually going to
Oops. And now it's actually going to
have to
rebuild.
Those
faults. This is why I try not to do too
faults. This is why I try not to do too
much in this this section, by the way,
much in this this section, by the way,
cuz like it gets really obnoxious very
cuz like it gets really obnoxious very
quickly.
quickly.
Okay. So, what is the reason why you
Okay. So, what is the reason why you
need to set this pylong and total count
need to set this pylong and total count
where oh, so I'm adding I'm just I'm
where oh, so I'm adding I'm just I'm
adding stuff into a Python list for you
adding stuff into a Python list for you
because we're returning a Python list.
because we're returning a Python list.
Okay.
Okay.
So, this is a Python. So, that's what
So, this is a Python. So, that's what
set item does. So, set item takes like
set item does. So, set item takes like
the thing you're sending it to, the
the thing you're sending it to, the
index of it, and then Oh, this is the
index of it, and then Oh, this is the
issue right here. Um, because you're
issue right here. Um, because you're
setting the index as
setting the index as
Yeah. And I I was set it to the wrong
Yeah. And I I was set it to the wrong
thing. It needs to be set to
numb. There it is. Now it's got to
work. There you go.
Oh, nice. For honor and country. Wait,
Oh, nice. For honor and country. Wait,
but the last one's null. Well, we we
but the last one's null. Well, we we
added an extra one for total agents, and
added an extra one for total agents, and
you told me we didn't need it.
you told me we didn't need it.
So, do we want it or not? Oh, okay. I
So, do we want it or not? Oh, okay. I
just I think I misunderstood how that
just I think I misunderstood how that
the Python how the API works. Yes, we
the Python how the API works. Yes, we
still need it because we need to set up
still need it because we need to set up
the numbum agents for the
the numbum agents for the
um what's it
called? Don't you need numbum agents
called? Don't you need numbum agents
whenever you initialize the puffer
like the Python the the super innit from
like the Python the the super innit from
Python? Yeah.
Okay. So now the total count should be
Okay. So now the total count should be
like 582
like 582
57 there are 64 m. Oh okay.
Aha. That sounded about right.
Aha. That sounded about right.
requires five arguments.
Is it missing
terminals
terminals?
See objection terminal truncations.
Right.
Right.
I don't know.
We could just chill here instead. That'd
We could just chill here instead. That'd
be
cool. We might have to go make sure it's
cool. We might have to go make sure it's
actually
actually
like doing stuff
correctly. Well, this is progress
though. Yeah. And to be fair, this is
though. Yeah. And to be fair, this is
one of the more complicated uses. This
one of the more complicated uses. This
and grid is the only thing that has like
and grid is the only thing that has like
a shared at the moment.
I don't even need it for
nurmoal. All right. So, we just do um be
nurmoal. All right. So, we just do um be
backend serial.
We get
there. Now it's
like uh I think I know why
though. We could have caught these
though. We could have caught these
things with checks if I were not being
lazy. Okay. So, because this is not an
lazy. Okay. So, because this is not an
int or wait, no, is this an int?
Oh, this is an int.
Oh, this is an int.
I think invite is an
I think invite is an
int. a human agent
index. I mean, we can always double
index. I mean, we can always double
check by just printing it out.
check by just printing it out.
But I mean, I guess we just go here
But I mean, I guess we just go here
then, right? We go uh to here and make
then, right? We go uh to here and make
sure stuff's getting initialized
sure stuff's getting initialized
correctly. Yeah, because it for sure
correctly. Yeah, because it for sure
would instantly seg if the map is not
would instantly seg if the map is not
being read in.
being read in.
So, we do
H colon 40.
Oh no, we hit a bulb before
this. My object type check.
OBS actions, rewards, terminals,
OBS actions, rewards, terminals,
truncations,
truncations,
seed. And then we have these
three seems fine to
me. It's breaking before on it and
me. It's breaking before on it and
venet unless I just unless I I loaded
venet unless I just unless I I loaded
the library wrong. Let me see.
Oh, it's binding
Oh, it's binding
C. I loaded the binding
wrong. It should now hit this
There we go. Do we have break
points? Human agent
zero. That's
zero. That's
right. Zero reward off-road collision
right. Zero reward off-road collision
doesn't seem
doesn't seem
right. No, it should probably pull it in
right. No, it should probably pull it in
from the config now.
Oh, wait. No, I just printed the wrong
Oh, wait. No, I just printed the wrong
one.
one.
Right. I mean, they'll both be 75 either
Right. I mean, they'll both be 75 either
way.
way.
Did you just type it wrong or Yeah,
Did you just type it wrong or Yeah,
I typed the one that hadn't been set
I typed the one that hadn't been set
yet. See? So, like after it sets. Okay,
yet. See? So, like after it sets. Okay,
then that's fine. If I do zero,
the first one should be okay. Okay,
the first one should be okay. Okay,
let's see if that gets the map.
let's see if that gets the map.
Resources GP drive binaries.
Resources GP drive binaries.
Yeah.
Yeah, I think that that is how we
Yeah, I think that that is how we
do. I'm trying to think if there's a
do. I'm trying to think if there's a
relative path
issue if there would be anything with
issue if there would be anything with
that.
that.
see how we do it in uh
see how we do it in uh
I don't think there is
I don't think there is
in Syon it accepted resources but I
in Syon it accepted resources but I
don't know about the
binding oh bet did a thing with
this oh maybe there
this oh maybe there
is but I did it with neural mammone and
is but I did it with neural mammone and
I didn't have any issues
Wait, wait. Do Do the binaries even
Wait, wait. Do Do the binaries even
exist in your version? Did we confirm
exist in your version? Did we confirm
that?
Uh, this is on your
box. Oh, well, my box should have it.
Yeah. Okay. The binaries exist.
time.
Okay, this is what is in star M.
good data.
good data.
I don't see anything that would be
I don't see anything that would be
off like it it's clearly running the set
off like it it's clearly running the set
active agent count. It's
active agent count. It's
running your sets.
Is there any is it? So, yeah, it's got
Is there any is it? So, yeah, it's got
to be loading the map correctly then. If
to be loading the map correctly then. If
it's if it's doing that, it has to be
it's if it's doing that, it has to be
loading the map. It would have no way of
loading the map. It would have no way of
loading the map um
loading the map um
correctly. If it those numbers if those
correctly. If it those numbers if those
numbers were not the numbers they
numbers were not the numbers they
currently are, or literally any number,
currently are, or literally any number,
it would have broken them before then.
it would have broken them before then.
Here's M by D1.
It's different
It's different
data. Active agent count three. So the
data. Active agent count three. So the
offset is still
offset is still
correct. Let's uh let's see if we can
correct. Let's uh let's see if we can
actually like compile and run the C
Oh yeah, I just always use GCC, but I
Oh yeah, I just always use GCC, but I
don't know if it makes any
difference. I think that was in the C
difference. I think that was in the C
file.
So something happened because this is
So something happened because this is
like a tenth the speed it used to be.
like a tenth the speed it used to be.
Did you do compile local versus compile
Did you do compile local versus compile
fast? No.
Okay, that matches. So, it still works
Okay, that matches. So, it still works
here. Um, let's see. I
here. Um, let's see. I
guess do we get through in it now? It's
guess do we get through in it now? It's
loading the map.
loading the map.
It's getting
It's getting
through set active agents.
getting through. What else would be
getting through. What else would be
breaking inside there?
Ah, so one of these M's it fails on one
Ah, so one of these M's it fails on one
of these vectorized calls.
Is it the last one? Is it going too far
Is it the last one? Is it going too far
because there should only Well, these
because there should only Well, these
are per worker. This is one per worker.
No, I've only done eight. We have like
No, I've only done eight. We have like
16 workers or whatever, right?
It's weird that it only eventually like
It's weird that it only eventually like
it it doesn't always fail on this,
it it doesn't always fail on this,
right? I mean, I can try to run with a
right? I mean, I can try to run with a
dress sanitizer
technically. Maybe that's worth doing.
I this freaking asan
symbols. This thing is the thing that
symbols. This thing is the thing that
always messes us up like trying to debug
always messes us up like trying to debug
this way. I never know how you get these
this way. I never know how you get these
symbols.
I just do This
lack of symbols is very disappointing.
Well, that's
obnoxious. I don't know how we
obnoxious. I don't know how we
uh how we're supposed to do this.
I'm going have to put more time into
I'm going have to put more time into
figuring out this debugging stack
figuring out this debugging stack
because it's it's pretty darn
because it's it's pretty darn
nice. Um, except in this exact
instance where it's like some like
instance where it's like some like
random seg that happens
eventually. What we can do
here. What's the Sython look like
again? Sorry, I had to take a quick
again? Sorry, I had to take a quick
phone call.
phone call.
Mhm. In a knit here.
Are you going over the Syon now to try
Are you going over the Syon now to try
and find like a difference?
Yeah, this is only
Yeah, this is only
taking map name,
reward. We got all these things. We
reward. We got all these things. We
don't have log buffer anymore.
We know it is loading the map
correctly. Hang on.
We'll see when it
fails. This is zero.
fails at
nine. Well, this is this would be index
nine. Well, this is this would be index
eight or map
eight. The map start from zero, right?
eight. The map start from zero, right?
The maps start from zero,
correct? Let me verify that real quick,
correct? Let me verify that real quick,
but I'm pretty sure that's true.
Yes, they start at 0000.
I mean, it fails on it loads the maps
I mean, it fails on it loads the maps
correctly eight times and then the ninth
correctly eight times and then the ninth
time it tries to load the maps, it
fails. That's kind of
fails. That's kind of
weird. That's extremely odd.
We're always passing in dumb
MS. I can't think of what would be
MS. I can't think of what would be
different. Like it's even on serial,
different. Like it's even on serial,
right? It loads them eight times or
right? It loads them eight times or
whatever and then it fails on the ninth
time. Okay. Sorry, I was dealing with
time. Okay. Sorry, I was dealing with
like a minor
crisis. Um, okay. Okay. So, it's failing
crisis. Um, okay. Okay. So, it's failing
on the eighth one every single time.
Is it a weird vectorization
Is it a weird vectorization
multi-processing thing? I tried it with
multi-processing thing? I tried it with
serial.
Okay. Still breaks.
Why would it break on the eighth?
Why would it break on the eighth?
Maybe if we're lucky, we might get a
Maybe if we're lucky, we might get a
sane back trace from it.
Okay, that looks like it is something to
Okay, that looks like it is something to
do with the map, right? Pi unic code
do with the map, right? Pi unic code
from format.
from format.
Where are you looking at when you're
Where are you looking at when you're
looking? Oh, pi unicord from format V.
But wait, this is inside of
But wait, this is inside of
of
numpy. I air format
I don't even know if this is a correct
I don't even know if this is a correct
stack trace though because this is like
stack trace though because this is like
inside of random numpy stuff,
right? I feel like if it's inside of
right? I feel like if it's inside of
numpy that then
I I I find it would be very odd if it's
I I I find it would be very odd if it's
inside of the map
reading action. just gets assigned.
Do we know how far it gets in the ninth
Do we know how far it gets in the ninth
one?
Uh, no. Or does it in does it just
Uh, no. Or does it in does it just
instantly die? We don't know. Can we
instantly die? We don't know. Can we
find We do not. Is there any way for us
find We do not. Is there any way for us
to check? Maybe.
to check? Maybe.
Can't think of any. I also don't know if
Can't think of any. I also don't know if
I'm handling this reference counting
I'm handling this reference counting
stuff.
Um, you would think this should be
fine. Should be totally fine.
Every time map file gets called, it's
Every time map file gets called, it's
creating a new 100 array, right? So it's
creating a new 100 array, right? So it's
not like
not like
it's continuously loading on top of each
it's continuously loading on top of each
other
other
and then it gets
um map file.
And we've printed out the whole agent
And we've printed out the whole agent
offsets before and it it got all of
offsets before and it it got all of
them. So
them. So
it has to have done it initialized all
it has to have done it initialized all
of them once before. It's initialized
of them once before. It's initialized
them all eight times, right?
them all eight times, right?
Huh? It's initialized all the maps eight
Huh? It's initialized all the maps eight
times.
Why is it doing that though? Well, why
Why is it doing that though? Well, why
eight times? Well, it's going to be 16
eight times? Well, it's going to be 16
times. It's 16 workers.
I have it in serial, so just do it in a
I have it in serial, so just do it in a
loop.
If if you switched workers to eight and
If if you switched workers to eight and
eight, does it work? I don't
eight, does it work? I don't
know. I can see if we switch it to one
know. I can see if we switch it to one
if it works.
and
unpacks. that
way. It says we're on this
way. It says we're on this
unpack of numb M's.
That's where it's dying. Well, I don't
That's where it's dying. Well, I don't
know if this is actually accurate. This
know if this is actually accurate. This
PI unic code from format V
Um, there's no way. There's just no way,
Um, there's no way. There's just no way,
right?
Okay. So, we still get a seg. Well, it
Okay. So, we still get a seg. Well, it
gets farther
gets farther
though. Is that consistent?
though. Is that consistent?
I I read about um apparently
I I read about um apparently
autocompletes there's like a breaking
autocompletes there's like a breaking
underscore or like a breaking what? Like
underscore or like a breaking what? Like
a breaking dash. Dude, no [ __ ] way.
a breaking dash. Dude, no [ __ ] way.
Really? Yeah. That like LLMs like to
Really? Yeah. That like LLMs like to
use. I doubted that's what's happened.
use. I doubted that's what's happened.
There's like no
way with that would be disgusting to if
way with that would be disgusting to if
that's if that's [ __ ] it. We're
that's if that's [ __ ] it. We're
deleting all language models and they're
deleting all language models and they're
banned from puffer lib editing
banned from puffer lib editing
permanently.
permanently.
Do you see this is why I just wanted to
Do you see this is why I just wanted to
use regular Vim and never use the Neo
use regular Vim and never use the Neo
Vim. Ah, you can use Neovim without the
Vim. Ah, you can use Neovim without the
autocomplete to be fair.
I doubt it's the problem, but if it is,
I doubt it's the problem, but if it is,
I'm that'll be insane. the machine. That
I'm that'll be insane. the machine. That
would be insane,
would be insane,
right? Hey, you have freaking cursor
right? Hey, you have freaking cursor
installed. Okay.
installed. Okay.
Hey, but at least it doesn't like I
Hey, but at least it doesn't like I
don't know. I feel like Neil Vim takes a
don't know. I feel like Neil Vim takes a
little bit more liberties. No, it
little bit more liberties. No, it
doesn't. You still have like you have
doesn't. You still have like you have
shitty models on that like
Okay, so here we have M ideas.
Okay, so here we have M ideas.
Wait, but that's totally not right.
Wait, but that's totally not right.
Those are pointers.
Those are pointers.
Okay. Yeah, they're just pointers. I
Okay. Yeah, they're just pointers. I
mean, you can even see how long they are
technically. One 140 and then
technically. One 140 and then
one. It's like however many
kilobytes I don't know.
So,
So,
so where did it die now? Some god awful
so where did it die now? Some god awful
unknown
unknown
place in this like random inline
method. I mean, it lets you call
method. I mean, it lets you call
vectorize now.
Um, so we're past all the init.
See, it is very weird that I just
See, it is very weird that I just
retyped numbum m and it gets farther
retyped numbum m and it gets farther
consistently though, right?
consistently though, right?
Yeah.
Yeah.
Do you imagine that was actually one of
Do you imagine that was actually one of
them? I mean, I think Numms is typed in
them? I mean, I think Numms is typed in
a few places like but in the string like
a few places like but in the string like
it's in quotes as like the thing that
it's in quotes as like the thing that
has to get unpacked in
C. I wonder if it was a different
C. I wonder if it was a different
underscore
underscore
character. Be insane.
character. Be insane.
I'm not here for this level of evil.
I'm not here for this level of evil.
Is it
Is it
breaking her
score? Like,
yeah, apparently this is a thing and
yeah, apparently this is a thing and
LLM's like using it.
LLM's like using it.
Dude, whatever
Dude, whatever
demon decided to create a longer or
demon decided to create a longer or
shorter underscore. I honestly I
shorter underscore. I honestly I
wouldn't be surprised if it's like
wouldn't be surprised if it's like
somebody has a data poisoning thing to
somebody has a data poisoning thing to
try to like or even the companies
try to like or even the companies
themselves, right? It could try to be
themselves, right? It could try to be
like a watermarking thing, right?
like a watermarking thing, right?
Wouldn't that be funny? Oh my god. Like,
Wouldn't that be funny? Oh my god. Like,
yeah, we're going to watermark code by
yeah, we're going to watermark code by
like making it use some random ass
like making it use some random ass
character
character
so that people can know how much code is
so that people can know how much code is
created by their LLM. I I wouldn't be
created by their LLM. I I wouldn't be
surprised if it's like there's some
surprised if it's like there's some
crazy shenanigans like that going on.
be
nuts. Uh, so I do
nuts. Uh, so I do
have I have a breakpoint on
have I have a breakpoint on
step. Okay.
But we didn't hit that.
So it got to vectorize. It got to
So it got to vectorize. It got to
vectorize of the driver M because
vectorize of the driver M because
there's a driver M, right?
And now it gets to the reset properly.
And now it gets to the reset properly.
And SE faults on reset. Okay. So it's
And SE faults on reset. Okay. So it's
SEG faults on reset now. Okay. Oh, you
SEG faults on reset now. Okay. Oh, you
know
know
what would that I don't know how I wrote
what would that I don't know how I wrote
serial but if batch size is eight then
serial but if batch size is eight then
it it might have been seg faulting on
it it might have been seg faulting on
the first reset
the first reset
then hang on let's go confirm
that maybe
Oh, look at that. It is. You see
Oh, look at that. It is. You see
that? It's cuz it's the batch size is
that? It's cuz it's the batch size is
eight. So, it gets to the first
reset and then it freaking dies. Okay,
reset and then it freaking dies. Okay,
cool.
cool.
We figured it out. We figured out where
We figured it out. We figured out where
it is dying. Okay. So, it's dying in
it is dying. Okay. So, it's dying in
reset, which means we can put a break
reset, which means we can put a break
point in reset. H. Yes. Mhm.
So, it's not just dying randomly. It's
So, it's not just dying randomly. It's
dying consistently at the start of
dying consistently at the start of
reset. It's because it's eight in
reset. It's because it's eight in
because that was the batch size.
There's a C reset
There's a C reset
here. And we just go line 1,00. Perfect.
the honorable line
10,00 or dishonorable if you feel like
10,00 or dishonorable if you feel like
the code should be less than a thousand
the code should be less than a thousand
lines which I don't think is possible.
lines which I don't think is possible.
If I can make the train file less than a
If I can make the train file less than a
thousand lines. I'm just
saying can make the entire puffer train
file. Okay, so we did not actually get
file. Okay, so we did not actually get
to
here is not
here is not
good. We did not get the breaking as it
good. We did not get the breaking as it
even calls reset on the Python side and
even calls reset on the Python side and
not even getting to the C. Well, or it
not even getting to the C. Well, or it
could be in the end binding.
Okay, the ve reset is endbinding
Okay, the ve reset is endbinding
409 or actually that's the
header 10.
I thought this was going to be a lot
I thought this was going to be a lot
easier when I said, "Let's do this." By
easier when I said, "Let's do this." By
the way,
feel like I was not extremely confident
feel like I was not extremely confident
in this being easy. Yeah, I
know. because I knew I had to do really
know. because I knew I had to do really
jank stuff in order to get the site even
jank stuff in order to get the site even
to
to
work. Okay, so this is 64
m. God damn it.
Seriously, I think this might be my
fault. Yeah, this my fault. Oh, dude,
fault. Yeah, this my fault. Oh, dude,
that's so terrible.
Okay, a damn warning. And you call
Okay, a damn warning. And you call
reset. See missing a
fire. I have to actually go see how it's
fire. I have to actually go see how it's
even possible that it lets you call this
even possible that it lets you call this
with the wrong [ __ ] signature.
Is it is it even is it a keyword arc? I
Is it is it even is it a keyword arc? I
think it matters whether it's like a
think it matters whether it's like a
keyword or
keyword or
not. Yeah, it literally I can't I don't
not. Yeah, it literally I can't I don't
think it can be a keyword
arc. Okay.
for honor and glory.
for honor and glory.
For honor and glory. Yes, you
won. That's my bad on that
one. That is good to know that we have
one. That is good to know that we have
that shenanigans happening.
that shenanigans happening.
Dude, your to-do list was gigantic.
Dude, your to-do list was gigantic.
Most of it's done.
episode
length. That's easy.
It
It
runs. How long does it take for logs?
runs. How long does it take for logs?
It should be there by now. Okay, we'll
It should be there by now. Okay, we'll
figure that one out.
it
fast. Arguably should be the same speed.
fast. Arguably should be the same speed.
No, 400 something. I don't
know. Where are
logs? Where are our logs?
Oh, I did tell you to do this.
Yeah, that's my bad.
Yeah, that's my bad.
I at least I catch that one fast.
I at least I catch that one fast.
That's my
Ah, and you see it didn't rebuild it.
Ah, and you see it didn't rebuild it.
You see that? Mhm.
Has only the binding changed and not the
Has only the binding changed and not the
uh the actual source. I mean only the
uh the actual source. I mean only the
source changed, not the binding.
Yeah. All
right. Okie do. New binding in.
right. Okie do. New binding in.
All right. Give me a second. I will be
All right. Give me a second. I will be
back. I'm getting a
back. I'm getting a
drink. Good [ __ ]
Okay. Did it do anything?
Okay. Did it do anything?
It's uh it went down and now it's on its
It's uh it went down and now it's on its
way back up. So, it matches. I mean,
way back up. So, it matches. I mean,
that's what we
that's what we
expect. See if it's does what we expect
expect. See if it's does what we expect
it to do. Is this the same training
it to do. Is this the same training
speed as before?
speed as before?
Yeah. 400 something.
Yeah. 400 something.
Well, 1% of times 1% of
time. I mean, ideally I we don't have to
time. I mean, ideally I we don't have to
use 16 workers to get there, but I guess
use 16 workers to get there, but I guess
that that's the
that that's the
way.
way.
Ideally, I mean, we can try with eight
Ideally, I mean, we can try with eight
and stuff
and stuff
after. Um, it would actually let us
after. Um, it would actually let us
fewer workers lets us use more maps as
fewer workers lets us use more maps as
well, which is
well, which is
good. And actually, when you do um, if
good. And actually, when you do um, if
you do the thing I suggest where you
you do the thing I suggest where you
like cut to a specific number of maps,
like cut to a specific number of maps,
we can use random maps per worker
very easily from that.
It looks like it's going. It'll probably
It looks like it's going. It'll probably
cap out at it.
cap out at it.
So, okay, we'll confirm this and then uh
So, okay, we'll confirm this and then uh
you know, the original reason for all
you know, the original reason for all
this was that we were trying to figure
this was that we were trying to figure
out what's happening with the
out what's happening with the
uh there was like some weird thing that
uh there was like some weird thing that
was like the first two maps being the
was like the first two maps being the
same.
same.
Oh yeah.
Oh yeah.
So we can go check on that. That was
So we can go check on that. That was
like the original problem. Now we can
like the original problem. Now we can
put a break point in there and we can
put a break point in there and we can
diss we can determine that right where
diss we can determine that right where
the first two agents being the
the first two agents being the
same. Oh yeah, that's what we started on
same. Oh yeah, that's what we started on
hours
hours
ago. To be fair, we did get the binding
ago. To be fair, we did get the binding
to work and now we have GPU drive
to work and now we have GPU drive
binding.
binding.
Mhm. So that's really
Mhm. So that's really
nice. And now you can go flex that on
nice. And now you can go flex that on
captain so he actually does the impulse
captain so he actually does the impulse
wars one.
wars one.
I mean I don't know if there's much I
I mean I don't know if there's much I
can flex on captain. This was 85% maybe
can flex on captain. This was 85% maybe
95% you and 5% me. Yeah, you can flex it
95% you and 5% me. Yeah, you can flex it
anyways.
anyways.
The captain is so easy. I did it all by
The captain is so easy. I did it all by
myself in in two hours. It's no big
myself in in two hours. It's no big
deal. Exactly.
It totally wasn't a
cluster. I wonder if that underscore was
cluster. I wonder if that underscore was
actually a different
character. It's unlikely, but it would
character. It's unlikely, but it would
be so
funny. I mean, the actual issue was the
funny. I mean, the actual issue was the
seed thing, right? On reset. That's my
seed thing, right? On reset. That's my
bad.
They've been added to AI
Pete. Am I in good
company? This is literally just like all
company? This is literally just like all
the people from one of my random group
the people from one of my random group
DMs.
Is this Jonathan's new game? This looks
Is this Jonathan's new game? This looks
cool. What is
cool. What is
this? Looks
cool. Okay. So, this trains I think
cool. Okay. So, this trains I think
we're good. Do we call this? And uh here
we're good. Do we call this? And uh here
I think that was successful. I mean it
I think that was successful. I mean it
it gets to it's climbing. Okay. You may
it gets to it's climbing. Okay. You may
go commit this now and then we will uh
go commit this now and then we will uh
start on the other bit of the work. Yes,
start on the other bit of the work. Yes,
do
commit. Much work was accomplished on
commit. Much work was accomplished on
this and that whole Syon file gets to go
this and that whole Syon file gets to go
away now.
away now.
True. True. So we deleted like 20 some
True. True. So we deleted like 20 some
odd lines from uh the environment file
odd lines from uh the environment file
and we delete the entire Syon file and
and we delete the entire Syon file and
we have a much shorter binding file. All
we have a much shorter binding file. All
right. So I'm going to formally remove
right. So I'm going to formally remove
the Syon file.
the Syon file.
Goodbye Satan.
No. Wait. Okay. Careful. What? Yeah. I
No. Wait. Okay. Careful. What? Yeah. I
just want to make sure you don't
just want to make sure you don't
accidentally remove something we need.
accidentally remove something we need.
It's a dangerous thing to not to be
It's a dangerous thing to not to be
removing [ __ ] before you've committed
removing [ __ ] before you've committed
the changes.
the changes.
Skill.
Skill.
I
I
mean, all I'm saying is if you if you
mean, all I'm saying is if you if you
lose it, you're redoing it.
lose it, you're redoing it.
Fair.
Fair.
All right. Um, we're not we didn't touch
All right. Um, we're not we didn't touch
setup.py meaningfully, right? We were
setup.py meaningfully, right? We were
just commenting things in and out or
just commenting things in and out or
just get this stuff in there for now. I
just get this stuff in there for now. I
just just I don't care. Just get this in
just just I don't care. Just get this in
there so that we don't have things
there so that we don't have things
break.
Oh, we have
inquiry. All
right, it's been
pushed. You want me to make a PR for it?
Uh, no. I just wanted to have it push
Uh, no. I just wanted to have it push
for now so that we can Let's fix the
for now so that we can Let's fix the
other stuff.
other stuff.
Okay.
Okay.
So, you will actually be able to PR this
So, you will actually be able to PR this
cuz we didn't break anything.
True, true, true. Isn't that great?
True, true, true. Isn't that great?
All right, but do you want to let's PR
All right, but do you want to let's PR
it after we get the new let's figure out
it after we get the new let's figure out
let's go check some data.
let's go check some data.
All
All
right. All right. Well, now that things
right. All right. Well, now that things
actually work, you can go put a break
actually work, you can go put a break
point in data. Yeah. All
point in data. Yeah. All
right. Let's go
stop. I should have gotten a wireless
stop. I should have gotten a wireless
one of these so I could just like Yeah,
one of these so I could just like Yeah,
you go do that. I'm busy doing whatever
you go do that. I'm busy doing whatever
the hell exercise.
the hell exercise.
So there's no demo that apply. So it's
So there's no demo that apply. So it's
always clean puff for now. Yeah, clean
always clean puff for now. Yeah, clean
puff for all has. And if you run w like
puff for all has. And if you run w like
word count on it, it's under a thousand
word count on it, it's under a thousand
lines of actual code for everything in
lines of actual code for everything in
there.
Anger.
Anger.
Why? Oh, I'm going to switch to
native.
native.
Could be a
multiprocessing back. Back
end back end
end back end
capital. No, no, not that capital. That
capital. No, no, not that capital. That
that lower than the actual back end.
that lower than the actual back end.
Yeah.
Backend equal capital S serial.
Do you not like doing native anymore? Is
Do you not like doing native anymore? Is
that like banned from life? No, I just I
that like banned from life? No, I just I
think I broke things and I haven't
think I broke things and I haven't
messed with it in a bit.
Oh, we've had a surprising number of
Oh, we've had a surprising number of
people that have enjoyed watching two
people that have enjoyed watching two
hours of debugging
hours of debugging
horrendous low-level stuff. To be fair,
horrendous low-level stuff. To be fair,
almost every environment has literally
almost every environment has literally
just been like binding file, write 20
just been like binding file, write 20
lines, close,
lines, close,
done. This one is because of the shared
done. This one is because of the shared
initialization and stuff, which most
initialization and stuff, which most
don't
don't
need. Uh, it looks like the fifth one is
need. Uh, it looks like the fifth one is
the same one as the third
the same one as the third
one, and the first and the second are
one, and the first and the second are
identical.
identical.
The fifth one is what?
The fifth one is what?
The fifth and the third are the same and
The fifth and the third are the same and
the first and the second are the same.
the first and the second are the same.
You're misreading that.
You're misreading that.
No, I think you're misreading
that. There you
that. There you
go. Text is wrapped on your
screen. Yeah.
screen. Yeah.
I think it's the same dude. What?
I think it's the same dude. What?
Look. See? Two and four are the same.
Look. See? Two and four are the same.
Two and four are the same. Yeah. Well,
Two and four are the same. Yeah. Well,
zero zero and one are the same as well.
zero zero and one are the same as well.
I know, but I'm just saying that's
I know, but I'm just saying that's
another thing that's weird.
Oh, like
Oh, like
I don't think they should be the same.
I don't think they should be the same.
Okay. Well, breakpoint and compute
Okay. Well, breakpoint and compute
observations time.
observations time.
serial back end break point at start of
serial back end break point at start of
comput
comput
ops. But let me
yeah hang this back
up that break
point. Oh wait I can go
Oh, so this is the new thing I can do
Oh, so this is the new thing I can do
now, right? So it's if I
put all right so line 888.
All right. So what is this? GDB- args.
All right. So what is this? GDB- args.
And then I run the thing.
And then I run the thing.
PDP- args and then you run your Python.
PDP- args and then you run your Python.
But you just put PDP- args in front of
But you just put PDP- args in front of
your Python command.
Yeah. And then from here I do what?
Yeah. And then from here I do what?
Break or B?
Break or B?
And then the line number and the file
And then the line number and the file
the full file path and the line number.
No dashes or anything. Just file name,
No dashes or anything. Just file name,
line number, colon 888.
Mhm.
Mhm.
Okay.
Yes. And then what now? Run. Mhm.
Hit run again.
Try
again.
Um,
Um,
what? I get that on my machine
what? I get that on my machine
sometimes. Um, but it it it's like an
sometimes. Um, but it it it's like an
intermittent thing and it just goes away
intermittent thing and it just goes away
if you run it a couple times. It's like
if you run it a couple times. It's like
an OS permission [ __ ] thing. Try
an OS permission [ __ ] thing. Try
again. I guess that's bizaro.
Keep on doing
this. No executable file specified.
What?
Run starting program. See the You didn't
Run starting program. See the You didn't
run Python. You You missed Python. Oh,
run Python. You You missed Python. Oh,
I'm an idiot.
Yeah, it doesn't. Okay. An idiot thing.
Yeah, it doesn't. Okay. An idiot thing.
All right.
Wait, how do you have to rebuild? Huh?
Wait, how do you have to rebuild? Huh?
Why? Why would you have to rebuild?
Why? Why would you have to rebuild?
Because I put a breakpoint in the C in
Because I put a breakpoint in the C in
the C in the in theh file.
the C in the in theh file.
No, it's the breakpoint isn't in the
No, it's the breakpoint isn't in the
source.
Yeah, it is.
Yeah, it is.
No, it isn't. The breakpoint is
No, it isn't. The breakpoint is
configured through
configured through
GDP. It's not like, you know, you you
GDP. It's not like, you know, you you
can put break points. Go and type a
can put break points. Go and type a
breakpoint, but like it's configured
breakpoint, but like it's configured
through it.
through it.
So, it should just stop at line 88, but
So, it should just stop at line 88, but
clearly it's just punching through.
clearly it's just punching through.
Okay, let me let me do it.
Okay, let me let me do it.
Fine. Yeah. Give give.
See just popping
Does this not get
called? It has to get called, right? It
called? It has to get called, right? It
has to get called otherwise nothing
has to get called otherwise nothing
would be happening.
Here we
go. Must have been messing up the line
number. Wait.
Okay.
Okay.
Active
out.
out.
Ah, optimized out. So, we need to
Ah, optimized out. So, we need to
freaking compile this stuff without all
freaking compile this stuff without all
these optimizations, I
think. At
least we get I
All
right. I gets to
one. So there are multiple agents. Yes.
one. So there are multiple agents. Yes.
In the first level, I think there should
In the first level, I think there should
only be two.
only be two.
Okay, let's
Okay, let's
see. Yeah, and then we get to the start
see. Yeah, and then we get to the start
of the function. So, there are
of the function. So, there are
two. We do see two. Let's let's uh fix
two. We do see two. Let's let's uh fix
our debugging
experience. Wait, is that even right?
experience. Wait, is that even right?
Should there be
two? Technically, that should be map
two? Technically, that should be map
0000.bin, right? Mhm.
Um, I'm gonna lo I'm gonna locally
Um, I'm gonna lo I'm gonna locally
render that real quick while you're
render that real quick while you're
doing
doing
that. I'm suspicious of there being
that. I'm suspicious of there being
actually two
cars. Now it's not optimized out anymore
cars. Now it's not optimized out anymore
and we can actually see
and we can actually see
things. Active agent count is
two and map name is
two and map name is
should be 00.
Map name is J.
I don't know if this is just not
I don't know if this is just not
printing correctly
printing correctly
though. It says map name
equals. This was rendering the uh the
equals. This was rendering the uh the
text correctly before. So that's weird.
I think I did something weird in Syon to
I think I did something weird in Syon to
address
that. Ego
that. Ego
entity is entities of
I. Do they all start with the same
I. Do they all start with the same
heading or something?
heading or something?
Do they all start with the same heading?
Do they all start with the same heading?
No, it's based on whatever the
No, it's based on whatever the
trajectory that they were given what
trajectory that they were given what
spawn
was. Okay. So, here are the ego
entities. Uh the ego entity is
points to the same
points to the same
address for index zero and
one. So it's end of
entities. Where's this other
entities. Where's this other
car? When I load the map, I don't see
car? When I load the map, I don't see
this other car.
When I render it, this other car is
When I render it, this other car is
nowhere to be
nowhere to be
found. Um,
active agent entities.
active agent entities.
Oh, I wonder if I know what this bug is.
Oh, I wonder if I know what this bug is.
Okay, I have an idea.
Okay, I have an idea.
It's in set active agents I
It's in set active agents I
think and
and Okay, hold up. Let me think about
and Okay, hold up. Let me think about
how I fix
how I fix
this. Hello to all the Twitch
this. Hello to all the Twitch
folks. because the first So the way that
folks. because the first So the way that
they set it up is that the first
they set it up is that the first
car is actually the last car because it
car is actually the last car because it
guarantees that the last car actually
guarantees that the last car actually
has a path. Um cuz there's a weird
has a path. Um cuz there's a weird
situation where you could have like you
situation where you could have like you
could have technically because the max
could have technically because the max
cars are 64. Mhm. You could possibly run
cars are 64. Mhm. You could possibly run
into a situation where you have 64
into a situation where you have 64
static cars before you reach an active
static cars before you reach an active
car.
car.
Okay.
Okay.
So they always know that the last car is
So they always know that the last car is
going to be an active car. And I think I
going to be an active car. And I think I
may still be looping at second time even
may still be looping at second time even
though that's the only car available.
What would the impact of that be? You'd
What would the impact of that be? You'd
have two of the same first car.
have two of the same first car.
Oh, I mean that would do it.
Oh, I mean that would do it.
But let me think about how I would
But let me think about how I would
resolve such thing.
I think I just add a minus one
here. But n of active agent indices
Okay, so n of active agent indices of
Okay, so n of active agent indices of
zero is 63 and m active agent indices of
zero is 63 and m active agent indices of
one is also
one is also
63. So the ego obs are identical and
63. So the ego obs are identical and
they're both referring to this index
they're both referring to this index
63. That does seem
incorrect. Bug has been discovered.
You have idea for fix for that? Yeah.
You have idea for fix for that? Yeah.
I'm just verifying that what happens and
I'm just verifying that what happens and
see if you do something.
Mhm. Okay. So that whole thing gets
How does that work?
All right, I have an idea. Okay, go into
All right, I have an idea. Okay, go into
theh file or I I can probably do this.
theh file or I I can probably do this.
Yeah, go ahead. I'm gonna I'll go use
Yeah, go ahead. I'm gonna I'll go use
the restroom real quick. I'll be back in
the restroom real quick. I'll be back in
a minute and then I've got hour and a
a minute and then I've got hour and a
half before dinner. Okay, we'll see what
half before dinner. Okay, we'll see what
gets done.
gets done.
Don't let me forget to unmute.
3840. We remember
or
Good. Uh, new. So, fix that, which leads
Good. Uh, new. So, fix that, which leads
to a batch size bug because the numbum
to a batch size bug because the numbum
agents is different.
agents is different.
Uh-huh. Um,
Uh-huh. Um,
agent is 480.
agent is 480.
Okay. So, that's not a good number. I
Okay. So, that's not a good number. I
don't like that number. So, it should be
don't like that number. So, it should be
480 versus 592.
480 versus 592.
Okay. Can you get it?
Okay. Can you get it?
Um, keep incrementing until it like up
Um, keep incrementing until it like up
to 512 but not
over. Wait,
what? Yeah, I I can do
it. You just want to up the levels till
it. You just want to up the levels till
it's above 592. So, you're going to go
it's above 592. So, you're going to go
to like a little bit
to like a little bit
higher on input size or numms m. Well,
higher on input size or numms m. Well,
it's
both four. What would you say it was
both four. What would you say it was
before?
before?
I thought it was 48. The wrong the wrong
I thought it was 48. The wrong the wrong
number was 592 like from the bug after
number was 592 like from the bug after
the bug has been addressed.
It was 592 before.
It was 592 before.
Is that what it was 592 before? It was
Is that what it was 592 before? It was
592.
592.
This just didn't you modified the input
This just didn't you modified the input
size, not the
size, not the
um that's what I was Oh, okay. Yeah. Me
um that's what I was Oh, okay. Yeah. Me
dumb.
I need to take out the break point,
I need to take out the break point,
but it's too big.
probably 72. Are you trying to get this
probably 72. Are you trying to get this
to be exactly 512?
No. I get
close
close
seven. One more.
So not
So not
this 72 is the
number. What was it? 510 before
number. What was it? 510 before
something. It was 592
before. The new number is
before. The new number is
480. Or I guess now I guess now you just
480. Or I guess now I guess now you just
changed it to five. Whatever.
changed it to five. Whatever.
Five to
07 times
07 times
64*
16 4
So that's a big chunk of data that was
So that's a big chunk of data that was
worthless. It's a big chunk of worthless
worthless. It's a big chunk of worthless
data.
data.
So that may have been the reason why it
So that may have been the reason why it
was learning nothing.
Then what did we do for mini batch size?
Then what did we do for mini batch size?
It's 256.
It's 256.
I think this stays the
same. That
size train the
puffer want to take out the break point.
puffer want to take out the break point.
Oh
yeah. See if we've gotten
See if your document has arrived.
Oh, cool. You got a cool email.
Yeah.
Different one. They're taking their
Different one. They're taking their
time. The other
time. The other
one. Oh.
bandage size of tensor
bandage size of tensor
uh must
uh must
match. Why does my fly paper keep
match. Why does my fly paper keep
falling down? It's disgusting. Hang
on. Oh, I didn't see this email.
Let me just tell him anytime next week
Let me just tell him anytime next week
that he that works.
All
All
right. Banded size of tensor.
Oh, you had your headphones on. Uh, do
Oh, you had your headphones on. Uh, do
you want me to just tell them anytime
you want me to just tell them anytime
that works next week?
Yeah. All right.
EST. Any reasonable time?
EST. Any reasonable time?
My family as well. Okay. He's Yeah, he's
Mhm. And uh, anything on Friday?
Mhm. And uh, anything on Friday?
No. Um, let
No. Um, let
me check in with that. Many things to
check. I'll set a reminder to call in
check. I'll set a reminder to call in
this
evening. They said they have a bunch of
evening. They said they have a bunch of
demos going on right now.
You can have one more demo with puffer
You can have one more demo with puffer
lip.
lip.
Exactly.
Expanded size. What? What do we screw up
Expanded size. What? What do we screw up
here?
OBS 460.
This obs shape seems wrong.
Um,
Oh, I just I just like totally messed up
Oh, I just I just like totally messed up
for no apparent
reason. My bad.
this train too slow.
Okay.
Okay.
All right. So now this is actually
All right. So now this is actually
training looks like a reasonable pace.
training looks like a reasonable pace.
450,000 steps per second.
Now we need now we need to figure out if
Now we need now we need to figure out if
that's only one of the data issues. Oh,
that's only one of the data issues. Oh,
of course. But let's see if this
of course. But let's see if this
actually does anything of
actually does anything of
interest initially.
Hey
uh much
code. It's going to be fun once we have
code. It's going to be fun once we have
all the machines for all the
all the machines for all the
experiments.
Yeah, it'll be
Yeah, it'll be
cool. for all the open source research.
I now just going back up.
Maybe if this actually is just worse.
Maybe if this actually is just worse.
Feels bad.
Feels bad.
This is going back up. This is like the
This is going back up. This is like the
curve that we expect. I don't know why
curve that we expect. I don't know why
it goes down. Like that seems weird.
it goes down. Like that seems weird.
That seems like bad hypers or
whatever. We could technically try the
whatever. We could technically try the
um I did a grid sweep. We could try the
um I did a grid sweep. We could try the
grid parameters on
grid parameters on
this. Okay. That would be a nice next
this. Okay. That would be a nice next
thing to
thing to
try cuz that like we did really really
try cuz that like we did really really
well on that and it's kind of a similar
well on that and it's kind of a similar
Yeah, it's basically the same problem
Yeah, it's basically the same problem
but you just get punished a little
but you just get punished a little
harder.
harder.
I mean look at uh look at these hyper
I mean look at uh look at these hyper
prams
prams
though. This is Are they pretty
though. This is Are they pretty
different from the prams on default? I
different from the prams on default? I
mean look at them. Oh, sorry. I'm
mean look at them. Oh, sorry. I'm
looking I'm typing out the email. Okay,
looking I'm typing out the email. Okay,
you're good.
you're good.
a female.
So that
So that
versus Okay, I think that one's the high
versus Okay, I think that one's the high
gamma,
gamma,
right? Or did we did we change the gamma
right? Or did we did we change the gamma
in this one?
in this one?
Uh, this one was 98 gamma for Okay,
Uh, this one was 98 gamma for Okay,
fine.
Wait, who is this
Wait, who is this
guy? I don't I've never heard this guy
guy? I don't I've never heard this guy
before, but like I had somebody DM me
before, but like I had somebody DM me
that they helped this guy get into the
that they helped this guy get into the
news or
news or
whatever. I I don't know if it's just
whatever. I I don't know if it's just
like they're farming. They can't even
like they're farming. They can't even
see your likes, but like are they just
see your likes, but like are they just
seeing like if you comment on specific
seeing like if you comment on specific
posts and like, "Oh yeah, we helped so
posts and like, "Oh yeah, we helped so
and so get into the news or whatever."
scams. Interesting.
Let's see how this thing's
Let's see how this thing's
going. It's kind of following the exact
same. Well, what were the ghost cars
same. Well, what were the ghost cars
doing before?
Um,
right. You had like ghost cars. So, what
right. You had like ghost cars. So, what
were they doing? You have a You would
were they doing? You have a You would
have a ghost car
have a ghost car
that is exactly on top of another car.
They collide. Is it registering success?
They collide. Is it registering success?
Is it like
arguably it should be
arguably it should be
colliding at all steps, but that was not
colliding at all steps, but that was not
what it was indicating.
what it was indicating.
The car in the first map was always
The car in the first map was always
colliding, but it might have just been
colliding, but it might have just been
because it was crashing.
because it was crashing.
No, I'm saying like it should have been
No, I'm saying like it should have been
red at all times if technically there
red at all times if technically there
was a car on top of it.
Okay, so this is like not meaningfully
Okay, so this is like not meaningfully
different despite having fixed what
different despite having fixed what
would have seemed like a major bug. Yes.
would have seemed like a major bug. Yes.
Oh, don't you love it when that happens?
Oh, don't you love it when that happens?
All right, let's do we've killed this,
All right, let's do we've killed this,
but this the other one I think got hung
but this the other one I think got hung
at some point. So, this one does seem to
at some point. So, this one does seem to
at least increase. All right. Uh I think
at least increase. All right. Uh I think
this is at least back to a reasonable
this is at least back to a reasonable
position. We're doing this now.
position. We're doing this now.
Okay.
Okay.
Don't need this one.
Already
Already
set
this tiny mini batch size. A little
this tiny mini batch size. A little
weird.
We'll do this and
We'll do this and
then I will see if we have any other
then I will see if we have any other
good params.
file contains no section headers
file contains no section headers
at the top. At the very top, you have a
at the top. At the very top, you have a
How do I do that?
Ghost code.
So this is number one trial. Number two
So this is number one trial. Number two
is going to
is going to
be dependent on what results we have
be dependent on what results we have
over
over
here. I have in fact been running a
here. I have in fact been running a
sweep this entire time.
sweep this entire time.
planned from the start. I hope this at
planned from the start. I hope this at
least continuously goes up.
Big
ask. I don't know why it's starting at 0
ask. I don't know why it's starting at 0
either. So, best
either. So, best
breakout is sub 20 second solve
breakout is sub 20 second solve
breakout.
Okay,
Okay,
we got sub 20.
we got sub 20.
Yo, ridiculous honestly. First sub
20. That's pong level status.
Okay. So, that's got to be I mean that's
Okay. So, that's got to be I mean that's
soda. So, what about
this? Yeah, that's uh you could say
this? Yeah, that's uh you could say
that's pretty good.
You could say that that's pretty
You could say that that's pretty
freaking
good.
Okay, let's go get you one of these.
Holy. Does grid also dump at the
Holy. Does grid also dump at the
beginning? Did
beginning? Did
it maybe a little
it maybe a little
bit? Well, there's a good reason for
bit? Well, there's a good reason for
that one.
Yeah, I'm still suspicious of like All
Yeah, I'm still suspicious of like All
right, so let's see what we what we're
right, so let's see what we what we're
doing
doing
here. I'll let this run a little bit.
here. I'll let this run a little bit.
This one's a slow config, though.
Did this thing do? I'm actually now I'm
curious. It must have messed with the
curious. It must have messed with the
clip
clip
coefficients. Oh yeah.
coefficients. Oh yeah.
Okay. That's a clip coefficient right
there
and.3 clip coefficient on
and.3 clip coefficient on
PO. So on your new sweeps, are you
PO. So on your new sweeps, are you
sweeping everything including the Atom
sweeping everything including the Atom
betas and such? We are doing lots of
betas and such? We are doing lots of
sweeps.
sweeps.
Okay. Oh, there you go. the RL results
Okay. Oh, there you go. the RL results
obtained
live. I'm going to start copying these
live. I'm going to start copying these
over to my local grid
over to my local grid
because it's going to be freaking This
because it's going to be freaking This
is a faster run as well than the one
is a faster run as well than the one
before. Just faster, better.
So good to just win
RL is so
good. I bet this is going to have some
good. I bet this is going to have some
fun data as
fun data as
well. You know, this whole
well. You know, this whole
sweep. I'm really happy I made this grid
sweep. I'm really happy I made this grid
end. Like I spent a few days doing it,
end. Like I spent a few days doing it,
but was
but was
like totally worth it.
How's this going? Is it raining yet? I
How's this going? Is it raining yet? I
don't know. You look You have access to
don't know. You look You have access to
that one, don't you?
that one, don't you?
Yeah, it's it it fell out of its trough
Yeah, it's it it fell out of its trough
and now it's climbing again, but it's
and now it's climbing again, but it's
seemingly like pretty much the same.
Okay. Well, we'll give you the god
Okay. Well, we'll give you the god
parameters.
So, what's up with n being a fixed
So, what's up with n being a fixed
number?
number?
What? What do you mean? N n in the logs.
What? What do you mean? N n in the logs.
Uh, it's fixed because you're always
Uh, it's fixed because you're always
collecting the exact same number of
collecting the exact same number of
rollouts because you have a fixed roll
rollouts because you have a fixed roll
out length.
This is 201 million. What is this?
This is 201 million. What is this?
200 1 million time steps. So, this does
200 1 million time steps. So, this does
it faster and more sample efficient than
it faster and more sample efficient than
before.
So, this is kind of funny because this
So, this is kind of funny because this
is like one of those benchmarks where
is like one of those benchmarks where
it's like, why would you even bother
it's like, why would you even bother
trying to solve this when you can solve
trying to solve this when you can solve
like real world problems so much more
like real world problems so much more
easily than this? But we solve it
easily than this? But we solve it
anyways.
Well, now it makes me feel like there
Well, now it makes me feel like there
has to be another data issue in the GPU
has to be another data issue in the GPU
drive one. Yeah. Let me see if this
drive one. Yeah. Let me see if this
replicates.
Wonder how fast this
Wonder how fast this
brings. Yo, we fast as
brings. Yo, we fast as
[ __ ] Okay, 1.5 mil step per second.
going to be a twominut uh twominut soda
going to be a twominut uh twominut soda
right
here. I'm gonna send this to Aaron. He's
here. I'm gonna send this to Aaron. He's
going to just lose his [ __ ] because he's
going to just lose his [ __ ] because he's
like there's so much curriculum learning
like there's so much curriculum learning
on this
on this
thing. Of course, I think it'll stack so
thing. Of course, I think it'll stack so
like it'll do even better. But it's
like it'll do even better. But it's
still funny.
Massively
better. Yeah, this thing's been better.
better. Yeah, this thing's been better.
This thing's better in a minute than
This thing's better in a minute than
we've had previously like working at
we've had previously like working at
all.
Jeez. Now, there's no guarantee that the
Jeez. Now, there's no guarantee that the
hypers transfer one to like just
hypers transfer one to like just
transfer zero shot, but um this is the
transfer zero shot, but um this is the
exact size network that you have. So,
exact size network that you have. So,
decent chance.
I think I after this I'm going to run a
I think I after this I'm going to run a
real quick test just to make sure that
real quick test just to make sure that
the logging is as it should be because
the logging is as it should be because
if I switch everything to move as expert
if I switch everything to move as expert
it should immediately go to 100% and if
it should immediately go to 100% and if
it doesn't then there's something
it doesn't then there's something
screwed. Good idea.
This is like actual legit
This is like actual legit
experimentation now at over a million a
experimentation now at over a million a
second because this is like this is a 2
second because this is like this is a 2
million parameter model. This is a 512
million parameter model. This is a 512
hidden dim. This is not
hidden dim. This is not
like this is now like on the same like
like this is now like on the same like
this is the size that of people were
this is the size that of people were
using for Atari models were like single
using for Atari models were like single
digit low single digit millions
but they trained at a thousand steps per
second. Okay. So we
second. Okay. So we
get
get
82. Let's not fully
replicate. Pretty close. They got 86 and
replicate. Pretty close. They got 86 and
I get
I get
83. I got
whatever. Let me make sure I didn't miss
whatever. Let me make sure I didn't miss
a param.
Very close. All right. I think I'm going
Very close. All right. I think I'm going
to cancel this experiment.
to cancel this experiment.
Okay. Well, I will give you these
Okay. Well, I will give you these
params.
It's still at like 33% which is just
It's still at like 33% which is just
like not acceptable at 177
like not acceptable at 177
million.
Also, the speed dropped. Oh, because
Also, the speed dropped. Oh, because
update evoxes, too. I'm giving you new
update evoxes, too. I'm giving you new
params in a second here.
params in a second here.
Yeah. Here, I'm I'm going to kill this
Yeah. Here, I'm I'm going to kill this
and then let me uh check out the what
and then let me uh check out the what
should be optimal performance
should be optimal performance
automatically.
I will let you do that and then we will
I will let you do that and then we will
run the next
run the next
experiment and we'll see if it does
experiment and we'll see if it does
anything different. So I got to run d
anything different. So I got to run d
force now every time.
force now every time.
What when I uh rebuild recompile the
What when I uh rebuild recompile the
source
source
probably but that's going to recompile
probably but that's going to recompile
everything.
everything.
That's fine. easier to just like remove
That's fine. easier to just like remove
the one binding like the one compiled
the one binding like the one compiled
binding file.
binding file.
It's like a two second difference in my
life. All right. Please tell me this at
life. All right. Please tell me this at
least gets to
least gets to
100%. All right. Yeah. So, Perf does
100%. All right. Yeah. So, Perf does
100% automatic when Move Expert is on.
100% automatic when Move Expert is on.
So, it does still have off-road rates
So, it does still have off-road rates
and collision rates, which is a little
and collision rates, which is a little
bit suspect, but
It at least is recognizing getting to
It at least is recognizing getting to
the goal with 100% rate.
the goal with 100% rate.
So logging is still correct.
Are we ready for the parameters then?
Are we ready for the parameters then?
Yep. I'm just putting it back.
All right. Fine.
So we do have to slightly modify the
So we do have to slightly modify the
batch I
batch I
believe to
be mini batch needs to be hang
be
23 96
Okay, let's see if this insta
Okay, let's see if this insta
solves. Let's see if this reinforcement
solves. Let's see if this reinforcement
learns everything.
learns everything.
And if not, we go yell at me about data
And if not, we go yell at me about data
issues. Probably.
issues. Probably.
Oh, that's right. Cuz you took over
Oh, that's right. Cuz you took over
before it uh finished.
before it uh finished.
I have Perf 1.0. It's immediately
I have Perf 1.0. It's immediately
solved.
solved.
Yes. Yes.
Very big brain. Yes. Yes. Oh, Tyler is
Very big brain. Yes. Yes. Oh, Tyler is
still here comments and stuff
still here comments and stuff
periodically. Hey, how's it going?
It is fast.
It is fast.
450k. It's better than I had before at
450k. It's better than I had before at
100 something.
100 something.
So, and this is with like all possible
ops. We need a million step per second
ops. We need a million step per second
training though.
We actually do kind of need million step
We actually do kind of need million step
per second training because the thing is
per second training because the thing is
their initial paper claimed million step
their initial paper claimed million step
per second training and was off by a
per second training and was off by a
factor of 20.
factor of 20.
So the goal is going to be give them
So the goal is going to be give them
actual million step per second training.
actual million step per second training.
You're like here you go. I don't think
You're like here you go. I don't think
that's possible without cutting the obs.
that's possible without cutting the obs.
We are allowed to cut the ops
if we can give them a good policy.
Yeah, I know for a fact cutting OBS on
Yeah, I know for a fact cutting OBS on
the roads in half immediately gets you
the roads in half immediately gets you
like 200,000 steps per second on M time.
like 200,000 steps per second on M time.
I don't know how well that translates to
I don't know how well that translates to
training time. Well, I can tell you I
training time. Well, I can tell you I
have the same exact size model that you
have the same exact size model that you
have training 3x faster on a grid,
have training 3x faster on a grid,
right? But grid's ob size is what?
right? But grid's ob size is what?
Peanuts.
Peanuts.
Time to work on uh shelling shelling
Time to work on uh shelling shelling
some peanuts then.
Like what is the grid op size? Is is it
Like what is the grid op size? Is is it
the whole map? No, it's like 11 by 11.
Better I think
cuz it's only been up for like two
cuz it's only been up for like two
minutes and we're almost back at point4.
I am giving you the best possible
I am giving you the best possible
reinforcement learning.
reinforcement learning.
Like I'm giving you the best possible
Like I'm giving you the best possible
reinforcement learning other than having
reinforcement learning other than having
to run your own sweep on GPU drive,
to run your own sweep on GPU drive,
which you probably should do anyways.
which you probably should do anyways.
Um, but I think from here we look for
Um, but I think from here we look for
data issues.
data issues.
Oh, but it's it's doing. Oh, unless
Oh, but it's it's doing. Oh, unless
unless I just
unless I just
solve do
solve do
go. Oh, it's
go. Oh, it's
better. It's better. There's no
better. It's better. There's no
question. It's better. Now, let's see if
question. It's better. Now, let's see if
it stops. But
we'll I swear to God if this just god
we'll I swear to God if this just god
solves
solves
it for
50k. If this does just go solve it. I
50k. If this does just go solve it. I
mean, this is the puffer advantage,
mean, this is the puffer advantage,
right?
right?
Damn. I swear.
I mean, it's like if I'm setting soda on
I mean, it's like if I'm setting soda on
everything and it doesn't work on your
everything and it doesn't work on your
pretty simple problem, your simple
pretty simple problem, your simple
problem is wrong, right?
problem is wrong, right?
You'd think so. At the least, that's a
You'd think so. At the least, that's a
massive improvement over the previous
massive improvement over the previous
one. Yes. It's at least a 50%
one. Yes. It's at least a 50%
improvement over the previous version.
improvement over the previous version.
So then here's what we do now. We get
So then here's what we do now. We get
this policy and we look at it and see
this policy and we look at it and see
what it's doing. Yeah. And then we
what it's doing. Yeah. And then we
actually look for identifiable error
actually look for identifiable error
classes.
I don't think I did one beyond this one
I don't think I did one beyond this one
though. That's okay. We'll do that
though. That's okay. We'll do that
again. But it still has the policy
again. But it still has the policy
anyways,
anyways,
right? You still have the policy on this
right? You still have the policy on this
box. Yeah, I guess I have to I can SCP
box. Yeah, I guess I have to I can SCP
it or whatever. What you do is you copy
it or whatever. What you do is you copy
the policy out of the folder. So you
the policy out of the folder. So you
copy it into the Docker folder because
copy it into the Docker folder because
that's mounted and then you SCP it from
that's mounted and then you SCP it from
there.
there.
So you're saying take it out of Docker.
So you're saying take it out of Docker.
All you have to do to take it out of
All you have to do to take it out of
Docker is just copy it to the
Docker is just copy it to the
buffer/puffer tanker that location
buffer/puffer tanker that location
because that like that directory is
because that like that directory is
mounted.
Okay. So now, mind you, it's like it's
Okay. So now, mind you, it's like it's
possible that at the end because cosign
possible that at the end because cosign
and kneeling goes crazy with your
and kneeling goes crazy with your
learning rate. Like it's possible
learning rate. Like it's possible
there's some things, but we we got it to
there's some things, but we we got it to
like 58 midway through.
like 58 midway through.
Um, I'm going to go do a set. I'll be
Um, I'm going to go do a set. I'll be
right back. Yeah, it's only five minutes
right back. Yeah, it's only five minutes
round. It's not a big deal.
The off-road rate is really low, but the
The off-road rate is really low, but the
collision rate is kind of
collision rate is kind of
high. Weird.
So it crashed.
Yeah, it looks like it's failing at this
Yeah, it looks like it's failing at this
point.
point.
That's okay. I mean, these are params
That's okay. I mean, these are params
are not optimized for this, right? I got
are not optimized for this, right? I got
them. These are for grid.
them. These are for grid.
But it is better. I mean, we
But it is better. I mean, we
totally we totally got way
better. Do you want me to just kill this
better. Do you want me to just kill this
and rerun it with less steps? Yeah.
and rerun it with less steps? Yeah.
Should make it like 100 million or
Should make it like 100 million or
something? Yeah. And we'll see if
something? Yeah. And we'll see if
um the analing might mess with it a
um the analing might mess with it a
little bit, but we'll see. Oh, that's if
little bit, but we'll see. Oh, that's if
that's true, but I don't know. I don't
that's true, but I don't know. I don't
know if it's going to work without it,
know if it's going to work without it,
though. So, we'll try that. We'll get a
though. So, we'll try that. We'll get a
policy. We'll get this thing running.
policy. We'll get this thing running.
I'm super happy though with these
I'm super happy though with these
results. Like, holy.
results. Like, holy.
Let's see what happens. Hey, look at
Let's see what happens. Hey, look at
this freaking sweep.
Oh, dra not exist yet anymore. Neptune.
Oh, dra not exist yet anymore. Neptune.
That hasn't existed for a while.
That hasn't existed for a while.
Well, it shows you what version of dev I
Well, it shows you what version of dev I
was on.
Buffer goes fast.
up her very
fast. All right. Don't eat my uh token.
Fast moving
Fast moving
puffer. Closeing puffer. Does this save
puffer. Closeing puffer. Does this save
uh weights now to Neptune or is that not
uh weights now to Neptune or is that not
in release yet?
in release yet?
Nope. Haven't done that yet.
Nope. Haven't done that yet.
All right. I got to change it in clean
All right. I got to change it in clean
puffer, I think.
puffer, I think.
Too much entropy kills maze runs.
Oh, wait. No, I know where it is. It's
Oh, wait. No, I know where it is. It's
in a It's in default now, right? Yeah.
work. Yeah, there is a correlation with
work. Yeah, there is a correlation with
the priorities the pryo coefficients.
the priorities the pryo coefficients.
Now looks like
Now looks like
Excuse
me. Very
fast. What the
fast. What the
hell? I just did
this. Does it think it's on a different
this. Does it think it's on a different
project? I just changed it.
If I change clean up RL, do I have to
If I change clean up RL, do I have to
recompile? No.
recompile? No.
Or that way. I only changed the config
Or that way. I only changed the config
too. Let's try
again. Here's the puffer
grid. Oh, that's a really hard
maze. It's like a ludicrously hard
maze. I mean, I think I see it. Yeah, I
maze. I mean, I think I see it. Yeah, I
see it.
But it's like doing high level
But it's like doing high level
backtracking though. That's like good 20
backtracking though. That's like good 20
step
backtracking. Yeah. Look at this.
Holy. Yeah, this thing is good. This is
Holy. Yeah, this thing is good. This is
a ridiculously good maid solving agent
a ridiculously good maid solving agent
for like Tabularasa RL.
Yeah.
Okay. Freaking ludicrously good maze
Okay. Freaking ludicrously good maze
agent. Did you hard force your Neptune
agent. Did you hard force your Neptune
credentials anywhere?
credentials anywhere?
Uh, I just paste them in like I just
Uh, I just paste them in like I just
export them as an N variable whenever I
export them as an N variable whenever I
need to.
No, I know. That's what I normally do,
No, I know. That's what I normally do,
too.
too.
But oh my, look at this freaking maze
But oh my, look at this freaking maze
agent.
Holy. It still doesn't have
Holy. It still doesn't have
like It needs a pretty long
like It needs a pretty long
memory to
um Yeah, it would need a pretty long
um Yeah, it would need a pretty long
memory to be fair. I don't think I could
memory to be fair. I don't think I could
do this task by the way with um the
do this task by the way with um the
vision perspective it has. I would have
vision perspective it has. I would have
to like follow the left wall or
to like follow the left wall or
something.
Like this thing only sees like five
Like this thing only sees like five
tiles to either side and then it has to
tiles to either side and then it has to
remember where it's
been. I don't think I could solve this
been. I don't think I could solve this
under those constraints without like
under those constraints without like
using, you know, the left wall
using, you know, the left wall
rule or right wall pick a wall. Doesn't
matter. And like nobody just does that
matter. And like nobody just does that
either. You're told that that works.
And like it literally only works because
And like it literally only works because
of an assumption on the way maze
of an assumption on the way maze
generation is usually
generation is usually
done. Like you can make a cord maze in
done. Like you can make a cord maze in
which that won't even
which that won't even
work. Weird that does it does get hard
work. Weird that does it does get hard
stuck
stuck
sometimes. Oh
no. Guess I just won't use Neptune right
no. Guess I just won't use Neptune right
now.
That does look like a
That does look like a
bug. Looks like there's like a rare,
bug. Looks like there's like a rare,
very rare edge case bug.
All this it
does. It's a hard maze.
does. It's a hard maze.
Sometimes the ones that are
um like the smaller mazes can be just as
um like the smaller mazes can be just as
hard if not
harder. So there's the
bug. I don't know if it's an end bug or
bug. I don't know if it's an end bug or
like the policy logic's exploding
like the policy logic's exploding
though.
Full maze solving
Full maze solving
agent. Very
agent. Very
nice mazes.
Almost
there. And hopefully we will uh at least
there. And hopefully we will uh at least
get a little bit of stuff done before I
get a little bit of stuff done before I
got to go for dinner.
got to go for dinner.
Yeah, I also progress at the same time.
See if it gets to 60 or
See if it gets to 60 or
not. I'm most hungry.
Okay, so that's a 58 center. Wait for it
Okay, so that's a 58 center. Wait for it
to finish.
Evvel 58 flat.
Evvel 58 flat.
Okay, you can go ahead and grab the uh
Okay, you can go ahead and grab the uh
grab that policy.
grab that policy.
What is this again? It's an experiment
What is this again? It's an experiment
and
and
then Oh [ __ ]
Uh oh. What's this? What's the syntax
Uh oh. What's this? What's the syntax
for this again? It's like
for this again? It's like
negative1 W or something. You get the
negative1 W or something. You get the
most recent one that popped up. What's
most recent one that popped up. What's
that? What's the full screen key?
Wait, what's the full screen key?
Wait, what's the full screen key?
The full screen key. Yeah, dude. I F11.
The full screen key. Yeah, dude. I F11.
I don't know. F11. Oh, yeah, it is.
I don't know. F11. Oh, yeah, it is.
Bye.
Bye.
Oh, what's the thing again for this? Do
Oh, what's the thing again for this? Do
you remember? SCP.
you remember? SCP.
No, no, not that. The most recent
No, no, not that. The most recent
experiment. It's
experiment. It's
LS-LT experiments. Pipe head.
And that's the top one.
Yep. Grab the model out of
that.
Okay. Okay. All right. So, SCP
Uh uh like call it like move it to like
Uh uh like call it like move it to like
puffer tanker GPU drive.pt.
puffer tanker GPU drive.pt.
All right. Puffer tank docker. You said
All right. Puffer tank docker. You said
GPU drive
and then just and then uh Okay. Get out
and then just and then uh Okay. Get out
of the container now.
container here. I'll do it.
container here. I'll do it.
I press exit enough times and I'll be
I press exit enough times and I'll be
out of it. So, home puffer puffer
tank. Home
tank. Home
puffer puffer
tank. Okay, so that
tank. Okay, so that
worked. This SCP,
you're rendering it now on your side.
you're rendering it now on your side.
[Music]
Probably should get rid of the ghost
Probably should get rid of the ghost
cars in this.
Oh, do you know how to fix it for the
Oh, do you know how to fix it for the
ghost cars?
Uh, I mean, we didn't PR any of the
Uh, I mean, we didn't PR any of the
stuff we did, right?
No, I can right now.
No, I can right now.
Hold
Hold
on. If it works first.
I doubt it's going to because the agent
I doubt it's going to because the agent
counts are going to be different.
counts are going to be different.
It runs.
Okay. Some of these guys are getting
Okay. Some of these guys are getting
there. Others are just ramming straight
there. Others are just ramming straight
into walls.
into walls.
Yeah. So
Yeah. So
presumably also the expert is going
presumably also the expert is going
through a wall,
right? Yeah, that expert can go through
right? Yeah, that expert can go through
a wall and it's not considered a
a wall and it's not considered a
collision.
Most of the cars are kind of just going
Most of the cars are kind of just going
straight.
So definitely PR everything so we make
So definitely PR everything so we make
sure we're not just looking at garbage.
sure we're not just looking at garbage.
But probably this is
But probably this is
correct. The question is like why the
correct. The question is like why the
hell is it doing this?
I thought the first scene only has uh
I thought the first scene only has uh
like two agents that are human
like two agents that are human
controlled.
It does. You're not on Are you on the
It does. You're not on Are you on the
first scene? Oh, I guess this is some
first scene? Oh, I guess this is some
random scene.
You running local or you running eval?
You running local or you running eval?
You're running EVO? Eval. Yeah.
The expert going through the wall. Like
The expert going through the wall. Like
that wall looks like it's a parking lot.
that wall looks like it's a parking lot.
Not a not a wall.
Not a not a wall.
Or maybe it's like a line where it's
Or maybe it's like a line where it's
like, "Hey, dish the entrance to the
like, "Hey, dish the entrance to the
parking lot if you care about that."
parking lot if you care about that."
Technically, it's a road edge. And then
Technically, it's a road edge. And then
although currents aren't drawn,
although currents aren't drawn,
currently it's not drawn. Um, I could
currently it's not drawn. Um, I could
add like the other like road lines and
add like the other like road lines and
lanes, which the model at the moment is
lanes, which the model at the moment is
technically seeing.
technically seeing.
I see. So, we could make this pretty
I see. So, we could make this pretty
freaking cool looking is what you're
freaking cool looking is what you're
saying. Yeah. I mean, you could add like
saying. Yeah. I mean, you could add like
yellow lanes, lines, or whatever, and
yellow lanes, lines, or whatever, and
all those types of things and like the
all those types of things and like the
driveways. Okay. When we get superhuman
driveways. Okay. When we get superhuman
driving model, we get to take a little
driving model, we get to take a little
bit of time to make Tokyo Puff look or
bit of time to make Tokyo Puff look or
Tokyo Puff or whatever.
Tokyo Puff or whatever.
Well, I don't know about loading loading
Well, I don't know about loading loading
the Tokyo map. It might be hard, but
the Tokyo map. It might be hard, but
make these maps look freaking cool is a
make these maps look freaking cool is a
good start.
good start.
Let's say make it look good and then for
Let's say make it look good and then for
at least to pass it off and then we can
at least to pass it off and then we can
take it on from there to go do like
take it on from there to go do like
Carla or the other levels or you
know. Um, okay. So, get puffer drive
know. Um, okay. So, get puffer drive
acquired for a billion dollars.
acquired for a billion dollars.
Exactly.
Exactly.
Puffer driving sim.
Puffer driving sim.
Most realistic driving sim out there. I
Most realistic driving sim out there. I
mean, fastest driving sim out there.
mean, fastest driving sim out there.
Maybe
be that'd be cool. I could put a second
be that'd be cool. I could put a second
one of these warehouses and fill it
one of these warehouses and fill it
entirely with
GPUs. All right.
GPUs. All right.
[Music]
[Music]
Um, am I in the release branch? Is that
Um, am I in the release branch? Is that
right? All right. I'm pring my this into
right? All right. I'm pring my this into
the release branch.
This looks like this has
all
all
right. PR's in six files changed.
How many lines? miners were cut from GPU
How many lines? miners were cut from GPU
drive.h like 100.
Well, 250 gone from the Syon obviously.
Well, 250 gone from the Syon obviously.
Yeah.
Yeah.
100 looks like 100. Cool.
100 looks like 100. Cool.
It's pretty good.
Maximally puffed.
[Music]
I still feel like a better obset would
I still feel like a better obset would
just to be like do
just to be like do
comms, but
comms, but
yes, that would be a better thing to
Did you not commit the binding
C? Please commit binding C.
Oh, is that in there? Nope.
Did you already merge the PR or is that
Did you already merge the PR or is that
uh trying to make another PR?
Well, you got to get it to me somehow.
Well, you got to get it to me somehow.
No, I just didn't didn't know if you did
No, I just didn't didn't know if you did
you catch that before merging it. No, I
you catch that before merging it. No, I
merged it. Okay.
All
right, I just made another PR
binding
file. Very
good.
Okay. Isn't that nice? Now it's up to
Okay. Isn't that nice? Now it's up to
date with the new Puffer API.
Tech render requires two
arguments. Oh, you have you can pass it
arguments. Oh, you have you can pass it
an index and it'll actually render that
an index and it'll actually render that
M now, which is kind of cool. I forgot I
M now, which is kind of cool. I forgot I
did
did
that. So, that's kind of nice, right?
that. So, that's kind of nice, right?
Index
Index
now. Uh, it's an arg render.
So I can pass like zero and I get the
So I can pass like zero and I get the
first N.
first N.
Oh, okay. Got you.
Cool. Look at this awesome driving
Cool. Look at this awesome driving
performance.
performance.
Go. I feel like that's a super simple
Go. I feel like that's a super simple
one that should be able to figure out.
one that should be able to figure out.
Yeah, I think that that's a data
problem because we had better policies
problem because we had better policies
than this or right. Yeah. Yeah. Data
than this or right. Yeah. Yeah. Data
problem.
problem.
Oh, let's one.
Oh, have you seen what happens when you
Oh, have you seen what happens when you
hold shift? You can see like all the
hold shift? You can see like all the
lasers fly away.
lasers fly away.
That's cool.
So that's my rendering of its
So that's my rendering of its
observations. So like that's the part
observations. So like that's the part
where I feel like the data being wrong
where I feel like the data being wrong
is like confusing to me. But obviously
is like confusing to me. But obviously
something must be wrong
something must be wrong
and it can see the goal. Mhm.
and it can see the goal. Mhm.
They are also colliding with [ __ ] that
They are also colliding with [ __ ] that
they can
they can
see. Rewards could be wrong.
see. Rewards could be wrong.
I mean yeah I mean there could be a host
I mean yeah I mean there could be a host
of things that are wrong but memory
of things that are wrong but memory
could be
could be
corrupted. Puffer could be uninflated.
corrupted. Puffer could be uninflated.
I don't know. PG puffer.
Let's see if we can make any progress
Let's see if we can make any progress
next. Yeah. The problem is not hard
next. Yeah. The problem is not hard
enough where it shouldn't be able just
enough where it shouldn't be able just
to solve. No. Yeah. Once we fix this,
to solve. No. Yeah. Once we fix this,
it's going to be like boop. Problem
it's going to be like boop. Problem
solved in 40 mil. Well, that was
solved in 40 mil. Well, that was
trivial.
trivial.
Yeah. It just has to
Okay. Idea. Can we train it on one map?
Uh, with the new
Uh, with the new
binding, I don't see any reason why not,
binding, I don't see any reason why not,
right? We can totally do that, right?
right? We can totally do that, right?
You should just only have to change num
You should just only have to change num
ms in config. I think
I don't think we hard set anything in
I don't think we hard set anything in
the binding. I was going to say that we
the binding. I was going to say that we
just make the map index or yeah envid in
just make the map index or yeah envid in
the in GPU drive, right? Because envid
the in GPU drive, right? Because envid
is just
is just
we can pass in we can actually just in
we can pass in we can actually just in
the GPU drive.py set env ID to always be
the GPU drive.py set env ID to always be
a zero.
a zero.
So that you have 75 or however many
72 of the same
lap. Okay. Apparently this somehow
lap. Okay. Apparently this somehow
trains
I'm suspicious of this training because
I'm suspicious of this training because
it goes to
zero. Um, everything is zero. That's
us. Oh, it's
We're going to debug this. Is it going
We're going to debug this. Is it going
to work
today? 507.
today? 507.
What? Oh, because Yeah, I I
trolled cuz it's this agent offset
trolled cuz it's this agent offset
thing. Yeah.
So we have to do kind of like the jank
So we have to do kind of like the jank
version
version
the cloning way I did it before. Well, I
the cloning way I did it before. Well, I
think it's like num
think it's like num
m num m is
m num m is
one and vec numb n numb n numb n numb n
numb n numb n numb n numb n numb n numb
n numbum workers is 16 and num m is
n numbum workers is 16 and num m is
going to be
going to be
like
like
4096 like 20
4096 like 20
48 and then we can actually
do batch and mini batch
batch size is still
wrong. So, it's going to be what?
wrong. So, it's going to be what?
Um 8192 *
Um 8192 *
256. That's too
big. 7
We don't need
cereal. Mini batch must be divisible by
cereal. Mini batch must be divisible by
horizon. That's true. Yeah, that's true.
Okay, this
Okay, this
is an absolutely freaking trivial
is an absolutely freaking trivial
problem.
You would have
think it doesn't collide. It just
think it doesn't collide. It just
doesn't do. It's decided to do nothing.
doesn't do. It's decided to do nothing.
It's decided to give up.
It said honorable Sepoku is the only
It said honorable Sepoku is the only
way.
You seeing this [ __ ]
You seeing this [ __ ]
Oh, it went up. I got rid of the
Oh, it went up. I got rid of the
collision penalties.
collision penalties.
We're going to do 20 million steps or
We're going to do 20 million steps or
even 15 million
even 15 million
steps and it's going to solve
steps and it's going to solve
it and then it's going to be
It could just be
this, you know.
Well, turning collisions off is like not
Well, turning collisions off is like not
like a great Well, they're not off
like a great Well, they're not off
anymore. It resets it on collision,
anymore. It resets it on collision,
remember?
Well, yeah, it resets it, but you don't
Well, yeah, it resets it, but you don't
get It like has no idea why it got
get It like has no idea why it got
reset.
reset.
Well,
Before it's a puku
now. Now it's seg
instead. Okay, it does actually just egg
instead. Okay, it does actually just egg
bault.
Can we
Can we
uh do we have any ideas on why? Oh, I
uh do we have any ideas on why? Oh, I
know why actually. Okay, I know why.
know why actually. Okay, I know why.
That's why
me. This
is Whoa. Look at this.
is Whoa. Look at this.
trying.
trying.
It's trying. I only trained at 20 mil
It's trying. I only trained at 20 mil
steps, but it actually does a thing
steps, but it actually does a thing
now. It actually does roughly what you
now. It actually does roughly what you
would hope it does. It should
do. I don't know why it's like spazzing
do. I don't know why it's like spazzing
at sometimes,
at sometimes,
but I mean, it was only 20 million
but I mean, it was only 20 million
steps. Not
steps. Not
even. You do 30 mil next. 30.
even. You do 30 mil next. 30.
It was 15. No, I'm saying yeah, go 30.
It was 15. No, I'm saying yeah, go 30.
I got to go whenever dinner is served.
I got to go whenever dinner is served.
That that works out for me. I I have
That that works out for me. I I have
dinner thing as well. We're going to get
dinner thing as well. We're going to get
a couple more experiments and maybe get
a couple more experiments and maybe get
some good models. So, while this is
some good models. So, while this is
training, since I have a minute and we
training, since I have a minute and we
do have quite a few folks on Twitch,
do have quite a few folks on Twitch,
let's take a quick look at the puffer
let's take a quick look at the puffer
star count. Did we hit 2K?
One more star. Come on. Somebody there
One more star. Come on. Somebody there
has to have not started. Somebody's got
has to have not started. Somebody's got
to come through for
to come through for
2K. But anyways, all my stuff is uh free
2K. But anyways, all my stuff is uh free
and open source right here on
and open source right here on
puffer.ai. I do this pretty much every
puffer.ai. I do this pretty much every
single day. Um you want to help me out,
single day. Um you want to help me out,
start the GitHub. If you want to get
start the GitHub. If you want to get
involved in development of this, build
involved in development of this, build
ultra high performance reinforcement
ultra high performance reinforcement
learning M, get into AI, help advance
learning M, get into AI, help advance
AI, any of that stuff, some of our top
AI, any of that stuff, some of our top
contributors came in with zero AI
contributors came in with zero AI
experience whatsoever, so it can be
experience whatsoever, so it can be
learned. Join the Discord for that.
learned. Join the Discord for that.
Other than that, you can follow me on X
Other than that, you can follow me on X
for more RL content. I'll be
for more RL content. I'll be
here for a few more minutes and then I
here for a few more minutes and then I
will probably be back after dinner for a
will probably be back after dinner for a
little bit, depending. If not, I will
little bit, depending. If not, I will
definitely be back in the morning.
definitely be back in the morning.
Okay. So, this is full solved. Yeah.
So, there is one more experiment. I want
So, there is one more experiment. I want
to
to
run. One more.
run. One more.
Okay. Are you just going to do the same
Okay. Are you just going to do the same
same concept but with more levels? Of
same concept but with more levels? Of
course.
That works, right? It no longer looks
That works, right? It no longer looks
like it's insane. That's like a
like it's insane. That's like a
reasonable turn radius.
Pretty consistent. Yeah.
Wait, is there undo in Neoam?
Wait, is there undo in Neoam?
Yes. Wait, do not
Yes. Wait, do not
you. And there's redo as well. Capital
you. And there's redo as well. Capital
R.
R.
Oh, that's so legit. Wait, is it capital
Oh, that's so legit. Wait, is it capital
R?
Yeah, capital R. I know it intuitively,
Yeah, capital R. I know it intuitively,
right? I actually have to like do it to
right? I actually have to like do it to
know what it
know what it
is. That's so weird that that can
is. That's so weird that that can
happen. Your muscle memory is just Yeah.
happen. Your muscle memory is just Yeah.
Like I know I know intuitively how to do
Like I know I know intuitively how to do
it, but if I think about it, I don't
it, but if I think about it, I don't
know what the key is.
I actually think that um Neoim is why I
I actually think that um Neoim is why I
kind of type wrong if you think about it
kind of type wrong if you think about it
because it's
because it's
HJKL. So if you think about it, your
HJKL. So if you think about it, your
hands shift over a whole position to the
hands shift over a whole position to the
left on the keyboard,
right? I mean, I don't use any if why
right? I mean, I don't use any if why
would you be using
would you be using
HJKL versus something else?
HJKL versus something else?
That's navigation in Vim.
Dude, I just use backslash to get me to
Dude, I just use backslash to get me to
everywhere. I just search everything.
everywhere. I just search everything.
You're screwing with me.
You're screwing with me.
I search and press N. Nah, you're screw
I search and press N. Nah, you're screw
you're screwing with me. Nah. Nah,
you're screwing with me. Nah. Nah,
you're trolling. You're freaking
you're trolling. You're freaking
trolling. You do not do that [ __ ]
trolling. You do not do that [ __ ]
You're trolling. You're such trolling.
You're trolling. You're such trolling.
Do you don't believe my efficiency of
Do you don't believe my efficiency of
building M comes from pressing search
building M comes from pressing search
bar?
bar?
If it is, you could be building them a
If it is, you could be building them a
fair bit faster, I'll
say. Okay. So, there isn't a weird dip
say. Okay. So, there isn't a weird dip
at the start
at the start
anymore. Not really.
anymore. Not really.
I wouldn't consider that first thing to
I wouldn't consider that first thing to
be a relevant dip. It's not like Well,
be a relevant dip. It's not like Well,
this is what it used to look like.
this is what it used to look like.
No, that's what I'm saying. Like the I'm
No, that's what I'm saying. Like the I'm
saying that the dip at the start of the
saying that the dip at the start of the
new curve. I mean, that could be just
new curve. I mean, that could be just
like noise from like being alive for 0.1
like noise from like being alive for 0.1
seconds.
Uh, it is only run for 100 mil though.
Uh, it is only run for 100 mil though.
That's fine. We'll see how how well it
That's fine. We'll see how how well it
does in that time frame.
does in that time frame.
You can make it 250 or 500 or whatever.
You can make it 250 or 500 or whatever.
So if I get this to work then with this
So if I get this to work then with this
or if this like works at least
or if this like works at least
substantially
substantially
better
better
then it's going to be
then it's going to be
sweep the hyper
sweep the hyper
pram
pram
including the nth reward
coefficients
coefficients
right yeah I guess.75 is too aggressive
right yeah I guess.75 is too aggressive
we'll sweep
But do you want to sweep with the new
But do you want to sweep with the new
sweep with current params fixed and then
sweep with current params fixed and then
reward? No, just sweep everything or
reward? No, just sweep everything or
just giga sweep everything. Giga sweep
just giga sweep everything. Giga sweep
freaking everything for uh 150 mil or
freaking everything for uh 150 mil or
whatever time steps. Yeah. Yeah. Yeah. I
whatever time steps. Yeah. Yeah. Yeah. I
use my defaults or whatever. So we fix
use my defaults or whatever. So we fix
mini batch size. You fix it to fast runs
mini batch size. You fix it to fast runs
so that all the runs are like reasonably
so that all the runs are like reasonably
paced and you just crank out 200
paced and you just crank out 200
experiments overnight.
Wait, wait, wait, no, no, no. Because I
Wait, wait, wait, no, no, no. Because I
have to use the special mini batches and
have to use the special mini batches and
batches sizes for this. So that can't be
batches sizes for this. So that can't be
touched. Then leave it fixed. So that
touched. Then leave it fixed. So that
will have to be fixed and everything
will have to be fixed and everything
else can run around. Yeah, but we have a
else can run around. Yeah, but we have a
lot of coefficients to sweep. Yeah.
lot of coefficients to sweep. Yeah.
Yeah. Okay. This getting hard stuck at
Yeah. Okay. This getting hard stuck at
58 is
58 is
sus.
Remember that's what we got
before.58. I thought it went a little
before.58. I thought it went a little
higher, but thought it was like
58%. It seems to have hit a
58%. It seems to have hit a
wall. Now it's sus.
We have this
We have this
model. Let's see though if we tr we
eval. And I'm going after we do this.
eval. And I'm going after we do this.
Yeah, that
Yeah, that
works. And you know what to do to repro.
Ah, isn't that
Ah, isn't that
funny? We train on more
funny? We train on more
M's punk into the wall.
M's punk into the wall.
Isn't that weird? Data issue question
Isn't that weird? Data issue question
mark of like assigning could be the N
mark of like assigning could be the N
could be like how the observations are
could be like how the observations are
being assigned between M's could
be but we get it. It it can overfitit a
be but we get it. It it can overfitit a
map immediately pretty much, right?
map immediately pretty much, right?
It has a weird ass like plateaus like
It has a weird ass like plateaus like
that that flat equals problem. It can't
that that flat equals problem. It can't
learn more,
right? So, I don't
right? So, I don't
know. I'm going to get dinner. If I see
know. I'm going to get dinner. If I see
you around after dinner, we can continue
you around after dinner, we can continue
on this. Otherwise, we can do this
on this. Otherwise, we can do this
whenever you're free. All right. Sounds
whenever you're free. All right. Sounds
good. Thanks. Well, thanks, Spencer.
good. Thanks. Well, thanks, Spencer.
Good progress.
Good progress.
Oh. Uh, did you send me anything or no?
Oh. Uh, did you send me anything or no?
Uh, let me check my inbox.
Nope. They haven't sent anything over. I
Nope. They haven't sent anything over. I
It would be rude to nudge him right now.
It would be rude to nudge him right now.
I'll nudge him. I'm not I'm not stressed
I'll nudge him. I'm not I'm not stressed
about it. Cool. All right. Sounds good.
about it. Cool. All right. Sounds good.
See you, Spencer. And for all the folks
See you, Spencer. And for all the folks
uh on Twitch, let's see if we hit
2K. Did anybody actually start just now?
Is the star count up to
date? App's missing one star. Come on.
date? App's missing one star. Come on.
Somebody has to have not started.
Somebody has to have not started.
Anyways, then I'll be back either later
Anyways, then I'll be back either later
tonight or tomorrow. Thanks, folks. See
tonight or tomorrow. Thanks, folks. See
you around.
