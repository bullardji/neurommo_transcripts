Kind: captions
Language: en
okay we should be live
here happy
Monday lots of stuff to do today
Monday lots of stuff to do today
um lots and lots of stuff to
um lots and lots of stuff to
do Buffer's been doing very well over
do Buffer's been doing very well over
the weekend I logged out at
the weekend I logged out at
7:17 on
7:17 on
Friday and we're now at 7:47 plus 30
Friday and we're now at 7:47 plus 30
that is
that is
awesome yeah that's really really
awesome yeah that's really really
awesome oh this graph has not
updated that's a bit odd is it stuck
oh it went to uh to 200s okay that's
oh it went to uh to 200s okay that's
fine
fine
cool
so um a few things blew up over the
so um a few things blew up over the
weekend I posted this little demo of
weekend I posted this little demo of
solving
solving
pong nothing impressive right pong is
pong nothing impressive right pong is
not a crazy hard RL environment or
not a crazy hard RL environment or
anything but it solves in 90
anything but it solves in 90
seconds on one
seconds on one
GPU so that's real
nice and what else did I put what else
nice and what else did I put what else
there was one other one oh yeah this was
there was one other one oh yeah this was
funny I don't know weird things blow up
funny I don't know weird things blow up
sometimes for some reason people really
sometimes for some reason people really
like these sorts of plots I guess they
like these sorts of plots I guess they
look kind of
look kind of
cool and
anyways uh there are a few things that I
anyways uh there are a few things that I
need to do
need to do
today um so the mobile project is
today um so the mobile project is
stuck and it is
stuck and it is
stuck because we don't have ELO
stuck because we don't have ELO
rating it's a bit
rating it's a bit
unfortunate we're going to have to look
unfortunate we're going to have to look
at that for sure today um but before I
at that for sure today um but before I
do that let's look at the experiments
do that let's look at the experiments
from over the weekend uh I ran a few
from over the weekend uh I ran a few
things if this UI will load I ran a few
things if this UI will load I ran a few
cool
cool
things of course it loads right as I do
things of course it loads right as I do
that um yeah so all of these are from
that um yeah so all of these are from
over the
over the
weekend we'll start with this is the
weekend we'll start with this is the
original pong sweep I
original pong sweep I
believe looks quite nice did we do even
believe looks quite nice did we do even
better than uh than before I wonder hold
better than uh than before I wonder hold
on
on
we have 127 runs above 19.8 so we'll
we have 127 runs above 19.8 so we'll
replace this with
replace this with
really about 20 point
really about 20 point
20.5 why does this not
work what runs do we have here 72
runs yeah I mean this is this is about
runs yeah I mean this is this is about
what it was before I think I don't see
what it was before I think I don't see
any that are crazy better but we very
any that are crazy better but we very
very clearly you know below 2 minutes
very clearly you know below 2 minutes
easily below 90 seconds as I said we can
easily below 90 seconds as I said we can
still do that quite consistently and
still do that quite consistently and
then below that you know to getting it
then below that you know to getting it
faster than that is a little tricky um
faster than that is a little tricky um
anyways though that's like it's already
anyways though that's like it's already
good enough at that point I also ran
good enough at that point I also ran
several other Atari environments over
several other Atari environments over
the weekend some of them worked some of
the weekend some of them worked some of
them
didn't oh yeah and the mo as
well mobile one is a little bit
well mobile one is a little bit
interesting we have what look like a lot
interesting we have what look like a lot
of decent
of decent
runs what about entropy
runs what about entropy
though I want to see the entropy loss on
though I want to see the entropy loss on
all
these because I want to see how many of
these because I want to see how many of
these crashed
so not all of them have entropy crashes
so not all of them have entropy crashes
they
they
uh let's see if we do total levels
uh let's see if we do total levels
gained over 300 do we have some of these
gained over 300 do we have some of these
that are actually just not crashed
okay these are a little wonky like
okay these are a little wonky like
what's this
guy okay so we have some that have like
guy okay so we have some that have like
these very weird entropy curves that are
these very weird entropy curves that are
not crashed which is
not crashed which is
interesting let me see if there's any
interesting let me see if there's any
insight I can take out of this
so I don't see this on the total Towers
so I don't see this on the total Towers
taken
taken
graph right because
we have to we don't have enough of these
we have to we don't have enough of these
being
being
shown okay so if I look at this on the
shown okay so if I look at this on the
total Towers take in graph it's not bad
total Towers take in graph it's not bad
it's not amazing but it's not bad do I
it's not amazing but it's not bad do I
have any of these that are like more
have any of these that are like more
stable
looking they're all like cyclical and
looking they're all like cyclical and
they're probably cyclical because I need
they're probably cyclical because I need
to break up uh when the game Star and
to break up uh when the game Star and
end in order to make this training way
end in order to make this training way
more
more
consistent so I can look at that for
consistent so I can look at that for
sure but at least all of these aren't
sure but at least all of these aren't
fully crashed in terms of
entropy do we have any other good
entropy do we have any other good
metrics
here reward for XP reward not really
here reward for XP reward not really
like they're all kind of weird looking
like they're all kind of weird looking
because the game is cylic like
because the game is cylic like
this so we should probably look at that
this so we should probably look at that
today even before ELO system ELO is
today even before ELO system ELO is
going to be way harder this is pretty
going to be way harder this is pretty
easy to
easy to
fix okay so let's take a look at the
fix okay so let's take a look at the
next
next
one I think this is
one I think this is
breakout yeah so breakout is a little
breakout yeah so breakout is a little
disappointing in that
disappointing in that
um it doesn't seem like it's been just
um it doesn't seem like it's been just
fully
fully
solved by this though it was getting
solved by this though it was getting
better over time as you can see like
better over time as you can see like
this is trending up
this is trending up
this point in particular is just kind of
noisy so I want to change this to this
noisy so I want to change this to this
is relative process time
is relative process time
okay and if I look at
okay and if I look at
this and maybe if I smooth it a
bunch we've got some options
bunch we've got some options
here the thing is that these are all
here the thing is that these are all
going up and they're all going up quite
going up and they're all going up quite
quickly so breakouts might be an end
quickly so breakouts might be an end
where it's hard to get it to be sample
where it's hard to get it to be sample
efficient but who cares if we make it
efficient but who cares if we make it
train fast
train fast
right 300 seconds is 5 minutes if it
right 300 seconds is 5 minutes if it
goes up like linearly like this which I
goes up like linearly like this which I
believe breakout tends to do actually
believe breakout tends to do actually
breakout tends to accelerate learning
breakout tends to accelerate learning
later
later
on I think we should be we should be
on I think we should be we should be
quite
quite
fine interesting that it didn't choose
fine interesting that it didn't choose
to do any longer runs here though
oh maybe it did hold
oh maybe it did hold
on let me sort this
on let me sort this
[Music]
[Music]
by agent steps how long are these runs I
by agent steps how long are these runs I
allowed them to do up to 25 mil I
allowed them to do up to 25 mil I
believe okay so this is quite weird that
believe okay so this is quite weird that
it has not chosen to do this
it has not chosen to do this
right it was able to choose longer runs
right it was able to choose longer runs
in order to get these to
in order to get these to
be um in order to get higher reward but
be um in order to get higher reward but
it didn't do that and in fact all these
it didn't do that and in fact all these
longer runs
longer runs
seem to not be doing as
seem to not be doing as
well it's actually these runs over here
well it's actually these runs over here
that look like they're doing better all
that look like they're doing better all
the way down at 5
the way down at 5
million which doesn't really make sense
million which doesn't really make sense
CU it should have just been able to run
CU it should have just been able to run
this one for longer what's this one 51
this one for longer what's this one 51
4304 well they all have the same ID oh
4304 well they all have the same ID oh
wait why do they all have the same ID
wait why do they all have the same ID
that's weird
right hang on 511
right hang on 511
14304 they shouldn't have the same ID
right okay we'll have to look at
right okay we'll have to look at
that because maybe I didn't fully fix
that because maybe I didn't fully fix
the bug that I thought I'd fix
the bug that I thought I'd fix
before um can we try to what a good
before um can we try to what a good
thing to take from this is if we could
thing to take from this is if we could
get some insight as to why this isn't
get some insight as to why this isn't
doing like longer and longer runs over
doing like longer and longer runs over
time
time
so here's some of the more recent
ones
see do these have different hyper
parameters can't see
You' think that they
would they do seem to be exactly the
would they do seem to be exactly the
same length though these runs which
same length though these runs which
makes me suspicious hang
makes me suspicious hang
on um I'm going to look at this one
on um I'm going to look at this one
here which
is okay here's the page for this one
is okay here's the page for this one
right I'm trying to see if we uh we have
right I'm trying to see if we uh we have
it screwed up and if these are still
it screwed up and if these are still
like the same r
runs we do a little analysis
right okay so I grabbed this one before
right okay so I grabbed this one before
and now I grab this one
65k
65k
batch 65k
batch 65k
batch
batch
0207 ah these are the same
run it's unclear though whether this is
run it's unclear though whether this is
bad because I do have it set though so
bad because I do have it set though so
that it can duplicate the same run a few
that it can duplicate the same run a few
times
the question is how many times is it
the question is how many times is it
doing this it's allowed to retry the
doing this it's allowed to retry the
same run a couple of
same run a couple of
times if it is Paro
optimal contrl C to copy this data
well that doesn't help me now does
it what's the Pito front look like on
it what's the Pito front look like on
this
so Pito front is actually very
small though actually it might be
small though actually it might be
different in the uh
different in the uh
the cuz I don't think we're logging the
the cuz I don't think we're logging the
last data point which should be smoother
last data point which should be smoother
to W to be it might not actually look
to W to be it might not actually look
like this it could look a little
like this it could look a little
different
you know look at all these
you know look at all these
304s it's just doing the same thing
repeatedly can we find it somewhere
say rewards above 40
maybe greater than equal
okay so we have
now lots of duplicate runs right with
now lots of duplicate runs right with
the same
IDs oh no wait that's just the total
IDs oh no wait that's just the total
time
time
steps I'm stupid
steps I'm stupid
here maybe these are not duplicates
how can we determine this okay I have an
how can we determine this okay I have an
idea let's
idea let's
do value function
do value function
coefficient
equals does it not have
um here we'll
um here we'll
choose from this one here
does not
does not
work VF
work VF
coof is
this is it train. value function
this is it train. value function
coefficient
coefficient
yeah
yeah
okay okay no this is not bad there are
okay okay no this is not bad there are
only three duplicates
only three duplicates
here there only three duplicates and
here there only three duplicates and
they're nicely spaced it looks
they're nicely spaced it looks
like some number of runs apart so this
like some number of runs apart so this
is probably it just relaunching a Pito
is probably it just relaunching a Pito
optimal
optimal
point
point
right yeah because this is I I imagine
right yeah because this is I I imagine
that this is it just trying to like see
that this is it just trying to like see
for sure if it got it right so this is
for sure if it got it right so this is
actually kind of cool cuz this gives you
actually kind of cool cuz this gives you
the variation uh just with different
the variation uh just with different
seeds essentially you can see it's
seeds essentially you can see it's
actually fairly consistent with
actually fairly consistent with
puffer which is what we would expect
puffer which is what we would expect
larger batch training run should be very
larger batch training run should be very
consistent it' be very odd if it weren't
consistent it' be very odd if it weren't
so that's a nice side effect of doing it
so that's a nice side effect of doing it
this
this
way okay so so far I think that we have
way okay so so far I think that we have
solved the problem from Friday where um
solved the problem from Friday where um
it was just like redoing the same run
it was just like redoing the same run
repeatedly and we have much nicer curves
repeatedly and we have much nicer curves
so I think breakout is kind of okay the
so I think breakout is kind of okay the
one thing I would like to still figure
one thing I would like to still figure
out with breakout is why it's not
out with breakout is why it's not
launching longer runs um because I let
launching longer runs um because I let
it launch up to 25 mil
yeah I let it launch up to 25
yeah I let it launch up to 25
mil and it didn't go more than like
12 it's kind of
weird um let's do time stamp
weird um let's do time stamp
versus what is this
versus what is this
total agent
total agent
steps how long are these runs over
time okay so it did a few of these like
time okay so it did a few of these like
runs over
runs over
here at the start it actually
did some stuff and then it started doing
did some stuff and then it started doing
shorter
runs why would it do that
why would it be doing shorter
runs I think there's a parameter
runs I think there's a parameter
associated with this isn't
there we're going to have to open up the
there we're going to have to open up the
mathy math
paper this one has a annoying like
paper this one has a annoying like
obnoxious amount of math but good paper
obnoxious amount of math but good paper
very good
paper let's
paper let's
see where is
it I remember they had a section on this
it I remember they had a section on this
that was very
important okay acquisition function
important okay acquisition function
clamping and issue with the acquisition
clamping and issue with the acquisition
function is that it uniformly weits
function is that it uniformly weits
improvements across the entire Paro
improvements across the entire Paro
front so yes this is the issue it's
front so yes this is the issue it's
saying that uh it could like say hey me
saying that uh it could like say hey me
improving on like a bad run that's only
improving on like a bad run that's only
2 million steps is just as good as me
2 million steps is just as good as me
improving a longer
run is there a parameter here
EI so they have this function that is
EI so they have this function that is
uniform
weighting the regular expected
weighting the regular expected
Improvement uses y Max equals Max of
Yi we seek to balance between these two
functions I don't think that there's a
functions I don't think that there's a
hyper parameter here
huh so this waiting is not working for
me there are a few changes we can make
me there are a few changes we can make
to make this more consistent though
to make this more consistent though
before we go too deep here so I think on
before we go too deep here so I think on
the to-do list
the to-do list
today uh let's
today uh let's
do we're going to do
do we're going to do
MOA
um smothing we got a smooth out or I
um smothing we got a smooth out or I
think it's actually mobile like step
think it's actually mobile like step
smoothing we got to smooth it out so
smoothing we got to smooth it out so
that we have uh all different games like
that we have uh all different games like
desynchronized because at the moment
desynchronized because at the moment
it's just obnoxious uh like the reward
it's just obnoxious uh like the reward
curves are all over the place we got to
curves are all over the place we got to
do
do
log uh end of train eval to WAND B
log uh end of train eval to WAND B
that's got to
happen eval to want
B okay let's see what
B okay let's see what
else not too much time on
this I think that there were a couple
this I think that there were a couple
environments for which carbs just like
environments for which carbs just like
failed this one looks fine what is this
failed this one looks fine what is this
oh this is the Moa oh yeah yeah so guys
oh this is the Moa oh yeah yeah so guys
this is cool um this is really cool so
this is cool um this is really cool so
uh it looks like this actually worked
uh it looks like this actually worked
incredibly well I think this is what
incredibly well I think this is what
people are here for anyways so I uh I
people are here for anyways so I uh I
made it play the full MOBA I gave it
made it play the full MOBA I gave it
access to skills I gave it access
access to skills I gave it access
to I gave it access to the skills you
to I gave it access to the skills you
know I gave it access to all of its
know I gave it access to all of its
keybinds and I got a lot of additional
keybinds and I got a lot of additional
log data
log data
um I don't know if we want to look at
um I don't know if we want to look at
this just yet I think we finished work
this just yet I think we finished work
looking at Atari first and then we save
looking at Atari first and then we save
this for a few minutes from now because
this for a few minutes from now because
this will take a little longer to go
this will take a little longer to go
through but I have a lot of cool data to
through but I have a lot of cool data to
look at here so that'll be fun in a
minute okay and what is this now so we
minute okay and what is this now so we
had pong
breakout this thing
okay so for some reason beam Rider just
okay so for some reason beam Rider just
totally
totally
failed I don't know why we will have to
failed I don't know why we will have to
go figure that
go figure that
out and
then Enduro looks like it was working
then Enduro looks like it was working
and then something weird happened right
what's the uh the cleen RL uro
result maybe they reported it
where is
this cleaner
this cleaner
Els yeah this
Els yeah this
one so oh they don't do anywhere near as
one so oh they don't do anywhere near as
well as I thought on breakout with the
well as I thought on breakout with the
lstm they only get like 100 and what's
lstm they only get like 100 and what's
this
this
123 so yeah we're not here yet we're
123 so yeah we're not here yet we're
down here but like the train curve for
down here but like the train curve for
this is good and we're going to be way
this is good and we're going to be way
faster in wall
faster in wall
clock
clock
pong oh actually we do we match in
pong oh actually we do we match in
Sample efficiency on pong then don't
we yeah all our pong just works better
we yeah all our pong just works better
that's
that's
cool uh beam Rider is the one that for
cool uh beam Rider is the one that for
whatever reason RS failed
whatever reason RS failed
on I don't think I've ever played this
on I don't think I've ever played this
game I should play this game to see if
game I should play this game to see if
it's
weird oh and that's
weird oh and that's
it that's
it that's
unfortunate they don't have Enduro and
unfortunate they don't have Enduro and
stuff so I guess we'll have to get beam
stuff so I guess we'll have to get beam
Rider to work for a good
Rider to work for a good
comparison okay that's
comparison okay that's
fine and then what happened like I
fine and then what happened like I
assumed that my machine crashed or
assumed that my machine crashed or
something
weird no
weird no
sessions so I think that these machines
sessions so I think that these machines
got rebooted or something
yeah no sessions okay so somehow these
yeah no sessions okay so somehow these
machines got
machines got
rebooted very
rebooted very
weird um no big deal
does this have results for the original
does this have results for the original
po implementation on
Atari yeah they have it
Atari yeah they have it
here Po and all yeah this is what we
here Po and all yeah this is what we
want
want
oops so
breakout which one is
breakout which one is
which Popo's in
red okay so they say and how many frames
red okay so they say and how many frames
is
is
this 40 million okay so they're training
this 40 million okay so they're training
for way longer and mind you they're
for way longer and mind you they're
training with stupidly inefficient
training with stupidly inefficient
settings as well so like you literally
settings as well so like you literally
got to take it all the way down here so
got to take it all the way down here so
yeah they don't do they they do well on
yeah they don't do they they do well on
breakout but they take a while to get
breakout but they take a while to get
there we will do well on breakout but we
there we will do well on breakout but we
will take a while to get there uh they
will take a while to get there uh they
have
have
pong yeah okay so pong we actually just
pong yeah okay so pong we actually just
do better faster than
do better faster than
them uh which is good and then what was
them uh which is good and then what was
the other one we wanted to see
Enduro oh yeah we just we wreck
Enduro oh yeah we just we wreck
them yeah we absolutely wreck
them yeah we absolutely wreck
this the fact that this line is on the
this the fact that this line is on the
ground means there was some bug it's
ground means there was some bug it's
kind of
weird uh cool so we are in a good spot
weird uh cool so we are in a good spot
then and I think that there was I think
then and I think that there was I think
original dqn does decent on uro right
original dqn does decent on uro right
but it takes
forever I mean I comparing to DQ is like
forever I mean I comparing to DQ is like
kind of dumb but
oh no wait they don't do well on Enduro
oh no wait they don't do well on Enduro
either they do well on
either they do well on
breakout this is like 160 mil frames as
breakout this is like 160 mil frames as
well so we're good our policies are just
well so we're good our policies are just
good we got to figure out what happened
good we got to figure out what happened
with beam Rider we got to figure out
with beam Rider we got to figure out
what happened with the rest of our
what happened with the rest of our
experiments oops this is for another
experiments oops this is for another
cool
cool
project I'll share some of this
project I'll share some of this
later um
F beam
Rider maybe figure out why we are not
Rider maybe figure out why we are not
launching longer runs after
smoothing
and now the one thing that people have
and now the one thing that people have
been waiting for I think is the the MOBA
been waiting for I think is the the MOBA
stuff
stuff
obviously so I will talk a little bit
obviously so I will talk a little bit
about
about
that this is just doing the live
that this is just doing the live
analysis for
analysis for
it seeing how we did um 6,000
it seeing how we did um 6,000
runs I'm going to have to clean all
runs I'm going to have to clean all
these up before I do the next release
these up before I do the next release
otherwise W's going to be charging me
otherwise W's going to be charging me
hey Noah
hey Noah
welcome how's your Breakout game going
welcome how's your Breakout game going
we've got uh I actually did a full sweep
we've got uh I actually did a full sweep
on the original breakout over the
on the original breakout over the
weekend uh we have a little issue where
weekend uh we have a little issue where
it's not running long enough jobs but
it's not running long enough jobs but
the initial results are
decent know it's finding better and
decent know it's finding better and
better
better
stuff um it's like a third of the reward
stuff um it's like a third of the reward
that we are wanting for this it should
that we are wanting for this it should
be like 3x higher but the thing is we're
be like 3x higher but the thing is we're
training for like five minutes or
training for like five minutes or
whatever so we're going to be way faster
whatever so we're going to be way faster
on wall clock
on wall clock
anyways was a very small number of
anyways was a very small number of
frames and of course it'll be fun to see
frames and of course it'll be fun to see
with yours how fast we can get this to
with yours how fast we can get this to
go I bet we can just like do the full
go I bet we can just like do the full
sweep and solve the game in 10 minutes
sweep and solve the game in 10 minutes
that'll be
cool so the one thing I did want to go
cool so the one thing I did want to go
through here is the the full MOBA going
through here is the the full MOBA going
fine regular version is looking good
fine regular version is looking good
working on vectorizing it now
working on vectorizing it now
trying to figure out how to hold handle
trying to figure out how to hold handle
terminations in the vectorizer okay so
terminations in the vectorizer okay so
you can look at my other stuff for an
you can look at my other stuff for an
example of that
example of that
um so the vector version is you saw how
um so the vector version is you saw how
I did it right I just made like a step
I did it right I just made like a step
function in scon to avoid the extra call
function in scon to avoid the extra call
Overhead and then like I passed I
Overhead and then like I passed I
allocated like the full tensors and then
allocated like the full tensors and then
I just pass slices to each copy of the
I just pass slices to each copy of the
game that's an easy easy way of doing it
game that's an easy easy way of doing it
you can also do the vectorization in
you can also do the vectorization in
scon itself if you want um and it will
scon itself if you want um and it will
be like marginally
be like marginally
faster um but like but only really
faster um but like but only really
marginally you can still get a million
marginally you can still get a million
steps per second probably without doing
steps per second probably without doing
that though for a single agent game it
that though for a single agent game it
could be worth it and fairly easy yeah
could be worth it and fairly easy yeah
just depends um as for handling
terminations uh there are two things
terminations uh there are two things
that you can do right you can either
that you can do right you can either
just not bother returning a done signal
just not bother returning a done signal
and have the envir handle it
and have the envir handle it
itself that's kind of valid um it makes
itself that's kind of valid um it makes
it a little hard to collect log data but
it a little hard to collect log data but
not really it's it's kind of fine um the
not really it's it's kind of fine um the
other thing that you can do is you can
other thing that you can do is you can
just and I have an example of this like
just and I have an example of this like
I do this in a few of the different
I do this in a few of the different
environments you just pass the vector of
environments you just pass the vector of
duns or whatever into scon and have it
duns or whatever into scon and have it
like set the individual DS whenever it's
like set the individual DS whenever it's
done and then the vend will like call do
done and then the vend will like call do
reset or whatever but I would think that
reset or whatever but I would think that
it's going to be easier to have it like
it's going to be easier to have it like
reset on its
own you're making progress though which
own you're making progress though which
is good and I'm hoping that actually you
is good and I'm hoping that actually you
know this single file like super easy no
know this single file like super easy no
dependency template for high perf Sims
dependency template for high perf Sims
is I think something that could catch on
is I think something that could catch on
and could get a lot of people
and could get a lot of people
contributing different M so I'm going to
contributing different M so I'm going to
work on making that easier and easier
work on making that easier and easier
from what I saw puffer expects itself to
from what I saw puffer expects itself to
done how to set that correct just set it
done how to set that correct just set it
to false and be like you just set that
to false and be like you just set that
to false
to false
easy yeah it's literally just set it to
easy yeah it's literally just set it to
false self DOD is API
false self DOD is API
compatibility
compatibility
um if you're just going to handle your
um if you're just going to handle your
own resets like you you don't need it it
own resets like you you don't need it it
just has to be there and be false like
just has to be there and be false like
this is this is part of the uh this is
this is this is part of the uh this is
just a thing that our rapper usually
just a thing that our rapper usually
maintains like the puffer emulation
maintains like the puffer emulation
rappers maintain self.
rappers maintain self.
they maintain self. num agents they
they maintain self. num agents they
maintain a lot of extra properties right
maintain a lot of extra properties right
so the thing that you're using
so the thing that you're using
technically isn't an API it's the lack
technically isn't an API it's the lack
of the API like the advanced mode is
of the API like the advanced mode is
just lack of an API and you're just
just lack of an API and you're just
making an M that matches the format of
making an M that matches the format of
what puffer vectorization exps and
what puffer vectorization exps and
taking care of all of the hard stuff
taking care of all of the hard stuff
fast under the hood yeah you can handle
fast under the hood yeah you can handle
resets fine um make sure you know you do
resets fine um make sure you know you do
return infos like end of episode infos
return infos like end of episode infos
or whatever but I don't think I've ever
or whatever but I don't think I've ever
seen an instance where
seen an instance where
like it really matters if you have the
like it really matters if you have the
done signal or not I mean purists are
done signal or not I mean purists are
going to say that technically it screws
going to say that technically it screws
up generalized Advantage estimation yada
up generalized Advantage estimation yada
yada yada I in practice I haven't really
yada yada I in practice I haven't really
seen it do that um especially for really
seen it do that um especially for really
long games um you know the other thing
long games um you know the other thing
that you can do is if you want it to be
that you can do is if you want it to be
really really technically
really really technically
correct what you do is um you have it
correct what you do is um you have it
return like done signals wait let me
return like done signals wait let me
think
I think you would have it
return whatever do it do it just handle
return whatever do it do it just handle
resets yourself for now and then I'll
resets yourself for now and then I'll
help you think about if there's a better
help you think about if there's a better
way to handle terminations later all
way to handle terminations later all
right just do the resets yourself for
right just do the resets yourself for
now and get it so that it can train
now and get it so that it can train
we'll maybe handle we'll maybe have it
we'll maybe handle we'll maybe have it
return a done signal later on I'll help
return a done signal later on I'll help
you with that though
in the meantime we've got lots of cool
in the meantime we've got lots of cool
results here
results here
so they're gaining a lot more levels and
so they're gaining a lot more levels and
doing a lot more cool stuff in the Moa
doing a lot more cool stuff in the Moa
and all I did was I gave them access to
and all I did was I gave them access to
their full set of skills and we actually
their full set of skills and we actually
can see which skills are better and
can see which skills are better and
which skills are worse because we can
which skills are worse because we can
see how often they use them so like the
see how often they use them so like the
support uses its w a
support uses its w a
ton uh burst doesn't use its e a lot
ton uh burst doesn't use its e a lot
tank doesn't use its e a
tank doesn't use its e a
lot burst W is good support Q is good
burst Q is
burst Q is
good assassin W is
good assassin W is
good so we can actually see how good all
good so we can actually see how good all
the skills are for balancing purposes
the skills are for balancing purposes
which is really
nice do we have um
entropy oh look at that entropy is fixed
entropy oh look at that entropy is fixed
yeah entropy is way higher
now so this kind of helped it's possible
now so this kind of helped it's possible
that the move component still has a
that the move component still has a
really bad uh low entropy but overall
really bad uh low entropy but overall
this seems like it's
this seems like it's
fixed you got some chime can you check
fixed you got some chime can you check
out how many steps you're currently you
out how many steps you're currently you
get on your machine for breakout my
get on your machine for breakout my
Hardware sucks a bit it's 30 to 40K man
Hardware sucks a bit it's 30 to 40K man
I'll show
you oh for your Breakout
you oh for your Breakout
yeah I can do the Baseline for you
yeah I can do the Baseline for you
um I'll do that right now why
not I think I already have it set up
not I think I already have it set up
locally so my machine is not amazing
locally so my machine is not amazing
local but uh it'll be a decent proxy I'd
local but uh it'll be a decent proxy I'd
say
start
Docker any special branches
Dev
Branch why does pull not do anything
kit
pull I pull from I what do I do to sync
pull I pull from I what do I do to sync
the
thing is it just get fetch up
stream uh I'll just do it with the the
stream uh I'll just do it with the the
stupid UI shows you how often I'm
stupid UI shows you how often I'm
usually the one that people are forking
usually the one that people are forking
stuff off
stuff off
of
right where is it is it just in
repos
repos
uh
uh
think not
think not
behind Dev
there we
go probably have to pip install
right so these files I would if you can
right so these files I would if you can
um if you're going to PR stuff I would
um if you're going to PR stuff I would
Vis not committing the
htmls
htmls
um you got a little test that's
um you got a little test that's
good but since you have the HTML I maybe
good but since you have the HTML I maybe
I'll look at
it can I just load this up in here
actually I think it'll load in here
actually I think it'll load in here
right if I just open your
HTML is there no viewer in
HTML is there no viewer in
here it's obnoxious I thought get Hub
here it's obnoxious I thought get Hub
add an
add an
HTML well
whatever uh see was it break
whatever uh see was it break
out where is the test
function is there a test. pi
meantime let me just grab this
file well done on this logic at
file well done on this logic at
least this is uh all C
except
except
this this is nothing though this is just
this this is nothing though this is just
the uh the line number thing itself this
the uh the line number thing itself this
is fine this should be
purec some quite substantial logic in
purec some quite substantial logic in
here
check
check
[Music]
Collision One useful trick for you uh
Collision One useful trick for you uh
you can assign variables in a cdef if
you can assign variables in a cdef if
you look at the example you can do like
you look at the example you can do like
cdef colon and you can start a block and
cdef colon and you can start a block and
you can do float rectangle left equal
you can do float rectangle left equal
rectangle position zero float rectangle
rectangle position zero float rectangle
right cleans it up quite a
right cleans it up quite a
bit would probably help over here with
bit would probably help over here with
some stuff as well maybe you could like
some stuff as well maybe you could like
you know with this stuff would
you know with this stuff would
help uh this is all nice
though does this actually work you pass
though does this actually work you pass
a memory view like
a memory view like
this
H code looks good
though I don't see a a performance
though I don't see a a performance
tester on this so I should I just add
tester on this so I should I just add
one myself
usually I just put one in here unless do
usually I just put one in here unless do
you have a test file I see a c test. pix
you have a test file I see a c test. pix
like I'm I'm assuming that you have a
like I'm I'm assuming that you have a
test. pi that I just forgot to that you
test. pi that I just forgot to that you
just didn't
just didn't
commit so if you have one would save me
commit so if you have one would save me
a second
and just grab this one I
guess no I don't know how it got
guess no I don't know how it got
okay no
worries what it action space
or m.
step module not
step module not
found breakout C Breakout
this is not in your setup.py
need to add this
here
for e
woh scaler does this code build on your
woh scaler does this code build on your
latest
version I didn't think that this like
version I didn't think that this like
this didn't look good to me this uh long
this didn't look good to me this uh long
I don't think you can do this
so I don't think you can pass like this
so I don't think you can pass like this
I think you have to do c death
um
it I think you have to do this
for e
nump
[Music]
N64 kind of confused about this is this
N64 kind of confused about this is this
supposed to be is this vector right
supposed to be is this vector right
now this is not vectorized at the
now this is not vectorized at the
[Music]
moment so
okay just do
this looks like that runs
I don't know if you actually have
I don't know if you actually have
rendered this yet if it plays
73,000 so that's probably like 150 2
73,000 so that's probably like 150 2
thou 200,000 on my bigger
machine does this render code
work can I like
can I do
this
this
whoa nice job holy hell well
whoa nice job holy hell well
done it's so funny it takes over youw
done it's so funny it takes over youw
yeah you did this perfect
yeah you did this perfect
oops we're going to have to try to make
oops we're going to have to try to make
it one to
it one to
one I don't worry about
that feels pretty
slow so um breakout runs at
slow so um breakout runs at
60 UH 60 FPS usually with frame skip
60 UH 60 FPS usually with frame skip
four or five
so that's the other thing is we're going
so that's the other thing is we're going
to have to do frame skip which is going
to have to do frame skip which is going
to slow everything down by a factor of
to slow everything down by a factor of
four or five
four or five
maybe though you can probably make it
maybe though you can probably make it
faster we'll
faster we'll
see anyways uh well done nice project uh
see anyways uh well done nice project uh
I get 70 some odd
I get 70 some odd
thousand yeah it's okay I'll we'll talk
thousand yeah it's okay I'll we'll talk
about how to make that fast because
about how to make that fast because
there's some optimizations we can do um
there's some optimizations we can do um
and we don't even have to implement
and we don't even have to implement
sticky actions
sticky actions
isn't that
isn't that
nice because those are freaking
nice because those are freaking
broken yeah this is a good job uh you
broken yeah this is a good job uh you
want me to make this
want me to make this
PR got I added a few things added this
setup it'll get a lot faster when
setup it'll get a lot faster when
uh the breakout PX
grid
grid
Moma
Moma
M minor fixes and perf
M minor fixes and perf
tests out
live PRS on stream are fun
there you
there you
go dude that's a lot of line changes
go dude that's a lot of line changes
wait what did I do hold on let me make
wait what did I do hold on let me make
sure I didn't break
anything oh it's because it's the HTML
anything oh it's because it's the HTML
file is is changed a bunch yeah it's
file is is changed a bunch yeah it's
fine you can merge that
sh e
I honestly do not understand why people
I honestly do not understand why people
like
like
JavaScript know I mean
nuts language isn't bad just the
nuts language isn't bad just the
ecosystem is
ecosystem is
ridiculous okay
ridiculous okay
um we let's see let's finish up the
um we let's see let's finish up the
analysis from before and then we got
analysis from before and then we got
some work to do on the Moa we got work
some work to do on the Moa we got work
to do on Atari we got lot a cool work to
to do on Atari we got lot a cool work to
do so where did it
do so where did it
go where did my sweet page
go this is not it is it yeah this is it
go this is not it is it yeah this is it
okay so here's the
sweep I guess we just
sweep I guess we just
um see which of these is any
um see which of these is any
good this one good
good this one good
or is this one just
or is this one just
lucky oh no this one is
lucky oh no this one is
solid
solid
see Tower reward is going up and up and
see Tower reward is going up and up and
up one crash at the end is
up one crash at the end is
weird this could just be due to um end
weird this could just be due to um end
of episode weird averaging
of episode weird averaging
though clip
though clip
[Music]
fraction I mean the total levels gained
fraction I mean the total levels gained
wouldn't go up if it crashed right at
wouldn't go up if it crashed right at
the end would
the end would
it so I assume that this is like some
it so I assume that this is like some
weird
Quirk this looks
nice o wait the levels are really
nice o wait the levels are really
low hold
low hold
on dire
on dire
level where's radiant
level why are the levels this low
level why are the levels this low
are they winning the game super
are they winning the game super
fast that's probably it right they're
fast that's probably it right they're
probably just winning the game super
probably just winning the game super
fast because the skills are
fast because the skills are
overpowered okay that's fine then so
overpowered okay that's fine then so
let's
let's
um let's do a couple of things
um let's do a couple of things
let's grab these
let's grab these
hypers we'll show you the workflow for
hypers we'll show you the workflow for
this you only need the left side of my
this you only need the left side of my
screen so
Dev
Branch I think that we're supposed to be
Branch I think that we're supposed to be
on the MOBA Branch hold on it might be
on the MOBA Branch hold on it might be
the other
the other
box we're going to run this exper exp
M welcome YouTube
folks all the stuff you're seeing here
folks all the stuff you're seeing here
is um available on the paper repo right
is um available on the paper repo right
here go ahead and start on your way in
here go ahead and start on your way in
we're almost at 750 which is awesome but
we're almost at 750 which is awesome but
all this is in the dev Branch all open
all this is in the dev Branch all open
source
wait what branch are we in yeah this is
wait what branch are we in yeah this is
the right machine then that
the right machine then that
us cool so this is up to
us cool so this is up to
date
date
[Music]
um we have to set some hyper parameters
um we have to set some hyper parameters
here and then we got to run this
experiment yeah that's what we'll do
experiment yeah that's what we'll do
so let's sanity check these as we're
so let's sanity check these as we're
going through reward death
going through reward death
increased it's reasonable they should
increased it's reasonable they should
not be
not be
dying distance reward
dying distance reward
is actually kind of ludicrously
is actually kind of ludicrously
high so I'm assuming that they're just
high so I'm assuming that they're just
running straight down
running straight down
mid which is not
mid which is not
bad that's like a reasonable initial
bad that's like a reasonable initial
strategy just rush mid and then Tower
strategy just rush mid and then Tower
reward is very close to the maximum it
reward is very close to the maximum it
can set it as high as
five these are good
rewards and let's see the train
rewards and let's see the train
parameters batch size is the same as
parameters batch size is the same as
before BPT Horizon goes from 4 to eight
before BPT Horizon goes from 4 to eight
which is more
reasonable clip coefficient
reasonable clip coefficient
is about the same as
before entropy is is this a higher
before entropy is is this a higher
entropy
value yes this is a higher entropy value
value yes this is a higher entropy value
okay that's good I was a little
okay that's good I was a little
suspicious of how low it was
suspicious of how low it was
before n batch size Yep this doesn't get
before n batch size Yep this doesn't get
tuned uh GAE Lambda of .9 is very
tuned uh GAE Lambda of .9 is very
reasonable way more reasonable than
reasonable way more reasonable than
before however ever the uh the gamma
before however ever the uh the gamma
value is a little
value is a little
disappointing this means it's making
disappointing this means it's making
very short-term
very short-term
decisions so this strategy is uh while
decisions so this strategy is uh while
it might actually perform well is
it might actually perform well is
probably not amazing longer term not
probably not amazing longer term not
terrible one e minus three learning rate
terrible one e minus three learning rate
is substantially nicer than before I
is substantially nicer than before I
don't know why it said it's so low
don't know why it said it's so low
earlier with these giant batch
earlier with these giant batch
sizes maximum gradient Norm is a little
sizes maximum gradient Norm is a little
bit high but if if it's stable it's
bit high but if if it's stable it's
stable
right was that everything oh no we
right was that everything oh no we
doubled the mini batch size as well
doubled the mini batch size as well
that's actually kind of cool so it's
that's actually kind of cool so it's
it's using larger mini batches I was
it's using larger mini batches I was
getting a little suspicious of how small
getting a little suspicious of how small
the mini batch was relative to the batch
the mini batch was relative to the batch
so that's always nice M workers all this
so that's always nice M workers all this
stuff is fine update EPO is
stuff is fine update EPO is
two that's better than
two that's better than
before and and we also have this value
before and and we also have this value
function clip coefficient which was 0.14
function clip coefficient which was 0.14
before and is now 0.02 okay that is very
before and is now 0.02 okay that is very
very
very
low um which is very odd however the
low um which is very odd however the
value function coefficient is much more
value function coefficient is much more
reasonable now that's kind of okay and
reasonable now that's kind of okay and
then the number of time steps here this
then the number of time steps here this
was trained for 600 million we'll keep
was trained for 600 million we'll keep
it at 500 for uh for
it at 500 for uh for
now we could just keep training it for
now we could just keep training it for
longer and longer right it's fine
and that should be
everything
oops I don't know why it was set to read
oops I don't know why it was set to read
only that's
weird
weird
Okay
Okay
python
python
MOBA train back
multiprocessing uh track
Baseline we'll see if this runs and if
Baseline we'll see if this runs and if
so this will give us nice model that we
so this will give us nice model that we
can then play around with and we can
can then play around with and we can
balance skills and stuff based
on so did you figure out the carbs bug I
on so did you figure out the carbs bug I
think so I'll show you in a second um
think so I'll show you in a second um
okay this is good we're training at over
okay this is good we're training at over
five
five
00k and we were getting lots of metrics
00k and we were getting lots of metrics
and it's using all skills so MOA is
solid so um reu I
did hold on I'll be right back give me
did hold on I'll be right back give me
give me one minute I got to go like fix
give me one minute I got to go like fix
the AC and stuff and then we'll get into
the AC and stuff and then we'll get into
the carbs bug and uh there's some Atari
the carbs bug and uh there's some Atari
stuff as well because a lot of stuff
stuff as well because a lot of stuff
happened over the weekend be right back
happened over the weekend be right back
folks
e e
okay so carbs bug um
okay so carbs bug um
it was kind of weird in that it sort of
it was kind of weird in that it sort of
just disappeared after all the stuff I
just disappeared after all the stuff I
messed with so I think it was either a
messed with so I think it was either a
combination of like RNG being weird like
combination of like RNG being weird like
weird
weird
seating
seating
um and maybe the lack of sampling at the
um and maybe the lack of sampling at the
start but I haven't seen it since in all
start but I haven't seen it since in all
the runs they all look very
the runs they all look very
good there are a few things that still
good there are a few things that still
need to be
need to be
fixed um
fixed um
right now carbs is not
right now carbs is not
sampling in my opinion it is not
sampling in my opinion it is not
sampling longer experiments quickly
sampling longer experiments quickly
enough like it's spending way too much
enough like it's spending way too much
time on these like short little piddly
time on these like short little piddly
experiments that don't really do much so
experiments that don't really do much so
we have to look at that uh we got to
we have to look at that uh we got to
look at smoothing out the reward
look at smoothing out the reward
functions or smoothing out the
functions or smoothing out the
evaluation
evaluation
functions yeah hey Nathan
welcome we got to work on smoothing out
welcome we got to work on smoothing out
the uh the evaluation function functions
the uh the evaluation function functions
as well actually I have the twoo for
as well actually I have the twoo for
today is right here um we got to make
today is right here um we got to make
the Moa function smoother um right now
the Moa function smoother um right now
like all the games start and it takes
like all the games start and it takes
forever for them to get desynchronized
forever for them to get desynchronized
so we get these really weird fun uh
so we get these really weird fun uh
really weird train
really weird train
curves um we've got to improve the w b
curves um we've got to improve the w b
logging so that we get consistent
logging so that we get consistent
estimates at the end of training that'll
estimates at the end of training that'll
help with carbs a little bit uh we got
help with carbs a little bit uh we got
to figure out what happened with some of
to figure out what happened with some of
the other atars M that didn't run the
the other atars M that didn't run the
ones that have run are good um but like
ones that have run are good um but like
I think all my machines got rebooted
I think all my machines got rebooted
over the weekend or something um I think
over the weekend or something um I think
there was like a power surge and then
there was like a power surge and then
yeah that maybe figure out why we're not
yeah that maybe figure out why we're not
launching longer runs that's the plan
launching longer runs that's the plan
for today and then at some point this
for today and then at some point this
week the thing that really annoys me
week the thing that really annoys me
with the Moa project right now is I know
with the Moa project right now is I know
we're going to get stuck on Elo like
we're going to get stuck on Elo like
pretty much everything I need for this
pretty much everything I need for this
project is in place except for ELO like
project is in place except for ELO like
there's no way for us to finish this
there's no way for us to finish this
project um until we have a way to tell
project um until we have a way to tell
that the agents are getting higher win
that the agents are getting higher win
rate versus older policies over time and
rate versus older policies over time and
I've done this before and it just adds a
I've done this before and it just adds a
whole mess of code into everything like
whole mess of code into everything like
I know how to do it I don't know how to
I know how to do it I don't know how to
do it in a way that's not going to make
do it in a way that's not going to make
me want to tear my hair
me want to tear my hair
out so we'll have to figure that
out so we'll have to figure that
but other than that everything is going
but other than that everything is going
uh everything is going well here oh and
uh everything is going well here oh and
then uh for the regulars here we did
then uh for the regulars here we did
very well with puffer over the weekend
very well with puffer over the weekend
uh I had a silly post blow up and we got
uh I had a silly post blow up and we got
like 30 plus Stars over the weekend and
like 30 plus Stars over the weekend and
we are almost two away from 750 so if
we are almost two away from 750 so if
there are two people who have not uh
there are two people who have not uh
started this yet watching this now we
started this yet watching this now we
could hit 750 right now which would be
could hit 750 right now which would be
pretty
pretty
awesome um
awesome um
I'm trying to figure out what we're
I'm trying to figure out what we're
going to do for like a 1,000 star launch
going to do for like a 1,000 star launch
I think we'll try I'm going to just
I think we'll try I'm going to just
grind as much as I can and try to get
grind as much as I can and try to get
the simulation update out by then
the simulation update out by then
um uh there's also a video I started
um uh there's also a video I started
working on more over the weekend that's
working on more over the weekend that's
going to be really cool there's just so
going to be really cool there's just so
much so much work to do on it so much
much so much work to do on it so much
work but there are a lot of things I'm
work but there are a lot of things I'm
really excited about right now happening
really excited about right now happening
with puffer um I actually think that
with puffer um I actually think that
we're like we're 90% of the way to have
we're like we're 90% of the way to have
RL being a useful and consistent thing
RL being a useful and consistent thing
like we're actually already 90% of the
like we're actually already 90% of the
way there we just need everything to be
way there we just need everything to be
cleaned up and then we need to have U
cleaned up and then we need to have U
more you know more test environments and
more you know more test environments and
more bench more benchmarks on them but I
more bench more benchmarks on them but I
think we've actually got everything else
think we've actually got everything else
done like RL is actually way less cursed
done like RL is actually way less cursed
already we just need to fix you know
already we just need to fix you know
those last few things I have a few other
those last few things I have a few other
things I'm looking at longer term for
things I'm looking at longer term for
sure
sure
um but yeah with h with how well puffer
um but yeah with h with how well puffer
has been going
has been going
lately uh I'm also probably going to do
lately uh I'm also probably going to do
some stuff around puffer as a company
some stuff around puffer as a company
probably start seeing if companies are
probably start seeing if companies are
interested in uh services around puffer
interested in uh services around puffer
but as I've promised everything is
but as I've promised everything is
staying fully open source I'm going to
staying fully open source I'm going to
keep streaming doing all this cool
keep streaming doing all this cool
full-time Dev um it's just that we might
full-time Dev um it's just that we might
also find on the side some ways to do
also find on the side some ways to do
like you know um priority featur for
like you know um priority featur for
companies right if they want to feature
companies right if they want to feature
faster or something they can pay uh they
faster or something they can pay uh they
can pay to have it developed faster for
can pay to have it developed faster for
them something like
them something like
that so I can build out the uh the
that so I can build out the uh the
cluster a little bit more and get a bit
cluster a little bit more and get a bit
of Revenue on
of Revenue on
it but those are most of the plans for
it but those are most of the plans for
now those are most of the
plans if you have time of course I got
plans if you have time of course I got
all the time in the world
all the time in the world
I
I
have one major time commitment next week
have one major time commitment next week
that's going to probably take me out of
that's going to probably take me out of
action for a couple of days uh and then
action for a couple of days uh and then
I have like nothing else planned like
I have like nothing else planned like
this is all I'm doing so we good
this is all I'm doing so we good
honestly the main thing that's been just
honestly the main thing that's been just
like eating into my time and energy has
like eating into my time and energy has
just been the amount of running I've
just been the amount of running I've
been doing lately um but that
been doing lately um but that
is the the mileage is going to come down
is the the mileage is going to come down
a bit after after after next week so
a bit after after after next week so
that'll be good have a little more
time I have a little less energy than
time I have a little less energy than
normal though cuz I'm doing a minor
normal though cuz I'm doing a minor
weight cut this week in preparation for
weight cut this week in preparation for
for my uh my race well not race but my
for my uh my race well not race but my
long run
okay let's see where we
okay let's see where we
start I think we're going to start
with
with
well I do kind of want to figure out why
well I do kind of want to figure out why
this is not launching
this is not launching
longer
longer
experiments we can do that incrementally
experiments we can do that incrementally
though check this paper this dude used
though check this paper this dude used
RL a bot in rocket
RL a bot in rocket
League level is the same top twos player
League level is the same top twos player
worldwide huh that's
cool yeah these are the types of
cool yeah these are the types of
projects I want to support with
puffer so pretty much my goal is like
puffer so pretty much my goal is like
whenever anybody has a cool project like
whenever anybody has a cool project like
that if it's open source um I want to be
that if it's open source um I want to be
able to sponsor compute for it and you
able to sponsor compute for it and you
know resources
GitHub coming
soon is this
soon is this
it RL
RL yeah respect for these types of
RL yeah respect for these types of
projects this is not easy to
do spinning
up jeez he did this with spinning
up that's tough
huh cool
project definitely cool
project definitely cool
project not this
project not this
guy oh not this
guy I there were two separate projects
guy I there were two separate projects
doing
doing
this is it this one from two years ago
oh wait this is a big what the
heck this is not
heck this is not
it apparently there was a different one
it apparently there was a different one
from
Germany oh Seer
Germany oh Seer
reinforcement I I missed the R I thought
reinforcement I I missed the R I thought
it was
C oh cool this is somebody's Master's
thesis as Zurich
better than 50% of the player
base and they use PPL
shared
lstm so this exact thing is what we need
lstm so this exact thing is what we need
to do now it's at Pros level sweet this
to do now it's at Pros level sweet this
exact thing is the thing that I'm that
exact thing is the thing that I'm that
we have to do for um for the DOTA bot
we have to do for um for the DOTA bot
and this is the thing that I just don't
and this is the thing that I just don't
want to do right now because it's such a
want to do right now because it's such a
pain in the ass to do like simply and
pain in the ass to do like simply and
quickly but yeah we have to do this we
quickly but yeah we have to do this we
have to be able to have uh 20% of the
have to be able to have uh 20% of the
games be played against older
games be played against older
Bots is
hard physics ticks and then policy time
hard physics ticks and then policy time
step
lstm Yep this is all this is what you'd
expect this true skill graph is what we
expect this true skill graph is what we
want this is actually very well
want this is actually very well
done is very very difficult to do this
done is very very difficult to do this
for this to be like a single Master
for this to be like a single Master
student thesis is very impressive
holy hell tuning this is a pain in the
ass look at all
this yeah like all these
things this is the type of stuff that
things this is the type of stuff that
needs to be automated now the cool thing
needs to be automated now the cool thing
is when you have really fast Ms and
is when you have really fast Ms and
Hyper pram sweeps you can get away with
Hyper pram sweeps you can get away with
simpler rewards usually and they just
simpler rewards usually and they just
get tuned
get tuned
better so hopefully at least some of
better so hopefully at least some of
this will get easier but this is a lot
who is this guy let me
who is this guy let me
see true
see true
skill if you use the python package the
skill if you use the python package the
python package is a pain in the
python package is a pain in the
ass for this
uh supervised
uh supervised
[Music]
learning okay so they used a little bit
learning okay so they used a little bit
of uh it looks like they used some human
data oh no they do get random
data oh no they do get random
okay yeah yeah they do it they do it
okay yeah yeah they do it they do it
from random okay this is cool
world
champion one E10 10 billion
steps month and a
steps month and a
half
half
so he streams viewers vers that's cool
so he streams viewers vers that's cool
so here's the fun thing with this this
so here's the fun thing with this this
one 10 steps right if you just implement
one 10 steps right if you just implement
your game efficiently this one E10 steps
your game efficiently this one E10 steps
can be one
can be one
day this is the promise of puffer so
day this is the promise of puffer so
month and a
month and a
half right with puffer and the MS that
half right with puffer and the MS that
I'm building and it's very possible we
I'm building and it's very possible we
could have an M like this as well right
could have an M like this as well right
but the goal is to have m's at least of
but the goal is to have m's at least of
this
this
complexity and then this one 10 steps
complexity and then this one 10 steps
this 10 billion steps you get it done in
this 10 billion steps you get it done in
a
a
day we can do this with our mobo right
day we can do this with our mobo right
now so you know anything of that
now so you know anything of that
complexity we can just
do thing is on Windows what the hell
they do oh yep stable Bas
lines ah this true skill package
lines ah this true skill package
sucks I've been burned by this package
sucks I've been burned by this package
many
times very nice
Neville
wallow does he have a
Twitter nope
oh yeah this looks like him
oh yeah this looks like him
right Masters yeah this got to be him
right Masters yeah this got to be him
yes
here usually in the
here usually in the
gym usually in the gym
I don't think he has a
I don't think he has a
Twitter
Twitter
geez got to have a Twitter in ml these
days Flappy
days Flappy
Ball oh this is a game that's
funny huh this is like a lot of cool
funny huh this is like a lot of cool
stuff to just randomly do this project
stuff to just randomly do this project
like this is not a trivial thing to
like this is not a trivial thing to
do this type of is quite
hard if this is I'm assuming like a
hard if this is I'm assuming like a
2-year project yeah that's quite hard to
do like building stuff for this is not
do like building stuff for this is not
easy well
easy well
okay
okay
um that was a fun
um that was a fun
distraction we do we have work to do
distraction we do we have work to do
though
so I think what we want to start off
so I think what we want to start off
with
is let's start by fixing
is let's start by fixing
the the last point of the train
the the last point of the train
curves it's not a problem for the
curves it's not a problem for the
Moa but for like Enduro if we go look at
Moa but for like Enduro if we go look at
this one like this point
here I bet you it's going to be
noisy okay you see like right here this
noisy okay you see like right here this
point here
point here
is like this very Peak up here it's
is like this very Peak up here it's
taking like this last point that happens
taking like this last point that happens
to be a high sample we need it to take a
to be a high sample we need it to take a
smooth sample because this should not be
smooth sample because this should not be
up there this is like this looks like it
up there this is like this looks like it
should be 1500 not 1,800 and that's
should be 1500 not 1,800 and that's
probably impairing the uh it's impairing
probably impairing the uh it's impairing
like our stats on stuff so let's fix
like our stats on stuff so let's fix
that and then we'll go from there
did we hit 750 while I was
talking ah no still two
off how's this going oh we did finish
off how's this going oh we did finish
this run
this run
though that's
though that's
nice so uh
nice so uh
uh yeah let's go back to the local box
then status
we'll get to check out the mobile
we'll get to check out the mobile
policy see how that is we'll get to do
policy see how that is we'll get to do
the smoothing we'll launch some more
the smoothing we'll launch some more
experiments and we'll see where we go
experiments and we'll see where we go
from
from
there and that true skill thing is so
there and that true skill thing is so
obnoxious like I had a system to do this
obnoxious like I had a system to do this
actually in the old version and I ripped
actually in the old version and I ripped
it out because of what a pain in the ass
it out because of what a pain in the ass
it was like I used to have this in
it was like I used to have this in
puffer Leb but it was such a pain in the
puffer Leb but it was such a pain in the
ass that we ended up not using it it's
ass that we ended up not using it it's
really hard to build those types of
really hard to build those types of
systems in a way that's just not
systems in a way that's just not
incredibly
painful actually I've never seen a
painful actually I've never seen a
design for it that is not incredibly
design for it that is not incredibly
painful and put it even more
strongly m
what the heck mode eval render mode
what the heck mode eval render mode
Raab Bas
one what do we
one what do we
have anything
well this can't be it
right no come on tell me this is not the
policy let's can't be it right
how on Earth would something like that
how on Earth would something like that
have gotten such high rewards right
it'll be so unfortunate
is that actually the
policy so how is this
possible that this thing has gained like
possible that this thing has gained like
tons of levels
we'll need some stats on this but this
we'll need some stats on this but this
definitely is not what we expected out
definitely is not what we expected out
of it that's unfortunate
um I'm assuming that there's some glitch
um I'm assuming that there's some glitch
that's like allowing them to kill each
that's like allowing them to kill each
other for
other for
XP that would be the most likely thing
XP that would be the most likely thing
in my mind cuz if they're there just
in my mind cuz if they're there just
killing each other for XP they're
killing each other for XP they're
probably just farming that reward
okay
um right let's start with fixing
so the way that this works at the
moment I kind of just punted on this I'm
moment I kind of just punted on this I'm
going to be
honest I just ran like evaluate a few
honest I just ran like evaluate a few
more
more
times and then I appended
times and then I appended
logs
logs
um so that's not great
so we'll do
do I have to log all these stats
again I'm trying to think of a clean way
again I'm trying to think of a clean way
to get all these stats into the
uh yeah so Wan B logs during train here
h
what's a clean way to do
this well I'm actually getting kind of
this well I'm actually getting kind of
noisy logs right
noisy logs right
now I'm just because of the
now I'm just because of the
way that I'm handling
data it's like subsampling
right okay so there's a lot of like
right okay so there's a lot of like
housekeeping we have to do today in
housekeeping we have to do today in
order to get this done right the goal
order to get this done right the goal
will be that if we can get smooth much
will be that if we can get smooth much
smoother uh eval metrics
smoother uh eval metrics
then that should make it substantially
then that should make it substantially
easier both to see what our carb sweeps
easier both to see what our carb sweeps
are doing and for our carb sweeps to
are doing and for our carb sweeps to
select uh which runs are the
select uh which runs are the
best so we'll do
best so we'll do
that yeah that'll be
that yeah that'll be
important
important
and what
and what
else we'll fix some Atari M we'll rerun
else we'll fix some Atari M we'll rerun
some
some
sweeps and that'll basically have our
sweeps and that'll basically have our
usage of atar is a baseline set up so
usage of atar is a baseline set up so
we'll have all our nice baselines on
we'll have all our nice baselines on
Atari we'll get optimal hyper parameters
Atari we'll get optimal hyper parameters
out of those for all the atar MS I think
out of those for all the atar MS I think
we're going to do separate optimal hyper
we're going to do separate optimal hyper
prams unless they end up being very
prams unless they end up being very
similar so we'll have you know very nice
similar so we'll have you know very nice
clean training configs for each of the
clean training configs for each of the
uh at least the seven default Atari
uh at least the seven default Atari
environments plus any others that I
environments plus any others that I
think are fun or
interesting we'll fix the Moa
interesting we'll fix the Moa
stepping
stepping
stuff so we'll make sure all the M's are
stuff so we'll make sure all the M's are
like offset from each other or
like offset from each other or
whatever that'll give us cleaner
whatever that'll give us cleaner
training curves and then we'll see if we
training curves and then we'll see if we
can figure out
can figure out
why uh why it's learned a crap policy
why uh why it's learned a crap policy
even though the sweep says it's learned
even though the sweep says it's learned
a good
a good
policy
policy
123 yeah it's a good
123 yeah it's a good
agenda okay so the first thing I have to
agenda okay so the first thing I have to
figure out
figure out
here let's start with the easier problem
yeah let's start with the easier
problem if profile.
problem if profile.
update what is
this okay so it says when you update
is in
here I think this can just be or done
training oh no this one this done
training oh no this one this done
training is
training is
not great because you get the last
not great because you get the last
little bit of data or you get the last
little bit of data or you get the last
little bit of data out of
it okay so what we're going to do is I
it okay so what we're going to do is I
think we'll pull
think we'll pull
the we'll potentially we'll like
the we'll potentially we'll like
pull um additional stats or something
pull um additional stats or something
into this Loop somehow
done
training there's no way
data wait if data is not none if WB is
data wait if data is not none if WB is
not
not
none
none
and Global step is greater than zero we
and Global step is greater than zero we
don't need to check
don't need to check
that yeah we don't need to check any of
that yeah we don't need to check any of
this this profile update should already
this this profile update should already
tell us everything we
need this will give us the nice
need this will give us the nice
consistent uh this should give us the
consistent uh this should give us the
nice consistent
metric if Global step is zero you return
metric if Global step is zero you return
true
where does global step get
updated where's Global step get
updated gets updated and
updated gets updated and
evaluate okay so that makes no sense the
evaluate okay so that makes no sense the
way I had it before there have been a
way I had it before there have been a
bunch of like weird little dashboard
bunch of like weird little dashboard
things that have been screwy with puffer
things that have been screwy with puffer
lib and I think that they're actually
lib and I think that they're actually
mattering here because uh our hyper Prem
mattering here because uh our hyper Prem
sweeps in particular rely on very good
sweeps in particular rely on very good
estimates of the Network's performance
estimates of the Network's performance
and if those are inaccurate because
and if those are inaccurate because
we've been doing screwy things with
we've been doing screwy things with
logging and taking Point estimates
logging and taking Point estimates
instead of means then that's going to
instead of means then that's going to
mess us up
mess us up
badly so I think that we'll start with
badly so I think that we'll start with
we'll start with figuring how to how to
we'll start with figuring how to how to
aggregate data
aggregate data
better
um what is this data
um what is this data
object Epoch Global
object Epoch Global
step stats losses profile okay so all we
step stats losses profile okay so all we
need is this this stats thing needs to
need is this this stats thing needs to
not
not
reset
right so we'll just what we'll do is
right so we'll just what we'll do is
data. stats
data. stats
okay right here this is data. stats
okay right here this is data. stats
equal to nothing or
equal to nothing or
whatever uh we're going to get rid of
this yeah yeah yeah here you go so it's
this yeah yeah yeah here you go so it's
it's already empty here so we don't need
it's already empty here so we don't need
this we don't need to reset
it this is fine that we're just going to
it this is fine that we're just going to
collect the latest map for Pokemon this
collect the latest map for Pokemon this
is like specific spe ific code anyways
is like specific spe ific code anyways
we don't
we don't
care this is fine that we're just going
care this is fine that we're just going
to collect a
to collect a
stat
and data. Stat of
K I think this is a default dictionary
K I think this is a default dictionary
of list right that we should
do we'll do
o I don't know what data type this is
o I don't know what data type this is
the
problem so we're going to need to do a
problem so we're going to need to do a
little bit of checking on data types
little bit of checking on data types
here I don't know if this is always
here I don't know if this is always
going to be uh a list or an array so we
going to be uh a list or an array so we
we may as well do all of this right now
we may as well do all of this right now
because this is I mean this is ultra
because this is I mean this is ultra
important for puffer stability and it
important for puffer stability and it
should also give us the result that we
should also give us the result that we
want immediately which is better hyper
want immediately which is better hyper
Prem
sweeps I should also mention that
I don't know if we'll get to it this
I don't know if we'll get to it this
week but I have some ideas that might
week but I have some ideas that might
make puffer lib like an extra 20% faster
make puffer lib like an extra 20% faster
as
as
well that are
related semi-
related okay data
stats do we have default yeah we have
stats do we have default yeah we have
default dick any anyways
right make stats of default dictive
lists I really don't like doing is
lists I really don't like doing is
instance here is instance is a slow
instance here is instance is a slow
check
check
but this only
happens per roll out
happens per roll out
right if this only happens per roll out
right if this only happens per roll out
I think it's
fine and this should never be an Umpire
fine and this should never be an Umpire
array
right I really just want to check if you
right I really just want to check if you
have a len attribute
I think you can call it
right
yeah I'm still not sure if this works
yeah I'm still not sure if this works
perfectly though
think we
take you really shouldn't be
take you really shouldn't be
communicating nump and arrays around
communicating nump and arrays around
though but I think it's possible that it
though but I think it's possible that it
happens
I do not know how much I like
this well this will get boring rather
this well this will get boring rather
quickly though so let's
do b.2
list if so
try it V
else and then we
else and then we
do data that's
do data that's
stats plus equals
stats plus equals
V we'll append like this
type
type
error data. stats
append okay this is nice
append okay this is nice
right if it is uh a numpy array we'll do
right if it is uh a numpy array we'll do
to list on
to list on
it then we will see if it's a list uh if
it then we will see if it's a list uh if
it's
it's
iterable if it is not we will
iterable if it is not we will
just depend it otherwise we extend the
just depend it otherwise we extend the
list with it
right that's
right that's
decent um and the reason that this is
decent um and the reason that this is
important is because now we can just
important is because now we can just
keep
keep
growing this
growing this
stats we can literally just keep growing
stats we can literally just keep growing
the
the
stats
stats
yeah
and then what we'll do is we're going to
and then what we'll do is we're going to
actually separate this out uh we're
actually separate this out uh we're
going to separate this like log to WAND
B log to want
B log to want
B it takes
data if data is none you return and then
data if data is none you return and then
otherwise we do
otherwise we do
yeah so we'll do log to want
yeah so we'll do log to want
B and then we'll take
this we'll put this in
here
okay and I think this is profiles data
okay and I think this is profiles data
is in data as well right do I have to
is in data as well right do I have to
grab profile from somewhere
grab profile from somewhere
data. profile
perfect so we do data. profile.
perfect so we do data. profile.
SPS data.
SPS data.
profile last log time is going to be
time.time and we log all of this
time.time and we log all of this
garbage and we will be wanting to use
garbage and we will be wanting to use
that function later so that is why we're
that function later so that is why we're
doing this at the
moment this bypasses the time check
moment this bypasses the time check
which is exactly what we
want
M and then we're going to clear data.
M and then we're going to clear data.
stats
do I want to clear it here or do I want
do I want to clear it here or do I want
to clear it in one
B I think I want to do it here and I
B I think I want to do it here and I
want to do stats equals data. stats
so stats is going to be data. stats and
so stats is going to be data. stats and
then data. stats gets
cleared yeah this works okay so the
cleared yeah this works okay so the
reason that this is important is uh
reason that this is important is uh
every
every
time you
we'll just we'll call this login
clear just so it's you know it's very
clear just so it's you know it's very
transparent
transparent
um
um
perfect so
now this gets updated a whole bunch
I don't think I like this or done
I don't think I like this or done
training because that means you can get
training because that means you can get
a data point that has garbage in it
a data point that has garbage in it
because it's not accumulated over enough
because it's not accumulated over enough
time I think I like it more like
this mhm
this is going to be very very nice
this is going to be very very nice
actually for
us because what this should enable
now this should uh
now this should uh
enable substantially nicer train code at
enable substantially nicer train code at
the end
here I no longer need this DOA
pend
whoops where's
whoops where's
uh data it returns data do stats and
uh data it returns data do stats and
infos
right so we do stats underscore
equals look how clean this is
so now you just have your
stats you've called eval a whole bunch
stats you've called eval a whole bunch
of
of
times and then we can do login clear of
times and then we can do login clear of
data so now we get the
data so now we get the
stats we get the stats back for use in
stats we get the stats back for use in
carbs but we also have them on wand B
carbs but we also have them on wand B
meaning that we will never have
meaning that we will never have
desync we'll never have desync between
desync we'll never have desync between
the carbs objective and wanty and we'll
the carbs objective and wanty and we'll
also have cleaner end of
graphs and I think the rest of this is
graphs and I think the rest of this is
the
the
same yeah the rest of this code doesn't
same yeah the rest of this code doesn't
change if this works this is incredibly
change if this works this is incredibly
clean if it works it is incredibly clean
clean if it works it is incredibly clean
um
um
um what do I test this on real
quick I can just push this and then test
quick I can just push this and then test
it on the bigger box right
so essentially what this does is this
so essentially what this does is this
extends training by
extends training by
10% in order to get that final clean
10% in order to get that final clean
data point where you've evaluated the
data point where you've evaluated the
policy over 10% of the train
data we can change that you know
data we can change that you know
eventually because if you have a one
eventually because if you have a one
like a monthlong training run then yeah
like a monthlong training run then yeah
you don't want to wait additional days
you don't want to wait additional days
just for the eval Point um but the hope
just for the eval Point um but the hope
with puffer lib is that that's never
with puffer lib is that that's never
going to happen
going to happen
right I think we'll probably end up like
right I think we'll probably end up like
capping it to be you know an hour of
capping it to be you know an hour of
data or something like
data or something like
that probably don't even need that
much maybe we'll add a parameter for
it um we are ready to run this on the
it um we are ready to run this on the
big
box hopefully this is the right
box hopefully this is the right
one
yep should I change in
yep should I change in
demo H that's no big
deal
deal
okay now we can
okay now we can
do
long uh mode
long uh mode
train T processing
rack
rack
yeah and we'll see whether this works or
yeah and we'll see whether this works or
not might have to make a few small
not might have to make a few small
changes we'll
see so apparently the uh the optimal
see so apparently the uh the optimal
pong config trains at 30,000 steps per
pong config trains at 30,000 steps per
second we're running it I think for
second we're running it I think for
longer than it needs to be run it's
longer than it needs to be run it's
sufficiently trained much faster than
sufficiently trained much faster than
this I'm noticing here that we're not
this I'm noticing here that we're not
getting any stats which is wrong we
getting any stats which is wrong we
definitely should be getting stats by
definitely should be getting stats by
now so somehow I've managed to break
now so somehow I've managed to break
logging see if I can figure out
why if profile. update of data
why if profile. update of data
let's see if let's see if we're getting
let's see if let's see if we're getting
to be there or not we'll take track off
to be there or not we'll take track off
for now so we don't flood want to be
for now so we don't flood want to be
with
garbage okay so we do get
here d. stats is
here d. stats is
empty that's not good
I would think that this is kind of weird
right okay it looks like there's a
right okay it looks like there's a
something here that needs to be logged
right huh what just
happened okay there's a lot of crap in
happened okay there's a lot of crap in
data obviously right
okay I guess we don't need both of these
okay I guess we don't need both of these
break
points
points
oops this one's the one we want to get
oops this one's the one we want to get
rid
of should probably move this so that the
of should probably move this so that the
chat's more
visible and this
this tab being white themed annoys me
this tab being white themed annoys me
okay
okay
um what do we have
um what do we have
here okay so we do get to data
here okay so we do get to data
Vias no surprise a bunch of game losses
right we get data. stats
right we get data. stats
right
huh so this actually all looks fine so
huh so this actually all looks fine so
far
long
long
and log and
clear let's see do we get any stats now
yes we
do we get lots of stats
actually we get lots of
stats so
stats so
um why aren't we logging
them is it expecting them to already be
them is it expecting them to already be
pree or
something I bet that's what it
is yeah look at this it's
is yeah look at this it's
stats hold
on
ah discard non- numeric values
o well that's mildly obnoxious
right okay but like you're
right okay but like you're
not you're not logging stuff that isn't
not you're not logging stuff that isn't
mean right unless it's a string
if profile.
update oh I remember now why
uh Global
uh Global
step was allowed to
step was allowed to
be to be low
I think I wanted to put this down here
I don't want to lo I don't want to log
I don't want to lo I don't want to log
to wandy
to wandy
though um
though um
[ __ ] mildly
annoying we'll leave it like this for
annoying we'll leave it like this for
now
now
we'll leave this
[Music]
here all right
H can I just try to mean
H can I just try to mean
everything does that
work should work for this
work should work for this
right wait no it doesn't work because
right wait no it doesn't work because
you have to me in here then don't
you [ __ ]
oh yeah I can totally assume that this
oh yeah I can totally assume that this
is mean though
because can I
yes I
can stats is data. stats
can I do
can I do
this I'm just trying to be careful that
this I'm just trying to be careful that
I'm not breaking stuff behind the hood
I'm not breaking stuff behind the hood
because this is like kind of a critical
because this is like kind of a critical
piece of code um and I'm just thinking
piece of code um and I'm just thinking
of like all the different data things
of like all the different data things
that could be logged cuz like you're not
that could be logged cuz like you're not
supposed to log garbage but sometimes
supposed to log garbage but sometimes
people like log random strings and stuff
people like log random strings and stuff
that's going to break
means but when should that data be
means but when should that data be
thrown away shouldn't that be thrown
thrown away shouldn't that be thrown
away like way
earlier I would think so
right might not
right might not
be cuz I don't try to mean it
before all right let's just let's do it
before all right let's just let's do it
this way for KV and data. stats.
this way for KV and data. stats.
items um we'll just do
try
dots
se you can't do this either man cuz you
se you can't do this either man cuz you
can't iterate over the I can't change
can't iterate over the I can't change
the dictionary well I'm iterating over
the dictionary well I'm iterating over
it I'm just trying to find like a stupid
it I'm just trying to find like a stupid
easy way to do
this let's do it the dumb way for now
this let's do it the dumb way for now
stats equal data.
stats equal data.
stats uh
stats uh
for list stats.
for list stats.
Keys data
data. stats
of oh wait no I can do it I can do it
of oh wait no I can do it I can do it
it's I just have to do it like this so
it's I just have to do it like this so
for key and like this and then what we
for key and like this and then what we
do is we're going to just
do is we're going to just
do try V is going to be mean of V except
do try V is going to be mean of V except
we do
dell we get rid of the key and then what
dell we get rid of the key and then what
we do is data. stats k equals
b um this adds a little bit of obnoxious
b um this adds a little bit of obnoxious
code not too
bad so we'd like to clean this up but I
bad so we'd like to clean this up but I
think that this should work for now
let's see what data gets uh let's see if
let's see what data gets uh let's see if
we let's see if this
works there we
go and we get these
go and we get these
nice updates
nice updates
nice even
interval not wasting too much CPU on
interval not wasting too much CPU on
this just a nice little
update
update
perfect uh we'll finish testing this in
perfect uh we'll finish testing this in
a moment there's one other thing I want
a moment there's one other thing I want
to figure
out which is I don't want to just have
out which is I don't want to just have
to wait until the
to wait until the
second Epoch
potentially wait this might no longer be
potentially wait this might no longer be
an issue I might be
overthinking okay so this is updating
overthinking okay so this is updating
once per
second and yeah okay I like I actually
second and yeah okay I like I actually
already have this set up perfectly I
already have this set up perfectly I
don't need to over complicate it anymore
don't need to over complicate it anymore
I was just trying to make sure that this
I was just trying to make sure that this
dashboard shows up as quickly as
dashboard shows up as quickly as
possible for the user and it does so we
possible for the user and it does so we
are
are
fine a
fine a
okay now we can enable track and we can
okay now we can enable track and we can
see whether this gives
see whether this gives
us uh whether this gives us what we want
let's
see so the whole objective of doing all
see so the whole objective of doing all
of this was that now we should have a uh
of this was that now we should have a uh
a training run where first of all this
a training run where first of all this
dashboard is nice and clean and gives us
dashboard is nice and clean and gives us
much much more stable and accurate
much much more stable and accurate
estimates of the return so we will
estimates of the return so we will
compare this reward curve to the other
compare this reward curve to the other
ones um but the key is that now this
ones um but the key is that now this
should be they should be taking an
should be they should be taking an
average over segments of 1 second
average over segments of 1 second
instead of taking a sample every second
instead of taking a sample every second
so if your environment is really fast
so if your environment is really fast
and it's just spitting out tons and tons
and it's just spitting out tons and tons
of data it will actually average over
of data it will actually average over
all of the samples instead of just
all of the samples instead of just
sampling like whatever it has once a
sampling like whatever it has once a
second uh and this should be implemented
second uh and this should be implemented
efficiently this should not cause any
efficiently this should not cause any
sorts of other
sorts of other
overhead we can see that pong is
overhead we can see that pong is
optimizing before our very
optimizing before our very
eyes learning how to play the game
eyes learning how to play the game
and the hope is that we will have very
and the hope is that we will have very
stable Point estimate at the end because
stable Point estimate at the end because
what it's going to do is it's going to
what it's going to do is it's going to
play whatever I set it to uh a few
play whatever I set it to uh a few
million steps of pong whatever it is and
million steps of pong whatever it is and
then once it is done playing that it's
then once it is done playing that it's
going to play 10% more games and it's
going to play 10% more games and it's
just going to use those to evaluate and
just going to use those to evaluate and
it's going to give us a point estimate
it's going to give us a point estimate
back and it's going to log it to w b and
back and it's going to log it to w b and
the goal is that we did all of this now
the goal is that we did all of this now
without screwing everything else
without screwing everything else
up and uh without adding a bunch of
up and uh without adding a bunch of
garbage
code it's a little odd right now that
code it's a little odd right now that
this is not optimized
this is not optimized
already um the pong settings that I had
already um the pong settings that I had
should have already just crushed
should have already just crushed
this so I don't know why it's taking 3.1
million as long as it solves it though
it's possible that this Branch doesn't
it's possible that this Branch doesn't
have the latest settings on
it there it goes so it solved the
it there it goes so it solved the
environment at the least I don't know
environment at the least I don't know
why it took it that long but it has
why it took it that long but it has
solved the environment
is it now
is it now
crashing I hope
crashing I hope
not no it's fairly
not no it's fairly
stable I'm assuming these aren't like
stable I'm assuming these aren't like
the optimal parameters we found or
whatever but this is decent either
whatever but this is decent either
way less than three
minutes optimal settings is less than
minutes optimal settings is less than
minute
30 and we're going to see whether this
30 and we're going to see whether this
works so right now the what it's doing
works so right now the what it's doing
is it is running 10% more
is it is running 10% more
games there you
games there you
go and we should be able to click
go and we should be able to click
this guess not we'll just go find it
manually 17 seconds
manually 17 seconds
so we have
pong uh right here you see
pong uh right here you see
this this little dip at the
this this little dip at the
end this is
the uh this is the like the extra EV
the uh this is the like the extra EV
valve
valve
step right
step right
here and then you can see we have our
here and then you can see we have our
last point right
last point right
here we have our last point that should
here we have our last point that should
be logged right
be logged right
there
and can I expand
this wait time and
seconds there should be a
gap 166 167
seconds there should be an extra point
seconds there should be an extra point
logged
logged
around 179 seconds that I'm not
seeing yeah I don't see the last
seeing yeah I don't see the last
point I see
point I see
entropy so I see everything but the last
entropy so I see everything but the last
point oh I know
point oh I know
why yeah I know
why yeah I know
why okay I screwed one thing up with
why okay I screwed one thing up with
this
this
good thing I double
checked so this thing needs to get
called I can just switch the order can't
I no I can't switch the order because I
I no I can't switch the order because I
need data. stats to be intact [ __ ]
okay how else can I do
this um
I think I can oneline this whole thing
I think I can oneline this whole thing
if and I can make it just I can
if and I can make it just I can
duplicate the code but I can oneline it
duplicate the code but I can oneline it
if I just
if I just
go
oops if I just filter out garbage
here I need to figure out if like if
here I need to figure out if like if
you're logging garbage is the thing
you're logging garbage is the thing
how do I do
how do I do
this I need to figure out if you're like
this I need to figure out if you're like
logging strings or other
garbage I could take a mean
garbage I could take a mean
here but if I take a mean
here then
here then
it's it's kind of weird
it's it's kind of weird
because this kind of like does extra
because this kind of like does extra
smoothing that we don't want yeah this
smoothing that we don't want yeah this
does extra smoothing that we don't want
does extra smoothing that we don't want
right totally
right totally
does so the thing I'm trying to figure
does so the thing I'm trying to figure
out right now is um I need a way to
out right now is um I need a way to
ensure that whatever data is coming back
ensure that whatever data is coming back
from the
from the
environment
environment
is loggable
right it has to be able to be a list
do I just make like a colate log
do I just make like a colate log
function or whatever that just does it
function or whatever that just does it
and
then call it in
both I hate having to do that type of a
both I hate having to do that type of a
thing it's
thing it's
like obviously
stupid I really should not be getting
stupid I really should not be getting
hung up on this but like this is one of
hung up on this but like this is one of
those things where if I do it wrong it's
those things where if I do it wrong it's
going to cause really really obnoxious
going to cause really really obnoxious
long-term bugs I
long-term bugs I
know um cuz like your logging is very
know um cuz like your logging is very
important and it's you know if your if
important and it's you know if your if
your report issue button is broken it
your report issue button is broken it
takes a while to figure that out right
takes a while to figure that out right
it's one of those
so this function needs to get
done maybe I just don't have to clear
done maybe I just don't have to clear
the
the
data I'll just do log to w b data right
data I'll just do log to w b data right
like this will not clear it
okay and then I'll put the clear right
here we'll put the clear in
here we'll put the clear in
there and
then right here
or we can do
mean mean and
log
log
there and now this will
go this can just go at the top here
this becomes data.
stats so
now what D type
now what D type
to what D type to use to populate a b
to what D type to use to populate a b
int
int
o does bull not work
I don't know if it's bull or it's either
I don't know if it's bull or it's either
bull or unsigned
bull or unsigned
Char I would assume it's bull but I
Char I would assume it's bull but I
could be
wrong NOP bull doesn't
work do I not have this work do I not
work do I not have this work do I not
have this in puffer let me look for you
oh no I don't have this in this do I
oh no I don't have this in this do I
have it
in guess I don't have it anywhere
here try unsign Char see if that
works try unsign char
works try unsign char
let me know if that doesn't
work it's this weird thing where like
work it's this weird thing where like
see you have to include you have to like
see you have to include you have to like
include standard bull or whatever to use
include standard bull or whatever to use
booleans weird
should make a programming language in
should make a programming language in
which the default type is you just
which the default type is you just
specify how many bits of exponent in
specify how many bits of exponent in
mantisa you want for Floats or just how
mantisa you want for Floats or just how
many bits you want for in and it just
many bits you want for in and it just
gives you a data type of whatever you
want is it mean mean and log
want is it mean mean and log
that what I call it mean and
that what I call it mean and
log yeah so we do this mean we do the
log yeah so we do this mean we do the
log I hate this signature on this print
log I hate this signature on this print
dashboard
function mean un log
data we'll see if this
data we'll see if this
runs and now now the hope is that this
runs and now now the hope is that this
should give
us they should give us like this last
us they should give us like this last
data point that's very
nice with bull oh no that's the same
nice with bull oh no that's the same
message from
message from
before
before
cool we'll be curious to see if this run
cool we'll be curious to see if this run
does any differently
does any differently
the last one was not uh
optimal y'all like watching me Dev
optimal y'all like watching me Dev
random stuff that's
funny e
honestly they just write it in C++ take
honestly they just write it in C++ take
is kind of
tired like C++ is kind of a garbage
tired like C++ is kind of a garbage
langage
anguage and then you have to write the
anguage and then you have to write the
whole thing in C++ you can't like
whole thing in C++ you can't like
selectively sprinkle in um
python ah still too off of
python ah still too off of
750 are we done with this
750 are we done with this
almost
almost
so the runs
so the runs
here should
be so right now it is doing the final
be so right now it is doing the final
eval
step All Star it thanks King
step All Star it thanks King
that is awesome we will have we'll be
that is awesome we will have we'll be
one off of
one off of
750 this for anybody like watching who
750 this for anybody like watching who
hasn't like the stars actually helped me
hasn't like the stars actually helped me
a ridiculous amount
a ridiculous amount
so um the this is a relatively new
so um the this is a relatively new
library and like user and growth metrics
library and like user and growth metrics
like that actually affect when I can
like that actually affect when I can
start
start
like it actually affects like whether
like it actually affects like whether
companies start picking stuff up or not
companies start picking stuff up or not
if you see like a project that is you
if you see like a project that is you
know a sub 1K star repo you're going to
know a sub 1K star repo you're going to
be a lot more hesitant to adopt it inter
be a lot more hesitant to adopt it inter
internally
internally
so all this stays open source but the
so all this stays open source but the
plan for actually you know funding this
plan for actually you know funding this
stuff building out a bigger cluster
stuff building out a bigger cluster
being able to provide more resources to
being able to provide more resources to
open source does rely on uh companies
open source does rely on uh companies
picking this up and wanting support
picking this up and wanting support
contracts with puffer for like early
contracts with puffer for like early
features and stuff um that's how I plan
features and stuff um that's how I plan
on funding all this stuff I'm not taking
on funding all this stuff I'm not taking
VC money um so I can keep everything
VC money um so I can keep everything
open source and not have people
open source and not have people
breathing down my neck over it so yeah
breathing down my neck over it so yeah
if you don't usually start repos uh give
if you don't usually start repos uh give
it a thought it helps me out a
ton okay so this right here yeah this is
ton okay so this right here yeah this is
perfect so
perfect so
you can actually see this very
clearly here's this you can see like
clearly here's this you can see like
that this skips because there's a data
that this skips because there's a data
point here and a data point here so what
point here and a data point here so what
this means is that this is the very
this means is that this is the very
accurate final
accurate final
estimate um of this
estimate um of this
metric with you and a I get buffer D
metric with you and a I get buffer D
type mismatch B in but really
yes
weird I wouldn't recommend doing
weird I wouldn't recommend doing
this annoying cast
I think you can just use a u 8 I think
I think you can just use a u 8 I think
it'll work exactly the
same try making them here try keeping
same try making them here try keeping
the value of Boolean and Python and then
the value of Boolean and Python and then
like
uh a 8 in scyon or
something it looks like there's just
something it looks like there's just
some weird formatting stuff cuz under
some weird formatting stuff cuz under
the hood it's using a a bite anyways
the hood it's using a a bite anyways
yeah something
weird well this is very nice that we
weird well this is very nice that we
have
this it's actually very nice cuz when
this it's actually very nice cuz when
you have the wall clock you can visually
you have the wall clock you can visually
see that you get the accurate Point
see that you get the accurate Point
estimate right M
estimate right M
time and like everything just caps right
interesting that steps per second
interesting that steps per second
doesn't Spike up oh I guess it's because
doesn't Spike up oh I guess it's because
we're Bound by inference
anyways but yeah this is exactly what we
anyways but yeah this is exactly what we
wanted
wanted
so I think we keep this
so I think we keep this
a yeah here's the agent step Spike up at
a yeah here's the agent step Spike up at
the end that we can see oh it is a
the end that we can see oh it is a
little faster you can see it goes up a
little faster you can see it goes up a
little faster all right so
um what we're going to do
um what we're going to do
now is we're going to figure
now is we're going to figure
out my phone just fell
out my phone just fell
first hold on I don't want to roll over
first hold on I don't want to roll over
it
what we're going to do
what we're going to do
now is we're going to figure out why
now is we're going to figure out why
beam Rider doesn't
work and then we're going to rerun some
stuff is it just beam Dash
Rider incompatible
okay so I guess we have to just check I
okay so I guess we have to just check I
I'm guessing we just have bindings named
I'm guessing we just have bindings named
wrong or something
dumb oh what happened wait
huh are they named differently
huh are they named differently
in in
Al let me see if we can get the
list multi-agent
Al new haircut
yep been getting it cut pretty
yep been getting it cut pretty
frequently like every month at
frequently like every month at
least it gets in the way running
least it gets in the way running
otherwise
where's the list of environments
is there no
list
list
games support oh here we go
I think it's just one word
I think it's just one word
everything they are lots of stuff in
everything they are lots of stuff in
here is
here is
Tetris o they have Tetris oh whoa they
Tetris o they have Tetris oh whoa they
got a lot of cool stuff in here
actually Tetris would be a fun en I
actually Tetris would be a fun en I
don't think I've ever seen anybody do
don't think I've ever seen anybody do
Tetris for
this yeah that's a lot of Ms and some of
this yeah that's a lot of Ms and some of
these don't
these don't
like some of these aren't even the
like some of these aren't even the
atarian right like back gaming a
atarian right like back gaming a
game there 47 files in here they're more
game there 47 files in here they're more
than 47
than 47
right I guess they have hpps as well
[Music]
no config for M name beam Rider perfect
no config for M name beam Rider perfect
now if I do
now if I do
this really there's no beam Rider like
this get rom path self. game
where's the list of
like is it spaces
huh damn it
it doesn't tell you what the strings
are
are
md5 ah this does not exist
can I just guess
can I just guess
like
what Al set
mode get rom
path yeah this will be the quickest way
path yeah this will be the quickest way
to debug this so we don't spend forever
to debug this so we don't spend forever
here
okay roms. get
okay roms. get
all ROM
IDs uh they're always underscored
IDs uh they're always underscored
everything with two words is
underscored
yep we can actually just grab all these
yep we can actually just grab all these
can't
can't
we Tetris on here yeah it
we Tetris on here yeah it
is let's say we uh we just make
is let's say we uh we just make
um super Maven reformat this for
us
10s can it not finish
10s can it not finish
this what's wrong with super
Maven I think it has a max line length
Maven I think it has a max line length
that's funny de toe
3D looks good
3D looks good
right what do we think the odds are it's
right what do we think the odds are it's
made some horrible
made some horrible
mistake in here that we're not going to
mistake in here that we're not going to
know about until it's too late
think YOLO I think we just leave
think YOLO I think we just leave
it so here all of the all of the
it so here all of the all of the
uh wait
uh wait
River oh yeah it did it get River raid
River oh yeah it did it get River raid
right okay that's
fine now can we do beam Rider
option already
exists
okay oh and we have to get rid of the
okay oh and we have to get rid of the
break point right
cool
cool
trains gives this episode returns they
trains gives this episode returns they
go
up let's just uh let's test like the
up let's just uh let's test like the
classic
classic
environments so
pong pong works
breakout
Enduro
Enduro
nice uh sweep Atari
nice uh sweep Atari
shell breakout it's going to be beam
shell breakout it's going to be beam
Rider
Rider
and then what do we have Enduro cubert
and then what do we have Enduro cubert
we got to try
cubert and then we'll be able to to
cubert and then we'll be able to to
finish launching uh these
experiments
experiments
yep it cubert Space Invaders and sequ as
yep it cubert Space Invaders and sequ as
all
we really have to have like a nice local
we really have to have like a nice local
playable thing for all the Atari games
playable thing for all the Atari games
as well it would save so many
as well it would save so many
bugs maybe we'll do that
today play some Atari games I'll play
Tetris cool all right they all run
Enduro
Enduro
breakout what do we have it's like pong
breakout what do we have it's like pong
as well
as well
right and these three we already have
right and these three we already have
results
results
for so we can just do
for so we can just do
this uh am I on the right machine right
now think
so
yeah a clean
so we have
so we have
um
logging improvements and Atari
logging improvements and Atari
config for all
M's Dev
M's Dev
uh I neglected to add this sweep file
right okay um
oh I almost
oh I almost
forgot 500 experiments is going to be
forgot 500 experiments is going to be
way too
many
okay and actually I just need to bash
okay and actually I just need to bash
this file
right
right
sweet five minutes per
sweet five minutes per
run we' got beam Rider already
run we' got beam Rider already
training and we can just leave this I
training and we can just leave this I
can just leave this be here and go do
can just leave this be here and go do
other stuff
other stuff
and we'll have um our experiments I
and we'll have um our experiments I
think they
think they
take they take longer than I would
like it's like s hours I think does that
like it's like s hours I think does that
make
sense yeah 5 to 10 minutes per
sense yeah 5 to 10 minutes per
experiment 7
experiment 7
hours not
hours not
terrible we'll need that to be a little
terrible we'll need that to be a little
faster for you know other M's but it's
faster for you know other M's but it's
not terrible for now
not terrible for now
um okay so as
um okay so as
for the
for the
agenda uh does it have oops this is this
agenda uh does it have oops this is this
is
is
done this is
done M moep smoothing
done M moep smoothing
maybe and work on
maybe and work on
that wait when was there there was just
that wait when was there there was just
a release four days ago on this
a release four days ago on this
who's doing this
who's doing this
stuff oh
okay cool they added support for numai
okay cool they added support for numai
2.0
2.0
nice just maintenance
changes oh yeah and then in may they did
changes oh yeah and then in may they did
gymnasium update
you no longer need the accept ROM
license Yep this is all fine
license Yep this is all fine
very
very
nice uh so we have these experiment
nice uh so we have these experiment
sweeps running
now
now
749 thank you
Chef one office
750 I think I'm going to take a quick
750 I think I'm going to take a quick
second and then I'm going to figure out
second and then I'm going to figure out
what we're going to do on the Moa
so let's add a Atari viz to the list as
so let's add a Atari viz to the list as
well let's add
well let's add
like uh good Atari
viz to the list
so I can do this the step smoothing I
so I can do this the step smoothing I
can do that pretty
can do that pretty
quick the thing that I'm somewhat
quick the thing that I'm somewhat
worried about is the ELO system
the ELO system is rather obnoxious
the ELO system is rather obnoxious
because well it's freaking
because well it's freaking
hard it's hard to do simply it's hard to
hard it's hard to do simply it's hard to
do without making a mess out of my very
do without making a mess out of my very
nice code
base let's do the step smoothing thing
base let's do the step smoothing thing
real quick
potentially let me back of the envelope
potentially let me back of the envelope
this to see if what I'm thinking about
this to see if what I'm thinking about
even makes sense first
even makes sense first
so we're usually running like 400 m per
so we're usually running like 400 m per
core right so 4,000 steps per
second wait
second wait
[ __ ] we're usually running like
[ __ ] we're usually running like
4,000 400 m per
4,000 400 m per
core 4,000 total
core 4,000 total
agents um say 400,000 steps per second
agents um say 400,000 steps per second
though it is faster than that but say
though it is faster than that but say
400,000 steps per second it's 1,000
400,000 steps per second it's 1,000
steps across all M's per
second yeah that's really obnoxious in
second yeah that's really obnoxious in
order to
order to
make in order to make this thing reset
make in order to make this thing reset
happening I'd have to
do [ __ ] how would I even do
do [ __ ] how would I even do
this the normal way that you do this is
this the normal way that you do this is
you just like step all the
you just like step all the
agents uh you just like step all of the
agents uh you just like step all of the
the
the
agents hold
agents hold
on let me go look at
on let me go look at
the The Sweep from
before very nice beam Rider sweep
how long does it take how long does it
how long does it take how long does it
take before it gets its first
Tower it takes quite a
Tower it takes quite a
while before all the M's get their
while before all the M's get their
Tower so here's the issue that I I have
Tower so here's the issue that I I have
at the moment right all these M's they
at the moment right all these M's they
got to be fast um I also for the user
got to be fast um I also for the user
experience I want them to start up fast
experience I want them to start up fast
so when you do a new training Run start
so when you do a new training Run start
up should be instant this is one of the
up should be instant this is one of the
major things I optimize for um I haven't
major things I optimize for um I haven't
done an amazing job of that at this
done an amazing job of that at this
moment because there are a few Imports
moment because there are a few Imports
that are a little slow but it's been
that are a little slow but it's been
pretty good
pretty good
now in order
now in order
to in order to make these curves curves
to in order to make these curves curves
not look like this where they have all
not look like this where they have all
this like these weird wavy behaviors you
this like these weird wavy behaviors you
can see it really well right here right
can see it really well right here right
like this like wavy periotic Behavior so
like this like wavy periotic Behavior so
this happens because all the games are
this happens because all the games are
roughly the same point right like
roughly the same point right like
they're all roughly in the early game
they're all roughly in the early game
then they roughly all are in the like
then they roughly all are in the like
the mid game where they've taken tier
the mid game where they've taken tier
ones then they're like late game where
ones then they're like late game where
they're taking like tier twos tier 3es
they're taking like tier twos tier 3es
right and then they're like the end game
right and then they're like the end game
right so they all roughly do that around
right so they all roughly do that around
the same time which leads to this really
the same time which leads to this really
wavy behavior and also can create
wavy behavior and also can create
difficulties in
difficulties in
learning um codewise the easiest way to
learning um codewise the easiest way to
fix this is to just randomly step all of
fix this is to just randomly step all of
the environments between uh Z and 15,000
the environments between uh Z and 15,000
steps that would probably do
steps that would probably do
it if I just you know randomly step all
it if I just you know randomly step all
the M's 0 to 15,000
the M's 0 to 15,000
steps because then they would all be at
steps because then they would all be at
different points in the
different points in the
game and it would be fine
problem with doing that is I have to
problem with doing that is I have to
actually run the games for quite a while
actually run the games for quite a while
to get
there and I think that that would add
there and I think that that would add
like you know 10 seconds to the startup
like you know 10 seconds to the startup
of each experiment which I really do not
of each experiment which I really do not
like I really don't like
that how hard would the alternative
that how hard would the alternative
would be that I like you know put the
would be that I like you know put the
agent already at Mid game or whatever
agent already at Mid game or whatever
some of
them that's hard too
though I could start them at random
though I could start them at random
levels would that kind of do it just
levels would that kind of do it just
when you reset the environment the first
when you reset the environment the first
time but then you have to remember to
time but then you have to remember to
like not do that
H well let me think if I just put all
H well let me think if I just put all
the agents at random
levels does that even affect anything I
levels does that even affect anything I
think the minions are like winning the
think the minions are like winning the
game at the start aren't they
what's going to be the easiest way to
what's going to be the easiest way to
break the Symmetry
here Atari had this as
well it's less of a problem in Atari
well it's less of a problem in Atari
though because the Symmetry I think it's
though because the Symmetry I think it's
break broken faster
[Music]
I also don't like the idea of like
I also don't like the idea of like
setting them to random levels because
setting them to random levels because
that'll screw up the learning curves mle
that'll screw up the learning curves mle
screw up like the start of the
curve what else can I do with them that
curve what else can I do with them that
will
will
will achieve the same
effect I could start the first game with
effect I could start the first game with
um
um
randomly random Towers killed
right if I just randomly pick and kill
right if I just randomly pick and kill
some towers does that do
it should make it much quicker for
like creeps to win the
like creeps to win the
game but the creeps don't really
game but the creeps don't really
win do
win do
they creeps have to win
right you have to take the
right you have to take the
towers I don't think that the way have
towers I don't think that the way have
it balanced at the moment I don't think
it balanced at the moment I don't think
it's easy or remotely feasible for the
it's easy or remotely feasible for the
creeps to do it on their own
I know that in the actual open ai5
I know that in the actual open ai5
project they randomized some
project they randomized some
stuff during training
is just
is just
randomly I mean randomly just killing
randomly I mean randomly just killing
some Towers seems like the easiest way
some Towers seems like the easiest way
of doing it
right I don't know if it fully breaks
right I don't know if it fully breaks
the symmetries
though is that a good metric of game
though is that a good metric of game
progress you probably need levels in
progress you probably need levels in
order to actually take the stronger
order to actually take the stronger
Towers even if they're just sitting
Towers even if they're just sitting
there right but I really don't want to
there right but I really don't want to
randomize their levels because that'll
randomize their levels because that'll
really mess up the learning
really mess up the learning
curve
um okay if I were to randomly step some
um okay if I were to randomly step some
of the Environ how much would I actually
of the Environ how much would I actually
have to do creep HP a little less at one
side
side
um I would have to do that for
um I would have to do that for
like only the first game or
like only the first game or
something I think I'd have to do that
something I think I'd have to do that
for like only the first
for like only the first
game and I think if you make the creep
game and I think if you make the creep
HP a little bit less I think that like
HP a little bit less I think that like
the other side will very quickly win the
the other side will very quickly win the
creep equilibrium is pretty important
so what I'm trying to do here to be
so what I'm trying to do here to be
clear like these curves are wavy because
clear like these curves are wavy because
all the games start at the same time so
all the games start at the same time so
they're all like ending at the same time
they're all like ending at the same time
roughly on average if you run this thing
roughly on average if you run this thing
for like you know 20 billion time steps
for like you know 20 billion time steps
uh these amplitudes will get smaller and
uh these amplitudes will get smaller and
smaller until it just becomes flat
smaller until it just becomes flat
because they will naturally
because they will naturally
desynchronize but it takes a very long
desynchronize but it takes a very long
time for that to happen and in the
time for that to happen and in the
meantime you know this can mess up
meantime you know this can mess up
reward metrics and other
reward metrics and other
things so I was considering just like
things so I was considering just like
trying to step some of the environments
trying to step some of the environments
a bunch before you start which is the
a bunch before you start which is the
cleanest way of doing it but I think I
cleanest way of doing it but I think I
have to step them a lot is the
have to step them a lot is the
problem um I think I have to step them a
problem um I think I have to step them a
lot
I mean realistically I could just
I mean realistically I could just
randomize all the tower HPS right on
randomize all the tower HPS right on
spawn isn't that incredibly
spawn isn't that incredibly
easy if I just randomize all the tower
easy if I just randomize all the tower
HPS on spawn
that's probably enough as is and I'm
that's probably enough as is and I'm
just being lazy and not wanting to do
just being lazy and not wanting to do
special purpose stuff
yeah let's do that real quick let me
yeah let's do that real quick let me
just like not be lazy I'll Implement
just like not be lazy I'll Implement
that and
that and
then we'll check on the experiments
then we'll check on the experiments
we'll make sure everything is good we'll
we'll make sure everything is good we'll
do a little bit of looking into the MOBA
do a little bit of looking into the MOBA
and then I'll decide whether today is
and then I'll decide whether today is
the day we're doing ELO or not ELO is
the day we're doing ELO or not ELO is
just such a pain to do
correctly one star off 750 still who's
correctly one star off 750 still who's
it going to
be e
let's implement
home
all right let's see how bad this
is Step Towers
I think it's in
I think it's in
reset yeah here's your respawn Tower
reset yeah here's your respawn Tower
code
right so how do we
determine yeah let's do let's just add
determine yeah let's do let's just add
like a conditional right here how can I
like a conditional right here how can I
determine if it's been reset yet
I'm going to just make a
I'm going to just make a
function yeah I'm just just going to
function yeah I'm just just going to
make a
make a
function and I'll call it from python
function and I'll call it from python
cuz it only gets called
once CP def randomize
once CP def randomize
to
HP this is
HP this is
reasonable
reasonable
yep and then what we do
yep and then what we do
is
Rand percent
Rand percent
Tower Max Health Plus One
okay I don't know what I was whining
okay I don't know what I was whining
about that was really easy
uh self.
uh self.
CM
CM
I randomized Tower
HP oops
yeah we're
yeah we're
good we are good to
good we are good to
go uh let's see if this
works recompile some
works recompile some
stuff and if it is then we can actually
stuff and if it is then we can actually
what we can do is we can rerun the
what we can do is we can rerun the
experiment from
experiment from
before and uh we can see if we
before and uh we can see if we
get any substantially different result
we'll know immediately whether it at
we'll know immediately whether it at
least runs or not because this this is
least runs or not because this this is
something that just runs at the
startup and then it'll take a little bit
startup and then it'll take a little bit
of training to see whether know whether
of training to see whether know whether
it makes
sense Tower HP is really the only thing
sense Tower HP is really the only thing
we would need to randomize anyways right
I think think it takes a while because
I think think it takes a while because
why why does it take a while
why why does it take a while
actually startup time should not be long
actually startup time should not be long
right oh I think I have it configured
right oh I think I have it configured
for more cores than my local machine
for more cores than my local machine
that's
that's
all oh no
all oh no
wait uh kill this kill this really
wait uh kill this kill this really
quick okay apparently it's too much
quick okay apparently it's too much
memory for my local machine as
memory for my local machine as
well we'll just commit
well we'll just commit
it and then do it on the big machine
uh randomize
uh randomize
Health power
okay
now where is
now where is
puffer check the puffer box
there should be
there should be
um parameters as well in here
right oan MOA
yeah so we just run this again
let's see if this fails or
not
solid and this updates every 4 seconds
solid and this updates every 4 seconds
or so
or so
because it's a 2 million batch size in
because it's a 2 million batch size in
500k steps per second which is perfectly
500k steps per second which is perfectly
acceptable and uh we don't have the
acceptable and uh we don't have the
latest config updates like the uh the
latest config updates like the uh the
logging updates but as soon as we merge
logging updates but as soon as we merge
this into the dev Branch this will give
this into the dev Branch this will give
us the much more stable uh training
us the much more stable uh training
curves as well but for now this will be
curves as well but for now this will be
a nice test to see whether we get the
a nice test to see whether we get the
the curvature that we want this is a
the curvature that we want this is a
14-minute
14-minute
experiment currently it's 3 3 p.m. uh
experiment currently it's 3 3 p.m. uh
I'm going to be right back I'm going to
I'm going to be right back I'm going to
take a few minutes uh this is going to
take a few minutes uh this is going to
run at least enough for us to see this
run at least enough for us to see this
curvature let me before I do that let me
curvature let me before I do that let me
let me see if our sweep is running
let me see if our sweep is running
appropriately beam Rider
sweep oh yeah look at that we got uh
sweep oh yeah look at that we got uh
beam Rider training
beam Rider training
already look at that perf
already look at that perf
perfect I'm clad uh I'm going to take a
perfect I'm clad uh I'm going to take a
few minutes I'm going to make myself a
few minutes I'm going to make myself a
shake and then when I come back we will
shake and then when I come back we will
take a look a little bit at this MOA to
take a look a little bit at this MOA to
see how the training is going and I will
see how the training is going and I will
maybe think about
maybe think about
ELO we'll see if I have the well we'll
ELO we'll see if I have the well we'll
see if I can think of a good way to do
see if I can think of a good way to do
that today if not we'll do some other
that today if not we'll do some other
Atari stuff and we'll finish that or
Atari stuff and we'll finish that or
I'll work on the uh the new content
I'll work on the uh the new content
video and I'll talk about some of the my
video and I'll talk about some of the my
thoughts on RL there but we'll have
thoughts on RL there but we'll have
something interesting I'll be back in I
something interesting I'll be back in I
don't know 5 minutes or so 5 seven
minutes
e
e
e
e
e
e
e
e
e
e
e
e e
okay
we're back here
he looking pretty good with
he looking pretty good with
this looking pretty
this looking pretty
good how's our other run
[Music]
going jeez weird
I'm assuming that this is some Jank
I'm assuming that this is some Jank
thing
thing
happened where's our actual
run it shouldn't be running pong
run it shouldn't be running pong
something is
wrong
what okay what is happening
what okay what is happening
where is my run did I forgot to track it
where is my run did I forgot to track it
or
something should be 350 million
steps yeah I guess I did
steps yeah I guess I did
[ __ ] well that's
[ __ ] well that's
obnoxious oh no I did track it why does
obnoxious oh no I did track it why does
it not show up
it not show up
then why did it not show
up this will be enough data to use if uh
up this will be enough data to use if uh
if this is actually
here what the
hell 55 minutes
ago n of MOBA
ago n of MOBA
mode Das D track
mode Das D track
is is the dash dash
Baseline screwing with
things that's mildly
obnoxious yeah this is very
obnoxious yeah this is very
weird oh wait maybe I did have it here I
weird oh wait maybe I did have it here I
bet you that it just like it did a weird
bet you that it just like it did a weird
okay yeah yeah so
okay yeah yeah so
if I
if I
do agent steps
maybe is this
it no because it didn't get this
far weird
far weird
well we'll just rerun it uh right here I
well we'll just rerun it uh right here I
think is what happened so if it's like
think is what happened so if it's like
there if this is what it actually is
there if this is what it actually is
then we're
then we're
good if this is like the level of
good if this is like the level of
fluctuation we get we'll
fluctuation we get we'll
see I think that's probably what it
is something Jank definitely happened
is something Jank definitely happened
though let's just uh we'll grab this new
though let's just uh we'll grab this new
one here
yeah okay we're already at 30
yeah okay we're already at 30
mil and mind you this is before our nice
mil and mind you this is before our nice
new smoothing so this will be a little
new smoothing so this will be a little
bit of uh a little bit Jank
so I guess we get to start thinking
so I guess we get to start thinking
about the ELO stuff right I've been
about the ELO stuff right I've been
putting this off for a
while let me think how bad this is going
while let me think how bad this is going
to be
is it
policy here's the ranker that we
have this doesn't do
have this doesn't do
much I thought there was a policy
pool we don't do this anymore do
pool we don't do this anymore do
we multi
we multi
en
dated spaces
utils do I have to go check at this from
utils do I have to go check at this from
you we had this policy
you we had this policy
pool
so back when I had when I was trying to
so back when I had when I was trying to
make the neural MMO competition
make the neural MMO competition
have a reasonable way to update
have a reasonable way to update
elos
um I have this like obnoxious
um I have this like obnoxious
wrapper and what it would essentially do
wrapper and what it would essentially do
is it would split up your data amongst
is it would split up your data amongst
different copies of your model and
different copies of your model and
stuff but it's just so much freaking
stuff but it's just so much freaking
logic and
code it's got to be a simpler way of
code it's got to be a simpler way of
doing this right
I mean like I'm trying to figure out if
I mean like I'm trying to figure out if
it's even possible to add this as a
it's even possible to add this as a
component to puffer Leb that you can use
component to puffer Leb that you can use
with multiple environments or if I
with multiple environments or if I
should just give up and special purpose
should just give up and special purpose
it for this DOTA project but the thing
it for this DOTA project but the thing
is if I do that I'm going to have to
is if I do that I'm going to have to
maintain this extra annoying blob of
maintain this extra annoying blob of
DOTA
code and it's not exactly simple either
it's actually incredibly obnoxious
because you're supposed to play 20% of
because you're supposed to play 20% of
games against a specific uh different
games against a specific uh different
opponent but like the games don't end at
opponent but like the games don't end at
the same time
the same time
because the games don't end at the same
because the games don't end at the same
time you actually need to figure out
time you actually need to figure out
where to like switch how to switch from
where to like switch how to switch from
one opponent to the
next
next
man this would
man this would
be this would be like substantially
be this would be like substantially
substantially easier if I only had to do
substantially easier if I only had to do
this at um if I didn't have to do this
this at um if I didn't have to do this
at train time if I just needed this for
at train time if I just needed this for
evaluations
how much do I want to bet on pure self
how much do I want to bet on pure self
play
though how much do I want to bet on pure
though how much do I want to bet on pure
self
playay what does playing versus
playay what does playing versus
historical opponent get
you I don't even know if it gets you
you I don't even know if it gets you
very much
actually yeah I
actually yeah I
know it's not like you're playing
know it's not like you're playing
against exploiter agents or something
against exploiter agents or something
something like that you're just playing
something like that you're just playing
against like a slightly dated version of
against like a slightly dated version of
your own
policy I think the main thing is you get
policy I think the main thing is you get
the convenience of having it in having
the convenience of having it in having
the train time
the train time
stats but I think I could probably do
stats but I think I could probably do
this eval time and have it be way
this eval time and have it be way
easier because then I wouldn't have to
easier because then I wouldn't have to
worry about the efficiency I could run
worry about the efficiency I could run
it on a CPU core at the same time so let
it on a CPU core at the same time so let
me think about
me think about
that if I just wanted to make like a
that if I just wanted to make like a
custom eval script
custom eval script
and all it does it runs
and all it does it runs
on say
on say
directory with your M bad size can use
directory with your M bad size can use
the que to your advantage and wait for
the que to your advantage and wait for
an
opponent you have to
opponent you have to
launch Cuda jobs on shitty like little
launch Cuda jobs on shitty like little
tiny
tiny
batches it's
batches it's
not oh I see what you're saying yeah
not oh I see what you're saying yeah
technically you're right but it's
technically you're right but it's
complicated to tell to do
that like I'm not adding like I'm not
that like I'm not adding like I'm not
doubling the complexity of puffer lib to
doubling the complexity of puffer lib to
support one Niche
feature no I think that the easiest way
feature no I think that the easiest way
to do
to do
this is to just have a
this is to just have a
script that looks at a directory of
script that looks at a directory of
policies
looks at a directory of policies and
looks at a directory of policies and
then what
just runs the games I guess
right isn't the code going to end up
right isn't the code going to end up
looking a lot like this though anyways
[Music]
not quite right
how many games would I run at the same
how many games would I run at the same
time with this
see I keep the original environments
around I just use
around I just use
those they're annoyingly async
though it's
obnoxious no I think I just make myself
obnoxious no I think I just make myself
a
a
separate just one core's worth of
separate just one core's worth of
environment
environment
I run him
synchronous so like let's say that's
synchronous so like let's say that's
what 200
games it's probably good for ELO
games it's probably good for ELO
right running 200 games for ELO
right running 200 games for ELO
evaluation
mhm
and then where would I run
this I'd run it as part of a sweep or
this I'd run it as part of a sweep or
part of train
it's hard to run it as part of
sweeps that is kind of what you want
sweeps that is kind of what you want
isn't
it well I could definitely run it post
it well I could definitely run it post
ha talk that's easy the question is how
ha talk that's easy the question is how
do I get
okay in terms of like difficulty right
okay in terms of like difficulty right
easiest thing is I run a sweep I save
easiest thing is I run a sweep I save
all the damn checkpoints from The Sweep
all the damn checkpoints from The Sweep
I spin up a process that runs ELO
I spin up a process that runs ELO
evaluation on all the games and I get my
evaluation on all the games and I get my
elos out right that's the
elos out right that's the
easiest downside
easiest downside
is I don't get to use ELO As the metric
is I don't get to use ELO As the metric
to select for carbs which is really bad
to select for carbs which is really bad
I don't get ELO over the course of
I don't get ELO over the course of
training which is also bad but less bad
training which is also bad but less bad
um I really would like ELO over the
um I really would like ELO over the
course of
training it's probably really hard to
training it's probably really hard to
get
get
both probably ELO over course of
both probably ELO over course of
training is better and easier to do you
training is better and easier to do you
just do it over all the checkpoint files
just do it over all the checkpoint files
right
if I do it over training it's actually
if I do it over training it's actually
not that diff difficult I
think only obnoxious thing is it has to
think only obnoxious thing is it has to
be on a
subprocess does it
it's so difficult to think about in my
it's so difficult to think about in my
head how I want to
head how I want to
structure this is like one of like the
structure this is like one of like the
legitimately hard things to build
the problem is there's just
the problem is there's just
fundamentally no good way to parallelize
fundamentally no good way to parallelize
it
really fundamentally there's no way to
really fundamentally there's no way to
paralyze it
do I put this as like an addition to
do I put this as like an addition to
clean puff
RL I mean I have some competitive M's in
RL I mean I have some competitive M's in
like in other
like in other
places this really makes them very
places this really makes them very
obnoxious though like competitive M are
obnoxious though like competitive M are
so important but they're so so
so important but they're so so
incredibly obnoxious to train because
incredibly obnoxious to train because
you have to do the stupid ELO
thing ELO over different policies is
thing ELO over different policies is
rough
if I just do a like a w b log
call no I need to like give it to P pual
call no I need to like give it to P pual
don't
I well
okay I think I have an idea I think that
okay I think I have an idea I think that
the way I'm going to do this I'm going
the way I'm going to do this I'm going
to make like a standalone ELO thing that
to make like a standalone ELO thing that
plugs into clean puff
plugs into clean puff
RL
RL
and it'll will be called from like an
and it'll will be called from like an
alternative version of train or whatever
alternative version of train or whatever
it'll be like a train
it'll be like a train
option inside of uh the demo
option inside of uh the demo
script code will live somewhere
else
else
and we yeah we'll go from there it'll
and we yeah we'll go from there it'll
return metrics
to it'll return metrics to train
we'll be able to test it
we'll be able to test it
synchronous and then we'll run it in a
synchronous and then we'll run it in a
subprocess or
subprocess or
whatever it's going to be very painful
whatever it's going to be very painful
to run in a sub process
yeah I think I have to start on this
yeah I think I have to start on this
though I think this is the highest
though I think this is the highest
priority thing I think this is what's
priority thing I think this is what's
most likely to block us with the Moa
right is this
it we go up and then we crash
clean reward curve though clean Tower
clean reward curve though clean Tower
reward
reward
curve crash is a bit at the end levels
curve crash is a bit at the end levels
gained a
gained a
thousand I think it's decent
thousand I think it's decent
enough
okay so yeah in that case then we all we
okay so yeah in that case then we all we
have to do is
um yeah all we've got to do is
um yeah all we've got to do is
is start on
it we going to get a second window up
it we going to get a second window up
here I'm going to reformat this stream a
here I'm going to reformat this stream a
little bit because this is going to be a
little bit because this is going to be a
little bit more heavy
Dev put the puffer over here
okay
we're going to just start by doing this
we're going to just start by doing this
inside of the demo file we'll see if we
inside of the demo file we'll see if we
move it
later
okay it's funny it thinks I wanted on a
okay it's funny it thinks I wanted on a
thread
okay so you're going to give
okay so you're going to give
this uh we're going to have to give it
this uh we're going to have to give it
some things we have to give it a kernel
some things we have to give it a kernel
we have to give
it num
M's and quarks
M's we've got to give it some other
M's we've got to give it some other
stuff as
stuff as
well we got to give it make
en we've got to get it like wind metric
en we've got to get it like wind metric
name or whatever
path maybe some of this we can get from
data
data
okay n equals
puffer li. vector.
make M
quars so you have your
M and then
it's going to be DEA
rollouts
policy I you copy of high torch policy
copy. deep
copy I don't think I need any of
this I think I can just do
CPU CPU
and then we have to
and then we have to
write to write an evaluate function I
believe so self. m.
reset let's open
up okay
there's a reason I've put this function
there's a reason I've put this function
off for a long
off for a long
time this is very very difficult to do
time this is very very difficult to do
without making a total mess of
everything I think yeah it's going to be
everything I think yeah it's going to be
better to just copy most of this
better to just copy most of this
logic so
infos we reset the
infos we reset the
M do I Define State
M do I Define State
somewhere
none State equals
none done is
false we do want the torch
false we do want the torch
nograd thank you we do want this as
well this now gives
well this now gives
us
actions
okay created
okay created
info is going to be m.
step
action numpy is
fine Step the
environment and now we need to go
environment and now we need to go
through info
right info should be a list or is it a
right info should be a list or is it a
dict
dict
with the vector
API yes it is
a this thing
here info append
V so let's let's start with this
V so let's let's start with this
um stats equals
um stats equals
nothing believe we'll do stats equals
nothing believe we'll do stats equals
like
this we're going to need the ELO object
this we're going to need the ELO object
as
well for I in
well for I in
info okay this is fine for
info okay this is fine for
KV so we're going through all the
KV so we're going through all the
different environment
different environment
infos and we'll do if wi metric
infos and we'll do if wi metric
trick not in in V
continue okay
continue okay
else
um we have the wind
metric unfortunately we don't know where
metric unfortunately we don't know where
came from do
we yeah we don't know where this came
we yeah we don't know where this came
from
necessarily they're not going to be in
order well let's start with just two
order well let's start with just two
policies and then we'll expand and this
policies and then we'll expand and this
is too much to Dev all at
once so we'll just
do
do
pend be a wind
metric okay so now we have we've got our
stats I honestly don't even think we
stats I honestly don't even think we
need them here
need them here
because we can just
because we can just
do stat equals
do stat equals
self V self. wind metric now we need to
self V self. wind metric now we need to
go get our
ELO policy
ELO policy
ranker update elos
why did the hell did I make this a
why did the hell did I make this a
database what the hell is wrong with
database what the hell is wrong with
me
um you really just need elos and scores
um you really just need elos and scores
right
yeah we'll
yeah we'll
do elos equal p. Z
do elos equal p. Z
two fours Pi zeros of two
so
so
stat is one we'll
stat is one we'll
do Force
equals
equals
zero
okay I think you just do one you start
okay I think you just do one you start
them at a thousand each don't you
and then we'll do update elos like
this
this
okay so this is the basic form of
it there's going to be a lot more to
it there's going to be a lot more to
do um
we can do games
we can do games
played
played
equals zero instead of done so we can do
equals zero instead of done so we can do
while games played less
while games played less
than no 100 or
than no 100 or
whatever and then we'll do
whatever and then we'll do
games played plus equal to
games played plus equal to
one and then we return
one and then we return
elos this is the basic form of what we
elos this is the basic form of what we
want this has to this whole bloody thing
want this has to this whole bloody thing
has to be in a subprocess it needs to
has to be in a subprocess it needs to
work with multiple agents um you know
work with multiple agents um you know
there many other things that we need to
there many other things that we need to
do oh also it needs to obviously run uh
do oh also it needs to obviously run uh
multiple policies that's the whole big
multiple policies that's the whole big
thing with it I buried the lead there
we need to get this running first
we need to get this running first
though so I'm trying to think like
though so I'm trying to think like
what's going to be the easiest thing I
what's going to be the easiest thing I
think I need a standalone test for
think I need a standalone test for
something of this complexity
yeah I think that this needs to be a
yeah I think that this needs to be a
standalone Standalone
test let's build it that way
hi what are you up to
hi what are you up to
today so lots of things currently I'm
today so lots of things currently I'm
paying the piper for making a
paying the piper for making a
competitive environment in the first
competitive environment in the first
place uh MOBA is working well we have
place uh MOBA is working well we have
them using all skills we have reasonable
them using all skills we have reasonable
training curves the policies aren't
training curves the policies aren't
great but whatever we need
great but whatever we need
ELO and getting ELO inside of a training
ELO and getting ELO inside of a training
Loop is incredibly
Loop is incredibly
obnoxious because you have to run
obnoxious because you have to run
multiple policies at the same time and
multiple policies at the same time and
uh you have to like filter which
uh you have to like filter which
portions of the data go to which policy
portions of the data go to which policy
and then you have to like maintain an
and then you have to like maintain an
update ELO metrics so it's a bunch of
update ELO metrics so it's a bunch of
crap so I'm trying to do it in the
crap so I'm trying to do it in the
simplest way possible without making the
simplest way possible without making the
whole code base a mess in the
process how's our hyper pram sweep
process how's our hyper pram sweep
going
oops do I need this
one uh oh
one uh oh
well this is not
well this is not
good what happened to
good what happened to
uh why do we only have six runs in
here
huh good thing I
checked ELO in the traditional game
checked ELO in the traditional game
sense yep hold on let me
see let me see what's wrong with my
see let me see what's wrong with my
hyper pram
sweep control B
strings string indices must be integers
strings string indices must be integers
not
not
string
what okay so apparently my sweep thing
what okay so apparently my sweep thing
does not work as expected
does not work as expected
it is nice to know that cubert and stuff
it is nice to know that cubert and stuff
runs but
um good thing I checked
mean and logs
data are you maybe iterating over dick
data are you maybe iterating over dick
Keys instead of
Keys instead of
items well whatever happened it's the
items well whatever happened it's the
data that changed under the
data that changed under the
hood
hood
um print stats
here let's just change this to be
here let's just change this to be
like something
tiny sweep
let's see what's happening
here I got Atari working with all the
here I got Atari working with all the
environments they're just a
environments they're just a
few okay this is what we are looking for
few okay this is what we are looking for
so default
so default
dict of list
dict of list
[Music]
[Music]
and it has
and it has
thing and it
has
values
so ah I know what to
do we forgot that we uh we did some some
do we forgot that we uh we did some some
aggregation for ourselves
aggregation for ourselves
already
already
so this is just going to be observed
value
mean
mean
stats of Target
stats of Target
metric like this
Len
else and what we'll do is we'll do it
else and what we'll do is we'll do it
this
way
way
Target
Target
stats stats of Target
stats stats of Target
metric if L Target stats
okay there we
okay there we
go bet this
works do we get an error message or are
works do we get an error message or are
we good here
length of Target stats greater than
zero
really how'd this
really how'd this
happen episode return episode
happen episode return episode
length this is a structure data type
length this is a structure data type
right
right
did I mess
up stats of Target
metric
huh and try it again
okay here are our
metrics Target stats is
metrics Target stats is
311 this looks like it's already been
311 this looks like it's already been
meaned
oh because I already do the mean here
oh because I already do the mean here
duh
is there any are there any other edge
is there any are there any other edge
cases I'm
cases I'm
missing I don't think
missing I don't think
so I think I just do like this now
just like
this see if this finish is
this see if this finish is
running and if so we can go back to the
running and if so we can go back to the
mooba stuff we'll just run this uh full
mooba stuff we'll just run this uh full
sweep
serve
serve
value up time prints out some
value up time prints out some
stuff no errors
take this garbage
out fix carbs we stat bug
oops
t-o we run the Atari sweep
script and hopefully this gives us
script and hopefully this gives us
something
reasonable okay so back to
reasonable okay so back to
uh what we were doing before notably
uh what we were doing before notably
though the beam Rider stuff actually
though the beam Rider stuff actually
kind of worked
kind of worked
and I think cubert was reasonable too
and I think cubert was reasonable too
wasn't
it yeah this
it yeah this
one cubert had a good run
one cubert had a good run
here yeah look at that we're totally
here yeah look at that we're totally
going to be able to learn all these
going to be able to learn all these
things when we just fix the like little
things when we just fix the like little
tiny sweet bugs it's very good
yeah this is stupid just like let's make
yeah this is stupid just like let's make
all of mlc Plus+ is
stupid Jen
Yap e
do we have
do we have
uh do we have
uh do we have
liftoff no not yet one
more all
right let's finish this test
um so we have this eval ELO script
I don't even like giving it data like
this so let's give
it
kernel
kernel
equals array
equals array
um one
one actually I can just do like this one
one actually I can just do like this one
* 5
* 5
plus uh other way
plus uh other way
around 5 *
around 5 *
1 + 5 *
1 + 5 *
okay then we'll
okay then we'll
do upper li.
do upper li.
environments oan
MOBA
MOBA
P en Creator make
P en Creator make
EnV en
EnV en
Creator
MOA and quars
m is
one
when anything else
no oh yeah we need the policy
[ __ ] that's going to be a problem isn't
[ __ ] that's going to be a problem isn't
it
I guess we'll do like
this torch
okay so now we have our
policy policy
policy policy
class
class
and we need to make the environment
and we need to make the environment
right okay EnV
right okay EnV
equals make EnV
I think it's n quars equals n quar num m
I think it's n quars equals n quar num m
equals m I think this is all it
is
no rer
no rer
EnV I need an environment to initialize
EnV I need an environment to initialize
the policy which is obnoxious but it is
the policy which is obnoxious but it is
what it
what it
is okay so we get the mobo
is okay so we get the mobo
policy what's it
called okay it's called
MOA import
okay so now we have MOBA
okay so now we have MOBA
policy and then we can do
policy
WS
current driver M
current driver M
policy and and then we can
policy and and then we can
[Music]
do okay so there's your
policy let's do vams
okay ELO
Evel going to be
Evel going to be
kernel M we need make M's
kernel M we need make M's
that
M's don't need any keyw guards don't
M's don't need any keyw guards don't
need numm
kernel
metric and then we do roll
outs
okay and we're just about ready to test
okay and we're just about ready to test
this I think we need to add the metric
this I think we need to add the metric
into the game don't
into the game don't
we yeah we need to add the win metric
we yeah we need to add the win metric
into the game for
into the game for
this we have to change one or two things
there not very much though
let me how we're going to do
this it's a little awkward because we
this it's a little awkward because we
only in frequently
only in frequently
report data and you could miss the wind
signal that's the main thing I'm
signal that's the main thing I'm
thinking about
thinking about
here is missing the wind signal
well let's go take a look at the
well let's go take a look at the
environment because we definitely need
environment because we definitely need
that in the logs
oops okay
oops okay
so you do have this return value
here I don't think I do anything with it
here I don't think I do anything with it
right now
right I don't do anything with it right
right I don't do anything with it right
now
it's a lot of data actually
it's a lot of data actually
[ __ ] don't how I want to do
this I could do it not
vectorized that's going to be so
vectorized that's going to be so
stupidly slow though it's not even going
stupidly slow though it's not even going
to be
funny I think I have to do this
funny I think I have to do this
vectorized right right
even something as simple as like
even something as simple as like
figuring out when the
figuring out when the
environment has been one is not easy
here because it's not going to return
here because it's not going to return
infos consistently
I got to think about
I got to think about
this there's so many little things here
this there's so many little things here
that are like yeah I could just do it
that are like yeah I could just do it
this way and screw up my nice code base
this way and screw up my nice code base
with this stupid
feature e
it actually would be so easy to do
it actually would be so easy to do
this like without all the vectorization
this like without all the vectorization
and stuff
right it'd be so bad though
right it'd be so bad though
it' be so
slow be doing like batch size
10 even on CPU that'll be slow
10 even on CPU that'll be slow
right I mean well
yeah is it f fast enough
though it would be so much easier to
though it would be so much easier to
implement as the thing and this is
implement as the thing and this is
something that it's so bad if they're
something that it's so bad if they're
[Music]
bugs okay call me crazy
bugs okay call me crazy
here but I think I know what I'm going
here but I think I know what I'm going
to
to
do I think I know what I'm going to do
I do need to know when the environment
I do need to know when the environment
is done
is done
still so let me return that signal
yeah let me return this signal
so can't return a freaking array from
so can't return a freaking array from
this though
this is so incredibly obnoxious it's not
this is so incredibly obnoxious it's not
even
funny I just don't have a way of doing
this like the way I have it now if I try
this like the way I have it now if I try
to like put this wind signal in it's
to like put this wind signal in it's
going to it'll screw up the compute
going to it'll screw up the compute
efficiency cuz like
there's not allowed to really be any
there's not allowed to really be any
python logic that runs every every tick
python logic that runs every every tick
to check for stuff like
that can't pull it directly out of the
that can't pull it directly out of the
SE can I
can I somehow set the done
signal even if I set the done signal
signal even if I set the done signal
doesn't tell me which team
doesn't tell me which team
wins really
wins really
obnoxious it's got to go into the info
obnoxious it's got to go into the info
somehow but the thing is the info is not
somehow but the thing is the info is not
set up
set up
to the info is not set up to return
to the info is not set up to return
multiple
multiple
multiple things
I could add just like
I could add just like
um an INT
here
right if I'm willing to just make this
right if I'm willing to just make this
DOTA only for now which probably just
DOTA only for now which probably just
makes sense
welcome Hey bet that's bad isn't
it oh shoot were there boxes down that I
it oh shoot were there boxes down that I
was supposed to
reboot damn
reboot damn
it yep box four okay
dude I just forgot so many freaking
dude I just forgot so many freaking
things
today whatever I'll make this up later I
today whatever I'll make this up later I
like totally forgot all the
things it's okay I forgot like a weekly
things it's okay I forgot like a weekly
meeting and stuff that has started back
meeting and stuff that has started back
and a bunch of other things working on
and a bunch of other things working on
on this it's okay
um I've just been trying to figure out
um I've just been trying to figure out
how to get ELO systems working in Dota
how to get ELO systems working in Dota
or
or
mobas and it's really hard to
do developing yeah I've been trying to
do developing yeah I've been trying to
like I've been thinking since Sunday
like I've been thinking since Sunday
like how the heck I'm going to do this
like how the heck I'm going to do this
and it's just It's
Tricky no no no it's not how to do the
Tricky no no no it's not how to do the
calculation I have that implemented
calculation I have that implemented
already that's the easy thing it's just
already that's the easy thing it's just
like how to do it in an RL context it's
like how to do it in an RL context it's
really obnoxious to get like to actually
really obnoxious to get like to actually
run the models and do that type of stuff
I think what we're going to do is we're
I think what we're going to do is we're
going to do it like
this nope we're not setting it down and
this nope we're not setting it down and
picking it up later I've already missed
picking it up later I've already missed
two meetings we're getting it done
it's not you spell radiant is
it's not you spell radiant is
it isn't it radiant
yeah what is it is this like a British
yeah what is it is this like a British
thing why does it say it's it's
both yeah it's with an a I thought so
both yeah it's with an a I thought so
why does it freaking show up correct
why does it freaking show up correct
with
with
then why does it show up with an
E weird I don't know how that happened
E weird I don't know how that happened
my auto correct goes to the E spelling
my auto correct goes to the E spelling
which is
which is
weird yeah I thought so I don't know why
weird yeah I thought so I don't know why
it
it
does oh my auto correct is just
does oh my auto correct is just
dumb I don't have it anywhere else like
dumb I don't have it anywhere else like
that in the file
misspell for naming
misspell for naming
companies yeah great so that when
companies yeah great so that when
anybody looks up your company they'll
anybody looks up your company they'll
spell it wrong and they won't find it
right one reasons why NOS
what's his face Google guy was saying
what's his face Google guy was saying
today that they're going to have PhD
today that they're going to have PhD
level
level
intelligence by
intelligence by
2025 like the thing can't do anything
2025 like the thing can't do anything
now it just it's like a bug
generator absolute bug
generator absolute bug
[Music]
[Music]
generator um
why does it keep
why does it keep
suggesting oh it's cuz I have it
suggesting oh it's cuz I have it
misspelled once here so it keeps
what's an approach to multi-
what's an approach to multi-
policy should I just make a base policy
policy should I just make a base policy
and
and
ter what what do you need a multi like
ter what what do you need a multi like
what do you mean a multi- policy what do
what do you mean a multi- policy what do
you need a multi- policy for What on
you need a multi- policy for What on
earth you're trying to
do I don't have it misspelled here do I
do I don't have it misspelled here do I
oh yeah I
do
okay okay so now we have the radiant and
okay okay so now we have the radiant and
the
the
dire separate battles and Overworld
linky you
linky you
just you just write your policy code and
just you just write your policy code and
you put an if statement in the forward
you put an if statement in the forward
pass you don't need to get fancy
honestly the more you stay against the
honestly the more you stay against the
stay the more you stay against away from
stay the more you stay against away from
like object oriented Shenanigans hell
like object oriented Shenanigans hell
the better
okay so we're going to use the just the
okay so we're going to use the just the
DOTA specific metric so this is just
DOTA specific metric so this is just
going to be this is going to be
going to be this is going to be
MOA
ELO Don't Care single purpose single
ELO Don't Care single purpose single
purpose simple as as possible POS
purpose simple as as possible POS
otherwise I'm going to be here all day
otherwise I'm going to be here all day
and this is going to drive me insane
and this is going to drive me insane
um we're going to
um we're going to
do it's not going to be wind metric like
do it's not going to be wind metric like
this we don't give a [ __ ] about
this we don't give a [ __ ] about
this don't
this don't
care uh we don't care about infos we do
care uh we don't care about infos we do
not care all we're going to do is self.
not care all we're going to do is self.
it's not Ms it's
it's not Ms it's
m colel en we don't need
m colel en we don't need
kernel let's take the en
self. n
self. n
Isen we're going to just simplify this
Isen we're going to just simplify this
until it looks stupidly simple then
until it looks stupidly simple then
we're going to look back on all this
we're going to look back on all this
thinking I've been doing and I'm going
thinking I've been doing and I'm going
to realize I've been stupid because I
to realize I've been stupid because I
can just write the simple code that does
can just write the simple code that does
it single purpose and care about making
it single purpose and care about making
it work on other stuff later we
it work on other stuff later we
literally only have the Moa that needs
literally only have the Moa that needs
this for now um so what we're going to
this for now um so what we're going to
do is self. prev radiant
victories is is zero have dire victories
victories is is zero have dire victories
is
is
zero okay and now what we're going to
zero okay and now what we're going to
do m
do m
dot
dot
CM m
CM m
dot
uh
radiant victories
like
like
this
this
[Music]
[Music]
LF do not need any of this horor
[ __ ] then we'll do
[ __ ] then we'll do
else
else
continue and then we
continue and then we
will update the elos this is so much
will update the elos this is so much
nicer isn't it when I just don't try to
nicer isn't it when I just don't try to
be smart about
be smart about
things like don't try to be smart you're
things like don't try to be smart you're
not smart you're dumb do it
dumb it's like you're not smart enough
dumb it's like you're not smart enough
to do it in a way that's going to be
to do it in a way that's going to be
good if you try to get
good if you try to get
fancy every damn
fancy every damn
time every every
time every every
time okay so
don't care don't care about this don't
don't care don't care about this don't
care about
care about
this this is this makeen is actually
this this is this makeen is actually
fine
fine
do
num he knows you inate isn't an inate
num he knows you inate isn't an inate
he's actually he's written some good
he's actually he's written some good
code
bet I don't know if you saw the breakout
bet I don't know if you saw the breakout
code it's pretty good
code it's pretty good
leave the colonel for now
leave the colonel for now
maybe N I would get rid of this
maybe N I would get rid of this
garbage what we need that
for no you're wrong but like like you're
for no you're wrong but like like you're
not wrong you're not wrong but like
not wrong you're not wrong but like
anybody anybody who's gone through first
anybody anybody who's gone through first
year CS knows you and Tate is not inate
if linky is just there I told you my
if linky is just there I told you my
recommendation to you it to is to spend
recommendation to you it to is to spend
like 90% of your time on cool RL
like 90% of your time on cool RL
projects and stuff but like 10% on like
projects and stuff but like 10% on like
some boring formal lectures will do you
some boring formal lectures will do you
[Music]
[Music]
good well because it wouldn't it doesn't
good well because it wouldn't it doesn't
make sense that it would be that you
make sense that it would be that you
would need to have an
would need to have an
int8 uh when when it's a Boolean like
int8 uh when when it's a Boolean like
why the hell would a Boolean be an INT
why the hell would a Boolean be an INT
8 at most it's going to be like an
8 at most it's going to be like an
unsigned bite you would
unsigned bite you would
think I don't know why like why the hell
think I don't know why like why the hell
would they have a signed type for a
Boolean oh by the way so Noah's breakout
Boolean oh by the way so Noah's breakout
thing will be like 200,000 steps per
thing will be like 200,000 steps per
second um at the moment without any
second um at the moment without any
other optimizations on the big box so
other optimizations on the big box so
that is already
that is already
like 30 times 40 times faster than
like 30 times 40 times faster than
breakout
is okay this is fine
um let's start running this and seeing
um let's start running this and seeing
where we're wrong
oh we've got quite a few folks on
oh we've got quite a few folks on
YouTube
today if anybody hasn't started the repo
today if anybody hasn't started the repo
yet we're one off of
yet we're one off of
750 on puffer lib if anybody wants to do
750 on puffer lib if anybody wants to do
that that'd be
awesome okay driver
awesome okay driver
and so this is now
and so this is now
just this whole thing gets
just this whole thing gets
simpler every time I think like oh I'm
simpler every time I think like oh I'm
not being that clever I'm just being I'm
not being that clever I'm just being I'm
just trying to be slightly clever it's
just trying to be slightly clever it's
you're trying to be too clever it's just
you're trying to be too clever it's just
be incredibly be incredibly incredibly
be incredibly be incredibly incredibly
stupid it's like the stupider you are
stupid it's like the stupider you are
the better code you write I
the better code you write I
swear the smarter you try to be the
swear the smarter you try to be the
worst code you
write is this how our current works
n
n
policy that's
good buffer lib Frameworks has no
good buffer lib Frameworks has no
attribute import
attribute import
[Music]
[Music]
buffer framework
youl no attribute
youl no attribute
data don't need that
let's
let's
see right let's just put this
in M policy
we can actually be even less we can be
we can actually be even less we can be
even stupider about this you
even stupider about this you
know I think it's not uh it's not done
know I think it's not uh it's not done
yet oh but it's not going to reset this
counter it's not going to reset this
counter it's not going to reset this
counter right
can you assign variables to scon from
python you probably can
right int is used for Boolean
Expressions really
okay maybe there is some old sea
Jank okay yeah there is a reason to have
Jank okay yeah there is a reason to have
this thing be stateful
right we'll leave it like this for now
okay view takes
right I need uh from nire or whatever
right I need uh from nire or whatever
right I need to load this
into
into
receive and then what is it as
receive and then what is it as
tensor as
tensor as
tensor so we do OBS
tensor so we do OBS
equals that's tensor obs
cool we got down to
here list has no attribute
here list has no attribute
CN equals n.
c0 cn. radiant
victories
C cool
looks like it's
running of course I didn't update the uh
running of course I didn't update the uh
the MOBA
the MOBA
code I actually have to update the
code I actually have to update the
mobile code to work on
this this should be a radiant Victory I
this this should be a radiant Victory I
believe
isn't it going to be nice if we have um
isn't it going to be nice if we have um
like literally a 30 line roll out
like literally a 30 line roll out
function that does
function that does
elos 50 lines with loading
I swear I'm going to be kicking myself
I swear I'm going to be kicking myself
if it ends up being this
simple it always ends up being 50 lines
simple it always ends up being 50 lines
of
of
[Music]
code so what's going on here that we're
code so what's going on here that we're
not getting any victories is this a
not getting any victories is this a
thing
step equal
step equal
zero
zero
step if
step is this thing like crazy slow or
step is this thing like crazy slow or
what's going
on continue okay we can't put this step
on continue okay we can't put this step
here there
no attribute
no attribute
CN did you
CN did you
[Music]
mean is it like
this non type non
subscriptable
subscriptable
oops we're very close I think to getting
oops we're very close I think to getting
this actually at least
this actually at least
running self.
running self.
CN what is it it's
CNS oh I know what it
is right here it needs to be
is right here it needs to be
CNS after the reset it doesn't exist
CNS after the reset it doesn't exist
until you reset it okay perfect so
until you reset it okay perfect so
there you
go e
no tow
taken the question there is a question
taken the question there is a question
as to whether they can actually win the
as to whether they can actually win the
game
game
right before they're
trained no towers are being taken after
trained no towers are being taken after
this many steps
not entirely surprising
right maybe it's a deadlock well I mean
right maybe it's a deadlock well I mean
they're these are untrained agents so
they're these are untrained agents so
they shouldn't really even be doing
anything so yeah they should just be
anything so yeah they should just be
stuck you'd think that they would take a
stuck you'd think that they would take a
tower by now though at
tower by now though at
least maybe
least maybe
not maybe not might have to be um you
not maybe not might have to be um you
might have to train the agents at least
might have to train the agents at least
to like help out a little bit
first speed on this is not terrible
though is on one CPU core
though is on one CPU core
locally not
GPU so I think that's decent enough to
GPU so I think that's decent enough to
start with
um we're going to have to do
um we're going to have to do
the timeout will have to be
the timeout will have to be
different we should probably have it be
different we should probably have it be
two policies
two policies
right or two checkpoints what do we
right or two checkpoints what do we
think
I got to figure out how to run this on a
I got to figure out how to run this on a
directory now I guess
right yeah
I should just go grab like uh an
I should just go grab like uh an
experiments
experiments
folder I think from the
folder I think from the
um I should just go grab a
um I should just go grab a
folder from the server yeah let's do
folder from the server yeah let's do
that real
that real
quick we're going to just go grab some
quick we're going to just go grab some
checkpoints from the server to use for
checkpoints from the server to use for
testing right
right is inference ever a bottleneck in
right is inference ever a bottleneck in
reinforcement learning yeah of
reinforcement learning yeah of
course
course
um especially if you don't if you can't
um especially if you don't if you can't
run like enough parallel environments or
run like enough parallel environments or
whatever inference is a big chunk of
whatever inference is a big chunk of
time it's generally a lot less efficient
time it's generally a lot less efficient
than the training
mind you the reason it's usually a
mind you the reason it's usually a
bottleneck is I is because puffer is
bottleneck is I is because puffer is
making your environments
fast or it's because you've made it a
fast or it's because you've made it a
bottleneck because you've just like
bottleneck because you've just like
scaled up your policy ridiculously
before I do this let me check on the
before I do this let me check on the
sweep real
quick looks like we got a lot of beam
quick looks like we got a lot of beam
Rider experiments yep 47 minutes worth
Rider experiments yep 47 minutes worth
the beam
the beam
Rider couple decent
runs looks good to
runs looks good to
me very
me very
nice and
nice and
[Music]
[Music]
and
and
dang it's going to hit 750 at some point
today this is the wrong box
I need to pass stacked observations to
I need to pass stacked observations to
my
my
network and I'm debating whether it is
network and I'm debating whether it is
worth storing the Stacked
worth storing the Stacked
observations or
doing sequential forward
doing sequential forward
passes stacking as I go
what I need to pass stacked
observations one you probably don't need
observations one you probably don't need
to pass act observations if you just use
to pass act observations if you just use
an lstm but if you really want to P act
an lstm but if you really want to P act
observations you just write a wrapper
observations you just write a wrapper
over the environment
usually it does increase bandwidth by
usually it does increase bandwidth by
quite a bit so it can slow stuff down
quite a bit so it can slow stuff down
is this for
is this for
Atari or is this for something else
guess this is all I have to work
with reimplementing a
paper there's technically this like
paper there's technically this like
annoying lazy frames
annoying lazy frames
wrapper in
sb3 but really you should you should
sb3 but really you should you should
have enough memory for stuff
like I store all of the Atari I store
like I store all of the Atari I store
like thousand size like tens of
like thousand size like tens of
thousands of batch size of atar in GPU
thousands of batch size of atar in GPU
memory without
memory without
offloading so as long as you're not
offloading so as long as you're not
storing your observations in
storing your observations in
fp32 if you're storing them in U in 8
fp32 if you're storing them in U in 8
you should be
fine you only need to stack like four
fine you only need to stack like four
OBS
OBS
usually it's like the common
setting but yeah usually you do this as
setting but yeah usually you do this as
a
a
rapper I mean you
rapper I mean you
couldn't it's it's kind of your choice
couldn't it's it's kind of your choice
you either do it as a rapper and have it
you either do it as a rapper and have it
be relatively easy there or you have to
be relatively easy there or you have to
modify substantial chunks of the code
modify substantial chunks of the code
there is technically this lazy frames
there is technically this lazy frames
thing that's supposed to fix stuff but
thing that's supposed to fix stuff but
it's not
it's not
great memory should not really usually
great memory should not really usually
be a problem
be a problem
though you should just be able to like
though you should just be able to like
offload or whatever if you need to
I don't really like these models
I don't really like these models
here
here
um I don't know if they ever win
um I don't know if they ever win
games I guess we'll use them regardless
I just train something locally real
I just train something locally real
quick
quick
right too obnoxious
CBA e
okay in the meantime let me figure out
okay in the meantime let me figure out
how to point this out of
how to point this out of
directory so what we're going to do is
directory so what we're going to do is
we're going to do n
policy how does that use so much
policy how does that use so much
memory like freezing my computer
up okay whatever I know how we're going
up okay whatever I know how we're going
to do this we're going to just
copy we're going to just going to copy
copy we're going to just going to copy
some policies off of WB to use for
some policies off of WB to use for
this um the annoying thing is just
this um the annoying thing is just
getting some policies to use right
now here we can just
do ah whatever we had one
anyways so we'll do
anyways so we'll do
policy n
policy n
policy checkpoint
D and this will be MOA
D and this will be MOA
check
points
okay and we can do this
okay and we can do this
at we'll do this at the
at we'll do this at the
start check
start check
puffer did you start
it 750
it 750
[Music]
[Music]
puffers well whoever that was thank
puffers well whoever that was thank
you that's
awesome so neural MMO is about 500 after
awesome so neural MMO is about 500 after
like seven years of
like seven years of
work this repo
work this repo
like three months of well I've been
like three months of well I've been
working on it for longer than that
working on it for longer than that
but that's some good
but that's some good
growth I hope we can sustain it I really
growth I hope we can sustain it I really
hope we can sustain the growth um it'll
hope we can sustain the growth um it'll
be it'll like if we keep this level of
be it'll like if we keep this level of
growth
growth
up there will be some awesome things
up there will be some awesome things
coming for RL there'll be some really
coming for RL there'll be some really
awesome things coming for RL
my really the goal with this project
my really the goal with this project
right is if I can get this thing if I
right is if I can get this thing if I
can get this thing to be so like popular
can get this thing to be so like popular
and widely used that like marketing
and widely used that like marketing
takes care of itself I just keep get to
takes care of itself I just keep get to
doing Dev I get to keep like sending
doing Dev I get to keep like sending
stuff forward and then hopefully uh you
stuff forward and then hopefully uh you
know we get some revenue from uh
know we get some revenue from uh
companies wanting support contracts or
companies wanting support contracts or
whatever uh in order to like build out a
whatever uh in order to like build out a
bigger cluster and start getting some
bigger cluster and start getting some
more resources on
this welcome
this welcome
yazan probably butchering your
name but yeah like the growth is like
name but yeah like the growth is like
it's really really
it's really really
good this helps a
good this helps a
lot you know I one of the next things
lot you know I one of the next things
that I'm going to want to do is I'm
that I'm going to want to do is I'm
going to want to build out the cluster
going to want to build out the cluster
like
like
5x only worked on supervised learning
5x only worked on supervised learning
how can I get started in reinforcement
how can I get started in reinforcement
learning well you're looking at it um
learning well you're looking at it um
we've got puffer lib that we're building
we've got puffer lib that we're building
right here there lots of cool stuff in
right here there lots of cool stuff in
the dev Branch try to make it relatively
the dev Branch try to make it relatively
simple uh it has lots of high perf demos
simple uh it has lots of high perf demos
you might want to start with just basic
you might want to start with just basic
clean RL first because it's like one
clean RL first because it's like one
file instead of maybe three or four um
file instead of maybe three or four um
but after that yeah like puffer lib has
but after that yeah like puffer lib has
lots of environments in it it has
lots of environments in it it has
relatively nice and simple code and it's
relatively nice and simple code and it's
very high performance
demo file is here at least in the dev
demo file is here at least in the dev
Branch we've got a relatively short demo
Branch we've got a relatively short demo
file it's only like 200 lines because
file it's only like 200 lines because
200 of this is experimental new feature
200 of this is experimental new feature
you don't have to worry
you don't have to worry
about and then clean puff RL is our
about and then clean puff RL is our
train code uh 775 lines but it's
train code uh 775 lines but it's
actually only like 300 lines of real
actually only like 300 lines of real
code and the rest of it is just tons of
code and the rest of it is just tons of
logging
is there environment acceleration like
is there environment acceleration like
speeding things up yep we have
speeding things up yep we have
environments that run at millions of
environments that run at millions of
steps per second per CPU
steps per second per CPU
core for comparison right like most of
core for comparison right like most of
the ones in reinforcement learning they
the ones in reinforcement learning they
run at like hundreds to low thousands of
run at like hundreds to low thousands of
steps per second uh so we are able to
steps per second uh so we are able to
train actually you see right uh this one
train actually you see right uh this one
is actually not even super fast but with
is actually not even super fast but with
uh some of our latest stuff we have
uh some of our latest stuff we have
training runs that go up to a million
training runs that go up to a million
steps per second on one
GPU if you if you scroll through my
GPU if you if you scroll through my
Twitter you'll see um like some of the
Twitter you'll see um like some of the
cool environments and results this was
cool environments and results this was
from the other day we did Pong at uh we
from the other day we did Pong at uh we
did Pong solved in 90 seconds on one
did Pong solved in 90 seconds on one
GPU we've got what else do we
have bunch of articles on here this is
have bunch of articles on here this is
the project I'm working on now it's like
the project I'm working on now it's like
miniature Dota or League of Legends um
miniature Dota or League of Legends um
but as a million step per second per
but as a million step per second per
core environment for reinforcement
core environment for reinforcement
learning we've got yeah this is the
mooba we've
mooba we've
got oh yeah this is more MOA we've got
got oh yeah this is more MOA we've got
more stuff than this
more stuff than this
too we've got yeah this is like our
too we've got yeah this is like our
pathing cach does it
pathing cach does it
work uh this gift doesn't work for some
work uh this gift doesn't work for some
reason
reason
where's the other cool
L this been doing MOBA for like three
L this been doing MOBA for like three
weeks okay we've got like these grid
weeks okay we've got like these grid
environments that are continuous or
environments that are continuous or
discret you have like forging stuff
discret you have like forging stuff
you've got group tasks you've got like a
you've got group tasks you've got like a
bunch of simple ones that all run at
bunch of simple ones that all run at
like 10
like 10
million and then yeah like these
million and then yeah like these
particle M
particle M
tasks and then we also have where's the
tasks and then we also have where's the
snake en I want to show the snake en
snake en I want to show the snake en
it's a really nice example
it's a really nice example
super far down at this
super far down at this
point oh yeah here so this is
point oh yeah here so this is
snake this is like a slither.io
snake this is like a slither.io
basically so like snake but with 4,000
basically so like snake but with 4,000
snakes and this thing will run at like
snakes and this thing will run at like
10,000 steps per second on one CPU core
10,000 steps per second on one CPU core
and we can train it at a million plus on
and we can train it at a million plus on
one
one
GPU you can do you know small snake en
GPU you can do you know small snake en
you can do gigantic snake EnV this is
you can do gigantic snake EnV this is
like huge snake end if you do all this
like huge snake end if you do all this
is this a simplification of League yeah
is this a simplification of League yeah
the latest project is it's based on DOTA
the latest project is it's based on DOTA
not League though it's kind of a mix of
not League though it's kind of a mix of
both I haven't I've played more League
both I haven't I've played more League
than DOTA um I just could find like the
than DOTA um I just could find like the
map stuff for DOTA and I figured that
map stuff for DOTA and I figured that
Riot would be more likely to sue my ass
um we've got all sorts of stuff on this
um we've got all sorts of stuff on this
MOA though now like it's got Heroes it's
MOA though now like it's got Heroes it's
got five different hero classes it's got
got five different hero classes it's got
the towers it's got the creep waves it's
the towers it's got the creep waves it's
got all the neutral camps it has pretty
got all the neutral camps it has pretty
much the exact same map as DOTA has the
much the exact same map as DOTA has the
exact same stuff for that classes are a
exact same stuff for that classes are a
little bit different um doesn't have
little bit different um doesn't have
like armor and the like extensive damage
like armor and the like extensive damage
Cs and stuff but uh it's a pretty decent
Cs and stuff but uh it's a pretty decent
little MOBA coming along and I've only
little MOBA coming along and I've only
been working on it like three-ish weeks
been working on it like three-ish weeks
now runs a million steps per second per
now runs a million steps per second per
core is the main thing so we can train
core is the main thing so we can train
this thing super fast you know you can
this thing super fast you know you can
do billion scale like billions of steps
do billion scale like billions of steps
of training on one core on one uh GPU
of training on one core on one uh GPU
just a few
just a few
hours this is the latest project uh it's
hours this is the latest project uh it's
coming along very nicely takes a little
coming along very nicely takes a little
bit of time but it's getting easier and
bit of time but it's getting easier and
easier to make these Sims I have more
easier to make these Sims I have more
Sims coming as
well so yeah I mean if you like what you
well so yeah I mean if you like what you
see here this is all open source it's
see here this is all open source it's
actually very simple uh the way I've do
actually very simple uh the way I've do
I'm doing stuff is actually quite simple
I'm doing stuff is actually quite simple
for people to follow like if you check
for people to follow like if you check
the dev Branch here if you want to see
the dev Branch here if you want to see
the code for this mooba
ocean is our first party environment so
ocean is our first party environment so
you have the snake M the grid M and
you have the snake M the grid M and
here's now the Moa here's the project
here's now the Moa here's the project
here's the entire source code one file
here's the entire source code one file
no external
no external
dependencies 1300 lines of
dependencies 1300 lines of
scon just
flat what's your background like to
flat what's your background like to
learn more about how you work like that
learn more about how you work like that
I saw you have many
I saw you have many
graphs uh I am an MIT PhD newly minted
graphs uh I am an MIT PhD newly minted
MIT PhD uh I've been working in
MIT PhD uh I've been working in
reinforcement learning for seven or
reinforcement learning for seven or
eight years now and I've been an AI
eight years now and I've been an AI
researcher for like 10 to 12 something
researcher for like 10 to 12 something
in that range worked on lots of stuff my
in that range worked on lots of stuff my
main thing that people know me for is
main thing that people know me for is
neural MMO which is this
neural MMO which is this
project in which we have uh well it's a
project in which we have uh well it's a
miniature MMO but for reinforcement
miniature MMO but for reinforcement
learning purposes ran lots of
learning purposes ran lots of
competitions on this and now that I've
competitions on this and now that I've
graduated I'm doing less academic stuff
graduated I'm doing less academic stuff
and more just trying to make
and more just trying to make
reinforcement learning super fast and
reinforcement learning super fast and
not completely cursed and impossible to
not completely cursed and impossible to
work
on so yeah that's the
story
story
intern yeah but you don't like go flex a
intern yeah but you don't like go flex a
random internship from 2018
well you put it like maybe you've heard
well you put it like maybe you've heard
of them
I'm currently trying to implement an ELO
I'm currently trying to implement an ELO
system for the Moa it's a pain in the
system for the Moa it's a pain in the
ass doing like ELO in reinforcement
ass doing like ELO in reinforcement
learning is always just a
pain you are flexing your well yeah I'm
pain you are flexing your well yeah I'm
allowed to flex those though okay I'm
allowed to flex those though okay I'm
doing a mini cut this week I'm doing a
doing a mini cut this week I'm doing a
mini cut and I still hit a 260 bench
mini cut and I still hit a 260 bench
this morning so yeah I'm happy with that
Marathon no marathon's in like a week
Marathon no marathon's in like a week
the marathon's going to kick my ass
the marathon's going to kick my ass
though that's what the cut is for just
though that's what the cut is for just
like if I can cut a couple pounds before
like if I can cut a couple pounds before
that it'll be a little
that it'll be a little
easier I'm hoping it's not freaking
easier I'm hoping it's not freaking
super hot but I think it's going to be
super hot but I think it's going to be
pretty hot
pretty hot
no cardio for me trying to get big I've
no cardio for me trying to get big I've
been only doing this for like 4ish years
been only doing this for like 4ish years
now I weighed like 140 for my entire
now I weighed like 140 for my entire
adult life until then um took like two
adult life until then um took like two
three years bulked up from 140 to 180
three years bulked up from 140 to 180
doing just like um pretty minimal
doing just like um pretty minimal
powerlifting program pure just strength
powerlifting program pure just strength
training and uh hit a bunch of decent
training and uh hit a bunch of decent
numbers and then realized I couldn't run
numbers and then realized I couldn't run
a mile so the last year I've been doing
a mile so the last year I've been doing
more running training ran two marathons
more running training ran two marathons
so far and then the one I'm doing
so far and then the one I'm doing
upcoming is going to be with stupid
upcoming is going to be with stupid
amounts of elevation I think it'll
amounts of elevation I think it'll
probably end up being like 44500 FT
probably end up being like 44500 FT
elevation gain um so we'll see how that
goes running the heat it's awful really
goes running the heat it's awful really
bad yeah running the Heat sucks it
bad yeah running the Heat sucks it
really sucks
141 right now yeah I was one that's what
141 right now yeah I was one that's what
I weighed at like 59 140 for up from age
I weighed at like 59 140 for up from age
like 16 until 23 or whatever
War year consistency yeah it's been very
War year consistency yeah it's been very
pretty pretty darn good
pretty pretty darn good
consistency how do you deal with your
consistency how do you deal with your
back no you do deadlifts and your back
back no you do deadlifts and your back
problems go
problems go
away though to be fair I haven't done I
away though to be fair I haven't done I
haven't done squats or deadlifts
haven't done squats or deadlifts
properly in like a year because of the
properly in like a year because of the
running um the running just really makes
running um the running just really makes
makes it
makes it
hard to do that I hit a I hit a 405
hard to do that I hit a I hit a 405
deadlift and a 315 squat for two before
deadlift and a 315 squat for two before
I stopped doing uh tons of heavy lower
I stopped doing uh tons of heavy lower
body lifts though for the running I'll
body lifts though for the running I'll
go back to
go back to
it that's terrible advice do you
it that's terrible advice do you
absolutely do
absolutely do
deadlifts deadlifts absolutely fix your
deadlifts deadlifts absolutely fix your
back I had tons of back pain like
back I had tons of back pain like
sitting in a nice ergonomic chair all
sitting in a nice ergonomic chair all
day now I have I haven't even deadlifted
day now I have I haven't even deadlifted
in a year but ever since I started I
in a year but ever since I started I
would like sit on the couch and had zero
would like sit on the couch and had zero
back problems
back problems
whatsoever the thing is it's really not
whatsoever the thing is it's really not
that sensitive of an exercise because
that sensitive of an exercise because
it'll take you a year before you're
it'll take you a year before you're
actually lifting anything substantial
actually lifting anything substantial
it's I mean okay it's it's a different
it's I mean okay it's it's a different
story if you're in your 40s but it's
story if you're in your 40s but it's
very very difficult to hurt yourself
very very difficult to hurt yourself
with a PL or twoo
like when I started deadlifting right I
like when I started deadlifting right I
was when I like first started
was when I like first started
deadlifting I was lifting like a plate
deadlifting I was lifting like a plate
or a plate and change like 130 to 160
or a plate and change like 130 to 160
lbs like I can overhead press that now
lbs like I can overhead press that now
it's very hard to hurt yourself with
it's very hard to hurt yourself with
that amount of weight
it's very very hard to hurt yourself
it's very very hard to hurt yourself
with that amount of
weight I started hurting myself on
weight I started hurting myself on
deadlifts here and there when it got to
deadlifts here and there when it got to
like 350 plus not before
then that's not even considered an
then that's not even considered an
impressive number for reference
like 400 to 500 then we then you're
talking you guys did have back problems
talking you guys did have back problems
before yeah a little bit from sitting
before yeah a little bit from sitting
around all day doing nothing
sure if you're afraid of doing deadlifts
sure if you're afraid of doing deadlifts
do ro and deadlifts it's literally
do ro and deadlifts it's literally
impossible to hurt yourself doing
those all
those all
right what was I stuck on
here supposed to be writing ELO code
right my rule is I get to talk about
right my rule is I get to talk about
Fitness though if but somebody else
Fitness though if but somebody else
brings it up
[Music]
[Music]
it's all I do outside
it's all I do outside
of working on this
stuff right I was working on the path
logic break is over back to
logic break is over back to
work
work
damn rip
me you get the scores from
me you get the scores from
here and then
no I think I need to do this twice right
no I think I need to do this twice right
I need
I need
to load a
policy okay I know what I do it so
policy okay I know what I do it so
opponent is
none this this goes back down
here yeah this goes down
here yeah this goes down
here and then what we do
here and then what we do
is and we'll do
timeout equals
60 sitting down with a bar above
I don't think that helps
particularly if you don't really don't
particularly if you don't really don't
want to do any form of deadlift do back
extensions every gem has that just body
extensions every gem has that just body
weight
I do honestly think though that like the
I do honestly think though that like the
risk of injury and like health problems
risk of injury and like health problems
from just not doing anything is
from just not doing anything is
infinitely higher than the risk of like
infinitely higher than the risk of like
seriously injuring yourself doing
seriously injuring yourself doing
substantial exercise like most of the
substantial exercise like most of the
horrendous like most of the horrendous
horrendous like most of the horrendous
in uh injury videos you see are either
in uh injury videos you see are either
people doing in incredibly stupid things
people doing in incredibly stupid things
or like very Advanced lifters on
or like very Advanced lifters on
steroids hurting themselves with 500
lb you're not on steroids and you're not
lb you're not on steroids and you're not
lifting 500 lbs you're fine
yeah
fine opponent is going to be none yeah
fine opponent is going to be none yeah
so what I wanted to do here right was I
so what I wanted to do here right was I
wanted to say if opponent is none
wanted to say if opponent is none
or oh this is why I wanted to put this
or oh this is why I wanted to put this
up here right
let's just make a load
opponent trainer
State isn't there a function to go
State isn't there a function to go
through
through
I'm trying to remember where I have this
I'm trying to remember where I have this
I think it's in the in
I think it's in the in
now goals for
now goals for
longevity get
cardio yeah the problem with saying get
cardio yeah the problem with saying get
cardio first is that if you hate cardio
cardio first is that if you hate cardio
you're not going to stick with it right
you're not going to stick with it right
I did cardio on and off for years and I
I did cardio on and off for years and I
always hated it hated it hating it even
always hated it hated it hating it even
though I'm running now like 10 hours a
though I'm running now like 10 hours a
week I still hate it I wouldn't do it if
week I still hate it I wouldn't do it if
that's all I were doing like I do the
that's all I were doing like I do the
strength training cuz I enjoy it and
strength training cuz I enjoy it and
then I do the cardio because it's good
then I do the cardio because it's good
for me I'm not going to do the cardio on
for me I'm not going to do the cardio on
its own and not do the strength training
its own and not do the strength training
consistently like ever it's just not
consistently like ever it's just not
going to
going to
happen a lot of men are just like
happen a lot of men are just like
hardwired to hate that [ __ ] you like we
hardwired to hate that [ __ ] you like we
like picking up heavy things we do not
like picking up heavy things we do not
like huffpuff like jogging around for
like huffpuff like jogging around for
hours
I definitely do not eat mostly fruits
I definitely do not eat mostly fruits
and vegetables and it is absolutely
and vegetables and it is absolutely
impossible to not be stressed as
[ __ ] I'm really not that regimented
honestly walking is
honestly walking is
good yeah
definitely not using it definitely not
definitely not using it definitely not
good for me but I am using it positively
good for me but I am using it positively
bet
100% it's still not good for you it'll
100% it's still not good for you it'll
absolutely just freaking kill you
one of the best things to do if you're
one of the best things to do if you're
stressed is go lift heavy [ __ ] or uh
stressed is go lift heavy [ __ ] or uh
like run until you cannot run anymore
like run until you cannot run anymore
works really
works really
well and you get in
shape I was looking for something in
shape I was looking for something in
here I was looking for
glob yeah this
thing thanks to the advice yeah no
thing thanks to the advice yeah no
worries
the other thing B is it's just it's so
the other thing B is it's just it's so
much harder to get people to do cardio
much harder to get people to do cardio
than it is to get them to do any form of
than it is to get them to do any form of
strength
training it's so much harder
how do I randomly select one of these
you need cardio to stay
you need cardio to stay
alive it doesn't matter what you need if
alive it doesn't matter what you need if
you're not going to do it
like you will feel better immediately
like you will feel better immediately
after doing strength training you will
after doing strength training you will
not feel better immediately after doing
not feel better immediately after doing
cardio it's way easier to get people to
cardio it's way easier to get people to
do some strength training and then if
do some strength training and then if
they stick with that then we talk about
they stick with that then we talk about
adding some
cardio
for
e e
okay this is going to be a
load there this is what I wanted to
load there this is what I wanted to
do doing a bit of both well if you can
do doing a bit of both well if you can
stick with that that's good most people
stick with that that's good most people
will
not my last block of training was got up
not my last block of training was got up
to be 53 m a week of running and 5 days
to be 53 m a week of running and 5 days
of heavy lifting
I can tell you the lifting was way more
enjoyable g g e r
d oh G
G yeah that's what I was looking up
this
this
runs callor me surprised oh cuz I'm not
runs callor me surprised oh cuz I'm not
using the policy yet
star five
so this is going to be five
star and this is going to
be my state
be my state
equals
equals
is if
is if
State not
State not
none my state
else stacking stuff here is
annoying haven't seen a dock not in the
annoying haven't seen a dock not in the
US in
US in
Canada yeah I've heard everyone's like
Canada yeah I've heard everyone's like
ah we got free healthcare and it's like
ah we got free healthcare and it's like
they say like they either will tell you
they say like they either will tell you
to take some pills or they'll say while
to take some pills or they'll say while
we could kill
you Amica
my
state oh we can literally just do this
state oh we can literally just do this
right I'm just
right I'm just
dumb yeah this is my state and
dumb yeah this is my state and
opponent's State this is so easy I'm
opponent's State this is so easy I'm
just dumb
and then we literally just cat down here
and then we literally just cat down here
right so stupidly easy it's being like
right so stupidly easy it's being like
over complicating
stuff ain't broke don't fix
stuff ain't broke don't fix
it
it
h so this is going to
h so this is going to
be my action opponent
be my action opponent
action actually let's just do my
action actually let's just do my
OBS and opponent obs
is good right and then we can just do
is good right and then we can just do
yeah this is
clean so easy
right
right
policy on opponent
and you can
and you can
catenate see if this
catenate see if this
works so uh I'm doing this really lazy
like
like
works you guys have full-time jobs
works you guys have full-time jobs
you're looking at
it graduated two three months ago this
it graduated two three months ago this
is uh working on puffer AI full-time and
is uh working on puffer AI full-time and
then full-time and then some
we're making reinforcement learning not
we're making reinforcement learning not
be cursed and
terrible do you know geoh Hots I know of
terrible do you know geoh Hots I know of
him I don't know him personally
gotta thank him because the day that he
gotta thank him because the day that he
starred puffer lib puffer lib got like
starred puffer lib puffer lib got like
an extra 150 stars on
it technically I could be running
it technically I could be running
multiple games in parallel
multiple games in parallel
here I don't think it's worth it I think
here I don't think it's worth it I think
it adds too much
it adds too much
complexity yeah CPU anyways I don't
complexity yeah CPU anyways I don't
think I get that much batching
optimization yeah I mean this is this is
optimization yeah I mean this is this is
the result of since I've been working on
the result of since I've been working on
puff full-time like right here is when I
puff full-time like right here is when I
started working on it
full-time my project has been doing
well really really happy with how uh
well really really happy with how uh
it's shaping up for reinforcement
it's shaping up for reinforcement
learning is really going to make our a
learning is really going to make our a
lot
easier we just hit 750
easier we just hit 750
today like an hour
ago needs to be bet works on
ago needs to be bet works on
um bet is also a contributor to the uh
um bet is also a contributor to the uh
the Pokemon project we're trying to
the Pokemon project we're trying to
solve Pokemon Red with reinforcement
solve Pokemon Red with reinforcement
learning
thanks for the star helps me out a
ton basically My Hope here is that um if
ton basically My Hope here is that um if
I can get my Twitter account to 10K and
I can get my Twitter account to 10K and
puffer to 1K which will happen way
puffer to 1K which will happen way
before the Twitter then uh I think that
before the Twitter then uh I think that
my like marketing for puffer should just
my like marketing for puffer should just
take care of itself pretty much and I'll
take care of itself pretty much and I'll
be able to just be doing like full-time
be able to just be doing like full-time
Tech work on puffer and not have to
Tech work on puffer and not have to
worry too much about the other side of
worry too much about the other side of
things which would be nice means more
things which would be nice means more
gets done fast because I can do the
gets done fast because I can do the
other side of things but it's way better
other side of things but it's way better
if I don't have to waste my time on
if I don't have to waste my time on
it once this is done researchers will
it once this is done researchers will
use your yep
use your yep
of course that's the hope it's already
of course that's the hope it's already
good enough for that it's already good
good enough for that it's already good
enough for
that the only stuff it's not good enough
that the only stuff it's not good enough
for is like stuff that the rest of RL is
for is like stuff that the rest of RL is
not good enough for either there's
not good enough for either there's
nothing that like other RL libraries
nothing that like other RL libraries
have that I'm really jealous of at the
have that I'm really jealous of at the
moment
moment
um yeah I don't think any I don't think
um yeah I don't think any I don't think
there are any libraries that have stuff
there are any libraries that have stuff
that I'm still jealous of I think we
that I'm still jealous of I think we
kind of have all of our own stuff in
kind of have all of our own stuff in
place maybe like additional environment
place maybe like additional environment
bindings for like some control LS but I
bindings for like some control LS but I
have people working on
have people working on
that I think that like all the new stuff
that I think that like all the new stuff
that's going in puffer is stuff that
that's going in puffer is stuff that
like no other RL library has anyways so
like no other RL library has anyways so
it's pretty much in a good
it's pretty much in a good
spot technically we don't have a bunch
spot technically we don't have a bunch
of algorithm implementations but I don't
of algorithm implementations but I don't
think we need them like puffer lib is
think we need them like puffer lib is
not meant to be a repository for
not meant to be a repository for
algorithms implementations like you can
algorithms implementations like you can
use puffer lib with any with any
use puffer lib with any with any
algorithm you want um we provide like
algorithm you want um we provide like
lower level tools and Primitives to make
lower level tools and Primitives to make
everything
fast at some point when I make time in
fast at some point when I make time in
the future I want to make puffer Li
the future I want to make puffer Li
idiot proof not possible that's like
idiot proof not possible that's like
trying to democratize rocket science we
trying to democratize rocket science we
can definitely add some like sane
can definitely add some like sane
warnings though to stuff if you have
warnings though to stuff if you have
places where like you can just add
places where like you can just add
warnings that will catch dumb bugs right
warnings that will catch dumb bugs right
like add some asserts add some errors um
like add some asserts add some errors um
definitely I would accept PRS for
that but I think honestly like trying to
that but I think honestly like trying to
make RL idiot proof is a lot of the
make RL idiot proof is a lot of the
reason we're in this mess in the first
reason we're in this mess in the first
place like look at the design of RL lib
place like look at the design of RL lib
or s sp3 or t show they're like way too
or s sp3 or t show they're like way too
modularized in Black boxy right and the
modularized in Black boxy right and the
thing is when it something inevitably
thing is when it something inevitably
doesn't work cuz it's reinforcement
doesn't work cuz it's reinforcement
learning you have absolutely no way to
learning you have absolutely no way to
fix it whereas with puffer lib you can
fix it whereas with puffer lib you can
just open the code CU there's not very
just open the code CU there's not very
much of it and it's very
simple that's the that's the sales pitch
here does this thing seriously just not
here does this thing seriously just not
take any towers do I just need better
take any towers do I just need better
policies to play with this
policies to play with this
with black box is really
with black box is really
indecipherable yeah
I don't know the more like the longer I
I don't know the more like the longer I
spend programming the less time I spend
spend programming the less time I spend
reading docs of
reading docs of
libraries like nowadays I spend way more
libraries like nowadays I spend way more
time just reading the source code of
time just reading the source code of
libraries and I spend reading their
docs like libraries are just made of
docs like libraries are just made of
code what do you need docs for the docs
code what do you need docs for the docs
it's it's code you read
it okay so return elos
5:30 at the
5:30 at the
moment couple more hours of this I'd
moment couple more hours of this I'd
like to have this in a good spot
like to have this in a good spot
today the thing is this actually kind of
today the thing is this actually kind of
already
already
works I just need some models to test it
works I just need some models to test it
on so I think I'll commit this for
now I didn't think it was going to be
now I didn't think it was going to be
that
that
easy I obviously have to integrate it
easy I obviously have to integrate it
with
stuff what is all what are all these
stuff what is all what are all these
changes all right um
don't need this because I have the other
file just did my
bachelor yeah that's how it's going to
bachelor yeah that's how it's going to
be in AI for a while um
best thing is probably going to be to be
best thing is probably going to be to be
in software and then try to move over to
in software and then try to move over to
like applied AI from there it's going to
like applied AI from there it's going to
be very hard to do research out of
undergrad particularly if you haven't
undergrad particularly if you haven't
already been doing it right like if you
already been doing it right like if you
like if you're out of undergrad but you
like if you're out of undergrad but you
have a couple published papers then yeah
have a couple published papers then yeah
you can probably go do research like be
you can probably go do research like be
a like you know applied researcher or ml
a like you know applied researcher or ml
guy a startup or small company but it's
guy a startup or small company but it's
going to be very hard
going to be very hard
otherwise applied AI I've seen like
otherwise applied AI I've seen like
applied AI out of undergrad for sure at
applied AI out of undergrad for sure at
like big Tech but otherwise nah
Andre and even with Andrew in
Andre and even with Andrew in
courses do you mean the online ones are
courses do you mean the online ones are
cs229 at
Stamford because I had 229 out of
Stamford because I had 229 out of
Stanford uh papers and several other
Stanford uh papers and several other
things and that still was not going to
things and that still was not going to
do it I mean I could have gone and done
do it I mean I could have gone and done
like applied whatever at at Fang I
like applied whatever at at Fang I
definitely could have done that but to
definitely could have done that but to
do like pure research
no online yeah
no online yeah
that's best thing you're going to be
that's best thing you're going to be
able to do is do like software
able to do is do like software
engineering that maybe has like some
engineering that maybe has like some
some like little bit of Applied AI in
some like little bit of Applied AI in
the
mix learning how to train an LM is a
mix learning how to train an LM is a
lesson Less in demand skill because
lesson Less in demand skill because
those
those
um the amount of capital that goes into
um the amount of capital that goes into
that that is now becoming like that is
that that is now becoming like that is
now a seven figure salary skill that is
now a seven figure salary skill that is
not going to be given to you know
not going to be given to you know
anybody that they don't trust with that
anybody that they don't trust with that
amount of
compute I actually bet the good deal in
compute I actually bet the good deal in
the US is you can get a masters in zero
the US is you can get a masters in zero
years you just get it as part of your
years you just get it as part of your
undergrad
I did not do that because I
I did not do that because I
took I took six months off of my degree
took I took six months off of my degree
and and I still graduated so I graduated
and and I still graduated so I graduated
a term early I took a term off and I was
a term early I took a term off and I was
doing research full-time for like two of
doing research full-time for like two of
those years so I didn't bother doing the
those years so I didn't bother doing the
Masters at the same time it wouldn't
Masters at the same time it wouldn't
have even saved me any time with the PHD
anyways you do though you do get it in
anyways you do though you do get it in
undergrad for uh
undergrad for uh
here
bir I mean not everywhere obviously it's
bir I mean not everywhere obviously it's
very few places but uh co-terminal
very few places but uh co-terminal
admissions you apply while you're
admissions you apply while you're
still why the hell did command prompt
still why the hell did command prompt
just
open this is the Stanford website but
open this is the Stanford website but
that's freaking
sketchy I'm actually suspicious what the
sketchy I'm actually suspicious what the
hell is running on this
oh this is
Windows there Windows being
dumb yeah co-terminal admissions allow
dumb yeah co-terminal admissions allow
students to begin completing graduate
students to begin completing graduate
units while they're still
units while they're still
undergraduates so you get to double
undergraduates so you get to double
count your
units you get like a certain number that
units you get like a certain number that
you can
count very common for people to do their
count very common for people to do their
C- term in four
years what's the acceptance rate very
low yeah basically doing Stanford is the
low yeah basically doing Stanford is the
easy part getting in is the hard
part it's true for all of the degrees
part it's true for all of the degrees
honestly doing the degree is the easy
honestly doing the degree is the easy
part getting in is the hard part the top
part getting in is the hard part the top
programs basically do not fail anybody
programs basically do not fail anybody
like they fail You by not letting you in
I know people who didn't get in with
I know people who didn't get in with
four yeah everybody's got a
4L I mean I'm very public about like
4L I mean I'm very public about like
I've literally never worked harder in my
I've literally never worked harder in my
life than when I was getting trying to
life than when I was getting trying to
get into undergrad like I worked 110
get into undergrad like I worked 110
hours a week all through high
school I didn't even do that at Stamford
school I didn't even do that at Stamford
at Stamford I think the most I did was
at Stamford I think the most I did was
like 90 a
week oops did I screw this up
week oops did I screw this up
I got distracted and closed the wrong
I got distracted and closed the wrong
window did I
yeah you're working 100 plus you have no
life yeah no you have no life yeah
exactly you sleep uh four hours a night
exactly you sleep uh four hours a night
and you get a night off once every like
and you get a night off once every like
maybe two to three
maybe two to three
months for
I don't know if you're I don't know if
I don't know if you're I don't know if
you're being ironic but yes
that yeah
you're describing stuff I've already
you're describing stuff I've already
done so
yes
yes
um I don't know why they I have 13
um I don't know why they I have 13
people on YouTube watching me look at my
people on YouTube watching me look at my
terminal so I should probably do
terminal so I should probably do
something interesting now huh let's do
something interesting now huh let's do
something cool let's go make all the
something cool let's go make all the
Atari games playable so that we no
Atari games playable so that we no
longer get really stupid bugs because
longer get really stupid bugs because
nobody's ever played the game that their
nobody's ever played the game that their
reinforcement learned all right how
reinforcement learned all right how
about that so I'm going to use the
about that so I'm going to use the
restro from real quick I'm going to come
restro from real quick I'm going to come
back in a minute and then what we're
back in a minute and then what we're
going to do is we're going to look at
going to do is we're going to look at
like we have all these hyperparameter
like we have all these hyperparameter
sweeps running on Atari um but these
sweeps running on Atari um but these
games are not properly playable we're
games are not properly playable we're
going to make them playable we're going
going to make them playable we're going
to make it really easy to watch neural
to make it really easy to watch neural
Nets play them and we're going to do
Nets play them and we're going to do
this in a way that's like sane and Mak
this in a way that's like sane and Mak
sense and is easy and it's going to be
sense and is easy and it's going to be
on the fast version of Atari that's way
on the fast version of Atari that's way
faster than the version normally used in
faster than the version normally used in
RL I'll be right back bet keep the
RL I'll be right back bet keep the
audience entertained for a few
minutes
e e
I don't know know why the hell I check
I don't know know why the hell I check
Twitter while I'm walking
Twitter while I'm walking
around there's a stupid post going
around there's a stupid post going
around with I don't [ __ ]
know a waste of time whatever let's
know a waste of time whatever let's
let's build cool
let's build cool
stuff what
stuff what
is hold on what did I
is hold on what did I
miss 12 wait how the hell are this many
miss 12 wait how the hell are this many
messages oh it's all bet 12 this is not
messages oh it's all bet 12 this is not
a record high we've hit 15 or
a record high we've hit 15 or
16 yeah it Twitter is awful and
16 yeah it Twitter is awful and
addictive and terrible but the thing is
addictive and terrible but the thing is
it's actually very useful um because it
it's actually very useful um because it
solves marketing for me
solves marketing for me
so it totally solves
marketing let's actually make [ __ ] that
marketing let's actually make [ __ ] that
works
works
um so starting
off oops
Python and uh pong mode
Python and uh pong mode
eval maybe D- Baseline
eval maybe D- Baseline
Works D- Baseline
work I think I need render
mode one
mode one
b w
b w
b whoever is at w B could you please fix
b whoever is at w B could you please fix
this
this
bug have to reopen the darn terminal
bug have to reopen the darn terminal
every
every
time all right we're going to get every
time all right we're going to get every
single Atari game playing right
now and pong mode uh eval render
now and pong mode uh eval render
mode RGB array
uh
uh
Baseline see if this
Baseline see if this
renders if not we will start fixing
it
it
okay something weird going on are we on
okay something weird going on are we on
the wrong
the wrong
Branch yep
try that
again pip install
dasu okay I think we just needed the new
dasu okay I think we just needed the new
version of Ali pie
there we
go okay so there is still something
go okay so there is still something
wrong with eval
Mode still something wrong with eval
mode with the
policy oh for some reason I thought that
policy oh for some reason I thought that
I I had the pre-train policy before we
I I had the pre-train policy before we
should still be able to run it with the
should still be able to run it with the
random
random
policy yeah here we go so this is
policy yeah here we go so this is
pong it plays we should be able to play
pong it plays we should be able to play
other stuff as well let's do beam Rider
other stuff as well let's do beam Rider
let's trick one other
game there are a lot of cool games in
here
here
anyways so uh now what we're going to do
anyways so uh now what we're going to do
is we're going to try to get these to be
is we're going to try to get these to be
actually reasonably human
playable you're trying to share the
playable you're trying to share the
address but it's censored let me is
address but it's censored let me is
there a setting in YouTube where I can
there a setting in YouTube where I can
mess with
that I can let you guys post links
that I can let you guys post links
because I don't care if you post links
because I don't care if you post links
it's
fine
filtering
filtering
bot I I don't think I have any
settings so I have this um play Pong
settings so I have this um play Pong
file that I
wrote why does nothing work
today oh
yeah prob
V5 name does not
exist import Al
Pi okay there's just a little API thingy
Pi okay there's just a little API thingy
that I have to
that I have to
do here so this is the play file I wrote
do here so this is the play file I wrote
for
for
pong this allows you to play so this is
pong this allows you to play so this is
me playing here
me playing here
it's very difficult
actually this was for the uh the blog
actually this was for the uh the blog
post where I was showing that sticky
post where I was showing that sticky
actions make this game very very hard to
play so we want to make all the games
playable well apparently people can post
playable well apparently people can post
links on Twitch block that
links on Twitch block that
that's the one
that's the one
downside those are easy enough to block
downside those are easy enough to block
though uh let me get this let me open
though uh let me get this let me open
YouTube studio and fix the link settings
YouTube studio and fix the link settings
for you
guys
settings why do I not see community
I don't think there's anything private
I don't think there's anything private
here where is this thing so I can fix
here where is this thing so I can fix
this and get back to Dev
automated
automated
filters you gped that and it made up
filters you gped that and it made up
[ __ ] didn't
you
typical YouTube
Studio oh yeah there's the studio
thing where the heck is it this
thing ah
cool clickbait title don't recommend
Channel wait what
what is this seven-year-old
funny what a ridiculously clickbaity
funny what a ridiculously clickbaity
title I mean I actually freaking found
title I mean I actually freaking found
uh did it get
views I think this video got a bunch of
views I think this video got a bunch of
H 570 on it like a short little stream
H 570 on it like a short little stream
is
is
funny there not even a click baity title
funny there not even a click baity title
I actually found out
why
why
yeah that's so
yeah that's so
funny click baity title cuz it's like
funny click baity title cuz it's like
that's funny where's the um where's the
that's funny where's the um where's the
darn setting I got to get back to Dev
darn setting I got to get back to Dev
this is
boring okay
boring okay
where I'm not doing this now cuz I can't
where I'm not doing this now cuz I can't
freaking find it and you know I want to
freaking find it and you know I want to
do this Dev live I've only got like
do this Dev live I've only got like
another couple hours hour and a half to
another couple hours hour and a half to
do this so I want to make sure that we
do this so I want to make sure that we
have this working
have this working
today it do you have
today it do you have
it damn it
bet fine
left side
bar I literally just don't see it
oh yeah here it
is I don't have block links
on it's literally
off did the restream bot do it
off did the restream bot do it
it might be the restream
bot oops this is restream analytics
bot oops this is restream analytics
don't need
that literally don't see it
doesn't show up yep that's weird all
doesn't show up yep that's weird all
right
right
well let's go back to actually doing Dev
well let's go back to actually doing Dev
we've bored half of the people
we've bored half of the people
away
away
um yeah I see the link from the twitch
um yeah I see the link from the twitch
links work which is weird so it seems
links work which is weird so it seems
like it would be YouTube but I literally
like it would be YouTube but I literally
don't have the link filter option on on
don't have the link filter option on on
YouTube so I don't know what's
happening I don't know
so anyways I had to write my own I had
so anyways I had to write my own I had
to write my own thing here because I
to write my own thing here because I
couldn't get this to
couldn't get this to
render reasonably
render reasonably
before I'm going to copy this
file what if I just like render this in
file what if I just like render this in
like render mode
like render mode
human can I do this
don't worry about it I have twitch and
don't worry about it I have twitch and
YouTube Del is less on Twitch
YouTube Del is less on Twitch
yeah oh yeah that's you
yeah oh yeah that's you
bet
cool
um is there a key press thing for
um is there a key press thing for
Atari hold on there supposed to be like
Atari hold on there supposed to be like
a human render mode on
Atari without having to go through um
Atari without having to go through um
gymnasium right I think that's what we
gymnasium right I think that's what we
want otherwise I'll just install a rib
want otherwise I'll just install a rib
renderer that actually wouldn't be bad
renderer that actually wouldn't be bad
to just do a rib renderer
to just do a rib renderer
right I think that's actually better
right I think that's actually better
right hold
right hold
on if I just do the RB renderer that's
on if I just do the RB renderer that's
way better isn't it cuz then I actually
way better isn't it cuz then I actually
you see the environment the way the
you see the environment the way the
agent sees
it I think
it I think
so I thought Rib was the standard no
so I thought Rib was the standard no
like literally nobody uses it and it's
like literally nobody uses it and it's
the best thing
the best thing
ever if you haven't used RB you're like
ever if you haven't used RB you're like
you're missing
out I thought you scy yes it's standard
out I thought you scy yes it's standard
for my stuff but nobody else
for my stuff but nobody else
right it's standard for my
right it's standard for my
stuff doesn't mean everyone's using
it okay we'll make RB client
here and we'll do this will be an end
here and we'll do this will be an end
wrapper like this
they aren't using it yet design
choices a rib is just awesome like it's
choices a rib is just awesome like it's
such a good Library it's not even it's
such a good Library it's not even it's
not even funny uh let's do height
not even funny uh let's do height
width is going to be shape I think it's
width is going to be shape I think it's
going to be this is grayscaled as well
yeah
shape
shape
and now what we do is we import
rib and we
rib and we
do self.
do self.
RL colors is
RL colors is
colors and now we have to do something a
colors and now we have to do something a
little bit janky so uh the problem here
little bit janky so uh the problem here
is that it is slightly
difficult it's slightly difficult to get
difficult it's slightly difficult to get
um pixel buffers into rib without going
um pixel buffers into rib without going
through files so I found a way around
through files so I found a way around
that right here I probably need to
that right here I probably need to
standardize this but for now this will
standardize this but for now this will
just go into Atari and we can use this
just go into Atari and we can use this
to have a playable client for everything
to have a playable client for everything
right
okay render
self okay
self okay
so we grab the rib stuff then this is
so we grab the rib stuff then this is
going to be self. action is three self.
going to be self. action is three self.
action is
action is
four okay so we get some actions for
four okay so we get some actions for
this um and
this um and
now so we want we get the
now so we want we get the
frame from the environment
right oops we get the frame from the
environment S.M
and then this is
texture okay so the idea here is that
texture okay so the idea here is that
we're just going to grab the Frame data
we're just going to grab the Frame data
uh we're just going to grab the Frame
uh we're just going to grab the Frame
data out
data out
of uh out of the environment because
of uh out of the environment because
this is going to allow us to play the
this is going to allow us to play the
game exactly as the agent is playing the
game exactly as the agent is playing the
game instead of what the default is
game instead of what the default is
which is uh however like the original
which is uh however like the original
game is which is cool cuz it looks kind
game is which is cool cuz it looks kind
of nice to have the original game but
of nice to have the original game but
the thing is if you're playing it in a
the thing is if you're playing it in a
way that the agent isn't playing it then
way that the agent isn't playing it then
that's very misleading uh we're probably
that's very misleading uh we're probably
going to upscale it we'll exact upscale
going to upscale it we'll exact upscale
The Frame data or something so it's
The Frame data or something so it's
easier to see and we'll probably make it
easier to see and we'll probably make it
RGB instead of grayscale so it looks
RGB instead of grayscale so it looks
nice but you're still going to have like
nice but you're still going to have like
the same effective resolution in
the same effective resolution in
everything everything and that's
important so now we're going to do this
important so now we're going to do this
is width
is width
height
height
four and then this is render mode
human so what we're going to do now is
human so what we're going to do now is
um
right here this render mode needs to
be okay so we
be okay so we
do we make this RGB array and then we
do we make this RGB array and then we
do tari post processor which gives you
do tari post processor which gives you
Rewards y y
truncated
and this can be gy.
and this can be gy.
rapper that's
rapper that's
fine and we will put
fine and we will put
this right here
this right here
and if mode human we make it like
and if mode human we make it like
this we make the RB client
oops we don't want that we want to run
oops we don't want that we want to run
the uh we would like to run a little
the uh we would like to run a little
demo here let's just make test
demo here let's just make test
Atari uh we'll do play
Atari uh we'll do play
test it's the same code
test it's the same code
so from puffer lib environments we're
so from puffer lib environments we're
going to
going to
import EnV
import EnV
Creator and then what we need is
Creator and then what we need is
make EnV is going to be EnV creator of
breakout
this n is going to be make
this n is going to be make
n and then what we have to
n and then what we have to
do I think all we have to do from here
do I think all we have to do from here
is uh m.
is uh m.
reset and then while
reset and then while
true m. step m. render and we can step
true m. step m. render and we can step
it with zero
it with zero
because we should be
because we should be
getting yeah this is fine for
now play
now play
test what
test what
happened environment Atari 85 is a
happened environment Atari 85 is a
loop what
happened uh Atari
uh this break here so this has got to be
uh this break here so this has got to be
Exit
Zero called step after environment is
Zero called step after environment is
done
okay so we do OBS rewards
okay so we do OBS rewards
done done uh
done done uh
terminal truncated
info then what we'll do is m. render if
info then what we'll do is m. render if
terminal or truncated m.
reset nothing is happening in m.
reset nothing is happening in m.
render I think we have to set the render
render I think we have to set the render
mode
right actually we can make the render
right actually we can make the render
mode Raab which is even cooler right
I've been doing that lately so I don't
I've been doing that lately so I don't
overwrite the
overwrite the
default yeah so yeah that's actually way
simpler so we'll do if render mode
rib oops render mode
rib oops render mode
RB if Rend mode RB RGB array if render
RB if Rend mode RB RGB array if render
mode RB ra okay now we have the
wrapper
wrapper
unexpected okay this needs to go
unexpected okay this needs to go
actually in the other one I hate this
actually in the other one I hate this
design but it's unfortunately necessary
design but it's unfortunately necessary
render mode is human except we don't
render mode is human except we don't
want human we want RB cuz we want our
want human we want RB cuz we want our
much better r your
client unexpected keyword
options Mo moderately obnoxious I would
options Mo moderately obnoxious I would
say Atari
processor
options there we go I'll pull this up on
options there we go I'll pull this up on
screen so now we have uh we've got
breakout it doesn't seem like my actions
breakout it doesn't seem like my actions
are mapped correctly
are mapped correctly
though so let's figure that
though so let's figure that
out I think that we need to
out I think that we need to
do
do
write
write
step and then what we're going to do is
step and then what we're going to do is
return so we overwrite the action with
return so we overwrite the action with
the Human Action here
the Human Action here
if you're going to do render with
if you're going to do render with
RB we'll figure out how to do this in a
RB we'll figure out how to do this in a
bit
bit
but
this
this
huh wait render
mode list index out
mode list index out
of that's really funny that they didn't
of that's really funny that they didn't
do a bounce check
how do you know the um the key mapping
how do you know the um the key mapping
for
Al is that
Al is that
somewhere we got to find the key
mapping I think if we just look for like
fire here it
is action
it's been a
while I
think fire has to
be le.
action it has the values in here
right so down down is
five and where's up up is
two
H let's try for now let's just try left
H let's try for now let's just try left
is four and right is three that's what
is four and right is three that's what
we have and it does not
we have and it does not
work is the action space wrong
yeah M's action space is totally
yeah M's action space is totally
wrong
so how do we map the keys to the action
so how do we map the keys to the action
space reasonably
we'll have to figure out how they do
that can I just guess for
that can I just guess for
now or I know that this works with pong
now or I know that this works with pong
anyways right so I can just use uh pong
anyways right so I can just use uh pong
for my play test
yeah this has a discrete action space
yeah this has a discrete action space
with six things in it I don't know why
with six things in it I don't know why
the action space for pong has six
the action space for pong has six
actions in it maybe it's the
actions in it maybe it's the
joystick but here you go this is
joystick but here you go this is
pong I can play
it it's kind of
it it's kind of
hard you have to like slam the ball
hard you have to like slam the ball
really
really
fast to do something something and it's
fast to do something something and it's
hard to do that cuz the paddle is not as
hard to do that cuz the paddle is not as
wide as it
wide as it
looks and if you don't slam it very
looks and if you don't slam it very
quickly and if you or if you miss
quickly and if you or if you miss
time uh they will basically the opponent
time uh they will basically the opponent
will always catch
it see like I thought I had it there but
it see like I thought I had it there but
I
didn't there you go that's the
didn't there you go that's the
point okay so that works let's um let's
point okay so that works let's um let's
enlarge this
upscale is going to be
upscale is going to be
four this is going to
four this is going to
be he times
be he times
upscale and then we'll
upscale and then we'll
do
do
sorry 12
sorry 12
FPS is that
FPS is that
right I don't know if that is
right I don't know if that is
correct I think we need to add some
correct I think we need to add some
settings to this
okay so we have
upscale Let's
upscale Let's
Do height times equals upscale width
Do height times equals upscale width
times equals upscale we'll do it's going
times equals upscale we'll do it's going
to be
to be
height this is wrong it's supposed to be
height this is wrong it's supposed to be
width by
width by
height like
height like
this um and then rendered is going to be
this um and then rendered is going to be
with by height this is
with by height this is
width height it's taller than it is has
width height it's taller than it is has
this weird aspect ratio right and then
this weird aspect ratio right and then
what we have to do
what we have to do
is frame equals I have to upscale this
is frame equals I have to upscale this
Frame I have a trick for upscaling that
Frame I have a trick for upscaling that
I have to go get
okay right
okay right
here it's not the fastest
technique but uh you do like
this see is this four times larger
huh well I don't know what happened here
huh well I don't know what happened here
but this was not what I was going
for come on let's get this at a
for come on let's get this at a
reasonable resolution so we can play
reasonable resolution so we can play
it I broke something with this
it I broke something with this
because hang on was it width by height
because hang on was it width by height
or is it height by
or is it height by
width um play
Pong
Pong
160 is the
160 is the
width this is
160 looks like this is correct to
me let's try this
oops
there why can't I
click
click
105 what is the width is the width
105 what is the width is the width
supposed to be
105 oh
105 oh
I
I
see it's not giving me the original
frame or it is giving me the original
frame or it is giving me the original
frame
frame
rather okay for now we'll do height
rather okay for now we'll do height
equals
equals
210 is it 210 by 160 that what it was or
210 is it 210 by 160 that what it was or
is it 240 I thought it was like
is it 240 I thought it was like
240 uh
240 uh
play 210
play 210
so we are
good and
continue yes it works it's on the other
continue yes it works it's on the other
monitor but it works let me upscale now
monitor but it works let me upscale now
this will be
four
four
perfect we can play
perfect we can play
Atari oop
Atari oop
and it's very hard because we're playing
and it's very hard because we're playing
with the rappers that make the uh the
with the rappers that make the uh the
agent
rappers you see how it has this
rappers you see how it has this
acceleration on
acceleration on
it like if you like you can slam the
it like if you like you can slam the
ball it's very easy to
see it's very hard to play uh this game
see it's very hard to play uh this game
is not easy normally and it is very hard
is not easy normally and it is very hard
with uh with the rappers for sure even
with uh with the rappers for sure even
harder with sticky actions thank God we
harder with sticky actions thank God we
got rid of
that yeah like even there it's you have
that yeah like even there it's you have
like a couple of frames to get it like
like a couple of frames to get it like
the timing right it's very
silly I think it is literally a couple
silly I think it is literally a couple
of frames that you have anyways though
of frames that you have anyways though
um you can actually play this even with
um you can actually play this even with
the frame skip if you are good I am not
the frame skip if you are good I am not
very good but this was just a quick test
very good but this was just a quick test
to make sure that it works there you go
to make sure that it works there you go
so now we have this upscaled
so now we have this upscaled
correctly um few things that we have to
correctly um few things that we have to
do we probably want to have modes for
do we probably want to have modes for
playing this like play the original game
playing this like play the original game
versus play it the way that the agent
versus play it the way that the agent
plays it those are both important things
plays it those are both important things
to be able to do um the 4X upscale is
to be able to do um the 4X upscale is
very nice the rib renderer will take
very nice the rib renderer will take
care of frame rate for us so we won't
care of frame rate for us so we won't
have to automatically like we won't have
have to automatically like we won't have
to worry if the upscale is slow it'll
to worry if the upscale is slow it'll
just compensate for us as long as it's
just compensate for us as long as it's
not slower than 60 FPS which
not slower than 60 FPS which
it will be faster than that don't
it will be faster than that don't
worry
worry
um I think the next thing we're going to
um I think the next thing we're going to
do is we're going to figure out the
do is we're going to figure out the
action map so that we can play all the
action map so that we can play all the
games without having to keep manually
games without having to keep manually
remapping the keys and then we'll
remapping the keys and then we'll
actually check out a few of the Atari
actually check out a few of the Atari
games and see how they
play uh I see that there are a lot of
play uh I see that there are a lot of
folks on YouTube so thanks for your
folks on YouTube so thanks for your
interest welcome all the stuff that
interest welcome all the stuff that
you're seeing here is free it's open
you're seeing here is free it's open
source
source
at puffer
at puffer
lib currently we're in the dev Branch
lib currently we're in the dev Branch
this is where the mini DOTA at a million
this is where the mini DOTA at a million
frames slither.io clone at like 10
frames slither.io clone at like 10
million frames grid EnV at 15 million
million frames grid EnV at 15 million
frames uh all of the stuff is in here if
frames uh all of the stuff is in here if
you want to help the project out please
you want to help the project out please
give it a star helps me a ton let's get
give it a star helps me a ton let's get
back to
Dev so what we've got to do is we've got
Dev so what we've got to do is we've got
to figure out this action mapping huh
okay so we go into the
okay so we go into the
N what happens when we call
step we call self. al.
step we call self. al.
act
act
okay we have Al python interface
C++ do we have act in here
C++ do we have act in here
here
here
nope no
nope no
ACT
registration do I see
actions I see the register in
here you can actually see that there's
here you can actually see that there's
the v0 of these environments that had
the v0 of these environments that had
sticky actions on by default as
sticky actions on by default as
well that's
well that's
crazy it had sticky actions and
crazy it had sticky actions and
non-deterministic frame skip wow that's
non-deterministic frame skip wow that's
nuts no wonder RL didn't
nuts no wonder RL didn't
work oh shoot look at
work oh shoot look at
this the V5 environment rapper has
this the V5 environment rapper has
sticky actions on by default
sticky actions on by default
again that's actually way worse than I
again that's actually way worse than I
thought holy that's
nuts am I on the main
branch yeah that's
branch yeah that's
nuts for folks who are wondering this is
nuts for folks who are wondering this is
I have an article I can link it where I
I have an article I can link it where I
found that like sticky actions are
found that like sticky actions are
incredibly harmful and like don't work
incredibly harmful and like don't work
as advertised in some
as advertised in some
cases uh let me link
cases uh let me link
that where are the
Articles I'll put it in the
chat so now I have to find where the
chat so now I have to find where the
actions map though which I still haven't
actions map though which I still haven't
figured out
[Music]
[Music]
registration what's this
nothing I don't see the full it's
nothing I don't see the full it's
recommended to enable full action
recommended to enable full action
space but I don't know how you know what
space but I don't know how you know what
key does what
uh get legal action
uh get legal action
set get minimal action
set okay so we're going to figure out
set okay so we're going to figure out
this like minimal action
this like minimal action
set actually can we just do like
set actually can we just do like
underscore action set is that's a thing
underscore action set is that's a thing
can we just like do this in the python
can we just like do this in the python
code that would make my life a lot
code that would make my life a lot
easier uh
here oh look at
that perfect we can do it from here
we just have to write a little mapping
we just have to write a little mapping
code
right it's uh it's just got name and
right it's uh it's just got name and
value hey JBL what's
value hey JBL what's
up we've done a lot of stuff today and
up we've done a lot of stuff today and
now I'm finishing off the last like
now I'm finishing off the last like
hourish of the stream with uh we're
hourish of the stream with uh we're
making Atari actually render properly so
making Atari actually render properly so
that you can play all of the Atari games
that you can play all of the Atari games
uh and see H how your agent does uh but
uh and see H how your agent does uh but
also play it yourself and this will
also play it yourself and this will
catch a lot of bugs and it's also
catch a lot of bugs and it's also
fun that's currently what we're
fun that's currently what we're
doing okay so all I have to do in order
doing okay so all I have to do in order
for this to work is the action set
right
left oh I think I understand right
left oh I think I understand right
so wait left is
three right is
four wait 0 1 2 3
oh I
see we need to get like the index of
see we need to get like the index of
these things it's very
awkward but I see how it works now
okay so now what we're going to do is
okay so now what we're going to do is
we're going to go through the action set
we're going to go through the action set
so it's going to be for I action in
so it's going to be for I action in
enumerate action
enumerate action
Set uh and then we'll do key
Set uh and then we'll do key
map self.
map self.
keymap
keymap
this and then
we'll
we'll
do this is
down TR how I need to do this
little tricky to do this
correctly cuz they're like going to be
correctly cuz they're like going to be
out of order I think
right uh
oh I think I
know so it's going to be self.
know so it's going to be self.
keymap action.
keymap action.
value is equal to
value is equal to
I because I think the way it works is
I because I think the way it works is
it's the index in the list that you
get and this is going to be fixed
values so
what's rib. key left
from ear
Pi
Pi
Pi L
Pi L
Pi
Pi
Pi you have action set somewhere here
I need to find the uh the action set
stuff I thought I saw it in
stuff I thought I saw it in
like where was
like where was
it is it in here
it is it in here
no where was I that I saw the the action
no where was I that I saw the the action
set stuff registers isn't this
set stuff registers isn't this
C++
nope uh I swear I had it a second ago is
nope uh I swear I had it a second ago is
it
theet dang
it here it
it here it
is
is
oh my bad it's not in the init it's in
oh my bad it's not in the init it's in
thecore init.py
thecore init.py
I yeah of course
okay so we can do
dur so I can do ali. action.
dur so I can do ali. action.
down
down
right
right
value okay so this is not that bad then
value okay so this is not that bad then
it's actually not that bad to do the key
mapping um so we'll just do import
yeah action just do this for
now yeah this is how I wanted to do
it okay let's see if this actually does
it okay let's see if this actually does
what I want it to
do so here's the
do so here's the
N it's the keys are
backwards why are the keys
backwards like Ultra hard mode though
backwards like Ultra hard mode though
actually this would be uh
actually this would be uh
flipping your keys every time you play
flipping your keys every time you play
the game is a good way to convey some of
the game is a good way to convey some of
the difficulty of what the RL agent has
the difficulty of what the RL agent has
to do right it doesn't have like the
to do right it doesn't have like the
ingrained muscle memory for like left
ingrained muscle memory for like left
and
and
right why are the keys
flipped oh okay here this is what we're
flipped oh okay here this is what we're
going to do right right we'll do like
going to do right right we'll do like
this
this
um if action is in key
um if action is in key
map else it's equal to action. no op.
map else it's equal to action. no op.
value let's try
value let's try
this I forgot to map
this I forgot to map
it perfect now we can play the game not
it perfect now we can play the game not
well but we can play the game and the
well but we can play the game and the
keys are
keys are
correct so now I think actually that's
correct so now I think actually that's
probably enough to get all the games
probably enough to get all the games
working
working
right look how good the bot is by the
right look how good the bot is by the
way it's like unless you slam the ball
way it's like unless you slam the ball
so it physically can't get to it it
so it physically can't get to it it
always
wins I break out
uh there's like a fire action I think
uh there's like a fire action I think
you have to hit space in order to start
you have to hit space in order to start
the
game so we do have to do
um key up key
down perfect
can we fire the ball yeah we can fire
can we fire the ball yeah we can fire
the
ball so we now we are able to PR to play
ball so we now we are able to PR to play
Breakout it's very hard because the
Breakout it's very hard because the
increment is like
increment is like
ridiculous I wonder if it uses the same
physics I think it seems to
physics I think it seems to
right is the ball faster when I like
right is the ball faster when I like
slam it
it just went through the block so that
it just went through the block so that
was
interesting why does it go through the
interesting why does it go through the
blocks it just went through the blocks
blocks it just went through the blocks
twice what wait does the frame skip
twice what wait does the frame skip
check actually skip the block through
check actually skip the block through
like
like
that
huh
huh
what wait
what wait
what uh guys do these games not
work I have to be able to play it in
work I have to be able to play it in
order to actually
see oh my gosh the game is so freaking
see oh my gosh the game is so freaking
hard because the frame Skip and like the
speed
ah dude this is too hard
ah dude this is too hard
but I like you've seen multiple times
but I like you've seen multiple times
that it's like it's gone through the
that it's like it's gone through the
blocks right it also it changes colors
blocks right it also it changes colors
do you notice that the ball changes
do you notice that the ball changes
colors when you hit a block it like it
colors when you hit a block it like it
goes through or something it's
goes through or something it's
weird Okay so that's trippy um we'll
weird Okay so that's trippy um we'll
come back to that for
come back to that for
sure because I don't know why that
happens does this thing actually have
happens does this thing actually have
Tetris
Tetris
I'm just trying to get a feel of how
I'm just trying to get a feel of how
sketchy these M's
[Music]
[Music]
are is this actually what the original
are is this actually what the original
Tetris looked
Tetris looked
like yeah look at
like yeah look at
[Music]
[Music]
this okay it's actually kind of hard
this okay it's actually kind of hard
because you can't like flip you the
because you can't like flip you the
block the way that you want to
block the way that you want to
[Music]
[Music]
well I think I [ __ ] it up by
now oh my gosh okay it's kind of
now oh my gosh okay it's kind of
awkwardly
hard but uh it is
hard but uh it is
Tetris this is like Tetris with a tiny
Tetris this is like Tetris with a tiny
board was this the original
Tetris I didn't know that the board used
Tetris I didn't know that the board used
to be this tiny
cool you play
cool you play
Tetris um I'm sure we're missing keys
Tetris um I'm sure we're missing keys
for some stuff but
for some stuff but
like try beam
Rider there's technically supposed to be
Rider there's technically supposed to be
a sound binding as
well
what oh yeah this is
the this is actually kind of cool so
the this is actually kind of cool so
yeah this is beam Rider I've never
yeah this is beam Rider I've never
played this one I've played like pong
played this one I've played like pong
cuz I used to like do a little bit of
cuz I used to like do a little bit of
stuff with
stuff with
pong yeah they fire at you
pong yeah they fire at you
okay and then you explode because you
okay and then you explode because you
run into the bullet
so they just run up to you they
so they just run up to you they
basically they just run up to you and
basically they just run up to you and
they fire at you and you have to avoid
they fire at you and you have to avoid
the things that they
fire so what this is score
fire so what this is score
440 what I have right now so actually
440 what I have right now so actually
this is kind of a good way to get a
this is kind of a good way to get a
sense of how good the agents are is if
sense of how good the agents are is if
you can just like get some reasonable
you can just like get some reasonable
score of course it's really freaking
score of course it's really freaking
hard with the
rappers and you get three lives right
rappers and you get three lives right
yeah so
yeah so
572 I actually think that this is about
572 I actually think that this is about
what random policies get I think it's
what random policies get I think it's
like 400 if I
remember beat Mont Zuma's Revenge right
remember beat Mont Zuma's Revenge right
now that actually is kind of a fun idea
now that actually is kind of a fun idea
oh look look they're
bosses can you hit this
bosses can you hit this
thing wait what did you see that it like
thing wait what did you see that it like
there was like the spaceship that came
there was like the spaceship that came
by and you can't kill
it oh they're like different levels I
it oh they're like different levels I
assume that these are
different okay so let's try uh let's try
different okay so let's try uh let's try
Mont Zuma's Revenge let's see what that
Mont Zuma's Revenge let's see what that
game actually is
game actually is
the thing is I always tell people to
the thing is I always tell people to
like play the environments that they use
like play the environments that they use
for
for
research it's I actually do play the
research it's I actually do play the
environments I've just never done
environments I've just never done
research on like a bunch of Atari games
research on like a bunch of Atari games
right I've maybe used pong and breakout
right I've maybe used pong and breakout
for uh for a few things and I've played
for uh for a few things and I've played
those that's it Mont
those that's it Mont
zumas let's
see okay here is monaz Zuma's
see okay here is monaz Zuma's
Revenge we can jump
Revenge we can jump
right ah okay so you have to
right ah okay so you have to
fight wait how's this
work oh I don't have two
work oh I don't have two
keys okay I have to modify this so that
keys okay I have to modify this so that
you have access to more keys to play
you have access to more keys to play
this
game um in order to do
game um in order to do
that let me make sure I can do this
okay there's down fire
let's do it this
way so we'll do
way so we'll do
if RL do is key
down
left or
let's do any key down as well I have
let's do any key down as well I have
this
UIL let's use this
so now what we get to do is we get to
we have any keyy
we have any keyy
pressed okay so we
pressed okay so we
do is
do is
key pressed get Space if any key
key pressed get Space if any key
pressed key a key left yep that's what I
pressed key a key left yep that's what I
was
was
after action equals action. left was it
after action equals action. left was it
fire left
fire left
fire
fire
okay d right right right fire up fire
okay d right right right fire up fire
down
fire
fire
else it's just
fire then we'll do
fire then we'll do
LF uh RL is key
LF uh RL is key
pressed key enter and this is going to
pressed key enter and this is going to
be kind of awkward I think we got to do
be kind of awkward I think we got to do
the full action space for this
maybe so much stuff
they've got down
left wait down left down
left wait down left down
right oh they have down left fire down
right oh they have down left fire down
right
fire for
okay I want to at least get like a
okay I want to at least get like a
decent little uh action set today done
down right
down right
fire up left
fire up left
fire up right
fire left
fire left
left so wait I have one two three four
left so wait I have one two three four
five six seven eight nine actions with
five six seven eight nine actions with
fire in it one two three four
fire in it one two three four
five six
five six
seven eight nine yeah n okay that's
good self dot
good self dot
down and self so left and
down and self so left and
down I'm sure this is a terrible way of
down I'm sure this is a terrible way of
doing all of this but we'll figure out
doing all of this but we'll figure out
no better I just want to get something
no better I just want to get something
done real
done real
quick tab tab
tab okay
tab okay
cool um we need to do the full action
cool um we need to do the full action
space as well don't we
full full action space is false so we'll
full full action space is false so we'll
set full action space to
true well action space equals render
true well action space equals render
mode
mode
Raab okay let's see can I play Mont
Raab okay let's see can I play Mont
Zuma's Revenge
now can I like
do yeah you can okay this is actually
do yeah you can okay this is actually
kind of cool
okay I think it should not be is key
okay I think it should not be is key
pressed it should be is key
down such garbage code
okay let's see if this is
okay let's see if this is
good so we'll do like
good so we'll do like
this oh yeah that's fine
this oh yeah that's fine
right and then what can you do like down
right and then what can you do like down
here wait how are you supposed to do
this wait is there no way
this wait is there no way
to wait is this actually like a
to wait is this actually like a
Precision platforming
thing oh yeah it is isn't
thing oh yeah it is isn't
it [ __ ] this is not easy
it [ __ ] this is not easy
what you you take fall damage wait how
what you you take fall damage wait how
the hell do you beat this thing I was
the hell do you beat this thing I was
not expecting it to be
hard oh wait no you you can climb down
hard oh wait no you you can climb down
stuff
I the controls are kind of awkward
I the controls are kind of awkward
though wait can you not jump over the
though wait can you not jump over the
skull I don't think you can jump over
skull I don't think you can jump over
the skull
right oh wait you can climb the ladder
right oh wait you can climb the ladder
okay and then can you
okay and then can you
jump it doesn't seem that you can
wait what I just kept walking left as
wait what I just kept walking left as
soon as that
happened oh is it it's a spinny
thing beat Mont Zuma's Revenge right now
thing beat Mont Zuma's Revenge right now
they say
apparently why is this so hard
why can't I jump
either I can't do this like
either I can't do this like
what this is the these are the
what this is the these are the
conditions under which RL supposed to
conditions under which RL supposed to
beat this freaking game
the controls are like stupidly
precise dude
precise dude
what how is anybody supposed to do
this okay wait let me try something
okay you can actually hold the keys the
okay you can actually hold the keys the
way I have it
now that's that's like insane I know
now that's that's like insane I know
it's not supposed to be this
it's not supposed to be this
hard
hard
what am I like stupid is this not the
what am I like stupid is this not the
way you're supposed to do it it's it
way you're supposed to do it it's it
like it is
like it is
right like you have to make this
jump I don't think you can make it
huh
huh
what I'm incredibly
confused it does feel like you have
confused it does feel like you have
enough acceleration to make it though
what the
what the
hell this is just with frame skip right
hell this is just with frame skip right
let me turn frame skip
let me turn frame skip
off I wonder if it's actually the frame
off I wonder if it's actually the frame
skip dude that would be so funny if like
skip dude that would be so funny if like
the game is Just unbeatable with frame
skip okay we'll do 60 and then what do
skip okay we'll do 60 and then what do
we do frame skip
um frame skip equals
one okay now this is running at
one okay now this is running at
60fps oh this is so much smoother it's
60fps oh this is so much smoother it's
not even
not even
close I don't know why I have to hold
close I don't know why I have to hold
the down key to climb but I
can't hold on is there something wrong
can't hold on is there something wrong
with the way that I have this set
up yeah I think it's needs to be is
key yeah okay let's try this
way all right
let's just practice jumping
okay is there a short jump and a long
okay is there a short jump and a long
jump
nope this does feel substantially more
nope this does feel substantially more
precise this is now running at 60
frames it's still you you still can't
frames it's still you you still can't
make this jump though is it like just
make this jump though is it like just
crazy
crazy
precise it feels like you should be able
to are you supposed to jump over the
to are you supposed to jump over the
um this the skull the Skellington
instead I don't think you jump high
instead I don't think you jump high
enough to jump over the skull
right you have to though don't you
man I think the hit box is janky on this
man I think the hit box is janky on this
yeah you just don't have just barely
yeah you just don't have just barely
enough to get over it I don't know how
enough to get over it I don't know how
you're supposed to beat this
you're supposed to beat this
thing do you have to jump over it when
thing do you have to jump over it when
it's like oh yeah you can jump over it
it's like oh yeah you can jump over it
it's just
it's just
hard I got the key I got a score of
hard I got the key I got a score of
100 are you impressed
100 are you impressed
yet and then you use the the key on the
yet and then you use the the key on the
door
door
right what
the you just have to do this I
the you just have to do this I
guess
sword can I not can I use the sword for
sword can I not can I use the sword for
anything you can't do anything
anything you can't do anything
here I got a SC
bye this game is freaking hard what the
bye this game is freaking hard what the
hell dude
are you supposed to be like playing this
are you supposed to be like playing this
with a controller or something or am I
with a controller or something or am I
just
bad don't answer
that dude what
it's way crazy
it's way crazy
precise freaking Precision platformer
precise freaking Precision platformer
here what in the
hell it's like you forget these old
hell it's like you forget these old
games were
games were
hard I'm tempted to go get like the
hard I'm tempted to go get like the
original stick set now to see if it's
original stick set now to see if it's
easier I definitely am glitching through
easier I definitely am glitching through
like these hit boxes are definitely
like these hit boxes are definitely
sketchy as well
okay let's see what's down
okay let's see what's down
here oh instant
here oh instant
death dude no wonder ARL can't do this
death dude no wonder ARL can't do this
game this game is freaking
game this game is freaking
hard what in the
hard what in the
hell I still miss it and then I die
hell I still miss it and then I die
trying to like get back
I'm going to commit this code up in a
I'm going to commit this code up in a
little bit so you guys can try it it's
little bit so you guys can try it it's
like it's not easy what the
hell I'm usually not terrible at games
either played my fair share of Dark
either played my fair share of Dark
Souls
key okay we get the
key okay we get the
key
aha I see you
bug
bug
oo is this a makeable jump
oo is this a makeable jump
I feel like this is a
I feel like this is a
trap I feel like you can't make this
trap I feel like you can't make this
jump I'm going to try
jump I'm going to try
it oh you can you can't make the
jump you cannot make the jump but you
jump you cannot make the jump but you
can jump across
can jump across
interesting so you can't make the other
interesting so you can't make the other
one then for
one then for
sure
sure
uh that looks like death right
yeah that's actually just death I don't
yeah that's actually just death I don't
know why it's death and more death but
know why it's death and more death but
apparently that's how it is can you get
apparently that's how it is can you get
out of
this okay well I'm not going to play
this okay well I'm not going to play
that forever but holy hell we learned
that forever but holy hell we learned
something game is hard hard it's
something game is hard hard it's
substantially easier without frame skip
substantially easier without frame skip
I will
I will
say it is substantially easier without
say it is substantially easier without
frame skip with sticky actions you're
frame skip with sticky actions you're
screwed there's no
screwed there's no
way it's so precise with sticky actions
way it's so precise with sticky actions
there's literally no
way that's
nuts yeah it'll like walk you right off
nuts yeah it'll like walk you right off
the ledge right you literally got like
the ledge right you literally got like
two frames clearance or something it's
minuscule any other classic games that
minuscule any other classic games that
are like hard that we should
are like hard that we should
try or should we stop screwing around
try or should we stop screwing around
what you
think holy
kind of want to save a gift of this
like here
like here
let's let me at least get a screenshot
you
funny all right um well we've got these
funny all right um well we've got these
games
games
playable oh also wait here's the best
playable oh also wait here's the best
part we haven't we need to like get it
part we haven't we need to like get it
playable
playable
in human like the way the agent sees
it okay so we need to think about this
it okay so we need to think about this
like
H I have to add like another setting
right is there any point to using the
right is there any point to using the
original human mode for this game does
original human mode for this game does
it even work
assertion
failed render what did I do
ah I
see or human
okay it renders like this gigantic thing
okay it renders like this gigantic thing
we're human
we're human
mode I don't even know how this makes
mode I don't even know how this makes
sense didn't it stretch it a
sense didn't it stretch it a
ton this is not the original resolution
ton this is not the original resolution
of Atari
of Atari
right what's the original Atari
right what's the original Atari
resolution I thought it's
resolution I thought it's
like
like
huh hold on
160 by
192 stretch to match
the is it
the is it
stretched I want to have the original
stretched I want to have the original
one
so yeah with the render mode human we
so yeah with the render mode human we
can't do anything
right oh yeah I forgot that they
right oh yeah I forgot that they
released like they re-released all the
released like they re-released all the
games on Steam that's
games on Steam that's
funny all right uh I think we're not
funny all right uh I think we're not
going to use that mode though because it
going to use that mode though because it
doesn't allow us
doesn't allow us
to doesn't allow us to do a lot of
stuff
stuff
wait do they have input in that
wait do they have input in that
mode can you like play the game
doesn't show you how you can actually
doesn't show you how you can actually
play the game
right frame perfect
right frame perfect
visualization proper scaling and audio
visualization proper scaling and audio
support
oh
interesting
so hold on
it's got to be human and then we have to
it's got to be human and then we have to
like go edit this
like go edit this
thing yeah this is fine
play
play
test supposed to even have
audio okay so this is randomly playing
audio okay so this is randomly playing
the
game this is what random play looks like
game this is what random play looks like
apparently
but how do you play
but how do you play
it is it actually like hold on is it
it is it actually like hold on is it
actually getting audio and stuff let me
actually getting audio and stuff let me
let me
let me
see that' kind of be cool
it's kind of cool let's see if it
it's kind of cool let's see if it
actually do we actually get to does the
actually do we actually get to does the
audio
audio
work I don't know if it works through
work I don't know if it works through
WSL anyways
WSL anyways
right probably audio won't work through
right probably audio won't work through
WSL
WSL
anyways okay but theoretically we could
anyways okay but theoretically we could
get the audio working with this which
get the audio working with this which
would be really sweet
this is proper scaling as
well so this is how it's supposed to be
well so this is how it's supposed to be
scaled I guess it makes sense that this
scaled I guess it makes sense that this
would be how it's supposed to be scaled
would be how it's supposed to be scaled
right
the problem is I don't have a way of
the problem is I don't have a way of
um I don't think I have a way of doing
um I don't think I have a way of doing
keyboard inputs outside of RB right
keyboard inputs outside of RB right
python has really shitty keyboard input
stuff sdl2 visualization
how do you has nobody asked about this
ever for
enable display
screen it's so funny that these blog
screen it's so funny that these blog
posts like this is sticky actions right
posts like this is sticky actions right
here right this is the sticky
action lots of
action lots of
games additional modes oh Frogger is in
games additional modes oh Frogger is in
here as well that's funny
I'm still can't find if there's a way to
I'm still can't find if there's a way to
play these things
I don't think it's
I don't think it's
playable so I can't use their thing if
playable so I can't use their thing if
it's not playable
right there's no input
do you not need to step
do you not need to step
it you do right you still need to step
it you do right you still need to step
the
the
end so if I wanted to play it with their
end so if I wanted to play it with their
version I would have
version I would have
to I don't think I really want to use
to I don't think I really want to use
their
their
version wait sound support is off by
default they added a new thing sound
default they added a new thing sound
wait how do I do this
this if I can get the original sound
this if I can get the original sound
working then I will I'll spend a little
working then I will I'll spend a little
more time because that's kind of
awesome
sound enable display screen and
sound enable display screen and
sound enable display screen and sound
uh right here set
bull uh right here they have so they
bull uh right here they have so they
have
this they do it for
this they do it for
you I I do not get sound out of
this though that might be just because
this though that might be just because
of WSL
uh pipe sound out of
WSL there is no Dev sound great this is
WSL there is no Dev sound great this is
though eh I think it's going to be very
though eh I think it's going to be very
very few people that actually do this I
very few people that actually do this I
mean maybe if if you're on a Mac or like
mean maybe if if you're on a Mac or like
native Linux it'll just
work but I doubt it
work but I doubt it
right why do you need sound because it
right why do you need sound because it
would be
would be
cool it'd be really cool
I guess we'll not do their thing for
now so we'll replace their human mode
now so we'll replace their human mode
for now yeah cuz it's already 7:13 I
for now yeah cuz it's already 7:13 I
want to do this for another like 15 20
want to do this for another like 15 20
minutes and I want to get my food and
minutes and I want to get my food and
get get out of
get get out of
here
here
um tuned out a little trying to read up
um tuned out a little trying to read up
some some papers meeing
some some papers meeing
researcher
researcher
cool for sure I mean offered several
cool for sure I mean offered several
times as well to help with that
times as well to help with that
um My Hope was
that it might be smart
that it might be smart
yeah
yeah
it's it is very weird to have somebody
it's it is very weird to have somebody
not who is not involved at all in the
not who is not involved at all in the
project
project
right like publishing a paper that's
right like publishing a paper that's
like really really weird
been in the okay
let's see how I fix
let's see how I fix
this all right so here's I think I know
this all right so here's I think I know
how I'm going to do this now
so we're going to do Al render mode
so we're going to do Al render mode
equals render mode and we're going to do
equals render mode and we're going to do
if render mode equals
if render mode equals
RB or human so actually we can do in
Ray
lib Al render mode is RGB
lib Al render mode is RGB
array yeah is human wait Al render
array yeah is human wait Al render
mode can give me good
mode can give me good
suggestions uh frame skip is going to be
suggestions uh frame skip is going to be
one and what is this
OBS
OBS
type
type
equals
RGB this
RGB this
and then it's going to
and then it's going to
be it's RB then we
do we do like
do we do like
this all right and
then full action space is false repeat
then full action space is false repeat
prob is
zero full action space
zero full action space
equal to
True render mode is going to be a render
mode frame skip is frame script OBS type
mode frame skip is frame script OBS type
is OBS
is OBS
type
type
okay uh now we do
if render
if render
mode uh is not equal to
mode uh is not equal to
human we're going to
human we're going to
resize all right and
resize all right and
now this can go down
now this can go down
here rear
here rear
postprocessor what's this
postprocessor what's this
do doesn't do much does it
oh this has to go here
wait render
wait render
mode is not equal to
human yeah then this goes here
this is specifically for
this is specifically for
pubs yeah
obviously but he should really have that
obviously but he should really have that
like he should just like publish his own
like he should just like publish his own
single author thing on the original to
single author thing on the original to
be
honest pick a workshop at a conference
honest pick a workshop at a conference
that he wants to go to right
he literally has zero
he literally has zero
time this is what happens when you write
time this is what happens when you write
too much rust all right you start off
too much rust all right you start off
with lots of time and then you pick up
with lots of time and then you pick up
rust and then you have no
time he's really busy with
time he's really busy with
meetings bro meetings are like the least
meetings bro meetings are like the least
the worst possible thing to be doing
the worst possible thing to be doing
when you work in
Tech unless the meetings is about stake
Tech unless the meetings is about stake
and we're meeting some meat then no
and we're meeting some meat then no
thank
you waste of
time
Consulting well if he's getting paid for
Consulting well if he's getting paid for
Consulting then at least that's
Consulting then at least that's
something meetings made me quit big Tech
something meetings made me quit big Tech
and go back to yeah it's
and go back to yeah it's
[ __ ] no
meetings I was supposed to have a
meetings I was supposed to have a
meeting today and forgot because I was
streaming and deving stuff we got a lot
streaming and deving stuff we got a lot
of cool stuff done
of cool stuff done
today um
um that's
um that's
funny personally interested in their
work you still should be getting
work you still should be getting
paid if you're doing work that's like
paid if you're doing work that's like
for a com you should still be getting
for a com you should still be getting
freaking paid
he lives in New York yeah New York's
he lives in New York yeah New York's
freaking expensive get
paid I go get paid what are you doing
if render mode is not equal to
human then a
resize uh
resize uh
okay something weird happened here
rust in New
rust in New
York
geez uh do I still need this
geez uh do I still need this
pre-processor
yeah this needs a transpose doesn't
it e
is this
is this
better just do
better just do
this why do I have a feeling this is
this why do I have a feeling this is
going to be
slow I have not been new to New York in
slow I have not been new to New York in
in
in
years but I do not understand New
years but I do not understand New
York I do not understand
[Music]
[Music]
transpose yeah it's transpose not
prute yada yada y not in
prute yada yada y not in
space
cool uh for
still not in
still not in
space dtype
space dtype
a
shape uh shape of two shape
zero there we
go where's my
render where's my render
oh it's uh it's
oh it's uh it's
here and yeah we
here and yeah we
do in human
do in human
RB TR
this they say this is scaled wrong is
this they say this is scaled wrong is
this actually scaled wrong actually
this actually scaled wrong actually
looks kind of fine right
so this is human mode it feels nice and
so this is human mode it feels nice and
smooth
right and now what we can do is we can
right and now what we can do is we can
do the rib
mode
RB
RB
yesh let's do frame
skip frame
skip frame
Skip and what we're going to do is frame
Skip and what we're going to do is frame
skip will
be 60 divide by frame
skip there we go
now it's not ridiculously fast
right
and this 210 160 is kind of wonky isn't
[Music]
it 105 by 80
it 105 by 80
all
right
yeah it's not human
let's do like
let's do like
this
else
postprocessor now let's
see observation
space okay now we got 105 by 80
so height
so height
width uh OBS
width uh OBS
shape L of OB shape
is less than
is less than
three
three
two OBS so we do height width is OB
two OBS so we do height width is OB
shape
else channels equals
else channels equals
one channels
you upscale like
this it's for the
channels I don't know let's see what
happens
happens
wow this is not what we
want it is playing the
game so we get height and width here
yeah we need to do reset
yeah we need to do reset
here and
here and
then obs
info and then what we do
info and then what we do
is frame Subs return OBS
info there we go so we saved the
frame frame is s up
frame frame is s up
frame this do
it that's kind of Cur isn't
it that's kind of Cur isn't
it wait what the
it wait what the
heck I see like a million tiny versions
heck I see like a million tiny versions
of the game
of the game
playing that's so
trippy is this a
thing do you see this it's like a
thing do you see this it's like a
million little tiny versions of the game
million little tiny versions of the game
isn't it
that's cool
can I do
this how about how
this how about how
about how about this
oh that's there we go look at
this you like
this what is it I don't know what it
this what is it I don't know what it
thinks it's doing though for the
thinks it's doing though for the
um the actions is it just random
oh yeah it's just like it's doing what
oh yeah it's just like it's doing what
I'm doing but it's also doing random
I'm doing but it's also doing random
[ __ ] that's weird
is it cuz I what did I do that
is it cuz I what did I do that
defined stuff differently
so this is how the agent sees the
game it's not terrible
um but we need to figure out why it's
um but we need to figure out why it's
doing this weird
[ __ ] oh cuz it's self do
action
yeah so now this is what I was after
yeah so now this is what I was after
this whole time okay we can play the
this whole time okay we can play the
game the way that the agent has to play
game the way that the agent has to play
the
game it feels like I have kind of
game it feels like I have kind of
precise control here though do
precise control here though do
I how's the frame
skip no I think we're
skip no I think we're
good yeah we should be
good this should be hard
this is how the agent has to play the
game can I do
it I think I can still get the key at
it I think I can still get the key at
the cost of a
life but it's definitely kind of sketchy
life but it's definitely kind of sketchy
trying to do this this you have even
trying to do this this you have even
less precise control than
normal
ah you have even less precise control
ah you have even less precise control
than normal you should be able to get
than normal you should be able to get
like 500 points
right there's not much you can really do
right there's not much you can really do
here
nope okay I'm pretty happy with that
nope okay I'm pretty happy with that
though because now we
though because now we
have we have the the
have we have the the
ability to play the game the way the
ability to play the game the way the
agent has to play the game versus the
agent has to play the game versus the
way that we want to play the game we'll
way that we want to play the game we'll
make some tweaks to this before I push
make some tweaks to this before I push
this I think unless anybody is super
this I think unless anybody is super
eager to like play this right now yeah
eager to like play this right now yeah
this is definitely more precise you can
this is definitely more precise you can
see I can tap and make these little tiny
see I can tap and make these little tiny
movements
though
though
it's it's funny that you can't like
it's it's funny that you can't like
guarantee that these keys go off at the
guarantee that these keys go off at the
same
time you have to push them on like
time you have to push them on like
exactly the same
frame it's way easier to hold the key
frame it's way easier to hold the key
and then to like do
it maybe there needs to be like some
it maybe there needs to be like some
buffering or something I don't know
very hard to jump the skull even did I I
very hard to jump the skull even did I I
think I did it once right I jumped the
think I did it once right I jumped the
skull one time it's very difficult
though you have to you I think the trick
though you have to you I think the trick
is you have to jump it when it's coming
is you have to jump it when it's coming
towards you and even then it's very
precise yeah there it goes so that's
precise yeah there it goes so that's
that's the uh the thing done without
that's the uh the thing done without
losing that's the the first level like
losing that's the the first level like
the first scene done without losing a
the first scene done without losing a
life 400
life 400
points took a lot of
tries
e e
mhm
there you
go that's
fun okay um I think I'm in a pretty good
fun okay um I think I'm in a pretty good
spot for
today if I haven't broken pong training
today if I haven't broken pong training
I'll push this
I think we might be
good I'll get ready to push this
yeah
looks I make it Ultra
looks I make it Ultra
slow hopefully not we'll
see anyways it'll be fixed tomorrow even
see anyways it'll be fixed tomorrow even
if I did screw it up it's just the dev
if I did screw it up it's just the dev
Branch uh let's just take a quick look
Branch uh let's just take a quick look
at our experiments
real
quick uh
quick uh
sweep we do a carb sweep on
this that
this that
[Music]
[Music]
carbs oo
carbs oo
what sweeps have we gotten
done okay this is beam
done okay this is beam
Rider
Rider
shredded look at
shredded look at
this look at this perfect hyper pram
this look at this perfect hyper pram
sweep that's
beautiful it's perfect hyper pram
beautiful it's perfect hyper pram
sweep oh C RL has results for beam Rider
sweep oh C RL has results for beam Rider
as well right I forget if this is one of
as well right I forget if this is one of
the M they do really well
on cleaner
LS 1568
and
and
1568 how are we
1568 how are we
doing oh we're already
doing oh we're already
there we are good to
there we are good to
go we're absolutely good to
go we're absolutely good to
go it's getting better
go it's getting better
too yeah look at
too yeah look at
this very nice
we should
see and all of these graphs as well they
see and all of these graphs as well they
have like these these sharp points at
have like these these sharp points at
the end it looks like
the end it looks like
right like if I just click this
right like if I just click this
one you see it has these sharp points at
one you see it has these sharp points at
the end so what this means is that this
the end so what this means is that this
point at the end is an accurate estimate
point at the end is an accurate estimate
of the episode return because it runs a
of the episode return because it runs a
whole bunch of additional steps so we
whole bunch of additional steps so we
can see that this is a
can see that this is a
1700 uh 1 1700 run this is actually uh
1700 uh 1 1700 run this is actually uh
10 mil steps so this is even sample
10 mil steps so this is even sample
efficiency matched with clean RL so
efficiency matched with clean RL so
there you go this is what's the wall
clock that's nice that's like six seven
clock that's nice that's like six seven
minutes so 6 s minutes versus a couple
minutes so 6 s minutes versus a couple
of
of
hours um with the exact same sample
hours um with the exact same sample
efficiency as well as
nuts do I have anything to run right now
nuts do I have anything to run right now
on um do I have anything to run on the
on um do I have anything to run on the
Moa is the
question I don't
question I don't
know I'd like to load the machine with
something why don't I just do a much
something why don't I just do a much
longer
longer
run to see what happens here huh
let
puffer I thought this was the right
puffer I thought this was the right
machine I guess
not for
oops is this what we had yeah this is
oops is this what we had yeah this is
what we had right yeah I remember this
what we had right yeah I remember this
this is a good
config let's do a 10
config let's do a 10
bill that's a nice big
run probably can even do longer than
run probably can even do longer than
that
that
but actually we totally do longer than
but actually we totally do longer than
that right we get 1.5 Bill an
that right we get 1.5 Bill an
hour not going to be on
hour not going to be on
for 12 hours probably let's be
for 12 hours probably let's be
realistic 15ish
realistic 15ish
hours so 20 bill
safely okay we'll load with this we'll
safely okay we'll load with this we'll
do a 20 billion step run of the Moa see
do a 20 billion step run of the Moa see
if it learns anything
if it learns anything
cool or if it crashes or
cool or if it crashes or
whatever 500 Kish per second this should
whatever 500 Kish per second this should
be easily
be easily
done okay um I think we're good for
done okay um I think we're good for
today so if you have not already uh
today so if you have not already uh
started the repo
if you have not already started puffer
if you have not already started puffer
lib I'm going to put it in
lib I'm going to put it in
chat all the stuff all open source all
chat all the stuff all open source all
the stuff from today has been committed
the stuff from today has been committed
up to Dev um helps me out a ton if you
up to Dev um helps me out a ton if you
just go ahead and start that I post all
just go ahead and start that I post all
this stuff on Twitter X whatever you
this stuff on Twitter X whatever you
want to call it my account's really just
want to call it my account's really just
for reinforcement learning so this is
for reinforcement learning so this is
where all the cool stuff is all the
where all the cool stuff is all the
demos all like the stuff I find there's
demos all like the stuff I find there's
some articles on here as well uh that
some articles on here as well uh that
are new
are new
I also have some additional ones on puff
I also have some additional ones on puff
RI GitHub iio which is the dock site
RI GitHub iio which is the dock site
that's where all my stuff is I will be
that's where all my stuff is I will be
back tomorrow with more stuff on the
back tomorrow with more stuff on the
MOBA more stuff on this uh probably also
MOBA more stuff on this uh probably also
some stuff on the ELO system just kind
some stuff on the ELO system just kind
of doing whatever Dev as I feel like it
of doing whatever Dev as I feel like it
um working towards getting a nice Suite
um working towards getting a nice Suite
of benchmarks for puffer anyways night
of benchmarks for puffer anyways night
everybody

Kind: captions
Language: en
okay we should be live
here happy
Monday lots of stuff to do today
Monday lots of stuff to do today
um lots and lots of stuff to
um lots and lots of stuff to
do Buffer's been doing very well over
do Buffer's been doing very well over
the weekend I logged out at
the weekend I logged out at
7:17 on
7:17 on
Friday and we're now at 7:47 plus 30
Friday and we're now at 7:47 plus 30
that is
that is
awesome yeah that's really really
awesome yeah that's really really
awesome oh this graph has not
updated that's a bit odd is it stuck
oh it went to uh to 200s okay that's
oh it went to uh to 200s okay that's
fine
fine
cool
so um a few things blew up over the
so um a few things blew up over the
weekend I posted this little demo of
weekend I posted this little demo of
solving
solving
pong nothing impressive right pong is
pong nothing impressive right pong is
not a crazy hard RL environment or
not a crazy hard RL environment or
anything but it solves in 90
anything but it solves in 90
seconds on one
seconds on one
GPU so that's real
nice and what else did I put what else
nice and what else did I put what else
there was one other one oh yeah this was
there was one other one oh yeah this was
funny I don't know weird things blow up
funny I don't know weird things blow up
sometimes for some reason people really
sometimes for some reason people really
like these sorts of plots I guess they
like these sorts of plots I guess they
look kind of
look kind of
cool and
anyways uh there are a few things that I
anyways uh there are a few things that I
need to do
need to do
today um so the mobile project is
today um so the mobile project is
stuck and it is
stuck and it is
stuck because we don't have ELO
stuck because we don't have ELO
rating it's a bit
rating it's a bit
unfortunate we're going to have to look
unfortunate we're going to have to look
at that for sure today um but before I
at that for sure today um but before I
do that let's look at the experiments
do that let's look at the experiments
from over the weekend uh I ran a few
from over the weekend uh I ran a few
things if this UI will load I ran a few
things if this UI will load I ran a few
cool
cool
things of course it loads right as I do
things of course it loads right as I do
that um yeah so all of these are from
that um yeah so all of these are from
over the
over the
weekend we'll start with this is the
weekend we'll start with this is the
original pong sweep I
original pong sweep I
believe looks quite nice did we do even
believe looks quite nice did we do even
better than uh than before I wonder hold
better than uh than before I wonder hold
on
on
we have 127 runs above 19.8 so we'll
we have 127 runs above 19.8 so we'll
replace this with
replace this with
really about 20 point
really about 20 point
20.5 why does this not
work what runs do we have here 72
runs yeah I mean this is this is about
runs yeah I mean this is this is about
what it was before I think I don't see
what it was before I think I don't see
any that are crazy better but we very
any that are crazy better but we very
very clearly you know below 2 minutes
very clearly you know below 2 minutes
easily below 90 seconds as I said we can
easily below 90 seconds as I said we can
still do that quite consistently and
still do that quite consistently and
then below that you know to getting it
then below that you know to getting it
faster than that is a little tricky um
faster than that is a little tricky um
anyways though that's like it's already
anyways though that's like it's already
good enough at that point I also ran
good enough at that point I also ran
several other Atari environments over
several other Atari environments over
the weekend some of them worked some of
the weekend some of them worked some of
them
didn't oh yeah and the mo as
well mobile one is a little bit
well mobile one is a little bit
interesting we have what look like a lot
interesting we have what look like a lot
of decent
of decent
runs what about entropy
runs what about entropy
though I want to see the entropy loss on
though I want to see the entropy loss on
all
these because I want to see how many of
these because I want to see how many of
these crashed
so not all of them have entropy crashes
so not all of them have entropy crashes
they
they
uh let's see if we do total levels
uh let's see if we do total levels
gained over 300 do we have some of these
gained over 300 do we have some of these
that are actually just not crashed
okay these are a little wonky like
okay these are a little wonky like
what's this
guy okay so we have some that have like
guy okay so we have some that have like
these very weird entropy curves that are
these very weird entropy curves that are
not crashed which is
not crashed which is
interesting let me see if there's any
interesting let me see if there's any
insight I can take out of this
so I don't see this on the total Towers
so I don't see this on the total Towers
taken
taken
graph right because
we have to we don't have enough of these
we have to we don't have enough of these
being
being
shown okay so if I look at this on the
shown okay so if I look at this on the
total Towers take in graph it's not bad
total Towers take in graph it's not bad
it's not amazing but it's not bad do I
it's not amazing but it's not bad do I
have any of these that are like more
have any of these that are like more
stable
looking they're all like cyclical and
looking they're all like cyclical and
they're probably cyclical because I need
they're probably cyclical because I need
to break up uh when the game Star and
to break up uh when the game Star and
end in order to make this training way
end in order to make this training way
more
more
consistent so I can look at that for
consistent so I can look at that for
sure but at least all of these aren't
sure but at least all of these aren't
fully crashed in terms of
entropy do we have any other good
entropy do we have any other good
metrics
here reward for XP reward not really
here reward for XP reward not really
like they're all kind of weird looking
like they're all kind of weird looking
because the game is cylic like
because the game is cylic like
this so we should probably look at that
this so we should probably look at that
today even before ELO system ELO is
today even before ELO system ELO is
going to be way harder this is pretty
going to be way harder this is pretty
easy to
easy to
fix okay so let's take a look at the
fix okay so let's take a look at the
next
next
one I think this is
one I think this is
breakout yeah so breakout is a little
breakout yeah so breakout is a little
disappointing in that
disappointing in that
um it doesn't seem like it's been just
um it doesn't seem like it's been just
fully
fully
solved by this though it was getting
solved by this though it was getting
better over time as you can see like
better over time as you can see like
this is trending up
this is trending up
this point in particular is just kind of
noisy so I want to change this to this
noisy so I want to change this to this
is relative process time
is relative process time
okay and if I look at
okay and if I look at
this and maybe if I smooth it a
bunch we've got some options
bunch we've got some options
here the thing is that these are all
here the thing is that these are all
going up and they're all going up quite
going up and they're all going up quite
quickly so breakouts might be an end
quickly so breakouts might be an end
where it's hard to get it to be sample
where it's hard to get it to be sample
efficient but who cares if we make it
efficient but who cares if we make it
train fast
train fast
right 300 seconds is 5 minutes if it
right 300 seconds is 5 minutes if it
goes up like linearly like this which I
goes up like linearly like this which I
believe breakout tends to do actually
believe breakout tends to do actually
breakout tends to accelerate learning
breakout tends to accelerate learning
later
later
on I think we should be we should be
on I think we should be we should be
quite
quite
fine interesting that it didn't choose
fine interesting that it didn't choose
to do any longer runs here though
oh maybe it did hold
oh maybe it did hold
on let me sort this
on let me sort this
[Music]
[Music]
by agent steps how long are these runs I
by agent steps how long are these runs I
allowed them to do up to 25 mil I
allowed them to do up to 25 mil I
believe okay so this is quite weird that
believe okay so this is quite weird that
it has not chosen to do this
it has not chosen to do this
right it was able to choose longer runs
right it was able to choose longer runs
in order to get these to
in order to get these to
be um in order to get higher reward but
be um in order to get higher reward but
it didn't do that and in fact all these
it didn't do that and in fact all these
longer runs
longer runs
seem to not be doing as
seem to not be doing as
well it's actually these runs over here
well it's actually these runs over here
that look like they're doing better all
that look like they're doing better all
the way down at 5
the way down at 5
million which doesn't really make sense
million which doesn't really make sense
CU it should have just been able to run
CU it should have just been able to run
this one for longer what's this one 51
this one for longer what's this one 51
4304 well they all have the same ID oh
4304 well they all have the same ID oh
wait why do they all have the same ID
wait why do they all have the same ID
that's weird
right hang on 511
right hang on 511
14304 they shouldn't have the same ID
right okay we'll have to look at
right okay we'll have to look at
that because maybe I didn't fully fix
that because maybe I didn't fully fix
the bug that I thought I'd fix
the bug that I thought I'd fix
before um can we try to what a good
before um can we try to what a good
thing to take from this is if we could
thing to take from this is if we could
get some insight as to why this isn't
get some insight as to why this isn't
doing like longer and longer runs over
doing like longer and longer runs over
time
time
so here's some of the more recent
ones
see do these have different hyper
parameters can't see
You' think that they
would they do seem to be exactly the
would they do seem to be exactly the
same length though these runs which
same length though these runs which
makes me suspicious hang
makes me suspicious hang
on um I'm going to look at this one
on um I'm going to look at this one
here which
is okay here's the page for this one
is okay here's the page for this one
right I'm trying to see if we uh we have
right I'm trying to see if we uh we have
it screwed up and if these are still
it screwed up and if these are still
like the same r
runs we do a little analysis
right okay so I grabbed this one before
right okay so I grabbed this one before
and now I grab this one
65k
65k
batch 65k
batch 65k
batch
batch
0207 ah these are the same
run it's unclear though whether this is
run it's unclear though whether this is
bad because I do have it set though so
bad because I do have it set though so
that it can duplicate the same run a few
that it can duplicate the same run a few
times
the question is how many times is it
the question is how many times is it
doing this it's allowed to retry the
doing this it's allowed to retry the
same run a couple of
same run a couple of
times if it is Paro
optimal contrl C to copy this data
well that doesn't help me now does
it what's the Pito front look like on
it what's the Pito front look like on
this
so Pito front is actually very
small though actually it might be
small though actually it might be
different in the uh
different in the uh
the cuz I don't think we're logging the
the cuz I don't think we're logging the
last data point which should be smoother
last data point which should be smoother
to W to be it might not actually look
to W to be it might not actually look
like this it could look a little
like this it could look a little
different
you know look at all these
you know look at all these
304s it's just doing the same thing
repeatedly can we find it somewhere
say rewards above 40
maybe greater than equal
okay so we have
now lots of duplicate runs right with
now lots of duplicate runs right with
the same
IDs oh no wait that's just the total
IDs oh no wait that's just the total
time
time
steps I'm stupid
steps I'm stupid
here maybe these are not duplicates
how can we determine this okay I have an
how can we determine this okay I have an
idea let's
idea let's
do value function
do value function
coefficient
equals does it not have
um here we'll
um here we'll
choose from this one here
does not
does not
work VF
work VF
coof is
this is it train. value function
this is it train. value function
coefficient
coefficient
yeah
yeah
okay okay no this is not bad there are
okay okay no this is not bad there are
only three duplicates
only three duplicates
here there only three duplicates and
here there only three duplicates and
they're nicely spaced it looks
they're nicely spaced it looks
like some number of runs apart so this
like some number of runs apart so this
is probably it just relaunching a Pito
is probably it just relaunching a Pito
optimal
optimal
point
point
right yeah because this is I I imagine
right yeah because this is I I imagine
that this is it just trying to like see
that this is it just trying to like see
for sure if it got it right so this is
for sure if it got it right so this is
actually kind of cool cuz this gives you
actually kind of cool cuz this gives you
the variation uh just with different
the variation uh just with different
seeds essentially you can see it's
seeds essentially you can see it's
actually fairly consistent with
actually fairly consistent with
puffer which is what we would expect
puffer which is what we would expect
larger batch training run should be very
larger batch training run should be very
consistent it' be very odd if it weren't
consistent it' be very odd if it weren't
so that's a nice side effect of doing it
so that's a nice side effect of doing it
this
this
way okay so so far I think that we have
way okay so so far I think that we have
solved the problem from Friday where um
solved the problem from Friday where um
it was just like redoing the same run
it was just like redoing the same run
repeatedly and we have much nicer curves
repeatedly and we have much nicer curves
so I think breakout is kind of okay the
so I think breakout is kind of okay the
one thing I would like to still figure
one thing I would like to still figure
out with breakout is why it's not
out with breakout is why it's not
launching longer runs um because I let
launching longer runs um because I let
it launch up to 25 mil
yeah I let it launch up to 25
yeah I let it launch up to 25
mil and it didn't go more than like
12 it's kind of
weird um let's do time stamp
weird um let's do time stamp
versus what is this
versus what is this
total agent
total agent
steps how long are these runs over
time okay so it did a few of these like
time okay so it did a few of these like
runs over
runs over
here at the start it actually
did some stuff and then it started doing
did some stuff and then it started doing
shorter
runs why would it do that
why would it be doing shorter
runs I think there's a parameter
runs I think there's a parameter
associated with this isn't
there we're going to have to open up the
there we're going to have to open up the
mathy math
paper this one has a annoying like
paper this one has a annoying like
obnoxious amount of math but good paper
obnoxious amount of math but good paper
very good
paper let's
paper let's
see where is
it I remember they had a section on this
it I remember they had a section on this
that was very
important okay acquisition function
important okay acquisition function
clamping and issue with the acquisition
clamping and issue with the acquisition
function is that it uniformly weits
function is that it uniformly weits
improvements across the entire Paro
improvements across the entire Paro
front so yes this is the issue it's
front so yes this is the issue it's
saying that uh it could like say hey me
saying that uh it could like say hey me
improving on like a bad run that's only
improving on like a bad run that's only
2 million steps is just as good as me
2 million steps is just as good as me
improving a longer
run is there a parameter here
EI so they have this function that is
EI so they have this function that is
uniform
weighting the regular expected
weighting the regular expected
Improvement uses y Max equals Max of
Yi we seek to balance between these two
functions I don't think that there's a
functions I don't think that there's a
hyper parameter here
huh so this waiting is not working for
me there are a few changes we can make
me there are a few changes we can make
to make this more consistent though
to make this more consistent though
before we go too deep here so I think on
before we go too deep here so I think on
the to-do list
the to-do list
today uh let's
today uh let's
do we're going to do
do we're going to do
MOA
um smothing we got a smooth out or I
um smothing we got a smooth out or I
think it's actually mobile like step
think it's actually mobile like step
smoothing we got to smooth it out so
smoothing we got to smooth it out so
that we have uh all different games like
that we have uh all different games like
desynchronized because at the moment
desynchronized because at the moment
it's just obnoxious uh like the reward
it's just obnoxious uh like the reward
curves are all over the place we got to
curves are all over the place we got to
do
do
log uh end of train eval to WAND B
log uh end of train eval to WAND B
that's got to
happen eval to want
B okay let's see what
B okay let's see what
else not too much time on
this I think that there were a couple
this I think that there were a couple
environments for which carbs just like
environments for which carbs just like
failed this one looks fine what is this
failed this one looks fine what is this
oh this is the Moa oh yeah yeah so guys
oh this is the Moa oh yeah yeah so guys
this is cool um this is really cool so
this is cool um this is really cool so
uh it looks like this actually worked
uh it looks like this actually worked
incredibly well I think this is what
incredibly well I think this is what
people are here for anyways so I uh I
people are here for anyways so I uh I
made it play the full MOBA I gave it
made it play the full MOBA I gave it
access to skills I gave it access
access to skills I gave it access
to I gave it access to the skills you
to I gave it access to the skills you
know I gave it access to all of its
know I gave it access to all of its
keybinds and I got a lot of additional
keybinds and I got a lot of additional
log data
log data
um I don't know if we want to look at
um I don't know if we want to look at
this just yet I think we finished work
this just yet I think we finished work
looking at Atari first and then we save
looking at Atari first and then we save
this for a few minutes from now because
this for a few minutes from now because
this will take a little longer to go
this will take a little longer to go
through but I have a lot of cool data to
through but I have a lot of cool data to
look at here so that'll be fun in a
minute okay and what is this now so we
minute okay and what is this now so we
had pong
breakout this thing
okay so for some reason beam Rider just
okay so for some reason beam Rider just
totally
totally
failed I don't know why we will have to
failed I don't know why we will have to
go figure that
go figure that
out and
then Enduro looks like it was working
then Enduro looks like it was working
and then something weird happened right
what's the uh the cleen RL uro
result maybe they reported it
where is
this cleaner
this cleaner
Els yeah this
Els yeah this
one so oh they don't do anywhere near as
one so oh they don't do anywhere near as
well as I thought on breakout with the
well as I thought on breakout with the
lstm they only get like 100 and what's
lstm they only get like 100 and what's
this
this
123 so yeah we're not here yet we're
123 so yeah we're not here yet we're
down here but like the train curve for
down here but like the train curve for
this is good and we're going to be way
this is good and we're going to be way
faster in wall
faster in wall
clock
clock
pong oh actually we do we match in
pong oh actually we do we match in
Sample efficiency on pong then don't
we yeah all our pong just works better
we yeah all our pong just works better
that's
that's
cool uh beam Rider is the one that for
cool uh beam Rider is the one that for
whatever reason RS failed
whatever reason RS failed
on I don't think I've ever played this
on I don't think I've ever played this
game I should play this game to see if
game I should play this game to see if
it's
weird oh and that's
weird oh and that's
it that's
it that's
unfortunate they don't have Enduro and
unfortunate they don't have Enduro and
stuff so I guess we'll have to get beam
stuff so I guess we'll have to get beam
Rider to work for a good
Rider to work for a good
comparison okay that's
comparison okay that's
fine and then what happened like I
fine and then what happened like I
assumed that my machine crashed or
assumed that my machine crashed or
something
weird no
weird no
sessions so I think that these machines
sessions so I think that these machines
got rebooted or something
yeah no sessions okay so somehow these
yeah no sessions okay so somehow these
machines got
machines got
rebooted very
rebooted very
weird um no big deal
does this have results for the original
does this have results for the original
po implementation on
Atari yeah they have it
Atari yeah they have it
here Po and all yeah this is what we
here Po and all yeah this is what we
want
want
oops so
breakout which one is
breakout which one is
which Popo's in
red okay so they say and how many frames
red okay so they say and how many frames
is
is
this 40 million okay so they're training
this 40 million okay so they're training
for way longer and mind you they're
for way longer and mind you they're
training with stupidly inefficient
training with stupidly inefficient
settings as well so like you literally
settings as well so like you literally
got to take it all the way down here so
got to take it all the way down here so
yeah they don't do they they do well on
yeah they don't do they they do well on
breakout but they take a while to get
breakout but they take a while to get
there we will do well on breakout but we
there we will do well on breakout but we
will take a while to get there uh they
will take a while to get there uh they
have
have
pong yeah okay so pong we actually just
pong yeah okay so pong we actually just
do better faster than
do better faster than
them uh which is good and then what was
them uh which is good and then what was
the other one we wanted to see
Enduro oh yeah we just we wreck
Enduro oh yeah we just we wreck
them yeah we absolutely wreck
them yeah we absolutely wreck
this the fact that this line is on the
this the fact that this line is on the
ground means there was some bug it's
ground means there was some bug it's
kind of
weird uh cool so we are in a good spot
weird uh cool so we are in a good spot
then and I think that there was I think
then and I think that there was I think
original dqn does decent on uro right
original dqn does decent on uro right
but it takes
forever I mean I comparing to DQ is like
forever I mean I comparing to DQ is like
kind of dumb but
oh no wait they don't do well on Enduro
oh no wait they don't do well on Enduro
either they do well on
either they do well on
breakout this is like 160 mil frames as
breakout this is like 160 mil frames as
well so we're good our policies are just
well so we're good our policies are just
good we got to figure out what happened
good we got to figure out what happened
with beam Rider we got to figure out
with beam Rider we got to figure out
what happened with the rest of our
what happened with the rest of our
experiments oops this is for another
experiments oops this is for another
cool
cool
project I'll share some of this
project I'll share some of this
later um
F beam
Rider maybe figure out why we are not
Rider maybe figure out why we are not
launching longer runs after
smoothing
and now the one thing that people have
and now the one thing that people have
been waiting for I think is the the MOBA
been waiting for I think is the the MOBA
stuff
stuff
obviously so I will talk a little bit
obviously so I will talk a little bit
about
about
that this is just doing the live
that this is just doing the live
analysis for
analysis for
it seeing how we did um 6,000
it seeing how we did um 6,000
runs I'm going to have to clean all
runs I'm going to have to clean all
these up before I do the next release
these up before I do the next release
otherwise W's going to be charging me
otherwise W's going to be charging me
hey Noah
hey Noah
welcome how's your Breakout game going
welcome how's your Breakout game going
we've got uh I actually did a full sweep
we've got uh I actually did a full sweep
on the original breakout over the
on the original breakout over the
weekend uh we have a little issue where
weekend uh we have a little issue where
it's not running long enough jobs but
it's not running long enough jobs but
the initial results are
decent know it's finding better and
decent know it's finding better and
better
better
stuff um it's like a third of the reward
stuff um it's like a third of the reward
that we are wanting for this it should
that we are wanting for this it should
be like 3x higher but the thing is we're
be like 3x higher but the thing is we're
training for like five minutes or
training for like five minutes or
whatever so we're going to be way faster
whatever so we're going to be way faster
on wall clock
on wall clock
anyways was a very small number of
anyways was a very small number of
frames and of course it'll be fun to see
frames and of course it'll be fun to see
with yours how fast we can get this to
with yours how fast we can get this to
go I bet we can just like do the full
go I bet we can just like do the full
sweep and solve the game in 10 minutes
sweep and solve the game in 10 minutes
that'll be
cool so the one thing I did want to go
cool so the one thing I did want to go
through here is the the full MOBA going
through here is the the full MOBA going
fine regular version is looking good
fine regular version is looking good
working on vectorizing it now
working on vectorizing it now
trying to figure out how to hold handle
trying to figure out how to hold handle
terminations in the vectorizer okay so
terminations in the vectorizer okay so
you can look at my other stuff for an
you can look at my other stuff for an
example of that
example of that
um so the vector version is you saw how
um so the vector version is you saw how
I did it right I just made like a step
I did it right I just made like a step
function in scon to avoid the extra call
function in scon to avoid the extra call
Overhead and then like I passed I
Overhead and then like I passed I
allocated like the full tensors and then
allocated like the full tensors and then
I just pass slices to each copy of the
I just pass slices to each copy of the
game that's an easy easy way of doing it
game that's an easy easy way of doing it
you can also do the vectorization in
you can also do the vectorization in
scon itself if you want um and it will
scon itself if you want um and it will
be like marginally
be like marginally
faster um but like but only really
faster um but like but only really
marginally you can still get a million
marginally you can still get a million
steps per second probably without doing
steps per second probably without doing
that though for a single agent game it
that though for a single agent game it
could be worth it and fairly easy yeah
could be worth it and fairly easy yeah
just depends um as for handling
terminations uh there are two things
terminations uh there are two things
that you can do right you can either
that you can do right you can either
just not bother returning a done signal
just not bother returning a done signal
and have the envir handle it
and have the envir handle it
itself that's kind of valid um it makes
itself that's kind of valid um it makes
it a little hard to collect log data but
it a little hard to collect log data but
not really it's it's kind of fine um the
not really it's it's kind of fine um the
other thing that you can do is you can
other thing that you can do is you can
just and I have an example of this like
just and I have an example of this like
I do this in a few of the different
I do this in a few of the different
environments you just pass the vector of
environments you just pass the vector of
duns or whatever into scon and have it
duns or whatever into scon and have it
like set the individual DS whenever it's
like set the individual DS whenever it's
done and then the vend will like call do
done and then the vend will like call do
reset or whatever but I would think that
reset or whatever but I would think that
it's going to be easier to have it like
it's going to be easier to have it like
reset on its
own you're making progress though which
own you're making progress though which
is good and I'm hoping that actually you
is good and I'm hoping that actually you
know this single file like super easy no
know this single file like super easy no
dependency template for high perf Sims
dependency template for high perf Sims
is I think something that could catch on
is I think something that could catch on
and could get a lot of people
and could get a lot of people
contributing different M so I'm going to
contributing different M so I'm going to
work on making that easier and easier
work on making that easier and easier
from what I saw puffer expects itself to
from what I saw puffer expects itself to
done how to set that correct just set it
done how to set that correct just set it
to false and be like you just set that
to false and be like you just set that
to false
to false
easy yeah it's literally just set it to
easy yeah it's literally just set it to
false self DOD is API
false self DOD is API
compatibility
compatibility
um if you're just going to handle your
um if you're just going to handle your
own resets like you you don't need it it
own resets like you you don't need it it
just has to be there and be false like
just has to be there and be false like
this is this is part of the uh this is
this is this is part of the uh this is
just a thing that our rapper usually
just a thing that our rapper usually
maintains like the puffer emulation
maintains like the puffer emulation
rappers maintain self.
rappers maintain self.
they maintain self. num agents they
they maintain self. num agents they
maintain a lot of extra properties right
maintain a lot of extra properties right
so the thing that you're using
so the thing that you're using
technically isn't an API it's the lack
technically isn't an API it's the lack
of the API like the advanced mode is
of the API like the advanced mode is
just lack of an API and you're just
just lack of an API and you're just
making an M that matches the format of
making an M that matches the format of
what puffer vectorization exps and
what puffer vectorization exps and
taking care of all of the hard stuff
taking care of all of the hard stuff
fast under the hood yeah you can handle
fast under the hood yeah you can handle
resets fine um make sure you know you do
resets fine um make sure you know you do
return infos like end of episode infos
return infos like end of episode infos
or whatever but I don't think I've ever
or whatever but I don't think I've ever
seen an instance where
seen an instance where
like it really matters if you have the
like it really matters if you have the
done signal or not I mean purists are
done signal or not I mean purists are
going to say that technically it screws
going to say that technically it screws
up generalized Advantage estimation yada
up generalized Advantage estimation yada
yada yada I in practice I haven't really
yada yada I in practice I haven't really
seen it do that um especially for really
seen it do that um especially for really
long games um you know the other thing
long games um you know the other thing
that you can do is if you want it to be
that you can do is if you want it to be
really really technically
really really technically
correct what you do is um you have it
correct what you do is um you have it
return like done signals wait let me
return like done signals wait let me
think
I think you would have it
return whatever do it do it just handle
return whatever do it do it just handle
resets yourself for now and then I'll
resets yourself for now and then I'll
help you think about if there's a better
help you think about if there's a better
way to handle terminations later all
way to handle terminations later all
right just do the resets yourself for
right just do the resets yourself for
now and get it so that it can train
now and get it so that it can train
we'll maybe handle we'll maybe have it
we'll maybe handle we'll maybe have it
return a done signal later on I'll help
return a done signal later on I'll help
you with that though
in the meantime we've got lots of cool
in the meantime we've got lots of cool
results here
results here
so they're gaining a lot more levels and
so they're gaining a lot more levels and
doing a lot more cool stuff in the Moa
doing a lot more cool stuff in the Moa
and all I did was I gave them access to
and all I did was I gave them access to
their full set of skills and we actually
their full set of skills and we actually
can see which skills are better and
can see which skills are better and
which skills are worse because we can
which skills are worse because we can
see how often they use them so like the
see how often they use them so like the
support uses its w a
support uses its w a
ton uh burst doesn't use its e a lot
ton uh burst doesn't use its e a lot
tank doesn't use its e a
tank doesn't use its e a
lot burst W is good support Q is good
burst Q is
burst Q is
good assassin W is
good assassin W is
good so we can actually see how good all
good so we can actually see how good all
the skills are for balancing purposes
the skills are for balancing purposes
which is really
nice do we have um
entropy oh look at that entropy is fixed
entropy oh look at that entropy is fixed
yeah entropy is way higher
now so this kind of helped it's possible
now so this kind of helped it's possible
that the move component still has a
that the move component still has a
really bad uh low entropy but overall
really bad uh low entropy but overall
this seems like it's
this seems like it's
fixed you got some chime can you check
fixed you got some chime can you check
out how many steps you're currently you
out how many steps you're currently you
get on your machine for breakout my
get on your machine for breakout my
Hardware sucks a bit it's 30 to 40K man
Hardware sucks a bit it's 30 to 40K man
I'll show
you oh for your Breakout
you oh for your Breakout
yeah I can do the Baseline for you
yeah I can do the Baseline for you
um I'll do that right now why
not I think I already have it set up
not I think I already have it set up
locally so my machine is not amazing
locally so my machine is not amazing
local but uh it'll be a decent proxy I'd
local but uh it'll be a decent proxy I'd
say
start
Docker any special branches
Dev
Branch why does pull not do anything
kit
pull I pull from I what do I do to sync
pull I pull from I what do I do to sync
the
thing is it just get fetch up
stream uh I'll just do it with the the
stream uh I'll just do it with the the
stupid UI shows you how often I'm
stupid UI shows you how often I'm
usually the one that people are forking
usually the one that people are forking
stuff off
stuff off
of
right where is it is it just in
repos
repos
uh
uh
think not
think not
behind Dev
there we
go probably have to pip install
right so these files I would if you can
right so these files I would if you can
um if you're going to PR stuff I would
um if you're going to PR stuff I would
Vis not committing the
htmls
htmls
um you got a little test that's
um you got a little test that's
good but since you have the HTML I maybe
good but since you have the HTML I maybe
I'll look at
it can I just load this up in here
actually I think it'll load in here
actually I think it'll load in here
right if I just open your
HTML is there no viewer in
HTML is there no viewer in
here it's obnoxious I thought get Hub
here it's obnoxious I thought get Hub
add an
add an
HTML well
whatever uh see was it break
whatever uh see was it break
out where is the test
function is there a test. pi
meantime let me just grab this
file well done on this logic at
file well done on this logic at
least this is uh all C
except
except
this this is nothing though this is just
this this is nothing though this is just
the uh the line number thing itself this
the uh the line number thing itself this
is fine this should be
purec some quite substantial logic in
purec some quite substantial logic in
here
check
check
[Music]
Collision One useful trick for you uh
Collision One useful trick for you uh
you can assign variables in a cdef if
you can assign variables in a cdef if
you look at the example you can do like
you look at the example you can do like
cdef colon and you can start a block and
cdef colon and you can start a block and
you can do float rectangle left equal
you can do float rectangle left equal
rectangle position zero float rectangle
rectangle position zero float rectangle
right cleans it up quite a
right cleans it up quite a
bit would probably help over here with
bit would probably help over here with
some stuff as well maybe you could like
some stuff as well maybe you could like
you know with this stuff would
you know with this stuff would
help uh this is all nice
though does this actually work you pass
though does this actually work you pass
a memory view like
a memory view like
this
H code looks good
though I don't see a a performance
though I don't see a a performance
tester on this so I should I just add
tester on this so I should I just add
one myself
usually I just put one in here unless do
usually I just put one in here unless do
you have a test file I see a c test. pix
you have a test file I see a c test. pix
like I'm I'm assuming that you have a
like I'm I'm assuming that you have a
test. pi that I just forgot to that you
test. pi that I just forgot to that you
just didn't
just didn't
commit so if you have one would save me
commit so if you have one would save me
a second
and just grab this one I
guess no I don't know how it got
guess no I don't know how it got
okay no
worries what it action space
or m.
step module not
step module not
found breakout C Breakout
this is not in your setup.py
need to add this
here
for e
woh scaler does this code build on your
woh scaler does this code build on your
latest
version I didn't think that this like
version I didn't think that this like
this didn't look good to me this uh long
this didn't look good to me this uh long
I don't think you can do this
so I don't think you can pass like this
so I don't think you can pass like this
I think you have to do c death
um
it I think you have to do this
for e
nump
[Music]
N64 kind of confused about this is this
N64 kind of confused about this is this
supposed to be is this vector right
supposed to be is this vector right
now this is not vectorized at the
now this is not vectorized at the
[Music]
moment so
okay just do
this looks like that runs
I don't know if you actually have
I don't know if you actually have
rendered this yet if it plays
73,000 so that's probably like 150 2
73,000 so that's probably like 150 2
thou 200,000 on my bigger
machine does this render code
work can I like
can I do
this
this
whoa nice job holy hell well
whoa nice job holy hell well
done it's so funny it takes over youw
done it's so funny it takes over youw
yeah you did this perfect
yeah you did this perfect
oops we're going to have to try to make
oops we're going to have to try to make
it one to
it one to
one I don't worry about
that feels pretty
slow so um breakout runs at
slow so um breakout runs at
60 UH 60 FPS usually with frame skip
60 UH 60 FPS usually with frame skip
four or five
so that's the other thing is we're going
so that's the other thing is we're going
to have to do frame skip which is going
to have to do frame skip which is going
to slow everything down by a factor of
to slow everything down by a factor of
four or five
four or five
maybe though you can probably make it
maybe though you can probably make it
faster we'll
faster we'll
see anyways uh well done nice project uh
see anyways uh well done nice project uh
I get 70 some odd
I get 70 some odd
thousand yeah it's okay I'll we'll talk
thousand yeah it's okay I'll we'll talk
about how to make that fast because
about how to make that fast because
there's some optimizations we can do um
there's some optimizations we can do um
and we don't even have to implement
and we don't even have to implement
sticky actions
sticky actions
isn't that
isn't that
nice because those are freaking
nice because those are freaking
broken yeah this is a good job uh you
broken yeah this is a good job uh you
want me to make this
want me to make this
PR got I added a few things added this
setup it'll get a lot faster when
setup it'll get a lot faster when
uh the breakout PX
grid
grid
Moma
Moma
M minor fixes and perf
M minor fixes and perf
tests out
live PRS on stream are fun
there you
there you
go dude that's a lot of line changes
go dude that's a lot of line changes
wait what did I do hold on let me make
wait what did I do hold on let me make
sure I didn't break
anything oh it's because it's the HTML
anything oh it's because it's the HTML
file is is changed a bunch yeah it's
file is is changed a bunch yeah it's
fine you can merge that
sh e
I honestly do not understand why people
I honestly do not understand why people
like
like
JavaScript know I mean
nuts language isn't bad just the
nuts language isn't bad just the
ecosystem is
ecosystem is
ridiculous okay
ridiculous okay
um we let's see let's finish up the
um we let's see let's finish up the
analysis from before and then we got
analysis from before and then we got
some work to do on the Moa we got work
some work to do on the Moa we got work
to do on Atari we got lot a cool work to
to do on Atari we got lot a cool work to
do so where did it
do so where did it
go where did my sweet page
go this is not it is it yeah this is it
go this is not it is it yeah this is it
okay so here's the
sweep I guess we just
sweep I guess we just
um see which of these is any
um see which of these is any
good this one good
good this one good
or is this one just
or is this one just
lucky oh no this one is
lucky oh no this one is
solid
solid
see Tower reward is going up and up and
see Tower reward is going up and up and
up one crash at the end is
up one crash at the end is
weird this could just be due to um end
weird this could just be due to um end
of episode weird averaging
of episode weird averaging
though clip
though clip
[Music]
fraction I mean the total levels gained
fraction I mean the total levels gained
wouldn't go up if it crashed right at
wouldn't go up if it crashed right at
the end would
the end would
it so I assume that this is like some
it so I assume that this is like some
weird
Quirk this looks
nice o wait the levels are really
nice o wait the levels are really
low hold
low hold
on dire
on dire
level where's radiant
level why are the levels this low
level why are the levels this low
are they winning the game super
are they winning the game super
fast that's probably it right they're
fast that's probably it right they're
probably just winning the game super
probably just winning the game super
fast because the skills are
fast because the skills are
overpowered okay that's fine then so
overpowered okay that's fine then so
let's
let's
um let's do a couple of things
um let's do a couple of things
let's grab these
let's grab these
hypers we'll show you the workflow for
hypers we'll show you the workflow for
this you only need the left side of my
this you only need the left side of my
screen so
Dev
Branch I think that we're supposed to be
Branch I think that we're supposed to be
on the MOBA Branch hold on it might be
on the MOBA Branch hold on it might be
the other
the other
box we're going to run this exper exp
M welcome YouTube
folks all the stuff you're seeing here
folks all the stuff you're seeing here
is um available on the paper repo right
is um available on the paper repo right
here go ahead and start on your way in
here go ahead and start on your way in
we're almost at 750 which is awesome but
we're almost at 750 which is awesome but
all this is in the dev Branch all open
all this is in the dev Branch all open
source
wait what branch are we in yeah this is
wait what branch are we in yeah this is
the right machine then that
the right machine then that
us cool so this is up to
us cool so this is up to
date
date
[Music]
um we have to set some hyper parameters
um we have to set some hyper parameters
here and then we got to run this
experiment yeah that's what we'll do
experiment yeah that's what we'll do
so let's sanity check these as we're
so let's sanity check these as we're
going through reward death
going through reward death
increased it's reasonable they should
increased it's reasonable they should
not be
not be
dying distance reward
dying distance reward
is actually kind of ludicrously
is actually kind of ludicrously
high so I'm assuming that they're just
high so I'm assuming that they're just
running straight down
running straight down
mid which is not
mid which is not
bad that's like a reasonable initial
bad that's like a reasonable initial
strategy just rush mid and then Tower
strategy just rush mid and then Tower
reward is very close to the maximum it
reward is very close to the maximum it
can set it as high as
five these are good
rewards and let's see the train
rewards and let's see the train
parameters batch size is the same as
parameters batch size is the same as
before BPT Horizon goes from 4 to eight
before BPT Horizon goes from 4 to eight
which is more
reasonable clip coefficient
reasonable clip coefficient
is about the same as
before entropy is is this a higher
before entropy is is this a higher
entropy
value yes this is a higher entropy value
value yes this is a higher entropy value
okay that's good I was a little
okay that's good I was a little
suspicious of how low it was
suspicious of how low it was
before n batch size Yep this doesn't get
before n batch size Yep this doesn't get
tuned uh GAE Lambda of .9 is very
tuned uh GAE Lambda of .9 is very
reasonable way more reasonable than
reasonable way more reasonable than
before however ever the uh the gamma
before however ever the uh the gamma
value is a little
value is a little
disappointing this means it's making
disappointing this means it's making
very short-term
very short-term
decisions so this strategy is uh while
decisions so this strategy is uh while
it might actually perform well is
it might actually perform well is
probably not amazing longer term not
probably not amazing longer term not
terrible one e minus three learning rate
terrible one e minus three learning rate
is substantially nicer than before I
is substantially nicer than before I
don't know why it said it's so low
don't know why it said it's so low
earlier with these giant batch
earlier with these giant batch
sizes maximum gradient Norm is a little
sizes maximum gradient Norm is a little
bit high but if if it's stable it's
bit high but if if it's stable it's
stable
right was that everything oh no we
right was that everything oh no we
doubled the mini batch size as well
doubled the mini batch size as well
that's actually kind of cool so it's
that's actually kind of cool so it's
it's using larger mini batches I was
it's using larger mini batches I was
getting a little suspicious of how small
getting a little suspicious of how small
the mini batch was relative to the batch
the mini batch was relative to the batch
so that's always nice M workers all this
so that's always nice M workers all this
stuff is fine update EPO is
stuff is fine update EPO is
two that's better than
two that's better than
before and and we also have this value
before and and we also have this value
function clip coefficient which was 0.14
function clip coefficient which was 0.14
before and is now 0.02 okay that is very
before and is now 0.02 okay that is very
very
very
low um which is very odd however the
low um which is very odd however the
value function coefficient is much more
value function coefficient is much more
reasonable now that's kind of okay and
reasonable now that's kind of okay and
then the number of time steps here this
then the number of time steps here this
was trained for 600 million we'll keep
was trained for 600 million we'll keep
it at 500 for uh for
it at 500 for uh for
now we could just keep training it for
now we could just keep training it for
longer and longer right it's fine
and that should be
everything
oops I don't know why it was set to read
oops I don't know why it was set to read
only that's
weird
weird
Okay
Okay
python
python
MOBA train back
multiprocessing uh track
Baseline we'll see if this runs and if
Baseline we'll see if this runs and if
so this will give us nice model that we
so this will give us nice model that we
can then play around with and we can
can then play around with and we can
balance skills and stuff based
on so did you figure out the carbs bug I
on so did you figure out the carbs bug I
think so I'll show you in a second um
think so I'll show you in a second um
okay this is good we're training at over
okay this is good we're training at over
five
five
00k and we were getting lots of metrics
00k and we were getting lots of metrics
and it's using all skills so MOA is
solid so um reu I
did hold on I'll be right back give me
did hold on I'll be right back give me
give me one minute I got to go like fix
give me one minute I got to go like fix
the AC and stuff and then we'll get into
the AC and stuff and then we'll get into
the carbs bug and uh there's some Atari
the carbs bug and uh there's some Atari
stuff as well because a lot of stuff
stuff as well because a lot of stuff
happened over the weekend be right back
happened over the weekend be right back
folks
e e
okay so carbs bug um
okay so carbs bug um
it was kind of weird in that it sort of
it was kind of weird in that it sort of
just disappeared after all the stuff I
just disappeared after all the stuff I
messed with so I think it was either a
messed with so I think it was either a
combination of like RNG being weird like
combination of like RNG being weird like
weird
weird
seating
seating
um and maybe the lack of sampling at the
um and maybe the lack of sampling at the
start but I haven't seen it since in all
start but I haven't seen it since in all
the runs they all look very
the runs they all look very
good there are a few things that still
good there are a few things that still
need to be
need to be
fixed um
fixed um
right now carbs is not
right now carbs is not
sampling in my opinion it is not
sampling in my opinion it is not
sampling longer experiments quickly
sampling longer experiments quickly
enough like it's spending way too much
enough like it's spending way too much
time on these like short little piddly
time on these like short little piddly
experiments that don't really do much so
experiments that don't really do much so
we have to look at that uh we got to
we have to look at that uh we got to
look at smoothing out the reward
look at smoothing out the reward
functions or smoothing out the
functions or smoothing out the
evaluation
evaluation
functions yeah hey Nathan
welcome we got to work on smoothing out
welcome we got to work on smoothing out
the uh the evaluation function functions
the uh the evaluation function functions
as well actually I have the twoo for
as well actually I have the twoo for
today is right here um we got to make
today is right here um we got to make
the Moa function smoother um right now
the Moa function smoother um right now
like all the games start and it takes
like all the games start and it takes
forever for them to get desynchronized
forever for them to get desynchronized
so we get these really weird fun uh
so we get these really weird fun uh
really weird train
really weird train
curves um we've got to improve the w b
curves um we've got to improve the w b
logging so that we get consistent
logging so that we get consistent
estimates at the end of training that'll
estimates at the end of training that'll
help with carbs a little bit uh we got
help with carbs a little bit uh we got
to figure out what happened with some of
to figure out what happened with some of
the other atars M that didn't run the
the other atars M that didn't run the
ones that have run are good um but like
ones that have run are good um but like
I think all my machines got rebooted
I think all my machines got rebooted
over the weekend or something um I think
over the weekend or something um I think
there was like a power surge and then
there was like a power surge and then
yeah that maybe figure out why we're not
yeah that maybe figure out why we're not
launching longer runs that's the plan
launching longer runs that's the plan
for today and then at some point this
for today and then at some point this
week the thing that really annoys me
week the thing that really annoys me
with the Moa project right now is I know
with the Moa project right now is I know
we're going to get stuck on Elo like
we're going to get stuck on Elo like
pretty much everything I need for this
pretty much everything I need for this
project is in place except for ELO like
project is in place except for ELO like
there's no way for us to finish this
there's no way for us to finish this
project um until we have a way to tell
project um until we have a way to tell
that the agents are getting higher win
that the agents are getting higher win
rate versus older policies over time and
rate versus older policies over time and
I've done this before and it just adds a
I've done this before and it just adds a
whole mess of code into everything like
whole mess of code into everything like
I know how to do it I don't know how to
I know how to do it I don't know how to
do it in a way that's not going to make
do it in a way that's not going to make
me want to tear my hair
me want to tear my hair
out so we'll have to figure that
out so we'll have to figure that
but other than that everything is going
but other than that everything is going
uh everything is going well here oh and
uh everything is going well here oh and
then uh for the regulars here we did
then uh for the regulars here we did
very well with puffer over the weekend
very well with puffer over the weekend
uh I had a silly post blow up and we got
uh I had a silly post blow up and we got
like 30 plus Stars over the weekend and
like 30 plus Stars over the weekend and
we are almost two away from 750 so if
we are almost two away from 750 so if
there are two people who have not uh
there are two people who have not uh
started this yet watching this now we
started this yet watching this now we
could hit 750 right now which would be
could hit 750 right now which would be
pretty
pretty
awesome um
awesome um
I'm trying to figure out what we're
I'm trying to figure out what we're
going to do for like a 1,000 star launch
going to do for like a 1,000 star launch
I think we'll try I'm going to just
I think we'll try I'm going to just
grind as much as I can and try to get
grind as much as I can and try to get
the simulation update out by then
the simulation update out by then
um uh there's also a video I started
um uh there's also a video I started
working on more over the weekend that's
working on more over the weekend that's
going to be really cool there's just so
going to be really cool there's just so
much so much work to do on it so much
much so much work to do on it so much
work but there are a lot of things I'm
work but there are a lot of things I'm
really excited about right now happening
really excited about right now happening
with puffer um I actually think that
with puffer um I actually think that
we're like we're 90% of the way to have
we're like we're 90% of the way to have
RL being a useful and consistent thing
RL being a useful and consistent thing
like we're actually already 90% of the
like we're actually already 90% of the
way there we just need everything to be
way there we just need everything to be
cleaned up and then we need to have U
cleaned up and then we need to have U
more you know more test environments and
more you know more test environments and
more bench more benchmarks on them but I
more bench more benchmarks on them but I
think we've actually got everything else
think we've actually got everything else
done like RL is actually way less cursed
done like RL is actually way less cursed
already we just need to fix you know
already we just need to fix you know
those last few things I have a few other
those last few things I have a few other
things I'm looking at longer term for
things I'm looking at longer term for
sure
sure
um but yeah with h with how well puffer
um but yeah with h with how well puffer
has been going
has been going
lately uh I'm also probably going to do
lately uh I'm also probably going to do
some stuff around puffer as a company
some stuff around puffer as a company
probably start seeing if companies are
probably start seeing if companies are
interested in uh services around puffer
interested in uh services around puffer
but as I've promised everything is
but as I've promised everything is
staying fully open source I'm going to
staying fully open source I'm going to
keep streaming doing all this cool
keep streaming doing all this cool
full-time Dev um it's just that we might
full-time Dev um it's just that we might
also find on the side some ways to do
also find on the side some ways to do
like you know um priority featur for
like you know um priority featur for
companies right if they want to feature
companies right if they want to feature
faster or something they can pay uh they
faster or something they can pay uh they
can pay to have it developed faster for
can pay to have it developed faster for
them something like
them something like
that so I can build out the uh the
that so I can build out the uh the
cluster a little bit more and get a bit
cluster a little bit more and get a bit
of Revenue on
of Revenue on
it but those are most of the plans for
it but those are most of the plans for
now those are most of the
plans if you have time of course I got
plans if you have time of course I got
all the time in the world
all the time in the world
I
I
have one major time commitment next week
have one major time commitment next week
that's going to probably take me out of
that's going to probably take me out of
action for a couple of days uh and then
action for a couple of days uh and then
I have like nothing else planned like
I have like nothing else planned like
this is all I'm doing so we good
this is all I'm doing so we good
honestly the main thing that's been just
honestly the main thing that's been just
like eating into my time and energy has
like eating into my time and energy has
just been the amount of running I've
just been the amount of running I've
been doing lately um but that
been doing lately um but that
is the the mileage is going to come down
is the the mileage is going to come down
a bit after after after next week so
a bit after after after next week so
that'll be good have a little more
time I have a little less energy than
time I have a little less energy than
normal though cuz I'm doing a minor
normal though cuz I'm doing a minor
weight cut this week in preparation for
weight cut this week in preparation for
for my uh my race well not race but my
for my uh my race well not race but my
long run
okay let's see where we
okay let's see where we
start I think we're going to start
with
with
well I do kind of want to figure out why
well I do kind of want to figure out why
this is not launching
this is not launching
longer
longer
experiments we can do that incrementally
experiments we can do that incrementally
though check this paper this dude used
though check this paper this dude used
RL a bot in rocket
RL a bot in rocket
League level is the same top twos player
League level is the same top twos player
worldwide huh that's
cool yeah these are the types of
cool yeah these are the types of
projects I want to support with
puffer so pretty much my goal is like
puffer so pretty much my goal is like
whenever anybody has a cool project like
whenever anybody has a cool project like
that if it's open source um I want to be
that if it's open source um I want to be
able to sponsor compute for it and you
able to sponsor compute for it and you
know resources
GitHub coming
soon is this
soon is this
it RL
RL yeah respect for these types of
RL yeah respect for these types of
projects this is not easy to
do spinning
up jeez he did this with spinning
up that's tough
huh cool
project definitely cool
project definitely cool
project not this
project not this
guy oh not this
guy I there were two separate projects
guy I there were two separate projects
doing
doing
this is it this one from two years ago
oh wait this is a big what the
heck this is not
heck this is not
it apparently there was a different one
it apparently there was a different one
from
Germany oh Seer
Germany oh Seer
reinforcement I I missed the R I thought
reinforcement I I missed the R I thought
it was
C oh cool this is somebody's Master's
thesis as Zurich
better than 50% of the player
base and they use PPL
shared
lstm so this exact thing is what we need
lstm so this exact thing is what we need
to do now it's at Pros level sweet this
to do now it's at Pros level sweet this
exact thing is the thing that I'm that
exact thing is the thing that I'm that
we have to do for um for the DOTA bot
we have to do for um for the DOTA bot
and this is the thing that I just don't
and this is the thing that I just don't
want to do right now because it's such a
want to do right now because it's such a
pain in the ass to do like simply and
pain in the ass to do like simply and
quickly but yeah we have to do this we
quickly but yeah we have to do this we
have to be able to have uh 20% of the
have to be able to have uh 20% of the
games be played against older
games be played against older
Bots is
hard physics ticks and then policy time
hard physics ticks and then policy time
step
lstm Yep this is all this is what you'd
expect this true skill graph is what we
expect this true skill graph is what we
want this is actually very well
want this is actually very well
done is very very difficult to do this
done is very very difficult to do this
for this to be like a single Master
for this to be like a single Master
student thesis is very impressive
holy hell tuning this is a pain in the
ass look at all
this yeah like all these
things this is the type of stuff that
things this is the type of stuff that
needs to be automated now the cool thing
needs to be automated now the cool thing
is when you have really fast Ms and
is when you have really fast Ms and
Hyper pram sweeps you can get away with
Hyper pram sweeps you can get away with
simpler rewards usually and they just
simpler rewards usually and they just
get tuned
get tuned
better so hopefully at least some of
better so hopefully at least some of
this will get easier but this is a lot
who is this guy let me
who is this guy let me
see true
see true
skill if you use the python package the
skill if you use the python package the
python package is a pain in the
python package is a pain in the
ass for this
uh supervised
uh supervised
[Music]
learning okay so they used a little bit
learning okay so they used a little bit
of uh it looks like they used some human
data oh no they do get random
data oh no they do get random
okay yeah yeah they do it they do it
okay yeah yeah they do it they do it
from random okay this is cool
world
champion one E10 10 billion
steps month and a
steps month and a
half
half
so he streams viewers vers that's cool
so he streams viewers vers that's cool
so here's the fun thing with this this
so here's the fun thing with this this
one 10 steps right if you just implement
one 10 steps right if you just implement
your game efficiently this one E10 steps
your game efficiently this one E10 steps
can be one
can be one
day this is the promise of puffer so
day this is the promise of puffer so
month and a
month and a
half right with puffer and the MS that
half right with puffer and the MS that
I'm building and it's very possible we
I'm building and it's very possible we
could have an M like this as well right
could have an M like this as well right
but the goal is to have m's at least of
but the goal is to have m's at least of
this
this
complexity and then this one 10 steps
complexity and then this one 10 steps
this 10 billion steps you get it done in
this 10 billion steps you get it done in
a
a
day we can do this with our mobo right
day we can do this with our mobo right
now so you know anything of that
now so you know anything of that
complexity we can just
do thing is on Windows what the hell
they do oh yep stable Bas
lines ah this true skill package
lines ah this true skill package
sucks I've been burned by this package
sucks I've been burned by this package
many
times very nice
Neville
wallow does he have a
Twitter nope
oh yeah this looks like him
oh yeah this looks like him
right Masters yeah this got to be him
right Masters yeah this got to be him
yes
here usually in the
here usually in the
gym usually in the gym
I don't think he has a
I don't think he has a
Twitter
Twitter
geez got to have a Twitter in ml these
days Flappy
days Flappy
Ball oh this is a game that's
funny huh this is like a lot of cool
funny huh this is like a lot of cool
stuff to just randomly do this project
stuff to just randomly do this project
like this is not a trivial thing to
like this is not a trivial thing to
do this type of is quite
hard if this is I'm assuming like a
hard if this is I'm assuming like a
2-year project yeah that's quite hard to
do like building stuff for this is not
do like building stuff for this is not
easy well
easy well
okay
okay
um that was a fun
um that was a fun
distraction we do we have work to do
distraction we do we have work to do
though
so I think what we want to start off
so I think what we want to start off
with
is let's start by fixing
is let's start by fixing
the the last point of the train
the the last point of the train
curves it's not a problem for the
curves it's not a problem for the
Moa but for like Enduro if we go look at
Moa but for like Enduro if we go look at
this one like this point
here I bet you it's going to be
noisy okay you see like right here this
noisy okay you see like right here this
point here
point here
is like this very Peak up here it's
is like this very Peak up here it's
taking like this last point that happens
taking like this last point that happens
to be a high sample we need it to take a
to be a high sample we need it to take a
smooth sample because this should not be
smooth sample because this should not be
up there this is like this looks like it
up there this is like this looks like it
should be 1500 not 1,800 and that's
should be 1500 not 1,800 and that's
probably impairing the uh it's impairing
probably impairing the uh it's impairing
like our stats on stuff so let's fix
like our stats on stuff so let's fix
that and then we'll go from there
did we hit 750 while I was
talking ah no still two
off how's this going oh we did finish
off how's this going oh we did finish
this run
this run
though that's
though that's
nice so uh
nice so uh
uh yeah let's go back to the local box
then status
we'll get to check out the mobile
we'll get to check out the mobile
policy see how that is we'll get to do
policy see how that is we'll get to do
the smoothing we'll launch some more
the smoothing we'll launch some more
experiments and we'll see where we go
experiments and we'll see where we go
from
from
there and that true skill thing is so
there and that true skill thing is so
obnoxious like I had a system to do this
obnoxious like I had a system to do this
actually in the old version and I ripped
actually in the old version and I ripped
it out because of what a pain in the ass
it out because of what a pain in the ass
it was like I used to have this in
it was like I used to have this in
puffer Leb but it was such a pain in the
puffer Leb but it was such a pain in the
ass that we ended up not using it it's
ass that we ended up not using it it's
really hard to build those types of
really hard to build those types of
systems in a way that's just not
systems in a way that's just not
incredibly
painful actually I've never seen a
painful actually I've never seen a
design for it that is not incredibly
design for it that is not incredibly
painful and put it even more
strongly m
what the heck mode eval render mode
what the heck mode eval render mode
Raab Bas
one what do we
one what do we
have anything
well this can't be it
right no come on tell me this is not the
policy let's can't be it right
how on Earth would something like that
how on Earth would something like that
have gotten such high rewards right
it'll be so unfortunate
is that actually the
policy so how is this
possible that this thing has gained like
possible that this thing has gained like
tons of levels
we'll need some stats on this but this
we'll need some stats on this but this
definitely is not what we expected out
definitely is not what we expected out
of it that's unfortunate
um I'm assuming that there's some glitch
um I'm assuming that there's some glitch
that's like allowing them to kill each
that's like allowing them to kill each
other for
other for
XP that would be the most likely thing
XP that would be the most likely thing
in my mind cuz if they're there just
in my mind cuz if they're there just
killing each other for XP they're
killing each other for XP they're
probably just farming that reward
okay
um right let's start with fixing
so the way that this works at the
moment I kind of just punted on this I'm
moment I kind of just punted on this I'm
going to be
honest I just ran like evaluate a few
honest I just ran like evaluate a few
more
more
times and then I appended
times and then I appended
logs
logs
um so that's not great
so we'll do
do I have to log all these stats
again I'm trying to think of a clean way
again I'm trying to think of a clean way
to get all these stats into the
uh yeah so Wan B logs during train here
h
what's a clean way to do
this well I'm actually getting kind of
this well I'm actually getting kind of
noisy logs right
noisy logs right
now I'm just because of the
now I'm just because of the
way that I'm handling
data it's like subsampling
right okay so there's a lot of like
right okay so there's a lot of like
housekeeping we have to do today in
housekeeping we have to do today in
order to get this done right the goal
order to get this done right the goal
will be that if we can get smooth much
will be that if we can get smooth much
smoother uh eval metrics
smoother uh eval metrics
then that should make it substantially
then that should make it substantially
easier both to see what our carb sweeps
easier both to see what our carb sweeps
are doing and for our carb sweeps to
are doing and for our carb sweeps to
select uh which runs are the
select uh which runs are the
best so we'll do
best so we'll do
that yeah that'll be
that yeah that'll be
important
important
and what
and what
else we'll fix some Atari M we'll rerun
else we'll fix some Atari M we'll rerun
some
some
sweeps and that'll basically have our
sweeps and that'll basically have our
usage of atar is a baseline set up so
usage of atar is a baseline set up so
we'll have all our nice baselines on
we'll have all our nice baselines on
Atari we'll get optimal hyper parameters
Atari we'll get optimal hyper parameters
out of those for all the atar MS I think
out of those for all the atar MS I think
we're going to do separate optimal hyper
we're going to do separate optimal hyper
prams unless they end up being very
prams unless they end up being very
similar so we'll have you know very nice
similar so we'll have you know very nice
clean training configs for each of the
clean training configs for each of the
uh at least the seven default Atari
uh at least the seven default Atari
environments plus any others that I
environments plus any others that I
think are fun or
interesting we'll fix the Moa
interesting we'll fix the Moa
stepping
stepping
stuff so we'll make sure all the M's are
stuff so we'll make sure all the M's are
like offset from each other or
like offset from each other or
whatever that'll give us cleaner
whatever that'll give us cleaner
training curves and then we'll see if we
training curves and then we'll see if we
can figure out
can figure out
why uh why it's learned a crap policy
why uh why it's learned a crap policy
even though the sweep says it's learned
even though the sweep says it's learned
a good
a good
policy
policy
123 yeah it's a good
123 yeah it's a good
agenda okay so the first thing I have to
agenda okay so the first thing I have to
figure out
figure out
here let's start with the easier problem
yeah let's start with the easier
problem if profile.
problem if profile.
update what is
this okay so it says when you update
is in
here I think this can just be or done
training oh no this one this done
training oh no this one this done
training is
training is
not great because you get the last
not great because you get the last
little bit of data or you get the last
little bit of data or you get the last
little bit of data out of
it okay so what we're going to do is I
it okay so what we're going to do is I
think we'll pull
think we'll pull
the we'll potentially we'll like
the we'll potentially we'll like
pull um additional stats or something
pull um additional stats or something
into this Loop somehow
done
training there's no way
data wait if data is not none if WB is
data wait if data is not none if WB is
not
not
none
none
and Global step is greater than zero we
and Global step is greater than zero we
don't need to check
don't need to check
that yeah we don't need to check any of
that yeah we don't need to check any of
this this profile update should already
this this profile update should already
tell us everything we
need this will give us the nice
need this will give us the nice
consistent uh this should give us the
consistent uh this should give us the
nice consistent
metric if Global step is zero you return
metric if Global step is zero you return
true
where does global step get
updated where's Global step get
updated gets updated and
updated gets updated and
evaluate okay so that makes no sense the
evaluate okay so that makes no sense the
way I had it before there have been a
way I had it before there have been a
bunch of like weird little dashboard
bunch of like weird little dashboard
things that have been screwy with puffer
things that have been screwy with puffer
lib and I think that they're actually
lib and I think that they're actually
mattering here because uh our hyper Prem
mattering here because uh our hyper Prem
sweeps in particular rely on very good
sweeps in particular rely on very good
estimates of the Network's performance
estimates of the Network's performance
and if those are inaccurate because
and if those are inaccurate because
we've been doing screwy things with
we've been doing screwy things with
logging and taking Point estimates
logging and taking Point estimates
instead of means then that's going to
instead of means then that's going to
mess us up
mess us up
badly so I think that we'll start with
badly so I think that we'll start with
we'll start with figuring how to how to
we'll start with figuring how to how to
aggregate data
aggregate data
better
um what is this data
um what is this data
object Epoch Global
object Epoch Global
step stats losses profile okay so all we
step stats losses profile okay so all we
need is this this stats thing needs to
need is this this stats thing needs to
not
not
reset
right so we'll just what we'll do is
right so we'll just what we'll do is
data. stats
data. stats
okay right here this is data. stats
okay right here this is data. stats
equal to nothing or
equal to nothing or
whatever uh we're going to get rid of
this yeah yeah yeah here you go so it's
this yeah yeah yeah here you go so it's
it's already empty here so we don't need
it's already empty here so we don't need
this we don't need to reset
it this is fine that we're just going to
it this is fine that we're just going to
collect the latest map for Pokemon this
collect the latest map for Pokemon this
is like specific spe ific code anyways
is like specific spe ific code anyways
we don't
we don't
care this is fine that we're just going
care this is fine that we're just going
to collect a
to collect a
stat
and data. Stat of
K I think this is a default dictionary
K I think this is a default dictionary
of list right that we should
do we'll do
o I don't know what data type this is
o I don't know what data type this is
the
problem so we're going to need to do a
problem so we're going to need to do a
little bit of checking on data types
little bit of checking on data types
here I don't know if this is always
here I don't know if this is always
going to be uh a list or an array so we
going to be uh a list or an array so we
we may as well do all of this right now
we may as well do all of this right now
because this is I mean this is ultra
because this is I mean this is ultra
important for puffer stability and it
important for puffer stability and it
should also give us the result that we
should also give us the result that we
want immediately which is better hyper
want immediately which is better hyper
Prem
sweeps I should also mention that
I don't know if we'll get to it this
I don't know if we'll get to it this
week but I have some ideas that might
week but I have some ideas that might
make puffer lib like an extra 20% faster
make puffer lib like an extra 20% faster
as
as
well that are
related semi-
related okay data
stats do we have default yeah we have
stats do we have default yeah we have
default dick any anyways
right make stats of default dictive
lists I really don't like doing is
lists I really don't like doing is
instance here is instance is a slow
instance here is instance is a slow
check
check
but this only
happens per roll out
happens per roll out
right if this only happens per roll out
right if this only happens per roll out
I think it's
fine and this should never be an Umpire
fine and this should never be an Umpire
array
right I really just want to check if you
right I really just want to check if you
have a len attribute
I think you can call it
right
yeah I'm still not sure if this works
yeah I'm still not sure if this works
perfectly though
think we
take you really shouldn't be
take you really shouldn't be
communicating nump and arrays around
communicating nump and arrays around
though but I think it's possible that it
though but I think it's possible that it
happens
I do not know how much I like
this well this will get boring rather
this well this will get boring rather
quickly though so let's
do b.2
list if so
try it V
else and then we
else and then we
do data that's
do data that's
stats plus equals
stats plus equals
V we'll append like this
type
type
error data. stats
append okay this is nice
append okay this is nice
right if it is uh a numpy array we'll do
right if it is uh a numpy array we'll do
to list on
to list on
it then we will see if it's a list uh if
it then we will see if it's a list uh if
it's
it's
iterable if it is not we will
iterable if it is not we will
just depend it otherwise we extend the
just depend it otherwise we extend the
list with it
right that's
right that's
decent um and the reason that this is
decent um and the reason that this is
important is because now we can just
important is because now we can just
keep
keep
growing this
growing this
stats we can literally just keep growing
stats we can literally just keep growing
the
the
stats
stats
yeah
and then what we'll do is we're going to
and then what we'll do is we're going to
actually separate this out uh we're
actually separate this out uh we're
going to separate this like log to WAND
B log to want
B log to want
B it takes
data if data is none you return and then
data if data is none you return and then
otherwise we do
otherwise we do
yeah so we'll do log to want
yeah so we'll do log to want
B and then we'll take
this we'll put this in
here
okay and I think this is profiles data
okay and I think this is profiles data
is in data as well right do I have to
is in data as well right do I have to
grab profile from somewhere
grab profile from somewhere
data. profile
perfect so we do data. profile.
perfect so we do data. profile.
SPS data.
SPS data.
profile last log time is going to be
time.time and we log all of this
time.time and we log all of this
garbage and we will be wanting to use
garbage and we will be wanting to use
that function later so that is why we're
that function later so that is why we're
doing this at the
moment this bypasses the time check
moment this bypasses the time check
which is exactly what we
want
M and then we're going to clear data.
M and then we're going to clear data.
stats
do I want to clear it here or do I want
do I want to clear it here or do I want
to clear it in one
B I think I want to do it here and I
B I think I want to do it here and I
want to do stats equals data. stats
so stats is going to be data. stats and
so stats is going to be data. stats and
then data. stats gets
cleared yeah this works okay so the
cleared yeah this works okay so the
reason that this is important is uh
reason that this is important is uh
every
every
time you
we'll just we'll call this login
clear just so it's you know it's very
clear just so it's you know it's very
transparent
transparent
um
um
perfect so
now this gets updated a whole bunch
I don't think I like this or done
I don't think I like this or done
training because that means you can get
training because that means you can get
a data point that has garbage in it
a data point that has garbage in it
because it's not accumulated over enough
because it's not accumulated over enough
time I think I like it more like
this mhm
this is going to be very very nice
this is going to be very very nice
actually for
us because what this should enable
now this should uh
now this should uh
enable substantially nicer train code at
enable substantially nicer train code at
the end
here I no longer need this DOA
pend
whoops where's
whoops where's
uh data it returns data do stats and
uh data it returns data do stats and
infos
right so we do stats underscore
equals look how clean this is
so now you just have your
stats you've called eval a whole bunch
stats you've called eval a whole bunch
of
of
times and then we can do login clear of
times and then we can do login clear of
data so now we get the
data so now we get the
stats we get the stats back for use in
stats we get the stats back for use in
carbs but we also have them on wand B
carbs but we also have them on wand B
meaning that we will never have
meaning that we will never have
desync we'll never have desync between
desync we'll never have desync between
the carbs objective and wanty and we'll
the carbs objective and wanty and we'll
also have cleaner end of
graphs and I think the rest of this is
graphs and I think the rest of this is
the
the
same yeah the rest of this code doesn't
same yeah the rest of this code doesn't
change if this works this is incredibly
change if this works this is incredibly
clean if it works it is incredibly clean
clean if it works it is incredibly clean
um
um
um what do I test this on real
quick I can just push this and then test
quick I can just push this and then test
it on the bigger box right
so essentially what this does is this
so essentially what this does is this
extends training by
extends training by
10% in order to get that final clean
10% in order to get that final clean
data point where you've evaluated the
data point where you've evaluated the
policy over 10% of the train
data we can change that you know
data we can change that you know
eventually because if you have a one
eventually because if you have a one
like a monthlong training run then yeah
like a monthlong training run then yeah
you don't want to wait additional days
you don't want to wait additional days
just for the eval Point um but the hope
just for the eval Point um but the hope
with puffer lib is that that's never
with puffer lib is that that's never
going to happen
going to happen
right I think we'll probably end up like
right I think we'll probably end up like
capping it to be you know an hour of
capping it to be you know an hour of
data or something like
data or something like
that probably don't even need that
much maybe we'll add a parameter for
it um we are ready to run this on the
it um we are ready to run this on the
big
box hopefully this is the right
box hopefully this is the right
one
yep should I change in
yep should I change in
demo H that's no big
deal
deal
okay now we can
okay now we can
do
long uh mode
long uh mode
train T processing
rack
rack
yeah and we'll see whether this works or
yeah and we'll see whether this works or
not might have to make a few small
not might have to make a few small
changes we'll
see so apparently the uh the optimal
see so apparently the uh the optimal
pong config trains at 30,000 steps per
pong config trains at 30,000 steps per
second we're running it I think for
second we're running it I think for
longer than it needs to be run it's
longer than it needs to be run it's
sufficiently trained much faster than
sufficiently trained much faster than
this I'm noticing here that we're not
this I'm noticing here that we're not
getting any stats which is wrong we
getting any stats which is wrong we
definitely should be getting stats by
definitely should be getting stats by
now so somehow I've managed to break
now so somehow I've managed to break
logging see if I can figure out
why if profile. update of data
why if profile. update of data
let's see if let's see if we're getting
let's see if let's see if we're getting
to be there or not we'll take track off
to be there or not we'll take track off
for now so we don't flood want to be
for now so we don't flood want to be
with
garbage okay so we do get
here d. stats is
here d. stats is
empty that's not good
I would think that this is kind of weird
right okay it looks like there's a
right okay it looks like there's a
something here that needs to be logged
right huh what just
happened okay there's a lot of crap in
happened okay there's a lot of crap in
data obviously right
okay I guess we don't need both of these
okay I guess we don't need both of these
break
points
points
oops this one's the one we want to get
oops this one's the one we want to get
rid
of should probably move this so that the
of should probably move this so that the
chat's more
visible and this
this tab being white themed annoys me
this tab being white themed annoys me
okay
okay
um what do we have
um what do we have
here okay so we do get to data
here okay so we do get to data
Vias no surprise a bunch of game losses
right we get data. stats
right we get data. stats
right
huh so this actually all looks fine so
huh so this actually all looks fine so
far
long
long
and log and
clear let's see do we get any stats now
yes we
do we get lots of stats
actually we get lots of
stats so
stats so
um why aren't we logging
them is it expecting them to already be
them is it expecting them to already be
pree or
something I bet that's what it
is yeah look at this it's
is yeah look at this it's
stats hold
on
ah discard non- numeric values
o well that's mildly obnoxious
right okay but like you're
right okay but like you're
not you're not logging stuff that isn't
not you're not logging stuff that isn't
mean right unless it's a string
if profile.
update oh I remember now why
uh Global
uh Global
step was allowed to
step was allowed to
be to be low
I think I wanted to put this down here
I don't want to lo I don't want to log
I don't want to lo I don't want to log
to wandy
to wandy
though um
though um
[ __ ] mildly
annoying we'll leave it like this for
annoying we'll leave it like this for
now
now
we'll leave this
[Music]
here all right
H can I just try to mean
H can I just try to mean
everything does that
work should work for this
work should work for this
right wait no it doesn't work because
right wait no it doesn't work because
you have to me in here then don't
you [ __ ]
oh yeah I can totally assume that this
oh yeah I can totally assume that this
is mean though
because can I
yes I
can stats is data. stats
can I do
can I do
this I'm just trying to be careful that
this I'm just trying to be careful that
I'm not breaking stuff behind the hood
I'm not breaking stuff behind the hood
because this is like kind of a critical
because this is like kind of a critical
piece of code um and I'm just thinking
piece of code um and I'm just thinking
of like all the different data things
of like all the different data things
that could be logged cuz like you're not
that could be logged cuz like you're not
supposed to log garbage but sometimes
supposed to log garbage but sometimes
people like log random strings and stuff
people like log random strings and stuff
that's going to break
means but when should that data be
means but when should that data be
thrown away shouldn't that be thrown
thrown away shouldn't that be thrown
away like way
earlier I would think so
right might not
right might not
be cuz I don't try to mean it
before all right let's just let's do it
before all right let's just let's do it
this way for KV and data. stats.
this way for KV and data. stats.
items um we'll just do
try
dots
se you can't do this either man cuz you
se you can't do this either man cuz you
can't iterate over the I can't change
can't iterate over the I can't change
the dictionary well I'm iterating over
the dictionary well I'm iterating over
it I'm just trying to find like a stupid
it I'm just trying to find like a stupid
easy way to do
this let's do it the dumb way for now
this let's do it the dumb way for now
stats equal data.
stats equal data.
stats uh
stats uh
for list stats.
for list stats.
Keys data
data. stats
of oh wait no I can do it I can do it
of oh wait no I can do it I can do it
it's I just have to do it like this so
it's I just have to do it like this so
for key and like this and then what we
for key and like this and then what we
do is we're going to just
do is we're going to just
do try V is going to be mean of V except
do try V is going to be mean of V except
we do
dell we get rid of the key and then what
dell we get rid of the key and then what
we do is data. stats k equals
b um this adds a little bit of obnoxious
b um this adds a little bit of obnoxious
code not too
bad so we'd like to clean this up but I
bad so we'd like to clean this up but I
think that this should work for now
let's see what data gets uh let's see if
let's see what data gets uh let's see if
we let's see if this
works there we
go and we get these
go and we get these
nice updates
nice updates
nice even
interval not wasting too much CPU on
interval not wasting too much CPU on
this just a nice little
update
update
perfect uh we'll finish testing this in
perfect uh we'll finish testing this in
a moment there's one other thing I want
a moment there's one other thing I want
to figure
out which is I don't want to just have
out which is I don't want to just have
to wait until the
to wait until the
second Epoch
potentially wait this might no longer be
potentially wait this might no longer be
an issue I might be
overthinking okay so this is updating
overthinking okay so this is updating
once per
second and yeah okay I like I actually
second and yeah okay I like I actually
already have this set up perfectly I
already have this set up perfectly I
don't need to over complicate it anymore
don't need to over complicate it anymore
I was just trying to make sure that this
I was just trying to make sure that this
dashboard shows up as quickly as
dashboard shows up as quickly as
possible for the user and it does so we
possible for the user and it does so we
are
are
fine a
fine a
okay now we can enable track and we can
okay now we can enable track and we can
see whether this gives
see whether this gives
us uh whether this gives us what we want
let's
see so the whole objective of doing all
see so the whole objective of doing all
of this was that now we should have a uh
of this was that now we should have a uh
a training run where first of all this
a training run where first of all this
dashboard is nice and clean and gives us
dashboard is nice and clean and gives us
much much more stable and accurate
much much more stable and accurate
estimates of the return so we will
estimates of the return so we will
compare this reward curve to the other
compare this reward curve to the other
ones um but the key is that now this
ones um but the key is that now this
should be they should be taking an
should be they should be taking an
average over segments of 1 second
average over segments of 1 second
instead of taking a sample every second
instead of taking a sample every second
so if your environment is really fast
so if your environment is really fast
and it's just spitting out tons and tons
and it's just spitting out tons and tons
of data it will actually average over
of data it will actually average over
all of the samples instead of just
all of the samples instead of just
sampling like whatever it has once a
sampling like whatever it has once a
second uh and this should be implemented
second uh and this should be implemented
efficiently this should not cause any
efficiently this should not cause any
sorts of other
sorts of other
overhead we can see that pong is
overhead we can see that pong is
optimizing before our very
optimizing before our very
eyes learning how to play the game
eyes learning how to play the game
and the hope is that we will have very
and the hope is that we will have very
stable Point estimate at the end because
stable Point estimate at the end because
what it's going to do is it's going to
what it's going to do is it's going to
play whatever I set it to uh a few
play whatever I set it to uh a few
million steps of pong whatever it is and
million steps of pong whatever it is and
then once it is done playing that it's
then once it is done playing that it's
going to play 10% more games and it's
going to play 10% more games and it's
just going to use those to evaluate and
just going to use those to evaluate and
it's going to give us a point estimate
it's going to give us a point estimate
back and it's going to log it to w b and
back and it's going to log it to w b and
the goal is that we did all of this now
the goal is that we did all of this now
without screwing everything else
without screwing everything else
up and uh without adding a bunch of
up and uh without adding a bunch of
garbage
code it's a little odd right now that
code it's a little odd right now that
this is not optimized
this is not optimized
already um the pong settings that I had
already um the pong settings that I had
should have already just crushed
should have already just crushed
this so I don't know why it's taking 3.1
million as long as it solves it though
it's possible that this Branch doesn't
it's possible that this Branch doesn't
have the latest settings on
it there it goes so it solved the
it there it goes so it solved the
environment at the least I don't know
environment at the least I don't know
why it took it that long but it has
why it took it that long but it has
solved the environment
is it now
is it now
crashing I hope
crashing I hope
not no it's fairly
not no it's fairly
stable I'm assuming these aren't like
stable I'm assuming these aren't like
the optimal parameters we found or
whatever but this is decent either
whatever but this is decent either
way less than three
minutes optimal settings is less than
minutes optimal settings is less than
minute
30 and we're going to see whether this
30 and we're going to see whether this
works so right now the what it's doing
works so right now the what it's doing
is it is running 10% more
is it is running 10% more
games there you
games there you
go and we should be able to click
go and we should be able to click
this guess not we'll just go find it
manually 17 seconds
manually 17 seconds
so we have
pong uh right here you see
pong uh right here you see
this this little dip at the
this this little dip at the
end this is
the uh this is the like the extra EV
the uh this is the like the extra EV
valve
valve
step right
step right
here and then you can see we have our
here and then you can see we have our
last point right
last point right
here we have our last point that should
here we have our last point that should
be logged right
be logged right
there
and can I expand
this wait time and
seconds there should be a
gap 166 167
seconds there should be an extra point
seconds there should be an extra point
logged
logged
around 179 seconds that I'm not
seeing yeah I don't see the last
seeing yeah I don't see the last
point I see
point I see
entropy so I see everything but the last
entropy so I see everything but the last
point oh I know
point oh I know
why yeah I know
why yeah I know
why okay I screwed one thing up with
why okay I screwed one thing up with
this
this
good thing I double
checked so this thing needs to get
called I can just switch the order can't
I no I can't switch the order because I
I no I can't switch the order because I
need data. stats to be intact [ __ ]
okay how else can I do
this um
I think I can oneline this whole thing
I think I can oneline this whole thing
if and I can make it just I can
if and I can make it just I can
duplicate the code but I can oneline it
duplicate the code but I can oneline it
if I just
if I just
go
oops if I just filter out garbage
here I need to figure out if like if
here I need to figure out if like if
you're logging garbage is the thing
you're logging garbage is the thing
how do I do
how do I do
this I need to figure out if you're like
this I need to figure out if you're like
logging strings or other
garbage I could take a mean
garbage I could take a mean
here but if I take a mean
here then
here then
it's it's kind of weird
it's it's kind of weird
because this kind of like does extra
because this kind of like does extra
smoothing that we don't want yeah this
smoothing that we don't want yeah this
does extra smoothing that we don't want
does extra smoothing that we don't want
right totally
right totally
does so the thing I'm trying to figure
does so the thing I'm trying to figure
out right now is um I need a way to
out right now is um I need a way to
ensure that whatever data is coming back
ensure that whatever data is coming back
from the
from the
environment
environment
is loggable
right it has to be able to be a list
do I just make like a colate log
do I just make like a colate log
function or whatever that just does it
function or whatever that just does it
and
then call it in
both I hate having to do that type of a
both I hate having to do that type of a
thing it's
thing it's
like obviously
stupid I really should not be getting
stupid I really should not be getting
hung up on this but like this is one of
hung up on this but like this is one of
those things where if I do it wrong it's
those things where if I do it wrong it's
going to cause really really obnoxious
going to cause really really obnoxious
long-term bugs I
long-term bugs I
know um cuz like your logging is very
know um cuz like your logging is very
important and it's you know if your if
important and it's you know if your if
your report issue button is broken it
your report issue button is broken it
takes a while to figure that out right
takes a while to figure that out right
it's one of those
so this function needs to get
done maybe I just don't have to clear
done maybe I just don't have to clear
the
the
data I'll just do log to w b data right
data I'll just do log to w b data right
like this will not clear it
okay and then I'll put the clear right
here we'll put the clear in
here we'll put the clear in
there and
then right here
or we can do
mean mean and
log
log
there and now this will
go this can just go at the top here
this becomes data.
stats so
now what D type
now what D type
to what D type to use to populate a b
to what D type to use to populate a b
int
int
o does bull not work
I don't know if it's bull or it's either
I don't know if it's bull or it's either
bull or unsigned
bull or unsigned
Char I would assume it's bull but I
Char I would assume it's bull but I
could be
wrong NOP bull doesn't
work do I not have this work do I not
work do I not have this work do I not
have this in puffer let me look for you
oh no I don't have this in this do I
oh no I don't have this in this do I
have it
in guess I don't have it anywhere
here try unsign Char see if that
works try unsign char
works try unsign char
let me know if that doesn't
work it's this weird thing where like
work it's this weird thing where like
see you have to include you have to like
see you have to include you have to like
include standard bull or whatever to use
include standard bull or whatever to use
booleans weird
should make a programming language in
should make a programming language in
which the default type is you just
which the default type is you just
specify how many bits of exponent in
specify how many bits of exponent in
mantisa you want for Floats or just how
mantisa you want for Floats or just how
many bits you want for in and it just
many bits you want for in and it just
gives you a data type of whatever you
want is it mean mean and log
want is it mean mean and log
that what I call it mean and
that what I call it mean and
log yeah so we do this mean we do the
log yeah so we do this mean we do the
log I hate this signature on this print
log I hate this signature on this print
dashboard
function mean un log
data we'll see if this
data we'll see if this
runs and now now the hope is that this
runs and now now the hope is that this
should give
us they should give us like this last
us they should give us like this last
data point that's very
nice with bull oh no that's the same
nice with bull oh no that's the same
message from
message from
before
before
cool we'll be curious to see if this run
cool we'll be curious to see if this run
does any differently
does any differently
the last one was not uh
optimal y'all like watching me Dev
optimal y'all like watching me Dev
random stuff that's
funny e
honestly they just write it in C++ take
honestly they just write it in C++ take
is kind of
tired like C++ is kind of a garbage
tired like C++ is kind of a garbage
langage
anguage and then you have to write the
anguage and then you have to write the
whole thing in C++ you can't like
whole thing in C++ you can't like
selectively sprinkle in um
python ah still too off of
python ah still too off of
750 are we done with this
750 are we done with this
almost
almost
so the runs
so the runs
here should
be so right now it is doing the final
be so right now it is doing the final
eval
step All Star it thanks King
step All Star it thanks King
that is awesome we will have we'll be
that is awesome we will have we'll be
one off of
one off of
750 this for anybody like watching who
750 this for anybody like watching who
hasn't like the stars actually helped me
hasn't like the stars actually helped me
a ridiculous amount
a ridiculous amount
so um the this is a relatively new
so um the this is a relatively new
library and like user and growth metrics
library and like user and growth metrics
like that actually affect when I can
like that actually affect when I can
start
start
like it actually affects like whether
like it actually affects like whether
companies start picking stuff up or not
companies start picking stuff up or not
if you see like a project that is you
if you see like a project that is you
know a sub 1K star repo you're going to
know a sub 1K star repo you're going to
be a lot more hesitant to adopt it inter
be a lot more hesitant to adopt it inter
internally
internally
so all this stays open source but the
so all this stays open source but the
plan for actually you know funding this
plan for actually you know funding this
stuff building out a bigger cluster
stuff building out a bigger cluster
being able to provide more resources to
being able to provide more resources to
open source does rely on uh companies
open source does rely on uh companies
picking this up and wanting support
picking this up and wanting support
contracts with puffer for like early
contracts with puffer for like early
features and stuff um that's how I plan
features and stuff um that's how I plan
on funding all this stuff I'm not taking
on funding all this stuff I'm not taking
VC money um so I can keep everything
VC money um so I can keep everything
open source and not have people
open source and not have people
breathing down my neck over it so yeah
breathing down my neck over it so yeah
if you don't usually start repos uh give
if you don't usually start repos uh give
it a thought it helps me out a
ton okay so this right here yeah this is
ton okay so this right here yeah this is
perfect so
perfect so
you can actually see this very
clearly here's this you can see like
clearly here's this you can see like
that this skips because there's a data
that this skips because there's a data
point here and a data point here so what
point here and a data point here so what
this means is that this is the very
this means is that this is the very
accurate final
accurate final
estimate um of this
estimate um of this
metric with you and a I get buffer D
metric with you and a I get buffer D
type mismatch B in but really
yes
weird I wouldn't recommend doing
weird I wouldn't recommend doing
this annoying cast
I think you can just use a u 8 I think
I think you can just use a u 8 I think
it'll work exactly the
same try making them here try keeping
same try making them here try keeping
the value of Boolean and Python and then
the value of Boolean and Python and then
like
uh a 8 in scyon or
something it looks like there's just
something it looks like there's just
some weird formatting stuff cuz under
some weird formatting stuff cuz under
the hood it's using a a bite anyways
the hood it's using a a bite anyways
yeah something
weird well this is very nice that we
weird well this is very nice that we
have
this it's actually very nice cuz when
this it's actually very nice cuz when
you have the wall clock you can visually
you have the wall clock you can visually
see that you get the accurate Point
see that you get the accurate Point
estimate right M
estimate right M
time and like everything just caps right
interesting that steps per second
interesting that steps per second
doesn't Spike up oh I guess it's because
doesn't Spike up oh I guess it's because
we're Bound by inference
anyways but yeah this is exactly what we
anyways but yeah this is exactly what we
wanted
wanted
so I think we keep this
so I think we keep this
a yeah here's the agent step Spike up at
a yeah here's the agent step Spike up at
the end that we can see oh it is a
the end that we can see oh it is a
little faster you can see it goes up a
little faster you can see it goes up a
little faster all right so
um what we're going to do
um what we're going to do
now is we're going to figure
now is we're going to figure
out my phone just fell
out my phone just fell
first hold on I don't want to roll over
first hold on I don't want to roll over
it
what we're going to do
what we're going to do
now is we're going to figure out why
now is we're going to figure out why
beam Rider doesn't
work and then we're going to rerun some
stuff is it just beam Dash
Rider incompatible
okay so I guess we have to just check I
okay so I guess we have to just check I
I'm guessing we just have bindings named
I'm guessing we just have bindings named
wrong or something
dumb oh what happened wait
huh are they named differently
huh are they named differently
in in
Al let me see if we can get the
list multi-agent
Al new haircut
yep been getting it cut pretty
yep been getting it cut pretty
frequently like every month at
frequently like every month at
least it gets in the way running
least it gets in the way running
otherwise
where's the list of environments
is there no
list
list
games support oh here we go
I think it's just one word
I think it's just one word
everything they are lots of stuff in
everything they are lots of stuff in
here is
here is
Tetris o they have Tetris oh whoa they
Tetris o they have Tetris oh whoa they
got a lot of cool stuff in here
actually Tetris would be a fun en I
actually Tetris would be a fun en I
don't think I've ever seen anybody do
don't think I've ever seen anybody do
Tetris for
this yeah that's a lot of Ms and some of
this yeah that's a lot of Ms and some of
these don't
these don't
like some of these aren't even the
like some of these aren't even the
atarian right like back gaming a
atarian right like back gaming a
game there 47 files in here they're more
game there 47 files in here they're more
than 47
than 47
right I guess they have hpps as well
[Music]
no config for M name beam Rider perfect
no config for M name beam Rider perfect
now if I do
now if I do
this really there's no beam Rider like
this get rom path self. game
where's the list of
like is it spaces
huh damn it
it doesn't tell you what the strings
are
are
md5 ah this does not exist
can I just guess
can I just guess
like
what Al set
mode get rom
path yeah this will be the quickest way
path yeah this will be the quickest way
to debug this so we don't spend forever
to debug this so we don't spend forever
here
okay roms. get
okay roms. get
all ROM
IDs uh they're always underscored
IDs uh they're always underscored
everything with two words is
underscored
yep we can actually just grab all these
yep we can actually just grab all these
can't
can't
we Tetris on here yeah it
we Tetris on here yeah it
is let's say we uh we just make
is let's say we uh we just make
um super Maven reformat this for
us
10s can it not finish
10s can it not finish
this what's wrong with super
Maven I think it has a max line length
Maven I think it has a max line length
that's funny de toe
3D looks good
3D looks good
right what do we think the odds are it's
right what do we think the odds are it's
made some horrible
made some horrible
mistake in here that we're not going to
mistake in here that we're not going to
know about until it's too late
think YOLO I think we just leave
think YOLO I think we just leave
it so here all of the all of the
it so here all of the all of the
uh wait
uh wait
River oh yeah it did it get River raid
River oh yeah it did it get River raid
right okay that's
fine now can we do beam Rider
option already
exists
okay oh and we have to get rid of the
okay oh and we have to get rid of the
break point right
cool
cool
trains gives this episode returns they
trains gives this episode returns they
go
up let's just uh let's test like the
up let's just uh let's test like the
classic
classic
environments so
pong pong works
breakout
Enduro
Enduro
nice uh sweep Atari
nice uh sweep Atari
shell breakout it's going to be beam
shell breakout it's going to be beam
Rider
Rider
and then what do we have Enduro cubert
and then what do we have Enduro cubert
we got to try
cubert and then we'll be able to to
cubert and then we'll be able to to
finish launching uh these
experiments
experiments
yep it cubert Space Invaders and sequ as
yep it cubert Space Invaders and sequ as
all
we really have to have like a nice local
we really have to have like a nice local
playable thing for all the Atari games
playable thing for all the Atari games
as well it would save so many
as well it would save so many
bugs maybe we'll do that
today play some Atari games I'll play
Tetris cool all right they all run
Enduro
Enduro
breakout what do we have it's like pong
breakout what do we have it's like pong
as well
as well
right and these three we already have
right and these three we already have
results
results
for so we can just do
for so we can just do
this uh am I on the right machine right
now think
so
yeah a clean
so we have
so we have
um
logging improvements and Atari
logging improvements and Atari
config for all
M's Dev
M's Dev
uh I neglected to add this sweep file
right okay um
oh I almost
oh I almost
forgot 500 experiments is going to be
forgot 500 experiments is going to be
way too
many
okay and actually I just need to bash
okay and actually I just need to bash
this file
right
right
sweet five minutes per
sweet five minutes per
run we' got beam Rider already
run we' got beam Rider already
training and we can just leave this I
training and we can just leave this I
can just leave this be here and go do
can just leave this be here and go do
other stuff
other stuff
and we'll have um our experiments I
and we'll have um our experiments I
think they
think they
take they take longer than I would
like it's like s hours I think does that
like it's like s hours I think does that
make
sense yeah 5 to 10 minutes per
sense yeah 5 to 10 minutes per
experiment 7
experiment 7
hours not
hours not
terrible we'll need that to be a little
terrible we'll need that to be a little
faster for you know other M's but it's
faster for you know other M's but it's
not terrible for now
not terrible for now
um okay so as
um okay so as
for the
for the
agenda uh does it have oops this is this
agenda uh does it have oops this is this
is
is
done this is
done M moep smoothing
done M moep smoothing
maybe and work on
maybe and work on
that wait when was there there was just
that wait when was there there was just
a release four days ago on this
a release four days ago on this
who's doing this
who's doing this
stuff oh
okay cool they added support for numai
okay cool they added support for numai
2.0
2.0
nice just maintenance
changes oh yeah and then in may they did
changes oh yeah and then in may they did
gymnasium update
you no longer need the accept ROM
license Yep this is all fine
license Yep this is all fine
very
very
nice uh so we have these experiment
nice uh so we have these experiment
sweeps running
now
now
749 thank you
Chef one office
750 I think I'm going to take a quick
750 I think I'm going to take a quick
second and then I'm going to figure out
second and then I'm going to figure out
what we're going to do on the Moa
so let's add a Atari viz to the list as
so let's add a Atari viz to the list as
well let's add
well let's add
like uh good Atari
viz to the list
so I can do this the step smoothing I
so I can do this the step smoothing I
can do that pretty
can do that pretty
quick the thing that I'm somewhat
quick the thing that I'm somewhat
worried about is the ELO system
the ELO system is rather obnoxious
the ELO system is rather obnoxious
because well it's freaking
because well it's freaking
hard it's hard to do simply it's hard to
hard it's hard to do simply it's hard to
do without making a mess out of my very
do without making a mess out of my very
nice code
base let's do the step smoothing thing
base let's do the step smoothing thing
real quick
potentially let me back of the envelope
potentially let me back of the envelope
this to see if what I'm thinking about
this to see if what I'm thinking about
even makes sense first
even makes sense first
so we're usually running like 400 m per
so we're usually running like 400 m per
core right so 4,000 steps per
second wait
second wait
[ __ ] we're usually running like
[ __ ] we're usually running like
4,000 400 m per
4,000 400 m per
core 4,000 total
core 4,000 total
agents um say 400,000 steps per second
agents um say 400,000 steps per second
though it is faster than that but say
though it is faster than that but say
400,000 steps per second it's 1,000
400,000 steps per second it's 1,000
steps across all M's per
second yeah that's really obnoxious in
second yeah that's really obnoxious in
order to
order to
make in order to make this thing reset
make in order to make this thing reset
happening I'd have to
do [ __ ] how would I even do
do [ __ ] how would I even do
this the normal way that you do this is
this the normal way that you do this is
you just like step all the
you just like step all the
agents uh you just like step all of the
agents uh you just like step all of the
the
the
agents hold
agents hold
on let me go look at
on let me go look at
the The Sweep from
before very nice beam Rider sweep
how long does it take how long does it
how long does it take how long does it
take before it gets its first
Tower it takes quite a
Tower it takes quite a
while before all the M's get their
while before all the M's get their
Tower so here's the issue that I I have
Tower so here's the issue that I I have
at the moment right all these M's they
at the moment right all these M's they
got to be fast um I also for the user
got to be fast um I also for the user
experience I want them to start up fast
experience I want them to start up fast
so when you do a new training Run start
so when you do a new training Run start
up should be instant this is one of the
up should be instant this is one of the
major things I optimize for um I haven't
major things I optimize for um I haven't
done an amazing job of that at this
done an amazing job of that at this
moment because there are a few Imports
moment because there are a few Imports
that are a little slow but it's been
that are a little slow but it's been
pretty good
pretty good
now in order
now in order
to in order to make these curves curves
to in order to make these curves curves
not look like this where they have all
not look like this where they have all
this like these weird wavy behaviors you
this like these weird wavy behaviors you
can see it really well right here right
can see it really well right here right
like this like wavy periotic Behavior so
like this like wavy periotic Behavior so
this happens because all the games are
this happens because all the games are
roughly the same point right like
roughly the same point right like
they're all roughly in the early game
they're all roughly in the early game
then they roughly all are in the like
then they roughly all are in the like
the mid game where they've taken tier
the mid game where they've taken tier
ones then they're like late game where
ones then they're like late game where
they're taking like tier twos tier 3es
they're taking like tier twos tier 3es
right and then they're like the end game
right and then they're like the end game
right so they all roughly do that around
right so they all roughly do that around
the same time which leads to this really
the same time which leads to this really
wavy behavior and also can create
wavy behavior and also can create
difficulties in
difficulties in
learning um codewise the easiest way to
learning um codewise the easiest way to
fix this is to just randomly step all of
fix this is to just randomly step all of
the environments between uh Z and 15,000
the environments between uh Z and 15,000
steps that would probably do
steps that would probably do
it if I just you know randomly step all
it if I just you know randomly step all
the M's 0 to 15,000
the M's 0 to 15,000
steps because then they would all be at
steps because then they would all be at
different points in the
different points in the
game and it would be fine
problem with doing that is I have to
problem with doing that is I have to
actually run the games for quite a while
actually run the games for quite a while
to get
there and I think that that would add
there and I think that that would add
like you know 10 seconds to the startup
like you know 10 seconds to the startup
of each experiment which I really do not
of each experiment which I really do not
like I really don't like
that how hard would the alternative
that how hard would the alternative
would be that I like you know put the
would be that I like you know put the
agent already at Mid game or whatever
agent already at Mid game or whatever
some of
them that's hard too
though I could start them at random
though I could start them at random
levels would that kind of do it just
levels would that kind of do it just
when you reset the environment the first
when you reset the environment the first
time but then you have to remember to
time but then you have to remember to
like not do that
H well let me think if I just put all
H well let me think if I just put all
the agents at random
levels does that even affect anything I
levels does that even affect anything I
think the minions are like winning the
think the minions are like winning the
game at the start aren't they
what's going to be the easiest way to
what's going to be the easiest way to
break the Symmetry
here Atari had this as
well it's less of a problem in Atari
well it's less of a problem in Atari
though because the Symmetry I think it's
though because the Symmetry I think it's
break broken faster
[Music]
I also don't like the idea of like
I also don't like the idea of like
setting them to random levels because
setting them to random levels because
that'll screw up the learning curves mle
that'll screw up the learning curves mle
screw up like the start of the
curve what else can I do with them that
curve what else can I do with them that
will
will
will achieve the same
effect I could start the first game with
effect I could start the first game with
um
um
randomly random Towers killed
right if I just randomly pick and kill
right if I just randomly pick and kill
some towers does that do
it should make it much quicker for
like creeps to win the
like creeps to win the
game but the creeps don't really
game but the creeps don't really
win do
win do
they creeps have to win
right you have to take the
right you have to take the
towers I don't think that the way have
towers I don't think that the way have
it balanced at the moment I don't think
it balanced at the moment I don't think
it's easy or remotely feasible for the
it's easy or remotely feasible for the
creeps to do it on their own
I know that in the actual open ai5
I know that in the actual open ai5
project they randomized some
project they randomized some
stuff during training
is just
is just
randomly I mean randomly just killing
randomly I mean randomly just killing
some Towers seems like the easiest way
some Towers seems like the easiest way
of doing it
right I don't know if it fully breaks
right I don't know if it fully breaks
the symmetries
though is that a good metric of game
though is that a good metric of game
progress you probably need levels in
progress you probably need levels in
order to actually take the stronger
order to actually take the stronger
Towers even if they're just sitting
Towers even if they're just sitting
there right but I really don't want to
there right but I really don't want to
randomize their levels because that'll
randomize their levels because that'll
really mess up the learning
really mess up the learning
curve
um okay if I were to randomly step some
um okay if I were to randomly step some
of the Environ how much would I actually
of the Environ how much would I actually
have to do creep HP a little less at one
side
side
um I would have to do that for
um I would have to do that for
like only the first game or
like only the first game or
something I think I'd have to do that
something I think I'd have to do that
for like only the first
for like only the first
game and I think if you make the creep
game and I think if you make the creep
HP a little bit less I think that like
HP a little bit less I think that like
the other side will very quickly win the
the other side will very quickly win the
creep equilibrium is pretty important
so what I'm trying to do here to be
so what I'm trying to do here to be
clear like these curves are wavy because
clear like these curves are wavy because
all the games start at the same time so
all the games start at the same time so
they're all like ending at the same time
they're all like ending at the same time
roughly on average if you run this thing
roughly on average if you run this thing
for like you know 20 billion time steps
for like you know 20 billion time steps
uh these amplitudes will get smaller and
uh these amplitudes will get smaller and
smaller until it just becomes flat
smaller until it just becomes flat
because they will naturally
because they will naturally
desynchronize but it takes a very long
desynchronize but it takes a very long
time for that to happen and in the
time for that to happen and in the
meantime you know this can mess up
meantime you know this can mess up
reward metrics and other
reward metrics and other
things so I was considering just like
things so I was considering just like
trying to step some of the environments
trying to step some of the environments
a bunch before you start which is the
a bunch before you start which is the
cleanest way of doing it but I think I
cleanest way of doing it but I think I
have to step them a lot is the
have to step them a lot is the
problem um I think I have to step them a
problem um I think I have to step them a
lot
I mean realistically I could just
I mean realistically I could just
randomize all the tower HPS right on
randomize all the tower HPS right on
spawn isn't that incredibly
spawn isn't that incredibly
easy if I just randomize all the tower
easy if I just randomize all the tower
HPS on spawn
that's probably enough as is and I'm
that's probably enough as is and I'm
just being lazy and not wanting to do
just being lazy and not wanting to do
special purpose stuff
yeah let's do that real quick let me
yeah let's do that real quick let me
just like not be lazy I'll Implement
just like not be lazy I'll Implement
that and
that and
then we'll check on the experiments
then we'll check on the experiments
we'll make sure everything is good we'll
we'll make sure everything is good we'll
do a little bit of looking into the MOBA
do a little bit of looking into the MOBA
and then I'll decide whether today is
and then I'll decide whether today is
the day we're doing ELO or not ELO is
the day we're doing ELO or not ELO is
just such a pain to do
correctly one star off 750 still who's
correctly one star off 750 still who's
it going to
be e
let's implement
home
all right let's see how bad this
is Step Towers
I think it's in
I think it's in
reset yeah here's your respawn Tower
reset yeah here's your respawn Tower
code
right so how do we
determine yeah let's do let's just add
determine yeah let's do let's just add
like a conditional right here how can I
like a conditional right here how can I
determine if it's been reset yet
I'm going to just make a
I'm going to just make a
function yeah I'm just just going to
function yeah I'm just just going to
make a
make a
function and I'll call it from python
function and I'll call it from python
cuz it only gets called
once CP def randomize
once CP def randomize
to
HP this is
HP this is
reasonable
reasonable
yep and then what we do
yep and then what we do
is
Rand percent
Rand percent
Tower Max Health Plus One
okay I don't know what I was whining
okay I don't know what I was whining
about that was really easy
uh self.
uh self.
CM
CM
I randomized Tower
HP oops
yeah we're
yeah we're
good we are good to
good we are good to
go uh let's see if this
works recompile some
works recompile some
stuff and if it is then we can actually
stuff and if it is then we can actually
what we can do is we can rerun the
what we can do is we can rerun the
experiment from
experiment from
before and uh we can see if we
before and uh we can see if we
get any substantially different result
we'll know immediately whether it at
we'll know immediately whether it at
least runs or not because this this is
least runs or not because this this is
something that just runs at the
startup and then it'll take a little bit
startup and then it'll take a little bit
of training to see whether know whether
of training to see whether know whether
it makes
sense Tower HP is really the only thing
sense Tower HP is really the only thing
we would need to randomize anyways right
I think think it takes a while because
I think think it takes a while because
why why does it take a while
why why does it take a while
actually startup time should not be long
actually startup time should not be long
right oh I think I have it configured
right oh I think I have it configured
for more cores than my local machine
for more cores than my local machine
that's
that's
all oh no
all oh no
wait uh kill this kill this really
wait uh kill this kill this really
quick okay apparently it's too much
quick okay apparently it's too much
memory for my local machine as
memory for my local machine as
well we'll just commit
well we'll just commit
it and then do it on the big machine
uh randomize
uh randomize
Health power
okay
now where is
now where is
puffer check the puffer box
there should be
there should be
um parameters as well in here
right oan MOA
yeah so we just run this again
let's see if this fails or
not
solid and this updates every 4 seconds
solid and this updates every 4 seconds
or so
or so
because it's a 2 million batch size in
because it's a 2 million batch size in
500k steps per second which is perfectly
500k steps per second which is perfectly
acceptable and uh we don't have the
acceptable and uh we don't have the
latest config updates like the uh the
latest config updates like the uh the
logging updates but as soon as we merge
logging updates but as soon as we merge
this into the dev Branch this will give
this into the dev Branch this will give
us the much more stable uh training
us the much more stable uh training
curves as well but for now this will be
curves as well but for now this will be
a nice test to see whether we get the
a nice test to see whether we get the
the curvature that we want this is a
the curvature that we want this is a
14-minute
14-minute
experiment currently it's 3 3 p.m. uh
experiment currently it's 3 3 p.m. uh
I'm going to be right back I'm going to
I'm going to be right back I'm going to
take a few minutes uh this is going to
take a few minutes uh this is going to
run at least enough for us to see this
run at least enough for us to see this
curvature let me before I do that let me
curvature let me before I do that let me
let me see if our sweep is running
let me see if our sweep is running
appropriately beam Rider
sweep oh yeah look at that we got uh
sweep oh yeah look at that we got uh
beam Rider training
beam Rider training
already look at that perf
already look at that perf
perfect I'm clad uh I'm going to take a
perfect I'm clad uh I'm going to take a
few minutes I'm going to make myself a
few minutes I'm going to make myself a
shake and then when I come back we will
shake and then when I come back we will
take a look a little bit at this MOA to
take a look a little bit at this MOA to
see how the training is going and I will
see how the training is going and I will
maybe think about
maybe think about
ELO we'll see if I have the well we'll
ELO we'll see if I have the well we'll
see if I can think of a good way to do
see if I can think of a good way to do
that today if not we'll do some other
that today if not we'll do some other
Atari stuff and we'll finish that or
Atari stuff and we'll finish that or
I'll work on the uh the new content
I'll work on the uh the new content
video and I'll talk about some of the my
video and I'll talk about some of the my
thoughts on RL there but we'll have
thoughts on RL there but we'll have
something interesting I'll be back in I
something interesting I'll be back in I
don't know 5 minutes or so 5 seven
minutes
e
e
e
e
e
e
e
e
e
e
e
e e
okay
we're back here
he looking pretty good with
he looking pretty good with
this looking pretty
this looking pretty
good how's our other run
[Music]
going jeez weird
I'm assuming that this is some Jank
I'm assuming that this is some Jank
thing
thing
happened where's our actual
run it shouldn't be running pong
run it shouldn't be running pong
something is
wrong
what okay what is happening
what okay what is happening
where is my run did I forgot to track it
where is my run did I forgot to track it
or
something should be 350 million
steps yeah I guess I did
steps yeah I guess I did
[ __ ] well that's
[ __ ] well that's
obnoxious oh no I did track it why does
obnoxious oh no I did track it why does
it not show up
it not show up
then why did it not show
up this will be enough data to use if uh
up this will be enough data to use if uh
if this is actually
here what the
hell 55 minutes
ago n of MOBA
ago n of MOBA
mode Das D track
mode Das D track
is is the dash dash
Baseline screwing with
things that's mildly
obnoxious yeah this is very
obnoxious yeah this is very
weird oh wait maybe I did have it here I
weird oh wait maybe I did have it here I
bet you that it just like it did a weird
bet you that it just like it did a weird
okay yeah yeah so
okay yeah yeah so
if I
if I
do agent steps
maybe is this
it no because it didn't get this
far weird
far weird
well we'll just rerun it uh right here I
well we'll just rerun it uh right here I
think is what happened so if it's like
think is what happened so if it's like
there if this is what it actually is
there if this is what it actually is
then we're
then we're
good if this is like the level of
good if this is like the level of
fluctuation we get we'll
fluctuation we get we'll
see I think that's probably what it
is something Jank definitely happened
is something Jank definitely happened
though let's just uh we'll grab this new
though let's just uh we'll grab this new
one here
yeah okay we're already at 30
yeah okay we're already at 30
mil and mind you this is before our nice
mil and mind you this is before our nice
new smoothing so this will be a little
new smoothing so this will be a little
bit of uh a little bit Jank
so I guess we get to start thinking
so I guess we get to start thinking
about the ELO stuff right I've been
about the ELO stuff right I've been
putting this off for a
while let me think how bad this is going
while let me think how bad this is going
to be
is it
policy here's the ranker that we
have this doesn't do
have this doesn't do
much I thought there was a policy
pool we don't do this anymore do
pool we don't do this anymore do
we multi
we multi
en
dated spaces
utils do I have to go check at this from
utils do I have to go check at this from
you we had this policy
you we had this policy
pool
so back when I had when I was trying to
so back when I had when I was trying to
make the neural MMO competition
make the neural MMO competition
have a reasonable way to update
have a reasonable way to update
elos
um I have this like obnoxious
um I have this like obnoxious
wrapper and what it would essentially do
wrapper and what it would essentially do
is it would split up your data amongst
is it would split up your data amongst
different copies of your model and
different copies of your model and
stuff but it's just so much freaking
stuff but it's just so much freaking
logic and
code it's got to be a simpler way of
code it's got to be a simpler way of
doing this right
I mean like I'm trying to figure out if
I mean like I'm trying to figure out if
it's even possible to add this as a
it's even possible to add this as a
component to puffer Leb that you can use
component to puffer Leb that you can use
with multiple environments or if I
with multiple environments or if I
should just give up and special purpose
should just give up and special purpose
it for this DOTA project but the thing
it for this DOTA project but the thing
is if I do that I'm going to have to
is if I do that I'm going to have to
maintain this extra annoying blob of
maintain this extra annoying blob of
DOTA
code and it's not exactly simple either
it's actually incredibly obnoxious
because you're supposed to play 20% of
because you're supposed to play 20% of
games against a specific uh different
games against a specific uh different
opponent but like the games don't end at
opponent but like the games don't end at
the same time
the same time
because the games don't end at the same
because the games don't end at the same
time you actually need to figure out
time you actually need to figure out
where to like switch how to switch from
where to like switch how to switch from
one opponent to the
next
next
man this would
man this would
be this would be like substantially
be this would be like substantially
substantially easier if I only had to do
substantially easier if I only had to do
this at um if I didn't have to do this
this at um if I didn't have to do this
at train time if I just needed this for
at train time if I just needed this for
evaluations
how much do I want to bet on pure self
how much do I want to bet on pure self
play
though how much do I want to bet on pure
though how much do I want to bet on pure
self
playay what does playing versus
playay what does playing versus
historical opponent get
you I don't even know if it gets you
you I don't even know if it gets you
very much
actually yeah I
actually yeah I
know it's not like you're playing
know it's not like you're playing
against exploiter agents or something
against exploiter agents or something
something like that you're just playing
something like that you're just playing
against like a slightly dated version of
against like a slightly dated version of
your own
policy I think the main thing is you get
policy I think the main thing is you get
the convenience of having it in having
the convenience of having it in having
the train time
the train time
stats but I think I could probably do
stats but I think I could probably do
this eval time and have it be way
this eval time and have it be way
easier because then I wouldn't have to
easier because then I wouldn't have to
worry about the efficiency I could run
worry about the efficiency I could run
it on a CPU core at the same time so let
it on a CPU core at the same time so let
me think about
me think about
that if I just wanted to make like a
that if I just wanted to make like a
custom eval script
custom eval script
and all it does it runs
and all it does it runs
on say
on say
directory with your M bad size can use
directory with your M bad size can use
the que to your advantage and wait for
the que to your advantage and wait for
an
opponent you have to
opponent you have to
launch Cuda jobs on shitty like little
launch Cuda jobs on shitty like little
tiny
tiny
batches it's
batches it's
not oh I see what you're saying yeah
not oh I see what you're saying yeah
technically you're right but it's
technically you're right but it's
complicated to tell to do
that like I'm not adding like I'm not
that like I'm not adding like I'm not
doubling the complexity of puffer lib to
doubling the complexity of puffer lib to
support one Niche
feature no I think that the easiest way
feature no I think that the easiest way
to do
to do
this is to just have a
this is to just have a
script that looks at a directory of
script that looks at a directory of
policies
looks at a directory of policies and
looks at a directory of policies and
then what
just runs the games I guess
right isn't the code going to end up
right isn't the code going to end up
looking a lot like this though anyways
[Music]
not quite right
how many games would I run at the same
how many games would I run at the same
time with this
see I keep the original environments
around I just use
around I just use
those they're annoyingly async
though it's
obnoxious no I think I just make myself
obnoxious no I think I just make myself
a
a
separate just one core's worth of
separate just one core's worth of
environment
environment
I run him
synchronous so like let's say that's
synchronous so like let's say that's
what 200
games it's probably good for ELO
games it's probably good for ELO
right running 200 games for ELO
right running 200 games for ELO
evaluation
mhm
and then where would I run
this I'd run it as part of a sweep or
this I'd run it as part of a sweep or
part of train
it's hard to run it as part of
sweeps that is kind of what you want
sweeps that is kind of what you want
isn't
it well I could definitely run it post
it well I could definitely run it post
ha talk that's easy the question is how
ha talk that's easy the question is how
do I get
okay in terms of like difficulty right
okay in terms of like difficulty right
easiest thing is I run a sweep I save
easiest thing is I run a sweep I save
all the damn checkpoints from The Sweep
all the damn checkpoints from The Sweep
I spin up a process that runs ELO
I spin up a process that runs ELO
evaluation on all the games and I get my
evaluation on all the games and I get my
elos out right that's the
elos out right that's the
easiest downside
easiest downside
is I don't get to use ELO As the metric
is I don't get to use ELO As the metric
to select for carbs which is really bad
to select for carbs which is really bad
I don't get ELO over the course of
I don't get ELO over the course of
training which is also bad but less bad
training which is also bad but less bad
um I really would like ELO over the
um I really would like ELO over the
course of
training it's probably really hard to
training it's probably really hard to
get
get
both probably ELO over course of
both probably ELO over course of
training is better and easier to do you
training is better and easier to do you
just do it over all the checkpoint files
just do it over all the checkpoint files
right
if I do it over training it's actually
if I do it over training it's actually
not that diff difficult I
think only obnoxious thing is it has to
think only obnoxious thing is it has to
be on a
subprocess does it
it's so difficult to think about in my
it's so difficult to think about in my
head how I want to
head how I want to
structure this is like one of like the
structure this is like one of like the
legitimately hard things to build
the problem is there's just
the problem is there's just
fundamentally no good way to parallelize
fundamentally no good way to parallelize
it
really fundamentally there's no way to
really fundamentally there's no way to
paralyze it
do I put this as like an addition to
do I put this as like an addition to
clean puff
RL I mean I have some competitive M's in
RL I mean I have some competitive M's in
like in other
like in other
places this really makes them very
places this really makes them very
obnoxious though like competitive M are
obnoxious though like competitive M are
so important but they're so so
so important but they're so so
incredibly obnoxious to train because
incredibly obnoxious to train because
you have to do the stupid ELO
thing ELO over different policies is
thing ELO over different policies is
rough
if I just do a like a w b log
call no I need to like give it to P pual
call no I need to like give it to P pual
don't
I well
okay I think I have an idea I think that
okay I think I have an idea I think that
the way I'm going to do this I'm going
the way I'm going to do this I'm going
to make like a standalone ELO thing that
to make like a standalone ELO thing that
plugs into clean puff
plugs into clean puff
RL
RL
and it'll will be called from like an
and it'll will be called from like an
alternative version of train or whatever
alternative version of train or whatever
it'll be like a train
it'll be like a train
option inside of uh the demo
option inside of uh the demo
script code will live somewhere
else
else
and we yeah we'll go from there it'll
and we yeah we'll go from there it'll
return metrics
to it'll return metrics to train
we'll be able to test it
we'll be able to test it
synchronous and then we'll run it in a
synchronous and then we'll run it in a
subprocess or
subprocess or
whatever it's going to be very painful
whatever it's going to be very painful
to run in a sub process
yeah I think I have to start on this
yeah I think I have to start on this
though I think this is the highest
though I think this is the highest
priority thing I think this is what's
priority thing I think this is what's
most likely to block us with the Moa
right is this
it we go up and then we crash
clean reward curve though clean Tower
clean reward curve though clean Tower
reward
reward
curve crash is a bit at the end levels
curve crash is a bit at the end levels
gained a
gained a
thousand I think it's decent
thousand I think it's decent
enough
okay so yeah in that case then we all we
okay so yeah in that case then we all we
have to do is
um yeah all we've got to do is
um yeah all we've got to do is
is start on
it we going to get a second window up
it we going to get a second window up
here I'm going to reformat this stream a
here I'm going to reformat this stream a
little bit because this is going to be a
little bit because this is going to be a
little bit more heavy
Dev put the puffer over here
okay
we're going to just start by doing this
we're going to just start by doing this
inside of the demo file we'll see if we
inside of the demo file we'll see if we
move it
later
okay it's funny it thinks I wanted on a
okay it's funny it thinks I wanted on a
thread
okay so you're going to give
okay so you're going to give
this uh we're going to have to give it
this uh we're going to have to give it
some things we have to give it a kernel
some things we have to give it a kernel
we have to give
it num
M's and quarks
M's we've got to give it some other
M's we've got to give it some other
stuff as
stuff as
well we got to give it make
en we've got to get it like wind metric
en we've got to get it like wind metric
name or whatever
path maybe some of this we can get from
data
data
okay n equals
puffer li. vector.
make M
quars so you have your
M and then
it's going to be DEA
rollouts
policy I you copy of high torch policy
copy. deep
copy I don't think I need any of
this I think I can just do
CPU CPU
and then we have to
and then we have to
write to write an evaluate function I
believe so self. m.
reset let's open
up okay
there's a reason I've put this function
there's a reason I've put this function
off for a long
off for a long
time this is very very difficult to do
time this is very very difficult to do
without making a total mess of
everything I think yeah it's going to be
everything I think yeah it's going to be
better to just copy most of this
better to just copy most of this
logic so
infos we reset the
infos we reset the
M do I Define State
M do I Define State
somewhere
none State equals
none done is
false we do want the torch
false we do want the torch
nograd thank you we do want this as
well this now gives
well this now gives
us
actions
okay created
okay created
info is going to be m.
step
action numpy is
fine Step the
environment and now we need to go
environment and now we need to go
through info
right info should be a list or is it a
right info should be a list or is it a
dict
dict
with the vector
API yes it is
a this thing
here info append
V so let's let's start with this
V so let's let's start with this
um stats equals
um stats equals
nothing believe we'll do stats equals
nothing believe we'll do stats equals
like
this we're going to need the ELO object
this we're going to need the ELO object
as
well for I in
well for I in
info okay this is fine for
info okay this is fine for
KV so we're going through all the
KV so we're going through all the
different environment
different environment
infos and we'll do if wi metric
infos and we'll do if wi metric
trick not in in V
continue okay
continue okay
else
um we have the wind
metric unfortunately we don't know where
metric unfortunately we don't know where
came from do
we yeah we don't know where this came
we yeah we don't know where this came
from
necessarily they're not going to be in
order well let's start with just two
order well let's start with just two
policies and then we'll expand and this
policies and then we'll expand and this
is too much to Dev all at
once so we'll just
do
do
pend be a wind
metric okay so now we have we've got our
stats I honestly don't even think we
stats I honestly don't even think we
need them here
need them here
because we can just
because we can just
do stat equals
do stat equals
self V self. wind metric now we need to
self V self. wind metric now we need to
go get our
ELO policy
ELO policy
ranker update elos
why did the hell did I make this a
why did the hell did I make this a
database what the hell is wrong with
database what the hell is wrong with
me
um you really just need elos and scores
um you really just need elos and scores
right
yeah we'll
yeah we'll
do elos equal p. Z
do elos equal p. Z
two fours Pi zeros of two
so
so
stat is one we'll
stat is one we'll
do Force
equals
equals
zero
okay I think you just do one you start
okay I think you just do one you start
them at a thousand each don't you
and then we'll do update elos like
this
this
okay so this is the basic form of
it there's going to be a lot more to
it there's going to be a lot more to
do um
we can do games
we can do games
played
played
equals zero instead of done so we can do
equals zero instead of done so we can do
while games played less
while games played less
than no 100 or
than no 100 or
whatever and then we'll do
whatever and then we'll do
games played plus equal to
games played plus equal to
one and then we return
one and then we return
elos this is the basic form of what we
elos this is the basic form of what we
want this has to this whole bloody thing
want this has to this whole bloody thing
has to be in a subprocess it needs to
has to be in a subprocess it needs to
work with multiple agents um you know
work with multiple agents um you know
there many other things that we need to
there many other things that we need to
do oh also it needs to obviously run uh
do oh also it needs to obviously run uh
multiple policies that's the whole big
multiple policies that's the whole big
thing with it I buried the lead there
we need to get this running first
we need to get this running first
though so I'm trying to think like
though so I'm trying to think like
what's going to be the easiest thing I
what's going to be the easiest thing I
think I need a standalone test for
think I need a standalone test for
something of this complexity
yeah I think that this needs to be a
yeah I think that this needs to be a
standalone Standalone
test let's build it that way
hi what are you up to
hi what are you up to
today so lots of things currently I'm
today so lots of things currently I'm
paying the piper for making a
paying the piper for making a
competitive environment in the first
competitive environment in the first
place uh MOBA is working well we have
place uh MOBA is working well we have
them using all skills we have reasonable
them using all skills we have reasonable
training curves the policies aren't
training curves the policies aren't
great but whatever we need
great but whatever we need
ELO and getting ELO inside of a training
ELO and getting ELO inside of a training
Loop is incredibly
Loop is incredibly
obnoxious because you have to run
obnoxious because you have to run
multiple policies at the same time and
multiple policies at the same time and
uh you have to like filter which
uh you have to like filter which
portions of the data go to which policy
portions of the data go to which policy
and then you have to like maintain an
and then you have to like maintain an
update ELO metrics so it's a bunch of
update ELO metrics so it's a bunch of
crap so I'm trying to do it in the
crap so I'm trying to do it in the
simplest way possible without making the
simplest way possible without making the
whole code base a mess in the
process how's our hyper pram sweep
process how's our hyper pram sweep
going
oops do I need this
one uh oh
one uh oh
well this is not
well this is not
good what happened to
good what happened to
uh why do we only have six runs in
here
huh good thing I
checked ELO in the traditional game
checked ELO in the traditional game
sense yep hold on let me
see let me see what's wrong with my
see let me see what's wrong with my
hyper pram
sweep control B
strings string indices must be integers
strings string indices must be integers
not
not
string
what okay so apparently my sweep thing
what okay so apparently my sweep thing
does not work as expected
does not work as expected
it is nice to know that cubert and stuff
it is nice to know that cubert and stuff
runs but
um good thing I checked
mean and logs
data are you maybe iterating over dick
data are you maybe iterating over dick
Keys instead of
Keys instead of
items well whatever happened it's the
items well whatever happened it's the
data that changed under the
data that changed under the
hood
hood
um print stats
here let's just change this to be
here let's just change this to be
like something
tiny sweep
let's see what's happening
here I got Atari working with all the
here I got Atari working with all the
environments they're just a
environments they're just a
few okay this is what we are looking for
few okay this is what we are looking for
so default
so default
dict of list
dict of list
[Music]
[Music]
and it has
and it has
thing and it
has
values
so ah I know what to
do we forgot that we uh we did some some
do we forgot that we uh we did some some
aggregation for ourselves
aggregation for ourselves
already
already
so this is just going to be observed
value
mean
mean
stats of Target
stats of Target
metric like this
Len
else and what we'll do is we'll do it
else and what we'll do is we'll do it
this
way
way
Target
Target
stats stats of Target
stats stats of Target
metric if L Target stats
okay there we
okay there we
go bet this
works do we get an error message or are
works do we get an error message or are
we good here
length of Target stats greater than
zero
really how'd this
really how'd this
happen episode return episode
happen episode return episode
length this is a structure data type
length this is a structure data type
right
right
did I mess
up stats of Target
metric
huh and try it again
okay here are our
metrics Target stats is
metrics Target stats is
311 this looks like it's already been
311 this looks like it's already been
meaned
oh because I already do the mean here
oh because I already do the mean here
duh
is there any are there any other edge
is there any are there any other edge
cases I'm
cases I'm
missing I don't think
missing I don't think
so I think I just do like this now
just like
this see if this finish is
this see if this finish is
running and if so we can go back to the
running and if so we can go back to the
mooba stuff we'll just run this uh full
mooba stuff we'll just run this uh full
sweep
serve
serve
value up time prints out some
value up time prints out some
stuff no errors
take this garbage
out fix carbs we stat bug
oops
t-o we run the Atari sweep
script and hopefully this gives us
script and hopefully this gives us
something
reasonable okay so back to
reasonable okay so back to
uh what we were doing before notably
uh what we were doing before notably
though the beam Rider stuff actually
though the beam Rider stuff actually
kind of worked
kind of worked
and I think cubert was reasonable too
and I think cubert was reasonable too
wasn't
it yeah this
it yeah this
one cubert had a good run
one cubert had a good run
here yeah look at that we're totally
here yeah look at that we're totally
going to be able to learn all these
going to be able to learn all these
things when we just fix the like little
things when we just fix the like little
tiny sweet bugs it's very good
yeah this is stupid just like let's make
yeah this is stupid just like let's make
all of mlc Plus+ is
stupid Jen
Yap e
do we have
do we have
uh do we have
uh do we have
liftoff no not yet one
more all
right let's finish this test
um so we have this eval ELO script
I don't even like giving it data like
this so let's give
it
kernel
kernel
equals array
equals array
um one
one actually I can just do like this one
one actually I can just do like this one
* 5
* 5
plus uh other way
plus uh other way
around 5 *
around 5 *
1 + 5 *
1 + 5 *
okay then we'll
okay then we'll
do upper li.
do upper li.
environments oan
MOBA
MOBA
P en Creator make
P en Creator make
EnV en
EnV en
Creator
MOA and quars
m is
one
when anything else
no oh yeah we need the policy
[ __ ] that's going to be a problem isn't
[ __ ] that's going to be a problem isn't
it
I guess we'll do like
this torch
okay so now we have our
policy policy
policy policy
class
class
and we need to make the environment
and we need to make the environment
right okay EnV
right okay EnV
equals make EnV
I think it's n quars equals n quar num m
I think it's n quars equals n quar num m
equals m I think this is all it
is
no rer
no rer
EnV I need an environment to initialize
EnV I need an environment to initialize
the policy which is obnoxious but it is
the policy which is obnoxious but it is
what it
what it
is okay so we get the mobo
is okay so we get the mobo
policy what's it
called okay it's called
MOA import
okay so now we have MOBA
okay so now we have MOBA
policy and then we can do
policy
WS
current driver M
current driver M
policy and and then we can
policy and and then we can
[Music]
do okay so there's your
policy let's do vams
okay ELO
Evel going to be
Evel going to be
kernel M we need make M's
kernel M we need make M's
that
M's don't need any keyw guards don't
M's don't need any keyw guards don't
need numm
kernel
metric and then we do roll
outs
okay and we're just about ready to test
okay and we're just about ready to test
this I think we need to add the metric
this I think we need to add the metric
into the game don't
into the game don't
we yeah we need to add the win metric
we yeah we need to add the win metric
into the game for
into the game for
this we have to change one or two things
there not very much though
let me how we're going to do
this it's a little awkward because we
this it's a little awkward because we
only in frequently
only in frequently
report data and you could miss the wind
signal that's the main thing I'm
signal that's the main thing I'm
thinking about
thinking about
here is missing the wind signal
well let's go take a look at the
well let's go take a look at the
environment because we definitely need
environment because we definitely need
that in the logs
oops okay
oops okay
so you do have this return value
here I don't think I do anything with it
here I don't think I do anything with it
right now
right I don't do anything with it right
right I don't do anything with it right
now
it's a lot of data actually
it's a lot of data actually
[ __ ] don't how I want to do
this I could do it not
vectorized that's going to be so
vectorized that's going to be so
stupidly slow though it's not even going
stupidly slow though it's not even going
to be
funny I think I have to do this
funny I think I have to do this
vectorized right right
even something as simple as like
even something as simple as like
figuring out when the
figuring out when the
environment has been one is not easy
here because it's not going to return
here because it's not going to return
infos consistently
I got to think about
I got to think about
this there's so many little things here
this there's so many little things here
that are like yeah I could just do it
that are like yeah I could just do it
this way and screw up my nice code base
this way and screw up my nice code base
with this stupid
feature e
it actually would be so easy to do
it actually would be so easy to do
this like without all the vectorization
this like without all the vectorization
and stuff
right it'd be so bad though
right it'd be so bad though
it' be so
slow be doing like batch size
10 even on CPU that'll be slow
10 even on CPU that'll be slow
right I mean well
yeah is it f fast enough
though it would be so much easier to
though it would be so much easier to
implement as the thing and this is
implement as the thing and this is
something that it's so bad if they're
something that it's so bad if they're
[Music]
bugs okay call me crazy
bugs okay call me crazy
here but I think I know what I'm going
here but I think I know what I'm going
to
to
do I think I know what I'm going to do
I do need to know when the environment
I do need to know when the environment
is done
is done
still so let me return that signal
yeah let me return this signal
so can't return a freaking array from
so can't return a freaking array from
this though
this is so incredibly obnoxious it's not
this is so incredibly obnoxious it's not
even
funny I just don't have a way of doing
this like the way I have it now if I try
this like the way I have it now if I try
to like put this wind signal in it's
to like put this wind signal in it's
going to it'll screw up the compute
going to it'll screw up the compute
efficiency cuz like
there's not allowed to really be any
there's not allowed to really be any
python logic that runs every every tick
python logic that runs every every tick
to check for stuff like
that can't pull it directly out of the
that can't pull it directly out of the
SE can I
can I somehow set the done
signal even if I set the done signal
signal even if I set the done signal
doesn't tell me which team
doesn't tell me which team
wins really
wins really
obnoxious it's got to go into the info
obnoxious it's got to go into the info
somehow but the thing is the info is not
somehow but the thing is the info is not
set up
set up
to the info is not set up to return
to the info is not set up to return
multiple
multiple
multiple things
I could add just like
I could add just like
um an INT
here
right if I'm willing to just make this
right if I'm willing to just make this
DOTA only for now which probably just
DOTA only for now which probably just
makes sense
welcome Hey bet that's bad isn't
it oh shoot were there boxes down that I
it oh shoot were there boxes down that I
was supposed to
reboot damn
reboot damn
it yep box four okay
dude I just forgot so many freaking
dude I just forgot so many freaking
things
today whatever I'll make this up later I
today whatever I'll make this up later I
like totally forgot all the
things it's okay I forgot like a weekly
things it's okay I forgot like a weekly
meeting and stuff that has started back
meeting and stuff that has started back
and a bunch of other things working on
and a bunch of other things working on
on this it's okay
um I've just been trying to figure out
um I've just been trying to figure out
how to get ELO systems working in Dota
how to get ELO systems working in Dota
or
or
mobas and it's really hard to
do developing yeah I've been trying to
do developing yeah I've been trying to
like I've been thinking since Sunday
like I've been thinking since Sunday
like how the heck I'm going to do this
like how the heck I'm going to do this
and it's just It's
Tricky no no no it's not how to do the
Tricky no no no it's not how to do the
calculation I have that implemented
calculation I have that implemented
already that's the easy thing it's just
already that's the easy thing it's just
like how to do it in an RL context it's
like how to do it in an RL context it's
really obnoxious to get like to actually
really obnoxious to get like to actually
run the models and do that type of stuff
I think what we're going to do is we're
I think what we're going to do is we're
going to do it like
this nope we're not setting it down and
this nope we're not setting it down and
picking it up later I've already missed
picking it up later I've already missed
two meetings we're getting it done
it's not you spell radiant is
it's not you spell radiant is
it isn't it radiant
yeah what is it is this like a British
yeah what is it is this like a British
thing why does it say it's it's
both yeah it's with an a I thought so
both yeah it's with an a I thought so
why does it freaking show up correct
why does it freaking show up correct
with
with
then why does it show up with an
E weird I don't know how that happened
E weird I don't know how that happened
my auto correct goes to the E spelling
my auto correct goes to the E spelling
which is
which is
weird yeah I thought so I don't know why
weird yeah I thought so I don't know why
it
it
does oh my auto correct is just
does oh my auto correct is just
dumb I don't have it anywhere else like
dumb I don't have it anywhere else like
that in the file
misspell for naming
misspell for naming
companies yeah great so that when
companies yeah great so that when
anybody looks up your company they'll
anybody looks up your company they'll
spell it wrong and they won't find it
right one reasons why NOS
what's his face Google guy was saying
what's his face Google guy was saying
today that they're going to have PhD
today that they're going to have PhD
level
level
intelligence by
intelligence by
2025 like the thing can't do anything
2025 like the thing can't do anything
now it just it's like a bug
generator absolute bug
generator absolute bug
[Music]
[Music]
generator um
why does it keep
why does it keep
suggesting oh it's cuz I have it
suggesting oh it's cuz I have it
misspelled once here so it keeps
what's an approach to multi-
what's an approach to multi-
policy should I just make a base policy
policy should I just make a base policy
and
and
ter what what do you need a multi like
ter what what do you need a multi like
what do you mean a multi- policy what do
what do you mean a multi- policy what do
you need a multi- policy for What on
you need a multi- policy for What on
earth you're trying to
do I don't have it misspelled here do I
do I don't have it misspelled here do I
oh yeah I
do
okay okay so now we have the radiant and
okay okay so now we have the radiant and
the
the
dire separate battles and Overworld
linky you
linky you
just you just write your policy code and
just you just write your policy code and
you put an if statement in the forward
you put an if statement in the forward
pass you don't need to get fancy
honestly the more you stay against the
honestly the more you stay against the
stay the more you stay against away from
stay the more you stay against away from
like object oriented Shenanigans hell
like object oriented Shenanigans hell
the better
okay so we're going to use the just the
okay so we're going to use the just the
DOTA specific metric so this is just
DOTA specific metric so this is just
going to be this is going to be
going to be this is going to be
MOA
ELO Don't Care single purpose single
ELO Don't Care single purpose single
purpose simple as as possible POS
purpose simple as as possible POS
otherwise I'm going to be here all day
otherwise I'm going to be here all day
and this is going to drive me insane
and this is going to drive me insane
um we're going to
um we're going to
do it's not going to be wind metric like
do it's not going to be wind metric like
this we don't give a [ __ ] about
this we don't give a [ __ ] about
this don't
this don't
care uh we don't care about infos we do
care uh we don't care about infos we do
not care all we're going to do is self.
not care all we're going to do is self.
it's not Ms it's
it's not Ms it's
m colel en we don't need
m colel en we don't need
kernel let's take the en
self. n
self. n
Isen we're going to just simplify this
Isen we're going to just simplify this
until it looks stupidly simple then
until it looks stupidly simple then
we're going to look back on all this
we're going to look back on all this
thinking I've been doing and I'm going
thinking I've been doing and I'm going
to realize I've been stupid because I
to realize I've been stupid because I
can just write the simple code that does
can just write the simple code that does
it single purpose and care about making
it single purpose and care about making
it work on other stuff later we
it work on other stuff later we
literally only have the Moa that needs
literally only have the Moa that needs
this for now um so what we're going to
this for now um so what we're going to
do is self. prev radiant
victories is is zero have dire victories
victories is is zero have dire victories
is
is
zero okay and now what we're going to
zero okay and now what we're going to
do m
do m
dot
dot
CM m
CM m
dot
uh
radiant victories
like
like
this
this
[Music]
[Music]
LF do not need any of this horor
[ __ ] then we'll do
[ __ ] then we'll do
else
else
continue and then we
continue and then we
will update the elos this is so much
will update the elos this is so much
nicer isn't it when I just don't try to
nicer isn't it when I just don't try to
be smart about
be smart about
things like don't try to be smart you're
things like don't try to be smart you're
not smart you're dumb do it
dumb it's like you're not smart enough
dumb it's like you're not smart enough
to do it in a way that's going to be
to do it in a way that's going to be
good if you try to get
good if you try to get
fancy every damn
fancy every damn
time every every
time every every
time okay so
don't care don't care about this don't
don't care don't care about this don't
care about
care about
this this is this makeen is actually
this this is this makeen is actually
fine
fine
do
num he knows you inate isn't an inate
num he knows you inate isn't an inate
he's actually he's written some good
he's actually he's written some good
code
bet I don't know if you saw the breakout
bet I don't know if you saw the breakout
code it's pretty good
code it's pretty good
leave the colonel for now
leave the colonel for now
maybe N I would get rid of this
maybe N I would get rid of this
garbage what we need that
for no you're wrong but like like you're
for no you're wrong but like like you're
not wrong you're not wrong but like
not wrong you're not wrong but like
anybody anybody who's gone through first
anybody anybody who's gone through first
year CS knows you and Tate is not inate
if linky is just there I told you my
if linky is just there I told you my
recommendation to you it to is to spend
recommendation to you it to is to spend
like 90% of your time on cool RL
like 90% of your time on cool RL
projects and stuff but like 10% on like
projects and stuff but like 10% on like
some boring formal lectures will do you
some boring formal lectures will do you
[Music]
[Music]
good well because it wouldn't it doesn't
good well because it wouldn't it doesn't
make sense that it would be that you
make sense that it would be that you
would need to have an
would need to have an
int8 uh when when it's a Boolean like
int8 uh when when it's a Boolean like
why the hell would a Boolean be an INT
why the hell would a Boolean be an INT
8 at most it's going to be like an
8 at most it's going to be like an
unsigned bite you would
unsigned bite you would
think I don't know why like why the hell
think I don't know why like why the hell
would they have a signed type for a
Boolean oh by the way so Noah's breakout
Boolean oh by the way so Noah's breakout
thing will be like 200,000 steps per
thing will be like 200,000 steps per
second um at the moment without any
second um at the moment without any
other optimizations on the big box so
other optimizations on the big box so
that is already
that is already
like 30 times 40 times faster than
like 30 times 40 times faster than
breakout
is okay this is fine
um let's start running this and seeing
um let's start running this and seeing
where we're wrong
oh we've got quite a few folks on
oh we've got quite a few folks on
YouTube
today if anybody hasn't started the repo
today if anybody hasn't started the repo
yet we're one off of
yet we're one off of
750 on puffer lib if anybody wants to do
750 on puffer lib if anybody wants to do
that that'd be
awesome okay driver
awesome okay driver
and so this is now
and so this is now
just this whole thing gets
just this whole thing gets
simpler every time I think like oh I'm
simpler every time I think like oh I'm
not being that clever I'm just being I'm
not being that clever I'm just being I'm
just trying to be slightly clever it's
just trying to be slightly clever it's
you're trying to be too clever it's just
you're trying to be too clever it's just
be incredibly be incredibly incredibly
be incredibly be incredibly incredibly
stupid it's like the stupider you are
stupid it's like the stupider you are
the better code you write I
the better code you write I
swear the smarter you try to be the
swear the smarter you try to be the
worst code you
write is this how our current works
n
n
policy that's
good buffer lib Frameworks has no
good buffer lib Frameworks has no
attribute import
attribute import
[Music]
[Music]
buffer framework
youl no attribute
youl no attribute
data don't need that
let's
let's
see right let's just put this
in M policy
we can actually be even less we can be
we can actually be even less we can be
even stupider about this you
even stupider about this you
know I think it's not uh it's not done
know I think it's not uh it's not done
yet oh but it's not going to reset this
counter it's not going to reset this
counter it's not going to reset this
counter right
can you assign variables to scon from
python you probably can
right int is used for Boolean
Expressions really
okay maybe there is some old sea
Jank okay yeah there is a reason to have
Jank okay yeah there is a reason to have
this thing be stateful
right we'll leave it like this for now
okay view takes
right I need uh from nire or whatever
right I need uh from nire or whatever
right I need to load this
into
into
receive and then what is it as
receive and then what is it as
tensor as
tensor as
tensor so we do OBS
tensor so we do OBS
equals that's tensor obs
cool we got down to
here list has no attribute
here list has no attribute
CN equals n.
c0 cn. radiant
victories
C cool
looks like it's
running of course I didn't update the uh
running of course I didn't update the uh
the MOBA
the MOBA
code I actually have to update the
code I actually have to update the
mobile code to work on
this this should be a radiant Victory I
this this should be a radiant Victory I
believe
isn't it going to be nice if we have um
isn't it going to be nice if we have um
like literally a 30 line roll out
like literally a 30 line roll out
function that does
function that does
elos 50 lines with loading
I swear I'm going to be kicking myself
I swear I'm going to be kicking myself
if it ends up being this
simple it always ends up being 50 lines
simple it always ends up being 50 lines
of
of
[Music]
code so what's going on here that we're
code so what's going on here that we're
not getting any victories is this a
not getting any victories is this a
thing
step equal
step equal
zero
zero
step if
step is this thing like crazy slow or
step is this thing like crazy slow or
what's going
on continue okay we can't put this step
on continue okay we can't put this step
here there
no attribute
no attribute
CN did you
CN did you
[Music]
mean is it like
this non type non
subscriptable
subscriptable
oops we're very close I think to getting
oops we're very close I think to getting
this actually at least
this actually at least
running self.
running self.
CN what is it it's
CNS oh I know what it
is right here it needs to be
is right here it needs to be
CNS after the reset it doesn't exist
CNS after the reset it doesn't exist
until you reset it okay perfect so
until you reset it okay perfect so
there you
go e
no tow
taken the question there is a question
taken the question there is a question
as to whether they can actually win the
as to whether they can actually win the
game
game
right before they're
trained no towers are being taken after
trained no towers are being taken after
this many steps
not entirely surprising
right maybe it's a deadlock well I mean
right maybe it's a deadlock well I mean
they're these are untrained agents so
they're these are untrained agents so
they shouldn't really even be doing
anything so yeah they should just be
anything so yeah they should just be
stuck you'd think that they would take a
stuck you'd think that they would take a
tower by now though at
tower by now though at
least maybe
least maybe
not maybe not might have to be um you
not maybe not might have to be um you
might have to train the agents at least
might have to train the agents at least
to like help out a little bit
first speed on this is not terrible
though is on one CPU core
though is on one CPU core
locally not
GPU so I think that's decent enough to
GPU so I think that's decent enough to
start with
um we're going to have to do
um we're going to have to do
the timeout will have to be
the timeout will have to be
different we should probably have it be
different we should probably have it be
two policies
two policies
right or two checkpoints what do we
right or two checkpoints what do we
think
I got to figure out how to run this on a
I got to figure out how to run this on a
directory now I guess
right yeah
I should just go grab like uh an
I should just go grab like uh an
experiments
experiments
folder I think from the
folder I think from the
um I should just go grab a
um I should just go grab a
folder from the server yeah let's do
folder from the server yeah let's do
that real
that real
quick we're going to just go grab some
quick we're going to just go grab some
checkpoints from the server to use for
checkpoints from the server to use for
testing right
right is inference ever a bottleneck in
right is inference ever a bottleneck in
reinforcement learning yeah of
reinforcement learning yeah of
course
course
um especially if you don't if you can't
um especially if you don't if you can't
run like enough parallel environments or
run like enough parallel environments or
whatever inference is a big chunk of
whatever inference is a big chunk of
time it's generally a lot less efficient
time it's generally a lot less efficient
than the training
mind you the reason it's usually a
mind you the reason it's usually a
bottleneck is I is because puffer is
bottleneck is I is because puffer is
making your environments
fast or it's because you've made it a
fast or it's because you've made it a
bottleneck because you've just like
bottleneck because you've just like
scaled up your policy ridiculously
before I do this let me check on the
before I do this let me check on the
sweep real
quick looks like we got a lot of beam
quick looks like we got a lot of beam
Rider experiments yep 47 minutes worth
Rider experiments yep 47 minutes worth
the beam
the beam
Rider couple decent
runs looks good to
runs looks good to
me very
me very
nice and
nice and
[Music]
[Music]
and
and
dang it's going to hit 750 at some point
today this is the wrong box
I need to pass stacked observations to
I need to pass stacked observations to
my
my
network and I'm debating whether it is
network and I'm debating whether it is
worth storing the Stacked
worth storing the Stacked
observations or
doing sequential forward
doing sequential forward
passes stacking as I go
what I need to pass stacked
observations one you probably don't need
observations one you probably don't need
to pass act observations if you just use
to pass act observations if you just use
an lstm but if you really want to P act
an lstm but if you really want to P act
observations you just write a wrapper
observations you just write a wrapper
over the environment
usually it does increase bandwidth by
usually it does increase bandwidth by
quite a bit so it can slow stuff down
quite a bit so it can slow stuff down
is this for
is this for
Atari or is this for something else
guess this is all I have to work
with reimplementing a
paper there's technically this like
paper there's technically this like
annoying lazy frames
annoying lazy frames
wrapper in
sb3 but really you should you should
sb3 but really you should you should
have enough memory for stuff
like I store all of the Atari I store
like I store all of the Atari I store
like thousand size like tens of
like thousand size like tens of
thousands of batch size of atar in GPU
thousands of batch size of atar in GPU
memory without
memory without
offloading so as long as you're not
offloading so as long as you're not
storing your observations in
storing your observations in
fp32 if you're storing them in U in 8
fp32 if you're storing them in U in 8
you should be
fine you only need to stack like four
fine you only need to stack like four
OBS
OBS
usually it's like the common
setting but yeah usually you do this as
setting but yeah usually you do this as
a
a
rapper I mean you
rapper I mean you
couldn't it's it's kind of your choice
couldn't it's it's kind of your choice
you either do it as a rapper and have it
you either do it as a rapper and have it
be relatively easy there or you have to
be relatively easy there or you have to
modify substantial chunks of the code
modify substantial chunks of the code
there is technically this lazy frames
there is technically this lazy frames
thing that's supposed to fix stuff but
thing that's supposed to fix stuff but
it's not
it's not
great memory should not really usually
great memory should not really usually
be a problem
be a problem
though you should just be able to like
though you should just be able to like
offload or whatever if you need to
I don't really like these models
I don't really like these models
here
here
um I don't know if they ever win
um I don't know if they ever win
games I guess we'll use them regardless
I just train something locally real
I just train something locally real
quick
quick
right too obnoxious
CBA e
okay in the meantime let me figure out
okay in the meantime let me figure out
how to point this out of
how to point this out of
directory so what we're going to do is
directory so what we're going to do is
we're going to do n
policy how does that use so much
policy how does that use so much
memory like freezing my computer
up okay whatever I know how we're going
up okay whatever I know how we're going
to do this we're going to just
copy we're going to just going to copy
copy we're going to just going to copy
some policies off of WB to use for
some policies off of WB to use for
this um the annoying thing is just
this um the annoying thing is just
getting some policies to use right
now here we can just
do ah whatever we had one
anyways so we'll do
anyways so we'll do
policy n
policy n
policy checkpoint
D and this will be MOA
D and this will be MOA
check
points
okay and we can do this
okay and we can do this
at we'll do this at the
at we'll do this at the
start check
start check
puffer did you start
it 750
it 750
[Music]
[Music]
puffers well whoever that was thank
puffers well whoever that was thank
you that's
awesome so neural MMO is about 500 after
awesome so neural MMO is about 500 after
like seven years of
like seven years of
work this repo
work this repo
like three months of well I've been
like three months of well I've been
working on it for longer than that
working on it for longer than that
but that's some good
but that's some good
growth I hope we can sustain it I really
growth I hope we can sustain it I really
hope we can sustain the growth um it'll
hope we can sustain the growth um it'll
be it'll like if we keep this level of
be it'll like if we keep this level of
growth
growth
up there will be some awesome things
up there will be some awesome things
coming for RL there'll be some really
coming for RL there'll be some really
awesome things coming for RL
my really the goal with this project
my really the goal with this project
right is if I can get this thing if I
right is if I can get this thing if I
can get this thing to be so like popular
can get this thing to be so like popular
and widely used that like marketing
and widely used that like marketing
takes care of itself I just keep get to
takes care of itself I just keep get to
doing Dev I get to keep like sending
doing Dev I get to keep like sending
stuff forward and then hopefully uh you
stuff forward and then hopefully uh you
know we get some revenue from uh
know we get some revenue from uh
companies wanting support contracts or
companies wanting support contracts or
whatever uh in order to like build out a
whatever uh in order to like build out a
bigger cluster and start getting some
bigger cluster and start getting some
more resources on
this welcome
this welcome
yazan probably butchering your
name but yeah like the growth is like
name but yeah like the growth is like
it's really really
it's really really
good this helps a
good this helps a
lot you know I one of the next things
lot you know I one of the next things
that I'm going to want to do is I'm
that I'm going to want to do is I'm
going to want to build out the cluster
going to want to build out the cluster
like
like
5x only worked on supervised learning
5x only worked on supervised learning
how can I get started in reinforcement
how can I get started in reinforcement
learning well you're looking at it um
learning well you're looking at it um
we've got puffer lib that we're building
we've got puffer lib that we're building
right here there lots of cool stuff in
right here there lots of cool stuff in
the dev Branch try to make it relatively
the dev Branch try to make it relatively
simple uh it has lots of high perf demos
simple uh it has lots of high perf demos
you might want to start with just basic
you might want to start with just basic
clean RL first because it's like one
clean RL first because it's like one
file instead of maybe three or four um
file instead of maybe three or four um
but after that yeah like puffer lib has
but after that yeah like puffer lib has
lots of environments in it it has
lots of environments in it it has
relatively nice and simple code and it's
relatively nice and simple code and it's
very high performance
demo file is here at least in the dev
demo file is here at least in the dev
Branch we've got a relatively short demo
Branch we've got a relatively short demo
file it's only like 200 lines because
file it's only like 200 lines because
200 of this is experimental new feature
200 of this is experimental new feature
you don't have to worry
you don't have to worry
about and then clean puff RL is our
about and then clean puff RL is our
train code uh 775 lines but it's
train code uh 775 lines but it's
actually only like 300 lines of real
actually only like 300 lines of real
code and the rest of it is just tons of
code and the rest of it is just tons of
logging
is there environment acceleration like
is there environment acceleration like
speeding things up yep we have
speeding things up yep we have
environments that run at millions of
environments that run at millions of
steps per second per CPU
steps per second per CPU
core for comparison right like most of
core for comparison right like most of
the ones in reinforcement learning they
the ones in reinforcement learning they
run at like hundreds to low thousands of
run at like hundreds to low thousands of
steps per second uh so we are able to
steps per second uh so we are able to
train actually you see right uh this one
train actually you see right uh this one
is actually not even super fast but with
is actually not even super fast but with
uh some of our latest stuff we have
uh some of our latest stuff we have
training runs that go up to a million
training runs that go up to a million
steps per second on one
GPU if you if you scroll through my
GPU if you if you scroll through my
Twitter you'll see um like some of the
Twitter you'll see um like some of the
cool environments and results this was
cool environments and results this was
from the other day we did Pong at uh we
from the other day we did Pong at uh we
did Pong solved in 90 seconds on one
did Pong solved in 90 seconds on one
GPU we've got what else do we
have bunch of articles on here this is
have bunch of articles on here this is
the project I'm working on now it's like
the project I'm working on now it's like
miniature Dota or League of Legends um
miniature Dota or League of Legends um
but as a million step per second per
but as a million step per second per
core environment for reinforcement
core environment for reinforcement
learning we've got yeah this is the
mooba we've
mooba we've
got oh yeah this is more MOA we've got
got oh yeah this is more MOA we've got
more stuff than this
more stuff than this
too we've got yeah this is like our
too we've got yeah this is like our
pathing cach does it
pathing cach does it
work uh this gift doesn't work for some
work uh this gift doesn't work for some
reason
reason
where's the other cool
L this been doing MOBA for like three
L this been doing MOBA for like three
weeks okay we've got like these grid
weeks okay we've got like these grid
environments that are continuous or
environments that are continuous or
discret you have like forging stuff
discret you have like forging stuff
you've got group tasks you've got like a
you've got group tasks you've got like a
bunch of simple ones that all run at
bunch of simple ones that all run at
like 10
like 10
million and then yeah like these
million and then yeah like these
particle M
particle M
tasks and then we also have where's the
tasks and then we also have where's the
snake en I want to show the snake en
snake en I want to show the snake en
it's a really nice example
it's a really nice example
super far down at this
super far down at this
point oh yeah here so this is
point oh yeah here so this is
snake this is like a slither.io
snake this is like a slither.io
basically so like snake but with 4,000
basically so like snake but with 4,000
snakes and this thing will run at like
snakes and this thing will run at like
10,000 steps per second on one CPU core
10,000 steps per second on one CPU core
and we can train it at a million plus on
and we can train it at a million plus on
one
one
GPU you can do you know small snake en
GPU you can do you know small snake en
you can do gigantic snake EnV this is
you can do gigantic snake EnV this is
like huge snake end if you do all this
like huge snake end if you do all this
is this a simplification of League yeah
is this a simplification of League yeah
the latest project is it's based on DOTA
the latest project is it's based on DOTA
not League though it's kind of a mix of
not League though it's kind of a mix of
both I haven't I've played more League
both I haven't I've played more League
than DOTA um I just could find like the
than DOTA um I just could find like the
map stuff for DOTA and I figured that
map stuff for DOTA and I figured that
Riot would be more likely to sue my ass
um we've got all sorts of stuff on this
um we've got all sorts of stuff on this
MOA though now like it's got Heroes it's
MOA though now like it's got Heroes it's
got five different hero classes it's got
got five different hero classes it's got
the towers it's got the creep waves it's
the towers it's got the creep waves it's
got all the neutral camps it has pretty
got all the neutral camps it has pretty
much the exact same map as DOTA has the
much the exact same map as DOTA has the
exact same stuff for that classes are a
exact same stuff for that classes are a
little bit different um doesn't have
little bit different um doesn't have
like armor and the like extensive damage
like armor and the like extensive damage
Cs and stuff but uh it's a pretty decent
Cs and stuff but uh it's a pretty decent
little MOBA coming along and I've only
little MOBA coming along and I've only
been working on it like three-ish weeks
been working on it like three-ish weeks
now runs a million steps per second per
now runs a million steps per second per
core is the main thing so we can train
core is the main thing so we can train
this thing super fast you know you can
this thing super fast you know you can
do billion scale like billions of steps
do billion scale like billions of steps
of training on one core on one uh GPU
of training on one core on one uh GPU
just a few
just a few
hours this is the latest project uh it's
hours this is the latest project uh it's
coming along very nicely takes a little
coming along very nicely takes a little
bit of time but it's getting easier and
bit of time but it's getting easier and
easier to make these Sims I have more
easier to make these Sims I have more
Sims coming as
well so yeah I mean if you like what you
well so yeah I mean if you like what you
see here this is all open source it's
see here this is all open source it's
actually very simple uh the way I've do
actually very simple uh the way I've do
I'm doing stuff is actually quite simple
I'm doing stuff is actually quite simple
for people to follow like if you check
for people to follow like if you check
the dev Branch here if you want to see
the dev Branch here if you want to see
the code for this mooba
ocean is our first party environment so
ocean is our first party environment so
you have the snake M the grid M and
you have the snake M the grid M and
here's now the Moa here's the project
here's now the Moa here's the project
here's the entire source code one file
here's the entire source code one file
no external
no external
dependencies 1300 lines of
dependencies 1300 lines of
scon just
flat what's your background like to
flat what's your background like to
learn more about how you work like that
learn more about how you work like that
I saw you have many
I saw you have many
graphs uh I am an MIT PhD newly minted
graphs uh I am an MIT PhD newly minted
MIT PhD uh I've been working in
MIT PhD uh I've been working in
reinforcement learning for seven or
reinforcement learning for seven or
eight years now and I've been an AI
eight years now and I've been an AI
researcher for like 10 to 12 something
researcher for like 10 to 12 something
in that range worked on lots of stuff my
in that range worked on lots of stuff my
main thing that people know me for is
main thing that people know me for is
neural MMO which is this
neural MMO which is this
project in which we have uh well it's a
project in which we have uh well it's a
miniature MMO but for reinforcement
miniature MMO but for reinforcement
learning purposes ran lots of
learning purposes ran lots of
competitions on this and now that I've
competitions on this and now that I've
graduated I'm doing less academic stuff
graduated I'm doing less academic stuff
and more just trying to make
and more just trying to make
reinforcement learning super fast and
reinforcement learning super fast and
not completely cursed and impossible to
not completely cursed and impossible to
work
on so yeah that's the
story
story
intern yeah but you don't like go flex a
intern yeah but you don't like go flex a
random internship from 2018
well you put it like maybe you've heard
well you put it like maybe you've heard
of them
I'm currently trying to implement an ELO
I'm currently trying to implement an ELO
system for the Moa it's a pain in the
system for the Moa it's a pain in the
ass doing like ELO in reinforcement
ass doing like ELO in reinforcement
learning is always just a
pain you are flexing your well yeah I'm
pain you are flexing your well yeah I'm
allowed to flex those though okay I'm
allowed to flex those though okay I'm
doing a mini cut this week I'm doing a
doing a mini cut this week I'm doing a
mini cut and I still hit a 260 bench
mini cut and I still hit a 260 bench
this morning so yeah I'm happy with that
Marathon no marathon's in like a week
Marathon no marathon's in like a week
the marathon's going to kick my ass
the marathon's going to kick my ass
though that's what the cut is for just
though that's what the cut is for just
like if I can cut a couple pounds before
like if I can cut a couple pounds before
that it'll be a little
that it'll be a little
easier I'm hoping it's not freaking
easier I'm hoping it's not freaking
super hot but I think it's going to be
super hot but I think it's going to be
pretty hot
pretty hot
no cardio for me trying to get big I've
no cardio for me trying to get big I've
been only doing this for like 4ish years
been only doing this for like 4ish years
now I weighed like 140 for my entire
now I weighed like 140 for my entire
adult life until then um took like two
adult life until then um took like two
three years bulked up from 140 to 180
three years bulked up from 140 to 180
doing just like um pretty minimal
doing just like um pretty minimal
powerlifting program pure just strength
powerlifting program pure just strength
training and uh hit a bunch of decent
training and uh hit a bunch of decent
numbers and then realized I couldn't run
numbers and then realized I couldn't run
a mile so the last year I've been doing
a mile so the last year I've been doing
more running training ran two marathons
more running training ran two marathons
so far and then the one I'm doing
so far and then the one I'm doing
upcoming is going to be with stupid
upcoming is going to be with stupid
amounts of elevation I think it'll
amounts of elevation I think it'll
probably end up being like 44500 FT
probably end up being like 44500 FT
elevation gain um so we'll see how that
goes running the heat it's awful really
goes running the heat it's awful really
bad yeah running the Heat sucks it
bad yeah running the Heat sucks it
really sucks
141 right now yeah I was one that's what
141 right now yeah I was one that's what
I weighed at like 59 140 for up from age
I weighed at like 59 140 for up from age
like 16 until 23 or whatever
War year consistency yeah it's been very
War year consistency yeah it's been very
pretty pretty darn good
pretty pretty darn good
consistency how do you deal with your
consistency how do you deal with your
back no you do deadlifts and your back
back no you do deadlifts and your back
problems go
problems go
away though to be fair I haven't done I
away though to be fair I haven't done I
haven't done squats or deadlifts
haven't done squats or deadlifts
properly in like a year because of the
properly in like a year because of the
running um the running just really makes
running um the running just really makes
makes it
makes it
hard to do that I hit a I hit a 405
hard to do that I hit a I hit a 405
deadlift and a 315 squat for two before
deadlift and a 315 squat for two before
I stopped doing uh tons of heavy lower
I stopped doing uh tons of heavy lower
body lifts though for the running I'll
body lifts though for the running I'll
go back to
go back to
it that's terrible advice do you
it that's terrible advice do you
absolutely do
absolutely do
deadlifts deadlifts absolutely fix your
deadlifts deadlifts absolutely fix your
back I had tons of back pain like
back I had tons of back pain like
sitting in a nice ergonomic chair all
sitting in a nice ergonomic chair all
day now I have I haven't even deadlifted
day now I have I haven't even deadlifted
in a year but ever since I started I
in a year but ever since I started I
would like sit on the couch and had zero
would like sit on the couch and had zero
back problems
back problems
whatsoever the thing is it's really not
whatsoever the thing is it's really not
that sensitive of an exercise because
that sensitive of an exercise because
it'll take you a year before you're
it'll take you a year before you're
actually lifting anything substantial
actually lifting anything substantial
it's I mean okay it's it's a different
it's I mean okay it's it's a different
story if you're in your 40s but it's
story if you're in your 40s but it's
very very difficult to hurt yourself
very very difficult to hurt yourself
with a PL or twoo
like when I started deadlifting right I
like when I started deadlifting right I
was when I like first started
was when I like first started
deadlifting I was lifting like a plate
deadlifting I was lifting like a plate
or a plate and change like 130 to 160
or a plate and change like 130 to 160
lbs like I can overhead press that now
lbs like I can overhead press that now
it's very hard to hurt yourself with
it's very hard to hurt yourself with
that amount of weight
it's very very hard to hurt yourself
it's very very hard to hurt yourself
with that amount of
weight I started hurting myself on
weight I started hurting myself on
deadlifts here and there when it got to
deadlifts here and there when it got to
like 350 plus not before
then that's not even considered an
then that's not even considered an
impressive number for reference
like 400 to 500 then we then you're
talking you guys did have back problems
talking you guys did have back problems
before yeah a little bit from sitting
before yeah a little bit from sitting
around all day doing nothing
sure if you're afraid of doing deadlifts
sure if you're afraid of doing deadlifts
do ro and deadlifts it's literally
do ro and deadlifts it's literally
impossible to hurt yourself doing
those all
those all
right what was I stuck on
here supposed to be writing ELO code
right my rule is I get to talk about
right my rule is I get to talk about
Fitness though if but somebody else
Fitness though if but somebody else
brings it up
[Music]
[Music]
it's all I do outside
it's all I do outside
of working on this
stuff right I was working on the path
logic break is over back to
logic break is over back to
work
work
damn rip
me you get the scores from
me you get the scores from
here and then
no I think I need to do this twice right
no I think I need to do this twice right
I need
I need
to load a
policy okay I know what I do it so
policy okay I know what I do it so
opponent is
none this this goes back down
here yeah this goes down
here yeah this goes down
here and then what we do
here and then what we do
is and we'll do
timeout equals
60 sitting down with a bar above
I don't think that helps
particularly if you don't really don't
particularly if you don't really don't
want to do any form of deadlift do back
extensions every gem has that just body
extensions every gem has that just body
weight
I do honestly think though that like the
I do honestly think though that like the
risk of injury and like health problems
risk of injury and like health problems
from just not doing anything is
from just not doing anything is
infinitely higher than the risk of like
infinitely higher than the risk of like
seriously injuring yourself doing
seriously injuring yourself doing
substantial exercise like most of the
substantial exercise like most of the
horrendous like most of the horrendous
horrendous like most of the horrendous
in uh injury videos you see are either
in uh injury videos you see are either
people doing in incredibly stupid things
people doing in incredibly stupid things
or like very Advanced lifters on
or like very Advanced lifters on
steroids hurting themselves with 500
lb you're not on steroids and you're not
lb you're not on steroids and you're not
lifting 500 lbs you're fine
yeah
fine opponent is going to be none yeah
fine opponent is going to be none yeah
so what I wanted to do here right was I
so what I wanted to do here right was I
wanted to say if opponent is none
wanted to say if opponent is none
or oh this is why I wanted to put this
or oh this is why I wanted to put this
up here right
let's just make a load
opponent trainer
State isn't there a function to go
State isn't there a function to go
through
through
I'm trying to remember where I have this
I'm trying to remember where I have this
I think it's in the in
I think it's in the in
now goals for
now goals for
longevity get
cardio yeah the problem with saying get
cardio yeah the problem with saying get
cardio first is that if you hate cardio
cardio first is that if you hate cardio
you're not going to stick with it right
you're not going to stick with it right
I did cardio on and off for years and I
I did cardio on and off for years and I
always hated it hated it hating it even
always hated it hated it hating it even
though I'm running now like 10 hours a
though I'm running now like 10 hours a
week I still hate it I wouldn't do it if
week I still hate it I wouldn't do it if
that's all I were doing like I do the
that's all I were doing like I do the
strength training cuz I enjoy it and
strength training cuz I enjoy it and
then I do the cardio because it's good
then I do the cardio because it's good
for me I'm not going to do the cardio on
for me I'm not going to do the cardio on
its own and not do the strength training
its own and not do the strength training
consistently like ever it's just not
consistently like ever it's just not
going to
going to
happen a lot of men are just like
happen a lot of men are just like
hardwired to hate that [ __ ] you like we
hardwired to hate that [ __ ] you like we
like picking up heavy things we do not
like picking up heavy things we do not
like huffpuff like jogging around for
like huffpuff like jogging around for
hours
I definitely do not eat mostly fruits
I definitely do not eat mostly fruits
and vegetables and it is absolutely
and vegetables and it is absolutely
impossible to not be stressed as
[ __ ] I'm really not that regimented
honestly walking is
honestly walking is
good yeah
definitely not using it definitely not
definitely not using it definitely not
good for me but I am using it positively
good for me but I am using it positively
bet
100% it's still not good for you it'll
100% it's still not good for you it'll
absolutely just freaking kill you
one of the best things to do if you're
one of the best things to do if you're
stressed is go lift heavy [ __ ] or uh
stressed is go lift heavy [ __ ] or uh
like run until you cannot run anymore
like run until you cannot run anymore
works really
works really
well and you get in
shape I was looking for something in
shape I was looking for something in
here I was looking for
glob yeah this
thing thanks to the advice yeah no
thing thanks to the advice yeah no
worries
the other thing B is it's just it's so
the other thing B is it's just it's so
much harder to get people to do cardio
much harder to get people to do cardio
than it is to get them to do any form of
than it is to get them to do any form of
strength
training it's so much harder
how do I randomly select one of these
you need cardio to stay
you need cardio to stay
alive it doesn't matter what you need if
alive it doesn't matter what you need if
you're not going to do it
like you will feel better immediately
like you will feel better immediately
after doing strength training you will
after doing strength training you will
not feel better immediately after doing
not feel better immediately after doing
cardio it's way easier to get people to
cardio it's way easier to get people to
do some strength training and then if
do some strength training and then if
they stick with that then we talk about
they stick with that then we talk about
adding some
cardio
for
e e
okay this is going to be a
load there this is what I wanted to
load there this is what I wanted to
do doing a bit of both well if you can
do doing a bit of both well if you can
stick with that that's good most people
stick with that that's good most people
will
not my last block of training was got up
not my last block of training was got up
to be 53 m a week of running and 5 days
to be 53 m a week of running and 5 days
of heavy lifting
I can tell you the lifting was way more
enjoyable g g e r
d oh G
G yeah that's what I was looking up
this
this
runs callor me surprised oh cuz I'm not
runs callor me surprised oh cuz I'm not
using the policy yet
star five
so this is going to be five
star and this is going to
be my state
be my state
equals
equals
is if
is if
State not
State not
none my state
else stacking stuff here is
annoying haven't seen a dock not in the
annoying haven't seen a dock not in the
US in
US in
Canada yeah I've heard everyone's like
Canada yeah I've heard everyone's like
ah we got free healthcare and it's like
ah we got free healthcare and it's like
they say like they either will tell you
they say like they either will tell you
to take some pills or they'll say while
to take some pills or they'll say while
we could kill
you Amica
my
state oh we can literally just do this
state oh we can literally just do this
right I'm just
right I'm just
dumb yeah this is my state and
dumb yeah this is my state and
opponent's State this is so easy I'm
opponent's State this is so easy I'm
just dumb
and then we literally just cat down here
and then we literally just cat down here
right so stupidly easy it's being like
right so stupidly easy it's being like
over complicating
stuff ain't broke don't fix
stuff ain't broke don't fix
it
it
h so this is going to
h so this is going to
be my action opponent
be my action opponent
action actually let's just do my
action actually let's just do my
OBS and opponent obs
is good right and then we can just do
is good right and then we can just do
yeah this is
clean so easy
right
right
policy on opponent
and you can
and you can
catenate see if this
catenate see if this
works so uh I'm doing this really lazy
like
like
works you guys have full-time jobs
works you guys have full-time jobs
you're looking at
it graduated two three months ago this
it graduated two three months ago this
is uh working on puffer AI full-time and
is uh working on puffer AI full-time and
then full-time and then some
we're making reinforcement learning not
we're making reinforcement learning not
be cursed and
terrible do you know geoh Hots I know of
terrible do you know geoh Hots I know of
him I don't know him personally
gotta thank him because the day that he
gotta thank him because the day that he
starred puffer lib puffer lib got like
starred puffer lib puffer lib got like
an extra 150 stars on
it technically I could be running
it technically I could be running
multiple games in parallel
multiple games in parallel
here I don't think it's worth it I think
here I don't think it's worth it I think
it adds too much
it adds too much
complexity yeah CPU anyways I don't
complexity yeah CPU anyways I don't
think I get that much batching
optimization yeah I mean this is this is
optimization yeah I mean this is this is
the result of since I've been working on
the result of since I've been working on
puff full-time like right here is when I
puff full-time like right here is when I
started working on it
full-time my project has been doing
well really really happy with how uh
well really really happy with how uh
it's shaping up for reinforcement
it's shaping up for reinforcement
learning is really going to make our a
learning is really going to make our a
lot
easier we just hit 750
easier we just hit 750
today like an hour
ago needs to be bet works on
ago needs to be bet works on
um bet is also a contributor to the uh
um bet is also a contributor to the uh
the Pokemon project we're trying to
the Pokemon project we're trying to
solve Pokemon Red with reinforcement
solve Pokemon Red with reinforcement
learning
thanks for the star helps me out a
ton basically My Hope here is that um if
ton basically My Hope here is that um if
I can get my Twitter account to 10K and
I can get my Twitter account to 10K and
puffer to 1K which will happen way
puffer to 1K which will happen way
before the Twitter then uh I think that
before the Twitter then uh I think that
my like marketing for puffer should just
my like marketing for puffer should just
take care of itself pretty much and I'll
take care of itself pretty much and I'll
be able to just be doing like full-time
be able to just be doing like full-time
Tech work on puffer and not have to
Tech work on puffer and not have to
worry too much about the other side of
worry too much about the other side of
things which would be nice means more
things which would be nice means more
gets done fast because I can do the
gets done fast because I can do the
other side of things but it's way better
other side of things but it's way better
if I don't have to waste my time on
if I don't have to waste my time on
it once this is done researchers will
it once this is done researchers will
use your yep
use your yep
of course that's the hope it's already
of course that's the hope it's already
good enough for that it's already good
good enough for that it's already good
enough for
that the only stuff it's not good enough
that the only stuff it's not good enough
for is like stuff that the rest of RL is
for is like stuff that the rest of RL is
not good enough for either there's
not good enough for either there's
nothing that like other RL libraries
nothing that like other RL libraries
have that I'm really jealous of at the
have that I'm really jealous of at the
moment
moment
um yeah I don't think any I don't think
um yeah I don't think any I don't think
there are any libraries that have stuff
there are any libraries that have stuff
that I'm still jealous of I think we
that I'm still jealous of I think we
kind of have all of our own stuff in
kind of have all of our own stuff in
place maybe like additional environment
place maybe like additional environment
bindings for like some control LS but I
bindings for like some control LS but I
have people working on
have people working on
that I think that like all the new stuff
that I think that like all the new stuff
that's going in puffer is stuff that
that's going in puffer is stuff that
like no other RL library has anyways so
like no other RL library has anyways so
it's pretty much in a good
it's pretty much in a good
spot technically we don't have a bunch
spot technically we don't have a bunch
of algorithm implementations but I don't
of algorithm implementations but I don't
think we need them like puffer lib is
think we need them like puffer lib is
not meant to be a repository for
not meant to be a repository for
algorithms implementations like you can
algorithms implementations like you can
use puffer lib with any with any
use puffer lib with any with any
algorithm you want um we provide like
algorithm you want um we provide like
lower level tools and Primitives to make
lower level tools and Primitives to make
everything
fast at some point when I make time in
fast at some point when I make time in
the future I want to make puffer Li
the future I want to make puffer Li
idiot proof not possible that's like
idiot proof not possible that's like
trying to democratize rocket science we
trying to democratize rocket science we
can definitely add some like sane
can definitely add some like sane
warnings though to stuff if you have
warnings though to stuff if you have
places where like you can just add
places where like you can just add
warnings that will catch dumb bugs right
warnings that will catch dumb bugs right
like add some asserts add some errors um
like add some asserts add some errors um
definitely I would accept PRS for
that but I think honestly like trying to
that but I think honestly like trying to
make RL idiot proof is a lot of the
make RL idiot proof is a lot of the
reason we're in this mess in the first
reason we're in this mess in the first
place like look at the design of RL lib
place like look at the design of RL lib
or s sp3 or t show they're like way too
or s sp3 or t show they're like way too
modularized in Black boxy right and the
modularized in Black boxy right and the
thing is when it something inevitably
thing is when it something inevitably
doesn't work cuz it's reinforcement
doesn't work cuz it's reinforcement
learning you have absolutely no way to
learning you have absolutely no way to
fix it whereas with puffer lib you can
fix it whereas with puffer lib you can
just open the code CU there's not very
just open the code CU there's not very
much of it and it's very
simple that's the that's the sales pitch
here does this thing seriously just not
here does this thing seriously just not
take any towers do I just need better
take any towers do I just need better
policies to play with this
policies to play with this
with black box is really
with black box is really
indecipherable yeah
I don't know the more like the longer I
I don't know the more like the longer I
spend programming the less time I spend
spend programming the less time I spend
reading docs of
reading docs of
libraries like nowadays I spend way more
libraries like nowadays I spend way more
time just reading the source code of
time just reading the source code of
libraries and I spend reading their
docs like libraries are just made of
docs like libraries are just made of
code what do you need docs for the docs
code what do you need docs for the docs
it's it's code you read
it okay so return elos
5:30 at the
5:30 at the
moment couple more hours of this I'd
moment couple more hours of this I'd
like to have this in a good spot
like to have this in a good spot
today the thing is this actually kind of
today the thing is this actually kind of
already
already
works I just need some models to test it
works I just need some models to test it
on so I think I'll commit this for
now I didn't think it was going to be
now I didn't think it was going to be
that
that
easy I obviously have to integrate it
easy I obviously have to integrate it
with
stuff what is all what are all these
stuff what is all what are all these
changes all right um
don't need this because I have the other
file just did my
bachelor yeah that's how it's going to
bachelor yeah that's how it's going to
be in AI for a while um
best thing is probably going to be to be
best thing is probably going to be to be
in software and then try to move over to
in software and then try to move over to
like applied AI from there it's going to
like applied AI from there it's going to
be very hard to do research out of
undergrad particularly if you haven't
undergrad particularly if you haven't
already been doing it right like if you
already been doing it right like if you
like if you're out of undergrad but you
like if you're out of undergrad but you
have a couple published papers then yeah
have a couple published papers then yeah
you can probably go do research like be
you can probably go do research like be
a like you know applied researcher or ml
a like you know applied researcher or ml
guy a startup or small company but it's
guy a startup or small company but it's
going to be very hard
going to be very hard
otherwise applied AI I've seen like
otherwise applied AI I've seen like
applied AI out of undergrad for sure at
applied AI out of undergrad for sure at
like big Tech but otherwise nah
Andre and even with Andrew in
Andre and even with Andrew in
courses do you mean the online ones are
courses do you mean the online ones are
cs229 at
Stamford because I had 229 out of
Stamford because I had 229 out of
Stanford uh papers and several other
Stanford uh papers and several other
things and that still was not going to
things and that still was not going to
do it I mean I could have gone and done
do it I mean I could have gone and done
like applied whatever at at Fang I
like applied whatever at at Fang I
definitely could have done that but to
definitely could have done that but to
do like pure research
no online yeah
no online yeah
that's best thing you're going to be
that's best thing you're going to be
able to do is do like software
able to do is do like software
engineering that maybe has like some
engineering that maybe has like some
some like little bit of Applied AI in
some like little bit of Applied AI in
the
mix learning how to train an LM is a
mix learning how to train an LM is a
lesson Less in demand skill because
lesson Less in demand skill because
those
those
um the amount of capital that goes into
um the amount of capital that goes into
that that is now becoming like that is
that that is now becoming like that is
now a seven figure salary skill that is
now a seven figure salary skill that is
not going to be given to you know
not going to be given to you know
anybody that they don't trust with that
anybody that they don't trust with that
amount of
compute I actually bet the good deal in
compute I actually bet the good deal in
the US is you can get a masters in zero
the US is you can get a masters in zero
years you just get it as part of your
years you just get it as part of your
undergrad
I did not do that because I
I did not do that because I
took I took six months off of my degree
took I took six months off of my degree
and and I still graduated so I graduated
and and I still graduated so I graduated
a term early I took a term off and I was
a term early I took a term off and I was
doing research full-time for like two of
doing research full-time for like two of
those years so I didn't bother doing the
those years so I didn't bother doing the
Masters at the same time it wouldn't
Masters at the same time it wouldn't
have even saved me any time with the PHD
anyways you do though you do get it in
anyways you do though you do get it in
undergrad for uh
undergrad for uh
here
bir I mean not everywhere obviously it's
bir I mean not everywhere obviously it's
very few places but uh co-terminal
very few places but uh co-terminal
admissions you apply while you're
admissions you apply while you're
still why the hell did command prompt
still why the hell did command prompt
just
open this is the Stanford website but
open this is the Stanford website but
that's freaking
sketchy I'm actually suspicious what the
sketchy I'm actually suspicious what the
hell is running on this
oh this is
Windows there Windows being
dumb yeah co-terminal admissions allow
dumb yeah co-terminal admissions allow
students to begin completing graduate
students to begin completing graduate
units while they're still
units while they're still
undergraduates so you get to double
undergraduates so you get to double
count your
units you get like a certain number that
units you get like a certain number that
you can
count very common for people to do their
count very common for people to do their
C- term in four
years what's the acceptance rate very
low yeah basically doing Stanford is the
low yeah basically doing Stanford is the
easy part getting in is the hard
part it's true for all of the degrees
part it's true for all of the degrees
honestly doing the degree is the easy
honestly doing the degree is the easy
part getting in is the hard part the top
part getting in is the hard part the top
programs basically do not fail anybody
programs basically do not fail anybody
like they fail You by not letting you in
I know people who didn't get in with
I know people who didn't get in with
four yeah everybody's got a
4L I mean I'm very public about like
4L I mean I'm very public about like
I've literally never worked harder in my
I've literally never worked harder in my
life than when I was getting trying to
life than when I was getting trying to
get into undergrad like I worked 110
get into undergrad like I worked 110
hours a week all through high
school I didn't even do that at Stamford
school I didn't even do that at Stamford
at Stamford I think the most I did was
at Stamford I think the most I did was
like 90 a
week oops did I screw this up
week oops did I screw this up
I got distracted and closed the wrong
I got distracted and closed the wrong
window did I
yeah you're working 100 plus you have no
life yeah no you have no life yeah
exactly you sleep uh four hours a night
exactly you sleep uh four hours a night
and you get a night off once every like
and you get a night off once every like
maybe two to three
maybe two to three
months for
I don't know if you're I don't know if
I don't know if you're I don't know if
you're being ironic but yes
that yeah
you're describing stuff I've already
you're describing stuff I've already
done so
yes
yes
um I don't know why they I have 13
um I don't know why they I have 13
people on YouTube watching me look at my
people on YouTube watching me look at my
terminal so I should probably do
terminal so I should probably do
something interesting now huh let's do
something interesting now huh let's do
something cool let's go make all the
something cool let's go make all the
Atari games playable so that we no
Atari games playable so that we no
longer get really stupid bugs because
longer get really stupid bugs because
nobody's ever played the game that their
nobody's ever played the game that their
reinforcement learned all right how
reinforcement learned all right how
about that so I'm going to use the
about that so I'm going to use the
restro from real quick I'm going to come
restro from real quick I'm going to come
back in a minute and then what we're
back in a minute and then what we're
going to do is we're going to look at
going to do is we're going to look at
like we have all these hyperparameter
like we have all these hyperparameter
sweeps running on Atari um but these
sweeps running on Atari um but these
games are not properly playable we're
games are not properly playable we're
going to make them playable we're going
going to make them playable we're going
to make it really easy to watch neural
to make it really easy to watch neural
Nets play them and we're going to do
Nets play them and we're going to do
this in a way that's like sane and Mak
this in a way that's like sane and Mak
sense and is easy and it's going to be
sense and is easy and it's going to be
on the fast version of Atari that's way
on the fast version of Atari that's way
faster than the version normally used in
faster than the version normally used in
RL I'll be right back bet keep the
RL I'll be right back bet keep the
audience entertained for a few
minutes
e e
I don't know know why the hell I check
I don't know know why the hell I check
Twitter while I'm walking
Twitter while I'm walking
around there's a stupid post going
around there's a stupid post going
around with I don't [ __ ]
know a waste of time whatever let's
know a waste of time whatever let's
let's build cool
let's build cool
stuff what
stuff what
is hold on what did I
is hold on what did I
miss 12 wait how the hell are this many
miss 12 wait how the hell are this many
messages oh it's all bet 12 this is not
messages oh it's all bet 12 this is not
a record high we've hit 15 or
a record high we've hit 15 or
16 yeah it Twitter is awful and
16 yeah it Twitter is awful and
addictive and terrible but the thing is
addictive and terrible but the thing is
it's actually very useful um because it
it's actually very useful um because it
solves marketing for me
solves marketing for me
so it totally solves
marketing let's actually make [ __ ] that
marketing let's actually make [ __ ] that
works
works
um so starting
off oops
Python and uh pong mode
Python and uh pong mode
eval maybe D- Baseline
eval maybe D- Baseline
Works D- Baseline
work I think I need render
mode one
mode one
b w
b w
b whoever is at w B could you please fix
b whoever is at w B could you please fix
this
this
bug have to reopen the darn terminal
bug have to reopen the darn terminal
every
every
time all right we're going to get every
time all right we're going to get every
single Atari game playing right
now and pong mode uh eval render
now and pong mode uh eval render
mode RGB array
uh
uh
Baseline see if this
Baseline see if this
renders if not we will start fixing
it
it
okay something weird going on are we on
okay something weird going on are we on
the wrong
the wrong
Branch yep
try that
again pip install
dasu okay I think we just needed the new
dasu okay I think we just needed the new
version of Ali pie
there we
go okay so there is still something
go okay so there is still something
wrong with eval
Mode still something wrong with eval
mode with the
policy oh for some reason I thought that
policy oh for some reason I thought that
I I had the pre-train policy before we
I I had the pre-train policy before we
should still be able to run it with the
should still be able to run it with the
random
random
policy yeah here we go so this is
policy yeah here we go so this is
pong it plays we should be able to play
pong it plays we should be able to play
other stuff as well let's do beam Rider
other stuff as well let's do beam Rider
let's trick one other
game there are a lot of cool games in
here
here
anyways so uh now what we're going to do
anyways so uh now what we're going to do
is we're going to try to get these to be
is we're going to try to get these to be
actually reasonably human
playable you're trying to share the
playable you're trying to share the
address but it's censored let me is
address but it's censored let me is
there a setting in YouTube where I can
there a setting in YouTube where I can
mess with
that I can let you guys post links
that I can let you guys post links
because I don't care if you post links
because I don't care if you post links
it's
fine
filtering
filtering
bot I I don't think I have any
settings so I have this um play Pong
settings so I have this um play Pong
file that I
wrote why does nothing work
today oh
yeah prob
V5 name does not
exist import Al
Pi okay there's just a little API thingy
Pi okay there's just a little API thingy
that I have to
that I have to
do here so this is the play file I wrote
do here so this is the play file I wrote
for
for
pong this allows you to play so this is
pong this allows you to play so this is
me playing here
me playing here
it's very difficult
actually this was for the uh the blog
actually this was for the uh the blog
post where I was showing that sticky
post where I was showing that sticky
actions make this game very very hard to
play so we want to make all the games
playable well apparently people can post
playable well apparently people can post
links on Twitch block that
links on Twitch block that
that's the one
that's the one
downside those are easy enough to block
downside those are easy enough to block
though uh let me get this let me open
though uh let me get this let me open
YouTube studio and fix the link settings
YouTube studio and fix the link settings
for you
guys
settings why do I not see community
I don't think there's anything private
I don't think there's anything private
here where is this thing so I can fix
here where is this thing so I can fix
this and get back to Dev
automated
automated
filters you gped that and it made up
filters you gped that and it made up
[ __ ] didn't
you
typical YouTube
Studio oh yeah there's the studio
thing where the heck is it this
thing ah
cool clickbait title don't recommend
Channel wait what
what is this seven-year-old
funny what a ridiculously clickbaity
funny what a ridiculously clickbaity
title I mean I actually freaking found
title I mean I actually freaking found
uh did it get
views I think this video got a bunch of
views I think this video got a bunch of
H 570 on it like a short little stream
H 570 on it like a short little stream
is
is
funny there not even a click baity title
funny there not even a click baity title
I actually found out
why
why
yeah that's so
yeah that's so
funny click baity title cuz it's like
funny click baity title cuz it's like
that's funny where's the um where's the
that's funny where's the um where's the
darn setting I got to get back to Dev
darn setting I got to get back to Dev
this is
boring okay
boring okay
where I'm not doing this now cuz I can't
where I'm not doing this now cuz I can't
freaking find it and you know I want to
freaking find it and you know I want to
do this Dev live I've only got like
do this Dev live I've only got like
another couple hours hour and a half to
another couple hours hour and a half to
do this so I want to make sure that we
do this so I want to make sure that we
have this working
have this working
today it do you have
today it do you have
it damn it
bet fine
left side
bar I literally just don't see it
oh yeah here it
is I don't have block links
on it's literally
off did the restream bot do it
off did the restream bot do it
it might be the restream
bot oops this is restream analytics
bot oops this is restream analytics
don't need
that literally don't see it
doesn't show up yep that's weird all
doesn't show up yep that's weird all
right
right
well let's go back to actually doing Dev
well let's go back to actually doing Dev
we've bored half of the people
we've bored half of the people
away
away
um yeah I see the link from the twitch
um yeah I see the link from the twitch
links work which is weird so it seems
links work which is weird so it seems
like it would be YouTube but I literally
like it would be YouTube but I literally
don't have the link filter option on on
don't have the link filter option on on
YouTube so I don't know what's
happening I don't know
so anyways I had to write my own I had
so anyways I had to write my own I had
to write my own thing here because I
to write my own thing here because I
couldn't get this to
couldn't get this to
render reasonably
render reasonably
before I'm going to copy this
file what if I just like render this in
file what if I just like render this in
like render mode
like render mode
human can I do this
don't worry about it I have twitch and
don't worry about it I have twitch and
YouTube Del is less on Twitch
YouTube Del is less on Twitch
yeah oh yeah that's you
yeah oh yeah that's you
bet
cool
um is there a key press thing for
um is there a key press thing for
Atari hold on there supposed to be like
Atari hold on there supposed to be like
a human render mode on
Atari without having to go through um
Atari without having to go through um
gymnasium right I think that's what we
gymnasium right I think that's what we
want otherwise I'll just install a rib
want otherwise I'll just install a rib
renderer that actually wouldn't be bad
renderer that actually wouldn't be bad
to just do a rib renderer
to just do a rib renderer
right I think that's actually better
right I think that's actually better
right hold
right hold
on if I just do the RB renderer that's
on if I just do the RB renderer that's
way better isn't it cuz then I actually
way better isn't it cuz then I actually
you see the environment the way the
you see the environment the way the
agent sees
it I think
it I think
so I thought Rib was the standard no
so I thought Rib was the standard no
like literally nobody uses it and it's
like literally nobody uses it and it's
the best thing
the best thing
ever if you haven't used RB you're like
ever if you haven't used RB you're like
you're missing
out I thought you scy yes it's standard
out I thought you scy yes it's standard
for my stuff but nobody else
for my stuff but nobody else
right it's standard for my
right it's standard for my
stuff doesn't mean everyone's using
it okay we'll make RB client
here and we'll do this will be an end
here and we'll do this will be an end
wrapper like this
they aren't using it yet design
choices a rib is just awesome like it's
choices a rib is just awesome like it's
such a good Library it's not even it's
such a good Library it's not even it's
not even funny uh let's do height
not even funny uh let's do height
width is going to be shape I think it's
width is going to be shape I think it's
going to be this is grayscaled as well
yeah
shape
shape
and now what we do is we import
rib and we
rib and we
do self.
do self.
RL colors is
RL colors is
colors and now we have to do something a
colors and now we have to do something a
little bit janky so uh the problem here
little bit janky so uh the problem here
is that it is slightly
difficult it's slightly difficult to get
difficult it's slightly difficult to get
um pixel buffers into rib without going
um pixel buffers into rib without going
through files so I found a way around
through files so I found a way around
that right here I probably need to
that right here I probably need to
standardize this but for now this will
standardize this but for now this will
just go into Atari and we can use this
just go into Atari and we can use this
to have a playable client for everything
to have a playable client for everything
right
okay render
self okay
self okay
so we grab the rib stuff then this is
so we grab the rib stuff then this is
going to be self. action is three self.
going to be self. action is three self.
action is
action is
four okay so we get some actions for
four okay so we get some actions for
this um and
this um and
now so we want we get the
now so we want we get the
frame from the environment
right oops we get the frame from the
environment S.M
and then this is
texture okay so the idea here is that
texture okay so the idea here is that
we're just going to grab the Frame data
we're just going to grab the Frame data
uh we're just going to grab the Frame
uh we're just going to grab the Frame
data out
data out
of uh out of the environment because
of uh out of the environment because
this is going to allow us to play the
this is going to allow us to play the
game exactly as the agent is playing the
game exactly as the agent is playing the
game instead of what the default is
game instead of what the default is
which is uh however like the original
which is uh however like the original
game is which is cool cuz it looks kind
game is which is cool cuz it looks kind
of nice to have the original game but
of nice to have the original game but
the thing is if you're playing it in a
the thing is if you're playing it in a
way that the agent isn't playing it then
way that the agent isn't playing it then
that's very misleading uh we're probably
that's very misleading uh we're probably
going to upscale it we'll exact upscale
going to upscale it we'll exact upscale
The Frame data or something so it's
The Frame data or something so it's
easier to see and we'll probably make it
easier to see and we'll probably make it
RGB instead of grayscale so it looks
RGB instead of grayscale so it looks
nice but you're still going to have like
nice but you're still going to have like
the same effective resolution in
the same effective resolution in
everything everything and that's
important so now we're going to do this
important so now we're going to do this
is width
is width
height
height
four and then this is render mode
human so what we're going to do now is
human so what we're going to do now is
um
right here this render mode needs to
be okay so we
be okay so we
do we make this RGB array and then we
do we make this RGB array and then we
do tari post processor which gives you
do tari post processor which gives you
Rewards y y
truncated
and this can be gy.
and this can be gy.
rapper that's
rapper that's
fine and we will put
fine and we will put
this right here
this right here
and if mode human we make it like
and if mode human we make it like
this we make the RB client
oops we don't want that we want to run
oops we don't want that we want to run
the uh we would like to run a little
the uh we would like to run a little
demo here let's just make test
demo here let's just make test
Atari uh we'll do play
Atari uh we'll do play
test it's the same code
test it's the same code
so from puffer lib environments we're
so from puffer lib environments we're
going to
going to
import EnV
import EnV
Creator and then what we need is
Creator and then what we need is
make EnV is going to be EnV creator of
breakout
this n is going to be make
this n is going to be make
n and then what we have to
n and then what we have to
do I think all we have to do from here
do I think all we have to do from here
is uh m.
is uh m.
reset and then while
reset and then while
true m. step m. render and we can step
true m. step m. render and we can step
it with zero
it with zero
because we should be
because we should be
getting yeah this is fine for
now play
now play
test what
test what
happened environment Atari 85 is a
happened environment Atari 85 is a
loop what
happened uh Atari
uh this break here so this has got to be
uh this break here so this has got to be
Exit
Zero called step after environment is
Zero called step after environment is
done
okay so we do OBS rewards
okay so we do OBS rewards
done done uh
done done uh
terminal truncated
info then what we'll do is m. render if
info then what we'll do is m. render if
terminal or truncated m.
reset nothing is happening in m.
reset nothing is happening in m.
render I think we have to set the render
render I think we have to set the render
mode
right actually we can make the render
right actually we can make the render
mode Raab which is even cooler right
I've been doing that lately so I don't
I've been doing that lately so I don't
overwrite the
overwrite the
default yeah so yeah that's actually way
simpler so we'll do if render mode
rib oops render mode
rib oops render mode
RB if Rend mode RB RGB array if render
RB if Rend mode RB RGB array if render
mode RB ra okay now we have the
wrapper
wrapper
unexpected okay this needs to go
unexpected okay this needs to go
actually in the other one I hate this
actually in the other one I hate this
design but it's unfortunately necessary
design but it's unfortunately necessary
render mode is human except we don't
render mode is human except we don't
want human we want RB cuz we want our
want human we want RB cuz we want our
much better r your
client unexpected keyword
options Mo moderately obnoxious I would
options Mo moderately obnoxious I would
say Atari
processor
options there we go I'll pull this up on
options there we go I'll pull this up on
screen so now we have uh we've got
breakout it doesn't seem like my actions
breakout it doesn't seem like my actions
are mapped correctly
are mapped correctly
though so let's figure that
though so let's figure that
out I think that we need to
out I think that we need to
do
do
write
write
step and then what we're going to do is
step and then what we're going to do is
return so we overwrite the action with
return so we overwrite the action with
the Human Action here
the Human Action here
if you're going to do render with
if you're going to do render with
RB we'll figure out how to do this in a
RB we'll figure out how to do this in a
bit
bit
but
this
this
huh wait render
mode list index out
mode list index out
of that's really funny that they didn't
of that's really funny that they didn't
do a bounce check
how do you know the um the key mapping
how do you know the um the key mapping
for
Al is that
Al is that
somewhere we got to find the key
mapping I think if we just look for like
fire here it
is action
it's been a
while I
think fire has to
be le.
action it has the values in here
right so down down is
five and where's up up is
two
H let's try for now let's just try left
H let's try for now let's just try left
is four and right is three that's what
is four and right is three that's what
we have and it does not
we have and it does not
work is the action space wrong
yeah M's action space is totally
yeah M's action space is totally
wrong
so how do we map the keys to the action
so how do we map the keys to the action
space reasonably
we'll have to figure out how they do
that can I just guess for
that can I just guess for
now or I know that this works with pong
now or I know that this works with pong
anyways right so I can just use uh pong
anyways right so I can just use uh pong
for my play test
yeah this has a discrete action space
yeah this has a discrete action space
with six things in it I don't know why
with six things in it I don't know why
the action space for pong has six
the action space for pong has six
actions in it maybe it's the
actions in it maybe it's the
joystick but here you go this is
joystick but here you go this is
pong I can play
it it's kind of
it it's kind of
hard you have to like slam the ball
hard you have to like slam the ball
really
really
fast to do something something and it's
fast to do something something and it's
hard to do that cuz the paddle is not as
hard to do that cuz the paddle is not as
wide as it
wide as it
looks and if you don't slam it very
looks and if you don't slam it very
quickly and if you or if you miss
quickly and if you or if you miss
time uh they will basically the opponent
time uh they will basically the opponent
will always catch
it see like I thought I had it there but
it see like I thought I had it there but
I
didn't there you go that's the
didn't there you go that's the
point okay so that works let's um let's
point okay so that works let's um let's
enlarge this
upscale is going to be
upscale is going to be
four this is going to
four this is going to
be he times
be he times
upscale and then we'll
upscale and then we'll
do
do
sorry 12
sorry 12
FPS is that
FPS is that
right I don't know if that is
right I don't know if that is
correct I think we need to add some
correct I think we need to add some
settings to this
okay so we have
upscale Let's
upscale Let's
Do height times equals upscale width
Do height times equals upscale width
times equals upscale we'll do it's going
times equals upscale we'll do it's going
to be
to be
height this is wrong it's supposed to be
height this is wrong it's supposed to be
width by
width by
height like
height like
this um and then rendered is going to be
this um and then rendered is going to be
with by height this is
with by height this is
width height it's taller than it is has
width height it's taller than it is has
this weird aspect ratio right and then
this weird aspect ratio right and then
what we have to do
what we have to do
is frame equals I have to upscale this
is frame equals I have to upscale this
Frame I have a trick for upscaling that
Frame I have a trick for upscaling that
I have to go get
okay right
okay right
here it's not the fastest
technique but uh you do like
this see is this four times larger
huh well I don't know what happened here
huh well I don't know what happened here
but this was not what I was going
for come on let's get this at a
for come on let's get this at a
reasonable resolution so we can play
reasonable resolution so we can play
it I broke something with this
it I broke something with this
because hang on was it width by height
because hang on was it width by height
or is it height by
or is it height by
width um play
Pong
Pong
160 is the
160 is the
width this is
160 looks like this is correct to
me let's try this
oops
there why can't I
click
click
105 what is the width is the width
105 what is the width is the width
supposed to be
105 oh
105 oh
I
I
see it's not giving me the original
frame or it is giving me the original
frame or it is giving me the original
frame
frame
rather okay for now we'll do height
rather okay for now we'll do height
equals
equals
210 is it 210 by 160 that what it was or
210 is it 210 by 160 that what it was or
is it 240 I thought it was like
is it 240 I thought it was like
240 uh
240 uh
play 210
play 210
so we are
good and
continue yes it works it's on the other
continue yes it works it's on the other
monitor but it works let me upscale now
monitor but it works let me upscale now
this will be
four
four
perfect we can play
perfect we can play
Atari oop
Atari oop
and it's very hard because we're playing
and it's very hard because we're playing
with the rappers that make the uh the
with the rappers that make the uh the
agent
rappers you see how it has this
rappers you see how it has this
acceleration on
acceleration on
it like if you like you can slam the
it like if you like you can slam the
ball it's very easy to
see it's very hard to play uh this game
see it's very hard to play uh this game
is not easy normally and it is very hard
is not easy normally and it is very hard
with uh with the rappers for sure even
with uh with the rappers for sure even
harder with sticky actions thank God we
harder with sticky actions thank God we
got rid of
that yeah like even there it's you have
that yeah like even there it's you have
like a couple of frames to get it like
like a couple of frames to get it like
the timing right it's very
silly I think it is literally a couple
silly I think it is literally a couple
of frames that you have anyways though
of frames that you have anyways though
um you can actually play this even with
um you can actually play this even with
the frame skip if you are good I am not
the frame skip if you are good I am not
very good but this was just a quick test
very good but this was just a quick test
to make sure that it works there you go
to make sure that it works there you go
so now we have this upscaled
so now we have this upscaled
correctly um few things that we have to
correctly um few things that we have to
do we probably want to have modes for
do we probably want to have modes for
playing this like play the original game
playing this like play the original game
versus play it the way that the agent
versus play it the way that the agent
plays it those are both important things
plays it those are both important things
to be able to do um the 4X upscale is
to be able to do um the 4X upscale is
very nice the rib renderer will take
very nice the rib renderer will take
care of frame rate for us so we won't
care of frame rate for us so we won't
have to automatically like we won't have
have to automatically like we won't have
to worry if the upscale is slow it'll
to worry if the upscale is slow it'll
just compensate for us as long as it's
just compensate for us as long as it's
not slower than 60 FPS which
not slower than 60 FPS which
it will be faster than that don't
it will be faster than that don't
worry
worry
um I think the next thing we're going to
um I think the next thing we're going to
do is we're going to figure out the
do is we're going to figure out the
action map so that we can play all the
action map so that we can play all the
games without having to keep manually
games without having to keep manually
remapping the keys and then we'll
remapping the keys and then we'll
actually check out a few of the Atari
actually check out a few of the Atari
games and see how they
play uh I see that there are a lot of
play uh I see that there are a lot of
folks on YouTube so thanks for your
folks on YouTube so thanks for your
interest welcome all the stuff that
interest welcome all the stuff that
you're seeing here is free it's open
you're seeing here is free it's open
source
source
at puffer
at puffer
lib currently we're in the dev Branch
lib currently we're in the dev Branch
this is where the mini DOTA at a million
this is where the mini DOTA at a million
frames slither.io clone at like 10
frames slither.io clone at like 10
million frames grid EnV at 15 million
million frames grid EnV at 15 million
frames uh all of the stuff is in here if
frames uh all of the stuff is in here if
you want to help the project out please
you want to help the project out please
give it a star helps me a ton let's get
give it a star helps me a ton let's get
back to
Dev so what we've got to do is we've got
Dev so what we've got to do is we've got
to figure out this action mapping huh
okay so we go into the
okay so we go into the
N what happens when we call
step we call self. al.
step we call self. al.
act
act
okay we have Al python interface
C++ do we have act in here
C++ do we have act in here
here
here
nope no
nope no
ACT
registration do I see
actions I see the register in
here you can actually see that there's
here you can actually see that there's
the v0 of these environments that had
the v0 of these environments that had
sticky actions on by default as
sticky actions on by default as
well that's
well that's
crazy it had sticky actions and
crazy it had sticky actions and
non-deterministic frame skip wow that's
non-deterministic frame skip wow that's
nuts no wonder RL didn't
nuts no wonder RL didn't
work oh shoot look at
work oh shoot look at
this the V5 environment rapper has
this the V5 environment rapper has
sticky actions on by default
sticky actions on by default
again that's actually way worse than I
again that's actually way worse than I
thought holy that's
nuts am I on the main
branch yeah that's
branch yeah that's
nuts for folks who are wondering this is
nuts for folks who are wondering this is
I have an article I can link it where I
I have an article I can link it where I
found that like sticky actions are
found that like sticky actions are
incredibly harmful and like don't work
incredibly harmful and like don't work
as advertised in some
as advertised in some
cases uh let me link
cases uh let me link
that where are the
Articles I'll put it in the
chat so now I have to find where the
chat so now I have to find where the
actions map though which I still haven't
actions map though which I still haven't
figured out
[Music]
[Music]
registration what's this
nothing I don't see the full it's
nothing I don't see the full it's
recommended to enable full action
recommended to enable full action
space but I don't know how you know what
space but I don't know how you know what
key does what
uh get legal action
uh get legal action
set get minimal action
set okay so we're going to figure out
set okay so we're going to figure out
this like minimal action
this like minimal action
set actually can we just do like
set actually can we just do like
underscore action set is that's a thing
underscore action set is that's a thing
can we just like do this in the python
can we just like do this in the python
code that would make my life a lot
code that would make my life a lot
easier uh
here oh look at
that perfect we can do it from here
we just have to write a little mapping
we just have to write a little mapping
code
right it's uh it's just got name and
right it's uh it's just got name and
value hey JBL what's
value hey JBL what's
up we've done a lot of stuff today and
up we've done a lot of stuff today and
now I'm finishing off the last like
now I'm finishing off the last like
hourish of the stream with uh we're
hourish of the stream with uh we're
making Atari actually render properly so
making Atari actually render properly so
that you can play all of the Atari games
that you can play all of the Atari games
uh and see H how your agent does uh but
uh and see H how your agent does uh but
also play it yourself and this will
also play it yourself and this will
catch a lot of bugs and it's also
catch a lot of bugs and it's also
fun that's currently what we're
fun that's currently what we're
doing okay so all I have to do in order
doing okay so all I have to do in order
for this to work is the action set
right
left oh I think I understand right
left oh I think I understand right
so wait left is
three right is
four wait 0 1 2 3
oh I
see we need to get like the index of
see we need to get like the index of
these things it's very
awkward but I see how it works now
okay so now what we're going to do is
okay so now what we're going to do is
we're going to go through the action set
we're going to go through the action set
so it's going to be for I action in
so it's going to be for I action in
enumerate action
enumerate action
Set uh and then we'll do key
Set uh and then we'll do key
map self.
map self.
keymap
keymap
this and then
we'll
we'll
do this is
down TR how I need to do this
little tricky to do this
correctly cuz they're like going to be
correctly cuz they're like going to be
out of order I think
right uh
oh I think I
know so it's going to be self.
know so it's going to be self.
keymap action.
keymap action.
value is equal to
value is equal to
I because I think the way it works is
I because I think the way it works is
it's the index in the list that you
get and this is going to be fixed
values so
what's rib. key left
from ear
Pi
Pi
Pi L
Pi L
Pi
Pi
Pi you have action set somewhere here
I need to find the uh the action set
stuff I thought I saw it in
stuff I thought I saw it in
like where was
like where was
it is it in here
it is it in here
no where was I that I saw the the action
no where was I that I saw the the action
set stuff registers isn't this
set stuff registers isn't this
C++
nope uh I swear I had it a second ago is
nope uh I swear I had it a second ago is
it
theet dang
it here it
it here it
is
is
oh my bad it's not in the init it's in
oh my bad it's not in the init it's in
thecore init.py
thecore init.py
I yeah of course
okay so we can do
dur so I can do ali. action.
dur so I can do ali. action.
down
down
right
right
value okay so this is not that bad then
value okay so this is not that bad then
it's actually not that bad to do the key
mapping um so we'll just do import
yeah action just do this for
now yeah this is how I wanted to do
it okay let's see if this actually does
it okay let's see if this actually does
what I want it to
do so here's the
do so here's the
N it's the keys are
backwards why are the keys
backwards like Ultra hard mode though
backwards like Ultra hard mode though
actually this would be uh
actually this would be uh
flipping your keys every time you play
flipping your keys every time you play
the game is a good way to convey some of
the game is a good way to convey some of
the difficulty of what the RL agent has
the difficulty of what the RL agent has
to do right it doesn't have like the
to do right it doesn't have like the
ingrained muscle memory for like left
ingrained muscle memory for like left
and
and
right why are the keys
flipped oh okay here this is what we're
flipped oh okay here this is what we're
going to do right right we'll do like
going to do right right we'll do like
this
this
um if action is in key
um if action is in key
map else it's equal to action. no op.
map else it's equal to action. no op.
value let's try
value let's try
this I forgot to map
this I forgot to map
it perfect now we can play the game not
it perfect now we can play the game not
well but we can play the game and the
well but we can play the game and the
keys are
keys are
correct so now I think actually that's
correct so now I think actually that's
probably enough to get all the games
probably enough to get all the games
working
working
right look how good the bot is by the
right look how good the bot is by the
way it's like unless you slam the ball
way it's like unless you slam the ball
so it physically can't get to it it
so it physically can't get to it it
always
wins I break out
uh there's like a fire action I think
uh there's like a fire action I think
you have to hit space in order to start
you have to hit space in order to start
the
game so we do have to do
um key up key
down perfect
can we fire the ball yeah we can fire
can we fire the ball yeah we can fire
the
ball so we now we are able to PR to play
ball so we now we are able to PR to play
Breakout it's very hard because the
Breakout it's very hard because the
increment is like
increment is like
ridiculous I wonder if it uses the same
physics I think it seems to
physics I think it seems to
right is the ball faster when I like
right is the ball faster when I like
slam it
it just went through the block so that
it just went through the block so that
was
interesting why does it go through the
interesting why does it go through the
blocks it just went through the blocks
blocks it just went through the blocks
twice what wait does the frame skip
twice what wait does the frame skip
check actually skip the block through
check actually skip the block through
like
like
that
huh
huh
what wait
what wait
what uh guys do these games not
work I have to be able to play it in
work I have to be able to play it in
order to actually
see oh my gosh the game is so freaking
see oh my gosh the game is so freaking
hard because the frame Skip and like the
speed
ah dude this is too hard
ah dude this is too hard
but I like you've seen multiple times
but I like you've seen multiple times
that it's like it's gone through the
that it's like it's gone through the
blocks right it also it changes colors
blocks right it also it changes colors
do you notice that the ball changes
do you notice that the ball changes
colors when you hit a block it like it
colors when you hit a block it like it
goes through or something it's
goes through or something it's
weird Okay so that's trippy um we'll
weird Okay so that's trippy um we'll
come back to that for
come back to that for
sure because I don't know why that
happens does this thing actually have
happens does this thing actually have
Tetris
Tetris
I'm just trying to get a feel of how
I'm just trying to get a feel of how
sketchy these M's
[Music]
[Music]
are is this actually what the original
are is this actually what the original
Tetris looked
Tetris looked
like yeah look at
like yeah look at
[Music]
[Music]
this okay it's actually kind of hard
this okay it's actually kind of hard
because you can't like flip you the
because you can't like flip you the
block the way that you want to
block the way that you want to
[Music]
[Music]
well I think I [ __ ] it up by
now oh my gosh okay it's kind of
now oh my gosh okay it's kind of
awkwardly
hard but uh it is
hard but uh it is
Tetris this is like Tetris with a tiny
Tetris this is like Tetris with a tiny
board was this the original
Tetris I didn't know that the board used
Tetris I didn't know that the board used
to be this tiny
cool you play
cool you play
Tetris um I'm sure we're missing keys
Tetris um I'm sure we're missing keys
for some stuff but
for some stuff but
like try beam
Rider there's technically supposed to be
Rider there's technically supposed to be
a sound binding as
well
what oh yeah this is
the this is actually kind of cool so
the this is actually kind of cool so
yeah this is beam Rider I've never
yeah this is beam Rider I've never
played this one I've played like pong
played this one I've played like pong
cuz I used to like do a little bit of
cuz I used to like do a little bit of
stuff with
stuff with
pong yeah they fire at you
pong yeah they fire at you
okay and then you explode because you
okay and then you explode because you
run into the bullet
so they just run up to you they
so they just run up to you they
basically they just run up to you and
basically they just run up to you and
they fire at you and you have to avoid
they fire at you and you have to avoid
the things that they
fire so what this is score
fire so what this is score
440 what I have right now so actually
440 what I have right now so actually
this is kind of a good way to get a
this is kind of a good way to get a
sense of how good the agents are is if
sense of how good the agents are is if
you can just like get some reasonable
you can just like get some reasonable
score of course it's really freaking
score of course it's really freaking
hard with the
rappers and you get three lives right
rappers and you get three lives right
yeah so
yeah so
572 I actually think that this is about
572 I actually think that this is about
what random policies get I think it's
what random policies get I think it's
like 400 if I
remember beat Mont Zuma's Revenge right
remember beat Mont Zuma's Revenge right
now that actually is kind of a fun idea
now that actually is kind of a fun idea
oh look look they're
bosses can you hit this
bosses can you hit this
thing wait what did you see that it like
thing wait what did you see that it like
there was like the spaceship that came
there was like the spaceship that came
by and you can't kill
it oh they're like different levels I
it oh they're like different levels I
assume that these are
different okay so let's try uh let's try
different okay so let's try uh let's try
Mont Zuma's Revenge let's see what that
Mont Zuma's Revenge let's see what that
game actually is
game actually is
the thing is I always tell people to
the thing is I always tell people to
like play the environments that they use
like play the environments that they use
for
for
research it's I actually do play the
research it's I actually do play the
environments I've just never done
environments I've just never done
research on like a bunch of Atari games
research on like a bunch of Atari games
right I've maybe used pong and breakout
right I've maybe used pong and breakout
for uh for a few things and I've played
for uh for a few things and I've played
those that's it Mont
those that's it Mont
zumas let's
see okay here is monaz Zuma's
see okay here is monaz Zuma's
Revenge we can jump
Revenge we can jump
right ah okay so you have to
right ah okay so you have to
fight wait how's this
work oh I don't have two
work oh I don't have two
keys okay I have to modify this so that
keys okay I have to modify this so that
you have access to more keys to play
you have access to more keys to play
this
game um in order to do
game um in order to do
that let me make sure I can do this
okay there's down fire
let's do it this
way so we'll do
way so we'll do
if RL do is key
down
left or
let's do any key down as well I have
let's do any key down as well I have
this
UIL let's use this
so now what we get to do is we get to
we have any keyy
we have any keyy
pressed okay so we
pressed okay so we
do is
do is
key pressed get Space if any key
key pressed get Space if any key
pressed key a key left yep that's what I
pressed key a key left yep that's what I
was
was
after action equals action. left was it
after action equals action. left was it
fire left
fire left
fire
fire
okay d right right right fire up fire
okay d right right right fire up fire
down
fire
fire
else it's just
fire then we'll do
fire then we'll do
LF uh RL is key
LF uh RL is key
pressed key enter and this is going to
pressed key enter and this is going to
be kind of awkward I think we got to do
be kind of awkward I think we got to do
the full action space for this
maybe so much stuff
they've got down
left wait down left down
left wait down left down
right oh they have down left fire down
right oh they have down left fire down
right
fire for
okay I want to at least get like a
okay I want to at least get like a
decent little uh action set today done
down right
down right
fire up left
fire up left
fire up right
fire left
fire left
left so wait I have one two three four
left so wait I have one two three four
five six seven eight nine actions with
five six seven eight nine actions with
fire in it one two three four
fire in it one two three four
five six
five six
seven eight nine yeah n okay that's
good self dot
good self dot
down and self so left and
down and self so left and
down I'm sure this is a terrible way of
down I'm sure this is a terrible way of
doing all of this but we'll figure out
doing all of this but we'll figure out
no better I just want to get something
no better I just want to get something
done real
done real
quick tab tab
tab okay
tab okay
cool um we need to do the full action
cool um we need to do the full action
space as well don't we
full full action space is false so we'll
full full action space is false so we'll
set full action space to
true well action space equals render
true well action space equals render
mode
mode
Raab okay let's see can I play Mont
Raab okay let's see can I play Mont
Zuma's Revenge
now can I like
do yeah you can okay this is actually
do yeah you can okay this is actually
kind of cool
okay I think it should not be is key
okay I think it should not be is key
pressed it should be is key
down such garbage code
okay let's see if this is
okay let's see if this is
good so we'll do like
good so we'll do like
this oh yeah that's fine
this oh yeah that's fine
right and then what can you do like down
right and then what can you do like down
here wait how are you supposed to do
this wait is there no way
this wait is there no way
to wait is this actually like a
to wait is this actually like a
Precision platforming
thing oh yeah it is isn't
thing oh yeah it is isn't
it [ __ ] this is not easy
it [ __ ] this is not easy
what you you take fall damage wait how
what you you take fall damage wait how
the hell do you beat this thing I was
the hell do you beat this thing I was
not expecting it to be
hard oh wait no you you can climb down
hard oh wait no you you can climb down
stuff
I the controls are kind of awkward
I the controls are kind of awkward
though wait can you not jump over the
though wait can you not jump over the
skull I don't think you can jump over
skull I don't think you can jump over
the skull
right oh wait you can climb the ladder
right oh wait you can climb the ladder
okay and then can you
okay and then can you
jump it doesn't seem that you can
wait what I just kept walking left as
wait what I just kept walking left as
soon as that
happened oh is it it's a spinny
thing beat Mont Zuma's Revenge right now
thing beat Mont Zuma's Revenge right now
they say
apparently why is this so hard
why can't I jump
either I can't do this like
either I can't do this like
what this is the these are the
what this is the these are the
conditions under which RL supposed to
conditions under which RL supposed to
beat this freaking game
the controls are like stupidly
precise dude
precise dude
what how is anybody supposed to do
this okay wait let me try something
okay you can actually hold the keys the
okay you can actually hold the keys the
way I have it
now that's that's like insane I know
now that's that's like insane I know
it's not supposed to be this
it's not supposed to be this
hard
hard
what am I like stupid is this not the
what am I like stupid is this not the
way you're supposed to do it it's it
way you're supposed to do it it's it
like it is
like it is
right like you have to make this
jump I don't think you can make it
huh
huh
what I'm incredibly
confused it does feel like you have
confused it does feel like you have
enough acceleration to make it though
what the
what the
hell this is just with frame skip right
hell this is just with frame skip right
let me turn frame skip
let me turn frame skip
off I wonder if it's actually the frame
off I wonder if it's actually the frame
skip dude that would be so funny if like
skip dude that would be so funny if like
the game is Just unbeatable with frame
skip okay we'll do 60 and then what do
skip okay we'll do 60 and then what do
we do frame skip
um frame skip equals
one okay now this is running at
one okay now this is running at
60fps oh this is so much smoother it's
60fps oh this is so much smoother it's
not even
not even
close I don't know why I have to hold
close I don't know why I have to hold
the down key to climb but I
can't hold on is there something wrong
can't hold on is there something wrong
with the way that I have this set
up yeah I think it's needs to be is
key yeah okay let's try this
way all right
let's just practice jumping
okay is there a short jump and a long
okay is there a short jump and a long
jump
nope this does feel substantially more
nope this does feel substantially more
precise this is now running at 60
frames it's still you you still can't
frames it's still you you still can't
make this jump though is it like just
make this jump though is it like just
crazy
crazy
precise it feels like you should be able
to are you supposed to jump over the
to are you supposed to jump over the
um this the skull the Skellington
instead I don't think you jump high
instead I don't think you jump high
enough to jump over the skull
right you have to though don't you
man I think the hit box is janky on this
man I think the hit box is janky on this
yeah you just don't have just barely
yeah you just don't have just barely
enough to get over it I don't know how
enough to get over it I don't know how
you're supposed to beat this
you're supposed to beat this
thing do you have to jump over it when
thing do you have to jump over it when
it's like oh yeah you can jump over it
it's like oh yeah you can jump over it
it's just
it's just
hard I got the key I got a score of
hard I got the key I got a score of
100 are you impressed
100 are you impressed
yet and then you use the the key on the
yet and then you use the the key on the
door
door
right what
the you just have to do this I
the you just have to do this I
guess
sword can I not can I use the sword for
sword can I not can I use the sword for
anything you can't do anything
anything you can't do anything
here I got a SC
bye this game is freaking hard what the
bye this game is freaking hard what the
hell dude
are you supposed to be like playing this
are you supposed to be like playing this
with a controller or something or am I
with a controller or something or am I
just
bad don't answer
that dude what
it's way crazy
it's way crazy
precise freaking Precision platformer
precise freaking Precision platformer
here what in the
hell it's like you forget these old
hell it's like you forget these old
games were
games were
hard I'm tempted to go get like the
hard I'm tempted to go get like the
original stick set now to see if it's
original stick set now to see if it's
easier I definitely am glitching through
easier I definitely am glitching through
like these hit boxes are definitely
like these hit boxes are definitely
sketchy as well
okay let's see what's down
okay let's see what's down
here oh instant
here oh instant
death dude no wonder ARL can't do this
death dude no wonder ARL can't do this
game this game is freaking
game this game is freaking
hard what in the
hard what in the
hell I still miss it and then I die
hell I still miss it and then I die
trying to like get back
I'm going to commit this code up in a
I'm going to commit this code up in a
little bit so you guys can try it it's
little bit so you guys can try it it's
like it's not easy what the
hell I'm usually not terrible at games
either played my fair share of Dark
either played my fair share of Dark
Souls
key okay we get the
key okay we get the
key
aha I see you
bug
bug
oo is this a makeable jump
oo is this a makeable jump
I feel like this is a
I feel like this is a
trap I feel like you can't make this
trap I feel like you can't make this
jump I'm going to try
jump I'm going to try
it oh you can you can't make the
jump you cannot make the jump but you
jump you cannot make the jump but you
can jump across
can jump across
interesting so you can't make the other
interesting so you can't make the other
one then for
one then for
sure
sure
uh that looks like death right
yeah that's actually just death I don't
yeah that's actually just death I don't
know why it's death and more death but
know why it's death and more death but
apparently that's how it is can you get
apparently that's how it is can you get
out of
this okay well I'm not going to play
this okay well I'm not going to play
that forever but holy hell we learned
that forever but holy hell we learned
something game is hard hard it's
something game is hard hard it's
substantially easier without frame skip
substantially easier without frame skip
I will
I will
say it is substantially easier without
say it is substantially easier without
frame skip with sticky actions you're
frame skip with sticky actions you're
screwed there's no
screwed there's no
way it's so precise with sticky actions
way it's so precise with sticky actions
there's literally no
way that's
nuts yeah it'll like walk you right off
nuts yeah it'll like walk you right off
the ledge right you literally got like
the ledge right you literally got like
two frames clearance or something it's
minuscule any other classic games that
minuscule any other classic games that
are like hard that we should
are like hard that we should
try or should we stop screwing around
try or should we stop screwing around
what you
think holy
kind of want to save a gift of this
like here
like here
let's let me at least get a screenshot
you
funny all right um well we've got these
funny all right um well we've got these
games
games
playable oh also wait here's the best
playable oh also wait here's the best
part we haven't we need to like get it
part we haven't we need to like get it
playable
playable
in human like the way the agent sees
it okay so we need to think about this
it okay so we need to think about this
like
H I have to add like another setting
right is there any point to using the
right is there any point to using the
original human mode for this game does
original human mode for this game does
it even work
assertion
failed render what did I do
ah I
see or human
okay it renders like this gigantic thing
okay it renders like this gigantic thing
we're human
we're human
mode I don't even know how this makes
mode I don't even know how this makes
sense didn't it stretch it a
sense didn't it stretch it a
ton this is not the original resolution
ton this is not the original resolution
of Atari
of Atari
right what's the original Atari
right what's the original Atari
resolution I thought it's
resolution I thought it's
like
like
huh hold on
160 by
192 stretch to match
the is it
the is it
stretched I want to have the original
stretched I want to have the original
one
so yeah with the render mode human we
so yeah with the render mode human we
can't do anything
right oh yeah I forgot that they
right oh yeah I forgot that they
released like they re-released all the
released like they re-released all the
games on Steam that's
games on Steam that's
funny all right uh I think we're not
funny all right uh I think we're not
going to use that mode though because it
going to use that mode though because it
doesn't allow us
doesn't allow us
to doesn't allow us to do a lot of
stuff
stuff
wait do they have input in that
wait do they have input in that
mode can you like play the game
doesn't show you how you can actually
doesn't show you how you can actually
play the game
right frame perfect
right frame perfect
visualization proper scaling and audio
visualization proper scaling and audio
support
oh
interesting
so hold on
it's got to be human and then we have to
it's got to be human and then we have to
like go edit this
like go edit this
thing yeah this is fine
play
play
test supposed to even have
audio okay so this is randomly playing
audio okay so this is randomly playing
the
game this is what random play looks like
game this is what random play looks like
apparently
but how do you play
but how do you play
it is it actually like hold on is it
it is it actually like hold on is it
actually getting audio and stuff let me
actually getting audio and stuff let me
let me
let me
see that' kind of be cool
it's kind of cool let's see if it
it's kind of cool let's see if it
actually do we actually get to does the
actually do we actually get to does the
audio
audio
work I don't know if it works through
work I don't know if it works through
WSL anyways
WSL anyways
right probably audio won't work through
right probably audio won't work through
WSL
WSL
anyways okay but theoretically we could
anyways okay but theoretically we could
get the audio working with this which
get the audio working with this which
would be really sweet
this is proper scaling as
well so this is how it's supposed to be
well so this is how it's supposed to be
scaled I guess it makes sense that this
scaled I guess it makes sense that this
would be how it's supposed to be scaled
would be how it's supposed to be scaled
right
the problem is I don't have a way of
the problem is I don't have a way of
um I don't think I have a way of doing
um I don't think I have a way of doing
keyboard inputs outside of RB right
keyboard inputs outside of RB right
python has really shitty keyboard input
stuff sdl2 visualization
how do you has nobody asked about this
ever for
enable display
screen it's so funny that these blog
screen it's so funny that these blog
posts like this is sticky actions right
posts like this is sticky actions right
here right this is the sticky
action lots of
action lots of
games additional modes oh Frogger is in
games additional modes oh Frogger is in
here as well that's funny
I'm still can't find if there's a way to
I'm still can't find if there's a way to
play these things
I don't think it's
I don't think it's
playable so I can't use their thing if
playable so I can't use their thing if
it's not playable
right there's no input
do you not need to step
do you not need to step
it you do right you still need to step
it you do right you still need to step
the
the
end so if I wanted to play it with their
end so if I wanted to play it with their
version I would have
version I would have
to I don't think I really want to use
to I don't think I really want to use
their
their
version wait sound support is off by
default they added a new thing sound
default they added a new thing sound
wait how do I do this
this if I can get the original sound
this if I can get the original sound
working then I will I'll spend a little
working then I will I'll spend a little
more time because that's kind of
awesome
sound enable display screen and
sound enable display screen and
sound enable display screen and sound
uh right here set
bull uh right here they have so they
bull uh right here they have so they
have
this they do it for
this they do it for
you I I do not get sound out of
this though that might be just because
this though that might be just because
of WSL
uh pipe sound out of
WSL there is no Dev sound great this is
WSL there is no Dev sound great this is
though eh I think it's going to be very
though eh I think it's going to be very
very few people that actually do this I
very few people that actually do this I
mean maybe if if you're on a Mac or like
mean maybe if if you're on a Mac or like
native Linux it'll just
work but I doubt it
work but I doubt it
right why do you need sound because it
right why do you need sound because it
would be
would be
cool it'd be really cool
I guess we'll not do their thing for
now so we'll replace their human mode
now so we'll replace their human mode
for now yeah cuz it's already 7:13 I
for now yeah cuz it's already 7:13 I
want to do this for another like 15 20
want to do this for another like 15 20
minutes and I want to get my food and
minutes and I want to get my food and
get get out of
get get out of
here
here
um tuned out a little trying to read up
um tuned out a little trying to read up
some some papers meeing
some some papers meeing
researcher
researcher
cool for sure I mean offered several
cool for sure I mean offered several
times as well to help with that
times as well to help with that
um My Hope was
that it might be smart
that it might be smart
yeah
yeah
it's it is very weird to have somebody
it's it is very weird to have somebody
not who is not involved at all in the
not who is not involved at all in the
project
project
right like publishing a paper that's
right like publishing a paper that's
like really really weird
been in the okay
let's see how I fix
let's see how I fix
this all right so here's I think I know
this all right so here's I think I know
how I'm going to do this now
so we're going to do Al render mode
so we're going to do Al render mode
equals render mode and we're going to do
equals render mode and we're going to do
if render mode equals
if render mode equals
RB or human so actually we can do in
Ray
lib Al render mode is RGB
lib Al render mode is RGB
array yeah is human wait Al render
array yeah is human wait Al render
mode can give me good
mode can give me good
suggestions uh frame skip is going to be
suggestions uh frame skip is going to be
one and what is this
OBS
OBS
type
type
equals
RGB this
RGB this
and then it's going to
and then it's going to
be it's RB then we
do we do like
do we do like
this all right and
then full action space is false repeat
then full action space is false repeat
prob is
zero full action space
zero full action space
equal to
True render mode is going to be a render
mode frame skip is frame script OBS type
mode frame skip is frame script OBS type
is OBS
is OBS
type
type
okay uh now we do
if render
if render
mode uh is not equal to
mode uh is not equal to
human we're going to
human we're going to
resize all right and
resize all right and
now this can go down
now this can go down
here rear
here rear
postprocessor what's this
postprocessor what's this
do doesn't do much does it
oh this has to go here
wait render
wait render
mode is not equal to
human yeah then this goes here
this is specifically for
this is specifically for
pubs yeah
obviously but he should really have that
obviously but he should really have that
like he should just like publish his own
like he should just like publish his own
single author thing on the original to
single author thing on the original to
be
honest pick a workshop at a conference
honest pick a workshop at a conference
that he wants to go to right
he literally has zero
he literally has zero
time this is what happens when you write
time this is what happens when you write
too much rust all right you start off
too much rust all right you start off
with lots of time and then you pick up
with lots of time and then you pick up
rust and then you have no
time he's really busy with
time he's really busy with
meetings bro meetings are like the least
meetings bro meetings are like the least
the worst possible thing to be doing
the worst possible thing to be doing
when you work in
Tech unless the meetings is about stake
Tech unless the meetings is about stake
and we're meeting some meat then no
and we're meeting some meat then no
thank
you waste of
time
Consulting well if he's getting paid for
Consulting well if he's getting paid for
Consulting then at least that's
Consulting then at least that's
something meetings made me quit big Tech
something meetings made me quit big Tech
and go back to yeah it's
and go back to yeah it's
[ __ ] no
meetings I was supposed to have a
meetings I was supposed to have a
meeting today and forgot because I was
streaming and deving stuff we got a lot
streaming and deving stuff we got a lot
of cool stuff done
of cool stuff done
today um
um that's
um that's
funny personally interested in their
work you still should be getting
work you still should be getting
paid if you're doing work that's like
paid if you're doing work that's like
for a com you should still be getting
for a com you should still be getting
freaking paid
he lives in New York yeah New York's
he lives in New York yeah New York's
freaking expensive get
paid I go get paid what are you doing
if render mode is not equal to
human then a
resize uh
resize uh
okay something weird happened here
rust in New
rust in New
York
geez uh do I still need this
geez uh do I still need this
pre-processor
yeah this needs a transpose doesn't
it e
is this
is this
better just do
better just do
this why do I have a feeling this is
this why do I have a feeling this is
going to be
slow I have not been new to New York in
slow I have not been new to New York in
in
in
years but I do not understand New
years but I do not understand New
York I do not understand
[Music]
[Music]
transpose yeah it's transpose not
prute yada yada y not in
prute yada yada y not in
space
cool uh for
still not in
still not in
space dtype
space dtype
a
shape uh shape of two shape
zero there we
go where's my
render where's my render
oh it's uh it's
oh it's uh it's
here and yeah we
here and yeah we
do in human
do in human
RB TR
this they say this is scaled wrong is
this they say this is scaled wrong is
this actually scaled wrong actually
this actually scaled wrong actually
looks kind of fine right
so this is human mode it feels nice and
so this is human mode it feels nice and
smooth
right and now what we can do is we can
right and now what we can do is we can
do the rib
mode
RB
RB
yesh let's do frame
skip frame
skip frame
Skip and what we're going to do is frame
Skip and what we're going to do is frame
skip will
be 60 divide by frame
skip there we go
now it's not ridiculously fast
right
and this 210 160 is kind of wonky isn't
[Music]
it 105 by 80
it 105 by 80
all
right
yeah it's not human
let's do like
let's do like
this
else
postprocessor now let's
see observation
space okay now we got 105 by 80
so height
so height
width uh OBS
width uh OBS
shape L of OB shape
is less than
is less than
three
three
two OBS so we do height width is OB
two OBS so we do height width is OB
shape
else channels equals
else channels equals
one channels
you upscale like
this it's for the
channels I don't know let's see what
happens
happens
wow this is not what we
want it is playing the
game so we get height and width here
yeah we need to do reset
yeah we need to do reset
here and
here and
then obs
info and then what we do
info and then what we do
is frame Subs return OBS
info there we go so we saved the
frame frame is s up
frame frame is s up
frame this do
it that's kind of Cur isn't
it that's kind of Cur isn't
it wait what the
it wait what the
heck I see like a million tiny versions
heck I see like a million tiny versions
of the game
of the game
playing that's so
trippy is this a
thing do you see this it's like a
thing do you see this it's like a
million little tiny versions of the game
million little tiny versions of the game
isn't it
that's cool
can I do
this how about how
this how about how
about how about this
oh that's there we go look at
this you like
this what is it I don't know what it
this what is it I don't know what it
thinks it's doing though for the
thinks it's doing though for the
um the actions is it just random
oh yeah it's just like it's doing what
oh yeah it's just like it's doing what
I'm doing but it's also doing random
I'm doing but it's also doing random
[ __ ] that's weird
is it cuz I what did I do that
is it cuz I what did I do that
defined stuff differently
so this is how the agent sees the
game it's not terrible
um but we need to figure out why it's
um but we need to figure out why it's
doing this weird
[ __ ] oh cuz it's self do
action
yeah so now this is what I was after
yeah so now this is what I was after
this whole time okay we can play the
this whole time okay we can play the
game the way that the agent has to play
game the way that the agent has to play
the
game it feels like I have kind of
game it feels like I have kind of
precise control here though do
precise control here though do
I how's the frame
skip no I think we're
skip no I think we're
good yeah we should be
good this should be hard
this is how the agent has to play the
game can I do
it I think I can still get the key at
it I think I can still get the key at
the cost of a
life but it's definitely kind of sketchy
life but it's definitely kind of sketchy
trying to do this this you have even
trying to do this this you have even
less precise control than
normal
ah you have even less precise control
ah you have even less precise control
than normal you should be able to get
than normal you should be able to get
like 500 points
right there's not much you can really do
right there's not much you can really do
here
nope okay I'm pretty happy with that
nope okay I'm pretty happy with that
though because now we
though because now we
have we have the the
have we have the the
ability to play the game the way the
ability to play the game the way the
agent has to play the game versus the
agent has to play the game versus the
way that we want to play the game we'll
way that we want to play the game we'll
make some tweaks to this before I push
make some tweaks to this before I push
this I think unless anybody is super
this I think unless anybody is super
eager to like play this right now yeah
eager to like play this right now yeah
this is definitely more precise you can
this is definitely more precise you can
see I can tap and make these little tiny
see I can tap and make these little tiny
movements
though
though
it's it's funny that you can't like
it's it's funny that you can't like
guarantee that these keys go off at the
guarantee that these keys go off at the
same
time you have to push them on like
time you have to push them on like
exactly the same
frame it's way easier to hold the key
frame it's way easier to hold the key
and then to like do
it maybe there needs to be like some
it maybe there needs to be like some
buffering or something I don't know
very hard to jump the skull even did I I
very hard to jump the skull even did I I
think I did it once right I jumped the
think I did it once right I jumped the
skull one time it's very difficult
though you have to you I think the trick
though you have to you I think the trick
is you have to jump it when it's coming
is you have to jump it when it's coming
towards you and even then it's very
precise yeah there it goes so that's
precise yeah there it goes so that's
that's the uh the thing done without
that's the uh the thing done without
losing that's the the first level like
losing that's the the first level like
the first scene done without losing a
the first scene done without losing a
life 400
life 400
points took a lot of
tries
e e
mhm
there you
go that's
fun okay um I think I'm in a pretty good
fun okay um I think I'm in a pretty good
spot for
today if I haven't broken pong training
today if I haven't broken pong training
I'll push this
I think we might be
good I'll get ready to push this
yeah
looks I make it Ultra
looks I make it Ultra
slow hopefully not we'll
see anyways it'll be fixed tomorrow even
see anyways it'll be fixed tomorrow even
if I did screw it up it's just the dev
if I did screw it up it's just the dev
Branch uh let's just take a quick look
Branch uh let's just take a quick look
at our experiments
real
quick uh
quick uh
sweep we do a carb sweep on
this that
this that
[Music]
[Music]
carbs oo
carbs oo
what sweeps have we gotten
done okay this is beam
done okay this is beam
Rider
Rider
shredded look at
shredded look at
this look at this perfect hyper pram
this look at this perfect hyper pram
sweep that's
beautiful it's perfect hyper pram
beautiful it's perfect hyper pram
sweep oh C RL has results for beam Rider
sweep oh C RL has results for beam Rider
as well right I forget if this is one of
as well right I forget if this is one of
the M they do really well
on cleaner
LS 1568
and
and
1568 how are we
1568 how are we
doing oh we're already
doing oh we're already
there we are good to
there we are good to
go we're absolutely good to
go we're absolutely good to
go it's getting better
go it's getting better
too yeah look at
too yeah look at
this very nice
we should
see and all of these graphs as well they
see and all of these graphs as well they
have like these these sharp points at
have like these these sharp points at
the end it looks like
the end it looks like
right like if I just click this
right like if I just click this
one you see it has these sharp points at
one you see it has these sharp points at
the end so what this means is that this
the end so what this means is that this
point at the end is an accurate estimate
point at the end is an accurate estimate
of the episode return because it runs a
of the episode return because it runs a
whole bunch of additional steps so we
whole bunch of additional steps so we
can see that this is a
can see that this is a
1700 uh 1 1700 run this is actually uh
1700 uh 1 1700 run this is actually uh
10 mil steps so this is even sample
10 mil steps so this is even sample
efficiency matched with clean RL so
efficiency matched with clean RL so
there you go this is what's the wall
clock that's nice that's like six seven
clock that's nice that's like six seven
minutes so 6 s minutes versus a couple
minutes so 6 s minutes versus a couple
of
of
hours um with the exact same sample
hours um with the exact same sample
efficiency as well as
nuts do I have anything to run right now
nuts do I have anything to run right now
on um do I have anything to run on the
on um do I have anything to run on the
Moa is the
question I don't
question I don't
know I'd like to load the machine with
something why don't I just do a much
something why don't I just do a much
longer
longer
run to see what happens here huh
let
puffer I thought this was the right
puffer I thought this was the right
machine I guess
not for
oops is this what we had yeah this is
oops is this what we had yeah this is
what we had right yeah I remember this
what we had right yeah I remember this
this is a good
config let's do a 10
config let's do a 10
bill that's a nice big
run probably can even do longer than
run probably can even do longer than
that
that
but actually we totally do longer than
but actually we totally do longer than
that right we get 1.5 Bill an
that right we get 1.5 Bill an
hour not going to be on
hour not going to be on
for 12 hours probably let's be
for 12 hours probably let's be
realistic 15ish
realistic 15ish
hours so 20 bill
safely okay we'll load with this we'll
safely okay we'll load with this we'll
do a 20 billion step run of the Moa see
do a 20 billion step run of the Moa see
if it learns anything
if it learns anything
cool or if it crashes or
cool or if it crashes or
whatever 500 Kish per second this should
whatever 500 Kish per second this should
be easily
be easily
done okay um I think we're good for
done okay um I think we're good for
today so if you have not already uh
today so if you have not already uh
started the repo
if you have not already started puffer
if you have not already started puffer
lib I'm going to put it in
lib I'm going to put it in
chat all the stuff all open source all
chat all the stuff all open source all
the stuff from today has been committed
the stuff from today has been committed
up to Dev um helps me out a ton if you
up to Dev um helps me out a ton if you
just go ahead and start that I post all
just go ahead and start that I post all
this stuff on Twitter X whatever you
this stuff on Twitter X whatever you
want to call it my account's really just
want to call it my account's really just
for reinforcement learning so this is
for reinforcement learning so this is
where all the cool stuff is all the
where all the cool stuff is all the
demos all like the stuff I find there's
demos all like the stuff I find there's
some articles on here as well uh that
some articles on here as well uh that
are new
are new
I also have some additional ones on puff
I also have some additional ones on puff
RI GitHub iio which is the dock site
RI GitHub iio which is the dock site
that's where all my stuff is I will be
that's where all my stuff is I will be
back tomorrow with more stuff on the
back tomorrow with more stuff on the
MOBA more stuff on this uh probably also
MOBA more stuff on this uh probably also
some stuff on the ELO system just kind
some stuff on the ELO system just kind
of doing whatever Dev as I feel like it
of doing whatever Dev as I feel like it
um working towards getting a nice Suite
um working towards getting a nice Suite
of benchmarks for puffer anyways night
of benchmarks for puffer anyways night
everybody
