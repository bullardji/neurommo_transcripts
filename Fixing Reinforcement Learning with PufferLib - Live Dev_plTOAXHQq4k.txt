Kind: captions
Language: en
okay we are
live I got some stuff to
do quite some stuff to to
do e
okay so we have the agent
okay so we have the agent
here this is just a transcript right
yeah this is just an obnoxious
yeah this is just an obnoxious
transcript
play
okay you can see that most of this stuff
okay you can see that most of this stuff
is just garbage right
this is somewhat better but still
this is somewhat better but still
stupid
stupid
um and then this comes from
um and then this comes from
what train
what train
info init tensors collect data
I mean the key thing here right
is I think this is
is I think this is
just did they write all of this specific
just did they write all of this specific
or is this just no this isn't just RL
or is this just no this isn't just RL
games so this is
dis
Closs I think some of these aren't used
Closs I think some of these aren't used
right
right
this
this
pause this is
used Okay so I roughly understand what's
used Okay so I roughly understand what's
in here now
let me
look migrate to Puffer
so this
so this
is this is just a wrapper
am data set
prescription no idea oops my camera's
frozen I think it's like a three or a
frozen I think it's like a three or a
four negative3 org4 something like that
okay so they have this weird thing for
okay so they have this weird thing for
RNN
States see the weird thing about this is
States see the weird thing about this is
um
um
I can't tell if this actually does
I can't tell if this actually does
anything because this
anything because this
doesn't well subclasses data set does
doesn't well subclasses data set does
this thing actually
this thing actually
have maybe this thing actually does hold
have maybe this thing actually does hold
the
the
data I can't tell if it's just a fancy
data I can't tell if it's just a fancy
sampler or
not battle one what the
hell okay this is some weird RL games
hell okay this is some weird RL games
thing
and which one did
we humanoid phc
wait humanoid
phc okay so this
phc okay so this
is at least this is the mostly some of
is at least this is the mostly some of
the code that I did but then there's
the code that I did but then there's
like it's doubled in
length let me see if I can at least
length let me see if I can at least
figure out what portions have
figure out what portions have
gotten larger
here Christ
almighty most of this is the same
okay this is still mostly the
okay this is still mostly the
same this changed a bit but it's about
same this changed a bit but it's about
the
the
same uh there's some extra Collision
same uh there's some extra Collision
data here and a more complex PD scale
okay so now here we get to new stuff so
okay so now here we get to new stuff so
there's this load
motion
e e
stuff like this is really
silly okay so it's a bunch of stuff on
silly okay so it's a bunch of stuff on
rewards and um rewards for motion and
rewards and um rewards for motion and
here's the demo
here's the demo
code and sort of as sued it mostly kind
code and sort of as sued it mostly kind
of just doesn't do
of just doesn't do
anything it's just really bloated
looking I'm trying to think like I need
looking I'm trying to think like I need
I need like a way to push this stuff
I need like a way to push this stuff
forward in the first place
and this ultimately does just give you
and this ultimately does just give you
rewards and
such I mean I think that the goal
here e
I don't know why I have these on
either e
so aside from the Norms here
right how much is there
I don't think there's a lot in here
I don't think there's a lot in here
that's not just
that's not just
po just written really
po just written really
stupidly this is
po this is stats
and the only thing that's uh a little
and the only thing that's uh a little
different I think
are they missing
J I didn't see J anywhere
J I didn't see J anywhere
but who knows
so critic
entropy action and then there's this
entropy action and then there's this
bounds
bounds
loss which
loss which
[Music]
is yeah so they added two extra weird
is yeah so they added two extra weird
losses
this one and
then this one which is more
complex
okay
for e
is still uses a ton of [ __ ] as the
is still uses a ton of [ __ ] as the
problem
this uses so much
[ __ ]
e e
so they have um comingled a bunch of
so they have um comingled a bunch of
stuff here
what's wrong with these
people I genuinely don't know
we can take this piece
what is the torch
pile fine I'll just grab any of
them a simpler one
it's just demoralizing when there's this
it's just demoralizing when there's this
much shitty code to deal
much shitty code to deal
with it's just like you know how do you
with it's just like you know how do you
even manage to do this
even manage to do this
man what are you doing stop it
and why is this inting with pams what
and why is this inting with pams what
what's wrong with you
I don't know what's wrong with these
I don't know what's wrong with these
people trying to make everything
people trying to make everything
freaking configurable as well
yeah we'll just do
this for
big
Sigma what is this
what what the hell is this thing used
for what
like
what phc uses a fixed
Sigma we're going to have to chat with
Sigma we're going to have to chat with
Jung later because this [ __ ] makes no
Jung later because this [ __ ] makes no
freaking sense
[Music]
programming and building stuff is a ton
programming and building stuff is a ton
of fun when you're working with good
code programming around bad code is a
code programming around bad code is a
special form of
torture
e e
so neither of these are the way I would
so neither of these are the way I would
expect it to be which is lovely
B config so I think we should just get
B config so I think we should just get
that config up somewhere so we can
that config up somewhere so we can
figure this
out
for
e e
crazy did not even be able to find that
crazy did not even be able to find that
config in the stupid thing
a constant of -2.9
really they actually have reasonable MLP
really they actually have reasonable MLP
in some of
these and they fix the sigma on like
these and they fix the sigma on like
everything
yeah it's just 2.9 I don't know why we
yeah it's just 2.9 I don't know why we
need to have both of these things around
need to have both of these things around
if we're not going to use it ever
now
and then this is am input shape
that's funny
we do encode observations
doesn't seem
doesn't seem
like this disc thing is used except in
like this disc thing is used except in
the
the
loss so I can do encode
observations and I can just
do which is going to be
okay
wait why are you doing this on oh cuz
wait why are you doing this on oh cuz
decode this is decode okay I see so this
is
is
turn
turn
n decode actions
we
do log standard deviation
okay so we do
that now this is no longer needed
right and then this is disc
dis MLP and dis logits
and I don't know what the heck they
and I don't know what the heck they
would possibly be using this
would possibly be using this
for get
this they have weird logic
this they have weird logic
regularization of course they do
and we'll leave the rest of it
alone so that's like an initial first
alone so that's like an initial first
pass at this
pass at this
thing you need to
thing you need to
end the signature
and then we need to get
and then we need to get
the we need to get the environment into
the we need to get the environment into
here
the environment is freaking nuts
though
e e
you kind of need puel right
okay so what we'll do
is can actually just do
stop HC route
for
body Model
D for
I want
these okay so we you going to do
these okay so we you going to do
this this goes up here
all right I'm starting to wake up a
bit this is feeling
approachable this thing doesn't have a
buffer actually I think what we do
buffer actually I think what we do
is yeah I know so there there's little
is yeah I know so there there's little
EP grapher that young made I think
EP grapher that young made I think
right let me find
it yeah so this is what we want here
it yeah so this is what we want here
right
oops silly
me you missed end fre
maybe
maybe
make
make
name Mars
okay so something like this there going
okay so something like this there going
be a lot of debugging involved but this
be a lot of debugging involved but this
is getting to be
is getting to be
clearer so now we've got environment no
clearer so now we've got environment no
PhD the Motion Lab
PhD the Motion Lab
Network end
you
see okay so this is it
we will get to this end
render okay this doesn't use anything
render okay this doesn't use anything
else cool
and we got our
policy what else am I
policy what else am I
missing we got the do in
here this is just puel
yeah so this is not loaded in
yet yeah I'm pretty sure this is
yet yeah I'm pretty sure this is
literally just
literally just
um just
puel policy we already got right
puel policy we already got right
oh wait what did I miss
this
interesting we definitely want the
any for
back
okay good we're still on
this
for
e e
yeah so this is a small
yeah so this is a small
[Music]
custom small custom parser
I think I already I just start like
I think I already I just start like
debugging this thing madly until it
debugging this thing madly until it
works I mean until it runs at
works I mean until it runs at
least so
y there we
go we do have n creator
coer li.
torch I thought I had a UTS
was it in clean
RL where's freaking layer in it I use
RL where's freaking layer in it I use
this thing everywhere don't
I upper Li pie
torch all forgot I did that to avoid
torch all forgot I did that to avoid
name
conflicts for
okay now we're getting
quars perfect
file has self Collision
a damn and it wants this config
a damn and it wants this config
file let me see what K did
oh this isn't
oh this isn't
bad I think it's just this
bad I think it's just this
right and he
passes why don't we just look at
passes why don't we just look at
it
for
e
e e
and Rob okay so I see what it is this is
and Rob okay so I see what it is this is
fine I'm a little tired today so my
fine I'm a little tired today so my
brain sometimes just skips some seconds
brain sometimes just skips some seconds
I don't know hey
welcome we're getting some hard stuff
welcome we're getting some hard stuff
done
done
today how it's going
I think this will just be
I think this will just be
fine and and
robot okay so this is super easy this is
robot okay so this is super easy this is
just going to
just going to
be also can we not standardize on double
be also can we not standardize on double
quotes if we're going to standardize on
quotes if we're going to standardize on
something please you're killing me
here single quotes
here single quotes
please they just look nice
oh kung's
oh kung's
up rise and shine time for code
let me
let me
join sure
does X chat have heavy
does X chat have heavy
filters I think some of these have like
filters I think some of these have like
link filters or something that are built
link filters or something that are built
in uh and yeah it will sometimes eat
in uh and yeah it will sometimes eat
messages it's kind of weird I do not
messages it's kind of weird I do not
have any extra filtering enabled on my
have any extra filtering enabled on my
end anywhere that I'm aware of and I've
end anywhere that I'm aware of and I've
looked a couple times at
least yeah but the thing today is H
least yeah but the thing today is H
integrating integrating
integrating integrating
some robotic Sim type work with
some robotic Sim type work with
puffer and dealing with the outcome of
puffer and dealing with the outcome of
that uh Hey
that uh Hey
K youve been busy I take
it I read through a bunch the stuff and
it I read through a bunch the stuff and
I think we'll be all right with
this if we can get clean
this if we can get clean
puffer yeah that's the goal so but the
puffer yeah that's the goal so but the
thing is at the moment right you've got
thing is at the moment right you've got
all this code like as a standalone with
all this code like as a standalone with
puffer lib vendored in so what I want to
puffer lib vendored in so what I want to
do is I want to get this thing into
do is I want to get this thing into
puffer lib itself uh not like just like
puffer lib itself uh not like just like
pulled out the clean puffer script so
pulled out the clean puffer script so
I'm getting the end bindings and such in
I'm getting the end bindings and such in
into puffer now and then uh clean puff
into puffer now and then uh clean puff
RL like the main level script it'll just
RL like the main level script it'll just
be a fork I'm not a fork it'll just be a
be a fork I'm not a fork it'll just be a
branch that has the extra clean puffer
branch that has the extra clean puffer
changes and then we'll figure out you
changes and then we'll figure out you
know if they're like specific licensing
know if they're like specific licensing
on specific utils we'll figure that
on specific utils we'll figure that
out but um yeah otherwise if we don't do
out but um yeah otherwise if we don't do
that then it's pretty difficult to keep
that then it's pretty difficult to keep
different repos synced up
different repos synced up
I mean plus you know you get access to
I mean plus you know you get access to
new puffer tools if you just merge stuff
new puffer tools if you just merge stuff
in like I'm going to want this to be
in like I'm going to want this to be
able to use our ablations like our hyper
able to use our ablations like our hyper
pram sweep stuff when that's done in a
pram sweep stuff when that's done in a
week or
week or
two motion
two motion
data
data
right
right
uh data files
yeah but we we don't have to we're not
yeah but we we don't have to we're not
going to merge like the amp
going to merge like the amp
discriminator and stuff into the main
discriminator and stuff into the main
Puffer that can stay on a branch but
Puffer that can stay on a branch but
what we can do is we can get the N code
what we can do is we can get the N code
merged up right so everything is there
merged up right so everything is there
and then just the portion that will be
and then just the portion that will be
the fork for this project is just going
the fork for this project is just going
to be some changes to clean puffer out
to be some changes to clean puffer out
right so that's like the goal is to have
right so that's like the goal is to have
a minimal diff right a minimal diff from
a minimal diff right a minimal diff from
the main repo uh so it's pretty easy to
the main repo uh so it's pretty easy to
keep stuff
synced I mean all that requires is like
synced I mean all that requires is like
moving the code in making sure like it
moving the code in making sure like it
runs and then making sure stuff doesn't
runs and then making sure stuff doesn't
Auto Import right whenever you load in
Auto Import right whenever you load in
puffer Li that like breaks if you don't
puffer Li that like breaks if you don't
have the right dependencies it's not
have the right dependencies it's not
that
hard you can see I've got your code like
hard you can see I've got your code like
sort
sort
of uh one just like all the files in
of uh one just like all the files in
here and I've been working
here and I've been working
on I got an initial Network o not this
one clean in the M yeah that's fine so
one clean in the M yeah that's fine so
anything that you want to clean up in
anything that you want to clean up in
the M assuming you mean humanoid phc I
the M assuming you mean humanoid phc I
just pasted that file so that's fine so
just pasted that file so that's fine so
I'll work on integration stuff and
I'll work on integration stuff and
anything that you do should be pretty
anything that you do should be pretty
easy CU it's just fixing a bunch of
easy CU it's just fixing a bunch of
imports and then fixing
signatures but yeah we absolutely want
signatures but yeah we absolutely want
to get the data that we care about
to get the data that we care about
loaded in the goal I think a good goal
loaded in the goal I think a good goal
for today or tomorrow would be to have
for today or tomorrow would be to have
have the whole thing running in puffer
have the whole thing running in puffer
such that we can see the output the
such that we can see the output the
output generated and look at that did
output generated and look at that did
you end up finding the 3D puffer no I
you end up finding the 3D puffer no I
got to find that guy for you I think I
got to find that guy for you I think I
might have to message upw work I have it
might have to message upw work I have it
on the other computer for sure but I
on the other computer for sure but I
might have to message upwork if I want
might have to message upwork if I want
to get it earlier than
to get it earlier than
that I will do do that though because we
that I will do do that though because we
now have multiple 3D environment
now have multiple 3D environment
projects oh uh also Spencer you were
projects oh uh also Spencer you were
interested in the GPU Drive stuff that
interested in the GPU Drive stuff that
is that looks like that's going to
is that looks like that's going to
proceed so um there will be a cool
proceed so um there will be a cool
project there uh with included
project there uh with included
authorship if you're interested in
authorship if you're interested in
joining that I will be helping them with
joining that I will be helping them with
a couple things over the next few days
a couple things over the next few days
as they finish up the paper and then
as they finish up the paper and then
it'll be that time for that um the stuff
it'll be that time for that um the stuff
I'm doing right now
I'm doing right now
will be done in a week a week in a day I
will be done in a week a week in a day I
think no actually less than a week six
think no actually less than a week six
days [ __ ] I got got to get cracking here
days [ __ ] I got got to get cracking here
um and then after that I could have a
um and then after that I could have a
bit more time for this
bit more time for this
stuff oh I will let me message you one
stuff oh I will let me message you one
thing
k
e
e e
send you a quick
send you a quick
thing onboarding and I can start reading
thing onboarding and I can start reading
material ready by end of weekend awesome
material ready by end of weekend awesome
yeah I will just I'll have time to
yeah I will just I'll have time to
onboard you pretty much whenever this is
onboard you pretty much whenever this is
stable like anytime we're both on um
stable like anytime we're both on um
yeah I mean there's not like a ton to
yeah I mean there's not like a ton to
onboard you want to as much as just like
onboard you want to as much as just like
you know some thoughts on how I approach
you know some thoughts on how I approach
things you're going to know most of this
things you're going to know most of this
stuff from this stream uh anyways it's
stuff from this stream uh anyways it's
just going to be like some things I'm
just going to be like some things I'm
thinking about in this base and like
thinking about in this base and like
stuff that I'm looking at here I'll on
stuff that I'm looking at here I'll on
board you for that project specifically
board you for that project specifically
as well uh that one I think will take
as well uh that one I think will take
it'll take them a little bit but we can
it'll take them a little bit but we can
probably start prototyping
probably start prototyping
already yeah we can probably start
already yeah we can probably start
prototyping already the only thing
prototyping already the only thing
that's a little tricky is I'd really
that's a little tricky is I'd really
like to do it the way that I did TCG and
like to do it the way that I did TCG and
Robo code and stuff where I at least
Robo code and stuff where I at least
have some time to go put in the basic
have some time to go put in the basic
infrastructure first so I give you some
infrastructure first so I give you some
guide rails on things um rather than
guide rails on things um rather than
having to make you figure out the data
having to make you figure out the data
structures I think that will result in
structures I think that will result in
less pain down the
line though hey your codee's getting
line though hey your codee's getting
pretty darn good
pretty darn good
so there will be little left to teach
so there will be little left to teach
you very
you very
soon at least on that side
honestly Kudos there I would be uh way
honestly Kudos there I would be uh way
way way too stubborn to take input and
way way too stubborn to take input and
incorporate it that
quickly well it took me 10 years to
quickly well it took me 10 years to
freaking learn what I'd
do all right I need to get data
I can Sim link it
right nah let's copy
it kilum on Tower in training AR
well the thing is messing with
well the thing is messing with
curriculum stuff on Tower climb is also
curriculum stuff on Tower climb is also
not necessarily the best idea because
not necessarily the best idea because
you have new somewhat fancy environment
you have new somewhat fancy environment
and new somewhat
and new somewhat
improvenet not a good combination
right you don't have a method that you
right you don't have a method that you
know should just work
for
e
e e
all
right
right
true [ __ ] around find out new M yeah I
true [ __ ] around find out new M yeah I
mean we actually have curriculum stuff
mean we actually have curriculum stuff
on the books now that is now officially
on the books now that is now officially
part of puffer's work and we've got a
part of puffer's work and we've got a
we've got somebody on that now as well
we've got somebody on that now as well
who just started so this stuff is all
who just started so this stuff is all
ramping up uh yeah this stuff is all
ramping up uh yeah this stuff is all
definitely ramping
definitely ramping
up I just got to get got to get through
up I just got to get got to get through
this thing I got to get through I have a
this thing I got to get through I have a
couple other potential meetings really
couple other potential meetings really
we just got to get a couple more these
we just got to get a couple more these
contracts on the books and uh rolling
contracts on the books and uh rolling
smoothly and uh that should help us push
smoothly and uh that should help us push
a lot the research because we'll be able
a lot the research because we'll be able
to start funding other stuff around this
space there's also the whole cluster
space there's also the whole cluster
shenanigans that I have to deal with
shenanigans that I have to deal with
soon
can't figure out what the path is
here for
okay resources
more e
s
smpl where is this
smpl where is this
thingy there it is
yep see you I'll be working I'm working
yep see you I'll be working I'm working
kind of slow
kind of slow
today pretty
today pretty
tired but I am working
yeah yeah I'm realizing as much as stuff
yeah yeah I'm realizing as much as stuff
I I've been doing local uh lately I
I I've been doing local uh lately I
actually need to get more hours out of
actually need to get more hours out of
myself to make
myself to make
everything run
everything run
smoothly so uh I don't know I figure
smoothly so uh I don't know I figure
some stuff
out I really wish I could figure out how
out I really wish I could figure out how
to maintain like 90 hour weeks without
to maintain like 90 hour weeks without
freaking just like getting super tired
freaking just like getting super tired
and dropping
and dropping
productivity but it's pretty tough to do
productivity but it's pretty tough to do
that as it turns out
what's happened here
I thought I gave you the
data
hello
um oh this is the wrong file
aeral so where's this thing get
called environment.
P I
P I
see off
see off
Li stop
Li stop
morph humanoid pH see import
this number of bodies in asset
file resources
I see failed to
load okay so that asset file is
there resource is Mor smpp
humanoid fail to load
huh
huh
s.
s.
oh hang
oh hang
on what's
on what's
this if I replace this with DOT
there we
go now we're back at
this probably same
thing also should keep puffer up on the
thing also should keep puffer up on the
left side so that I know if I have any
left side so that I know if I have any
support
requests luckily our users are taking
requests luckily our users are taking
care of stuff very
nice we Sol very
nice for
empty so
presumably presumably this is
screwing sample
data well yeah I'm just missing the
data well yeah I'm just missing the
freaking file du
wait how did it get
there let me
there let me
um you know that's a little bit uh it's
um you know that's a little bit uh it's
a little
suspicious okay so this is in humanoid
load motion self. motion
file okay that's not necessarily bad
so this is just going to be resources
so this is just going to be resources
War
uh
copy e
still
still
not
okay
oops
for
e e
morph
that
it
it
resources s
MP okay
this is in Motion Lab
650 resources
morph SM new neutral
pickle indeed it is not there
nope
nope
jez okay so where is this bloody thing
maybe I got to go look at the
original body model
okay phc data
okay phc data
smpp how do I miss that
because it doesn't freaking exist
lovely
um where's the stupid data
okay
okay
idea I bet I know where I can find the
data what
hold on
okay sign
okay sign
[Music]
in
e e
oh cuz then I have to move this as well
oh cuz then I have to move this as well
okay I got you
there we
go Jesus
go Jesus
this how big are these stupid
this how big are these stupid
files why are they that
large this
silly
e
e
e e
yay it
works very nice
effect equal
native uh okay so this is messed
native uh okay so this is messed
up this should be 1
up this should be 1
n
n
workers one and then internally
workers one and then internally
num we'll do 32 for testing like this
yeah input them action them
this so they're more recognizable
section n already
section n already
exists oh this Auto completed
garbage inspect
garbage inspect
keyword I do it wrong
am input
demm
this hey how's it going it's going we
this hey how's it going it's going we
are currently attempting to get this
are currently attempting to get this
trainer
trainer
running on this ported version of uh
running on this ported version of uh
some Isaac Jim code so this is high
some Isaac Jim code so this is high
dimensional continuous control
uh okay forward function
gotcha I think I should just be able to
gotcha I think I should just be able to
copy
this oh
yep that's all we need
and yeah perfect this is where we get
and yeah perfect this is where we get
the input
shapes so this
is 934
recently watched your full reinforcement
recently watched your full reinforcement
learning ice per video was great thank
learning ice per video was great thank
you yeah I put a lot of work into that
you yeah I put a lot of work into that
one it didn't take off nearly as much as
one it didn't take off nearly as much as
my uh my thesis did but hopefully it's a
my uh my thesis did but hopefully it's a
good reference I also have recently put
good reference I also have recently put
out a quick start
out a quick start
guide uh which has you know my thoughts
guide uh which has you know my thoughts
on important areas to look at and the
like that's on Puffer doai
like that's on Puffer doai
as well as on my
X has no attribute decode actions really
X has no attribute decode actions really
it
should ah just a
typo we' made a good bit of progress
typo we' made a good bit of progress
since that Iceberg video
for
sure this is just API shenanigans
let's see about this
okay so let's I think I have to check
okay so let's I think I have to check
the original for
this they do something very weird
this they do something very weird
here uh okay action mean action
decoder yeah so they take X of
decoder yeah so they take X of
this right action standard
this right action standard
deviation they take
X for
normal object not it
rable again probably just API Shen
rable again probably just API Shen
[Music]
Shenanigans let's see how I do it in the
Shenanigans let's see how I do it in the
default
default
net so decode
actions props batch
actions props batch
uh this
uh this
probably is
continuous yeah I kind of forgot about
continuous yeah I kind of forgot about
that is
continuous is
continuous is
continuous really
now it should get picked up
maybe okay this one's
expected 5
10 action dim is 69 for
well we'll see if it's doing anything
well we'll see if it's doing anything
we'll give it a
we'll give it a
minute grab restream in the
meantime we got some folks on YouTube
meantime we got some folks on YouTube
well
welcome yay it
welcome yay it
runs okay we actually have it running
runs okay we actually have it running
um 91% in the end of course we have a
um 91% in the end of course we have a
very small end batch size so that's
very small end batch size so that's
going to happen it will be much faster
going to happen it will be much faster
once that is
once that is
fixed but but yeah this actually looks
fixed but but yeah this actually looks
like it
like it
runs now this is not a fun time
here yeah that's not a fun time
here yeah that's not a fun time
here but it does it does actually
start okay so then the next thing here
start okay so then the next thing here
is going to be figuring out hyper
is going to be figuring out hyper
parameters figuring out sizing and stuff
parameters figuring out sizing and stuff
and then integrating the other port of
and then integrating the other port of
the train curve or the training process
the train curve or the training process
that we have currently missed I'm going
that we have currently missed I'm going
to take two minutes to grab a drink I
to take two minutes to grab a drink I
will be right back and then we will
continue
e
e
e
e
e e
okay we're back
so we'll take these
now does the filter pick up the
now does the filter pick up the
chair the chair
chair the chair
squeaking hopefully
not a little bit of it sometimes
all
all
right here's a
config I don't think this is the one
config I don't think this is the one
that we care about
config
train
controls and okay this looks more
correct am batch
correct am batch
size am mini batch size
size am mini batch size
what the
what the
hell they also have a replay buffer on
hell they also have a replay buffer on
PO which presumably means that they have
PO which presumably means that they have
no idea how po
no idea how po
Works
Works
um so that's an interesting
um so that's an interesting
one weight Decay reward
scale I wonder if that's like 512
scale I wonder if that's like 512
trajectories or something
trajectories or something
mini Bap size of 4096 wouldn't be
terrible Let's
terrible Let's
do let's try this so this is going to be
4096 uh they do mini Epoch of six that's
4096 uh they do mini Epoch of six that's
a little
a little
sketchy Horizon length
sketchy Horizon length
Lambda looks to
Lambda looks to
be95 I assume that's not tuned at
be95 I assume that's not tuned at
all and then they got a clip coefficient
all and then they got a clip coefficient
ah that is horrid what are you
ah that is horrid what are you
doing
4.2 V
4.2 V
loss unless I see this in here I'm going
loss unless I see this in here I'm going
to leave this at
to leave this at
0.5 two as
0.5 two as
well
well
five
five
entropy 0.0 is
interesting learning rate
that's did I miss
that's did I miss
anything
Advantage they do have a learn rate
Advantage they do have a learn rate
schedule but we don't
care okay this Max Brad Norm I'm going
care okay this Max Brad Norm I'm going
to increase it to 1.0 just for the heck
to increase it to 1.0 just for the heck
of it but this is just stupid like this
of it but this is just stupid like this
is stupid I don't know why you would do
is stupid I don't know why you would do
this like this tells me that you don't
this like this tells me that you don't
understand what the hell you're
doing and then they have all this weight
doing and then they have all this weight
Decay and stuff
Decay and stuff
so we will start with
this let's do 128 m
this let's do 128 m
so we get a little bit
of
feedback probably do it up to 512
feedback probably do it up to 512
without loading taking forever
morning how's it going
all right what's up with the K
here happens some k it
SS
XL
XL
oops we'll just go right
oops we'll just go right
here we'll see what's up
is all my
way I always forget my damn supplements
if you put it on the last line it breaks
if you put it on the last line it breaks
my
bad I'd like to get some sort of St
bad I'd like to get some sort of St
training
training
curves and then we'll pipe over the
curves and then we'll pipe over the
infos to the main environment so we can
infos to the main environment so we can
actually get
actually get
logs we'll see if we get this running at
logs we'll see if we get this running at
a reasonable
a reasonable
rate we will go from
there it's nice to actually be getting
there it's nice to actually be getting
this into puffer Li properly though like
this into puffer Li properly though like
at least we have a portion of the code
at least we have a portion of the code
that we know doesn't suck
okay so on the first update the KL
okay so on the first update the KL
should be zero if the K is not zero you
should be zero if the K is not zero you
have gone
have gone
insane maybe some of our other numbers
insane maybe some of our other numbers
are weird
are weird
though EEG loss is
though EEG loss is
nothing entropy
loss uh is gigantic but we are not using
loss uh is gigantic but we are not using
entropy
the loss is 22 and that matches what we
the loss is 22 and that matches what we
expect well actually I think this does
expect well actually I think this does
match the original train
curves
curves
now EG losses that's high for policy
now EG losses that's high for policy
loss especially after one
loss especially after one
update uh let's see
update uh let's see
clip
clip
rack
clip 995 yeah so that is crazy crazy
clip 995 yeah so that is crazy crazy
clipping
clipping
let's figure this out so we
let's figure this out so we
got
new log
prob log
probs
um
why why is this data scaled this way
for comp uh for comparison if I were to
for comp uh for comparison if I were to
just
take do this
-33 yep
right and then you've got some small
right and then you've got some small
changes
this is a continuous problem
this is a continuous problem let's see
this is a continuous problem let's see
the predictions coming out of the model
oops
okay these are very like
reasonable yeah so these are very
reasonable yeah so these are very
reasonable numbers
reasonable numbers
here so how does this get turned
here so how does this get turned
into into something
else sample
logits and actually we want to go right
logits and actually we want to go right
here
okay
okay
so robs
logs.
log VI
back okay so this is what you
get and then yeah if you sum that you're
get and then yeah if you sum that you're
going to get a big
number so it's actually reasonable it's
number so it's actually reasonable it's
just that there's a giant dimensional
just that there's a giant dimensional
action
action
space let me see if I actually handled
space let me see if I actually handled
this the way that uh that clean RL
this the way that uh that clean RL
does though I don't know if uh I don't
does though I don't know if uh I don't
know how much work cost is done in that
know how much work cost is done in that
space so that one might not be perfect
space so that one might not be perfect
either it seems like I think this
either it seems like I think this
matches the original pretty well
po continuous
action yeah do
some that's
interesting so yeah I mean that's going
interesting so yeah I mean that's going
to produce
um it's kind of weird that you some that
um it's kind of weird that you some that
isn't
it it's kind of
weird because yeah what's going to
weird because yeah what's going to
happen with this right
you're going to
you're going to
produce big log
probs then you're going to take EXP
how does this make any
sense I mean I think this is a PO
sense I mean I think this is a PO
problem more than uh anything like or
problem more than uh anything like or
sample
sample
problem but that doesn't make sense to
problem but that doesn't make sense to
me why would you
me why would you
sum why would you sum Logics like that
sum why would you sum Logics like that
then take a difference and then
exp if you take a difference of means
exp if you take a difference of means
you'd actually get something reasonable
you'd actually get something reasonable
here
well technically hold on why is the the
well technically hold on why is the the
difference so
difference so
big okay this is going to be nothing for
big okay this is going to be nothing for
the first iteration
the first iteration
right and now it's
gigantic CU you have new log
gigantic CU you have new log
CR you have log
CRS why why are they so
different hey what are you
different hey what are you
changing oh at the moment I'm just
changing oh at the moment I'm just
testing Isaac Jim stuff
testing Isaac Jim stuff
man this at the moment there does seem
man this at the moment there does seem
to be a very weird Quirk though with um
to be a very weird Quirk though with um
this would only affect High dimensional
this would only affect High dimensional
continuous control not low dimensional
continuous control not low dimensional
but because you're summing and it would
but because you're summing and it would
also affect I think the same thing for
also affect I think the same thing for
um high dimension multi- discreet but it
um high dimension multi- discreet but it
looks like you're summing the log probs
looks like you're summing the log probs
which leads you to these crazy K
which leads you to these crazy K
differences though I can't
tell it does seem like the actual
tell it does seem like the actual
actions are changing dramatically as
actions are changing dramatically as
well it's very
weird e
and on log
props okay so you have the original from
props okay so you have the original from
here so from before the
here so from before the
update so is this just applying a
update so is this just applying a
massive update is that's what's
massive update is that's what's
happening
yeah no I think this is some screwy
yeah no I think this is some screwy
thing with their settings let me
see 2 eus 5 is very reasonable for a
see 2 eus 5 is very reasonable for a
learning rate though
um I don't see anything in here that I'm
um I don't see anything in here that I'm
like I look at and say no
like I look at and say no
wrong there's nothing
obvious they had some Norms I think in
obvious they had some Norms I think in
there that
yes nor Advantage normalization is on
let me look at their original
let me look at their original
normalization to see what things they
normalization to see what things they
were let's see what things they were
were let's see what things they were
normalizing
impulse war is up to 5.5k
gez and do you think I won't be able to
gez and do you think I won't be able to
cut substantial lines of code off with
cut substantial lines of code off with
this yes
what do you think the odds are that if
what do you think the odds are that if
you had your own box 2D
you had your own box 2D
file I bet you if you had your own box
file I bet you if you had your own box
2D file that worked the way that you
2D file that worked the way that you
want you'd be able to make the code plus
want you'd be able to make the code plus
that box 2D file less than the length of
that box 2D file less than the length of
the code that you have now not including
the code that you have now not including
box 2D
now it's mostly how you want it
now it's mostly how you want it
really
H shouldn't be a particularly heavy
H shouldn't be a particularly heavy
physics end
fix bugs I
fix bugs I
see h i mean I will have to look through
see h i mean I will have to look through
that that I will have to allocate quite
that that I will have to allocate quite
a bit of time to 5.5 is
a bit of time to 5.5 is
uh I mean that's like you're getting up
uh I mean that's like you're getting up
to the up to twice the length of neural
to the up to twice the length of neural
MMO
3 my policy code
4% utal and what steps per
second that's not necessarily bad it
second that's not necessarily bad it
depends what your training rate yeah
depends what your training rate yeah
250k is a little slow
I mean 250k absolutely mogs like 90 more
I mean 250k absolutely mogs like 90 more
than 95% of academic and Industry RL
than 95% of academic and Industry RL
researchers but by puffer standards it's
researchers but by puffer standards it's
uh a little slow
they Norm the
OBS interesting
it's
it's
[Music]
[Music]
not I mean I'll probably be able to find
not I mean I'll probably be able to find
some stuff but sure
I owe too many people code like looks at
I owe too many people code like looks at
their code at the
their code at the
moment but I have to finish this
moment but I have to finish this
contract
yeah so that just means that you are
yeah so that just means that you are
bound by
uh well that's weird cuz that doesn't
uh well that's weird cuz that doesn't
match the 4% that you said
I think what to look for
I think what to look for
here probably
Norm they normalize anything
else what's your Val for pass batch
size your eval Ford pass batch size is
131k you have 131,000 agents
okay
okay
1024 might be a little low sometimes you
1024 might be a little low sometimes you
get some speed from 4096 depends on your
get some speed from 4096 depends on your
policy size but probably 1024 should be
policy size but probably 1024 should be
decently fast double check that usually
decently fast double check that usually
eval being slow is a bad batch size
well
well
yeah I mean just see if that's the
reason you know in practice we just I
reason you know in practice we just I
throw that into a sweep
throw that into a sweep
sometimes and then uh The Sweep can
sometimes and then uh The Sweep can
figure out whether it's worth paying the
figure out whether it's worth paying the
you know the Horizon
price okay so they're just clipping
their yeah they're just clipping value
their yeah they're just clipping value
and policy
what's this scaler the scaler is because
what's this scaler the scaler is because
ofp right
let me see what this is what I can do
let me see what this is what I can do
about this oh
about this oh
hey so I've got this thing running
hey so I've got this thing running
without the uh the dis or anything
yet but uh I'm trying to figure out why
yet but uh I'm trying to figure out why
the
the
KL cuz like they have some stuff in
KL cuz like they have some stuff in
there that obviously makes no sense with
there that obviously makes no sense with
the gradient magnitudes
the gradient magnitudes
right I'm trying to figure out what's up
right I'm trying to figure out what's up
with their
KL their uh their stats just change too
KL their uh their stats just change too
much from Epoch to Epoch it seems
much from Epoch to Epoch it seems
I it's very
odd I mean so initially right
all damn it I did the thing again you
all damn it I did the thing again you
have to put
um stupid there's this annoying
um stupid there's this annoying
breakpoint
breakpoint
bug python
I guess we could clip the value
I guess we could clip the value
loss maybe do we not have that
enabled oh this is
enabled oh this is
enabled but it doesn't seem to be
enabled but it doesn't seem to be
getting clipped very much
oh it
oh it
is okay so first update we've got very
is okay so first update we've got very
small policy
small policy
loss we've
got entropy loss but config and
got entropy loss but config and
PO is uh zero
so we don't care about
so we don't care about
that and I set VF Co up to like
that and I set VF Co up to like
so and they're separate networks as well
so and they're separate networks as well
so if I continue
so if I continue
here PG loss has exploded
here PG loss has exploded
right and clip r
right and clip r
is now almost
one because
log so this is our log
log so this is our log
problems then this is we've got new log
problems then this is we've got new log
problems
so I don't know what happened
here we can do a simple
model um would it be the op Norm I don't
model um would it be the op Norm I don't
have any Norms at all on this at the
have any Norms at all on this at the
moment I didn't think the obs
oh you know maybe the OBS are the issue
oh you know maybe the OBS are the issue
they're kind of
big do you know what are the uh the ones
big do you know what are the uh the ones
that can get that big like why would the
that can get that big like why would the
OBS be in the
50s cuz this like moving average norm is
50s cuz this like moving average norm is
kind of stupid
don't know
yet I mean I can just do
well dividing by 100 shouldn't
be let's see if let's see about this
now obviously you have to do it in the
now obviously you have to do it in the
other forward path so I probably screwed
other forward path so I probably screwed
this up
yeah no that doesn't
yeah no that doesn't
help I I you know I should probably do
help I I you know I should probably do
it in the uh in both of these because
it in the uh in both of these because
you can't you can't scale just
here here we're going to I'll leave that
here here we're going to I'll leave that
for now
gy fetch
results I was just getting observation
results I was just getting observation
data anyways
I don't see
I don't see
um K I don't see observations in Step
here look at the binding
but this doesn't get past observations
right
so
oh my
oh my
bad okay
simulate and fetch results as there
simulate and fetch results as there
compute observations
and I would love to find the observation
and I would love to find the observation
function in here
somewhere here it is
y
all right so none of this state is
all right so none of this state is
freaking normalized at
all
for e
trying to get a sense of like what the
trying to get a sense of like what the
heck they've done with this because you
heck they've done with this because you
know they did all this work to load in
know they did all this work to load in
the OBS and they still
the OBS and they still
suck so they didn't even get that
suck so they didn't even get that
right not supported in torch script get
right not supported in torch script get
out of here for
okay so there are five things in OBS
okay so there are five things in OBS
list
okay so it starts
with root AG
with root AG
OBS so OBS
OBS so OBS
list
list
Max
OBS this is
OBS this is
fine it's
fine it's
fine it's fine
fine it's fine
this is
this is
fine
fine
aha 1 two 3 four so local body angular
aha 1 two 3 four so local body angular
velocity
velocity not particularly well
velocity not particularly well
normalized either so it seems that they
normalized either so it seems that they
just straight up forgot to normalize
just straight up forgot to normalize
these two things
I'm going to just do over five and over
I'm going to just do over five and over
50 real quick just to see if that uh
50 real quick just to see if that uh
changes anything in the training
might go grab some lunch real
quick
e
e
e e
anyone
for e
how is this
broken I don't understand how this is
broken I don't understand how this is
broken
we'll fix this and then I'll break for
we'll fix this and then I'll break for
lunch so at least we can run it without
lunch so at least we can run it without
it
it
crapping even if the uh losses are
crapping even if the uh losses are
insane
SPS is
SPS is
zero
well how can SPS be zero
hang on that does not actually make that
hang on that does not actually make that
shouldn't be
shouldn't be
possible that might be there's something
possible that might be there's something
weird
there
e e
Z
SPS the up time is the same really
this got called twice somehow
this
inside hang
inside hang
on something screwy
oh this is too
late
e e
how do this happen
I'm confused how this has happened here
I'm confused how this has happened here
specifically with this
environment
for e
yeah so somehow oh this got to be a
yeah so somehow oh this got to be a
tensor
okay that's
stupid ah
that's really annoying okay
mask was getting stored as a freaking
mask was getting stored as a freaking
tensor so it was updating the
tensor so it was updating the
reference they should at least run
okay is nuts
all right well there will be uh more
all right well there will be uh more
work to do here but just normalizing the
work to do here but just normalizing the
OBS does not apparently fix
OBS does not apparently fix
it let me undo that before I forget to
it let me undo that before I forget to
undo it
but yeah
but yeah
for this thing about off by
for this thing about off by
550 doesn't seem to be the main
issue this length is really weird as
issue this length is really weird as
well but we definitely have some stuff
well but we definitely have some stuff
screwy
here this is going up I don't know if
here this is going up I don't know if
it's substantial at all but anyways I'm
it's substantial at all but anyways I'm
going to go get some lunch I'll be back
going to go get some lunch I'll be back
in a bit uh thanks for tuning in folks
in a bit uh thanks for tuning in folks
and if you want to
and if you want to
follow any of my stuff where we're
follow any of my stuff where we're
usually working on things on a much
usually working on things on a much
faster Pace than this all this messy
faster Pace than this all this messy
code puffer doai all of our
code puffer doai all of our
environments star the GitHub really
environments star the GitHub really
helps us Discord if you want to get
helps us Discord if you want to get
involved and then you can follow me on
involved and then you can follow me on
access well for more RL content thank
access well for more RL content thank
you and see you soon

Kind: captions
Language: en
okay we are
live I got some stuff to
do quite some stuff to to
do e
okay so we have the agent
okay so we have the agent
here this is just a transcript right
yeah this is just an obnoxious
yeah this is just an obnoxious
transcript
play
okay you can see that most of this stuff
okay you can see that most of this stuff
is just garbage right
this is somewhat better but still
this is somewhat better but still
stupid
stupid
um and then this comes from
um and then this comes from
what train
what train
info init tensors collect data
I mean the key thing here right
is I think this is
is I think this is
just did they write all of this specific
just did they write all of this specific
or is this just no this isn't just RL
or is this just no this isn't just RL
games so this is
dis
Closs I think some of these aren't used
Closs I think some of these aren't used
right
right
this
this
pause this is
used Okay so I roughly understand what's
used Okay so I roughly understand what's
in here now
let me
look migrate to Puffer
so this
so this
is this is just a wrapper
am data set
prescription no idea oops my camera's
frozen I think it's like a three or a
frozen I think it's like a three or a
four negative3 org4 something like that
okay so they have this weird thing for
okay so they have this weird thing for
RNN
States see the weird thing about this is
States see the weird thing about this is
um
um
I can't tell if this actually does
I can't tell if this actually does
anything because this
anything because this
doesn't well subclasses data set does
doesn't well subclasses data set does
this thing actually
this thing actually
have maybe this thing actually does hold
have maybe this thing actually does hold
the
the
data I can't tell if it's just a fancy
data I can't tell if it's just a fancy
sampler or
not battle one what the
hell okay this is some weird RL games
hell okay this is some weird RL games
thing
and which one did
we humanoid phc
wait humanoid
phc okay so this
phc okay so this
is at least this is the mostly some of
is at least this is the mostly some of
the code that I did but then there's
the code that I did but then there's
like it's doubled in
length let me see if I can at least
length let me see if I can at least
figure out what portions have
figure out what portions have
gotten larger
here Christ
almighty most of this is the same
okay this is still mostly the
okay this is still mostly the
same this changed a bit but it's about
same this changed a bit but it's about
the
the
same uh there's some extra Collision
same uh there's some extra Collision
data here and a more complex PD scale
okay so now here we get to new stuff so
okay so now here we get to new stuff so
there's this load
motion
e e
stuff like this is really
silly okay so it's a bunch of stuff on
silly okay so it's a bunch of stuff on
rewards and um rewards for motion and
rewards and um rewards for motion and
here's the demo
here's the demo
code and sort of as sued it mostly kind
code and sort of as sued it mostly kind
of just doesn't do
of just doesn't do
anything it's just really bloated
looking I'm trying to think like I need
looking I'm trying to think like I need
I need like a way to push this stuff
I need like a way to push this stuff
forward in the first place
and this ultimately does just give you
and this ultimately does just give you
rewards and
such I mean I think that the goal
here e
I don't know why I have these on
either e
so aside from the Norms here
right how much is there
I don't think there's a lot in here
I don't think there's a lot in here
that's not just
that's not just
po just written really
po just written really
stupidly this is
po this is stats
and the only thing that's uh a little
and the only thing that's uh a little
different I think
are they missing
J I didn't see J anywhere
J I didn't see J anywhere
but who knows
so critic
entropy action and then there's this
entropy action and then there's this
bounds
bounds
loss which
loss which
[Music]
is yeah so they added two extra weird
is yeah so they added two extra weird
losses
this one and
then this one which is more
complex
okay
for e
is still uses a ton of [ __ ] as the
is still uses a ton of [ __ ] as the
problem
this uses so much
[ __ ]
e e
so they have um comingled a bunch of
so they have um comingled a bunch of
stuff here
what's wrong with these
people I genuinely don't know
we can take this piece
what is the torch
pile fine I'll just grab any of
them a simpler one
it's just demoralizing when there's this
it's just demoralizing when there's this
much shitty code to deal
much shitty code to deal
with it's just like you know how do you
with it's just like you know how do you
even manage to do this
even manage to do this
man what are you doing stop it
and why is this inting with pams what
and why is this inting with pams what
what's wrong with you
I don't know what's wrong with these
I don't know what's wrong with these
people trying to make everything
people trying to make everything
freaking configurable as well
yeah we'll just do
this for
big
Sigma what is this
what what the hell is this thing used
for what
like
what phc uses a fixed
Sigma we're going to have to chat with
Sigma we're going to have to chat with
Jung later because this [ __ ] makes no
Jung later because this [ __ ] makes no
freaking sense
[Music]
programming and building stuff is a ton
programming and building stuff is a ton
of fun when you're working with good
code programming around bad code is a
code programming around bad code is a
special form of
torture
e e
so neither of these are the way I would
so neither of these are the way I would
expect it to be which is lovely
B config so I think we should just get
B config so I think we should just get
that config up somewhere so we can
that config up somewhere so we can
figure this
out
for
e e
crazy did not even be able to find that
crazy did not even be able to find that
config in the stupid thing
a constant of -2.9
really they actually have reasonable MLP
really they actually have reasonable MLP
in some of
these and they fix the sigma on like
these and they fix the sigma on like
everything
yeah it's just 2.9 I don't know why we
yeah it's just 2.9 I don't know why we
need to have both of these things around
need to have both of these things around
if we're not going to use it ever
now
and then this is am input shape
that's funny
we do encode observations
doesn't seem
doesn't seem
like this disc thing is used except in
like this disc thing is used except in
the
the
loss so I can do encode
observations and I can just
do which is going to be
okay
wait why are you doing this on oh cuz
wait why are you doing this on oh cuz
decode this is decode okay I see so this
is
is
turn
turn
n decode actions
we
do log standard deviation
okay so we do
that now this is no longer needed
right and then this is disc
dis MLP and dis logits
and I don't know what the heck they
and I don't know what the heck they
would possibly be using this
would possibly be using this
for get
this they have weird logic
this they have weird logic
regularization of course they do
and we'll leave the rest of it
alone so that's like an initial first
alone so that's like an initial first
pass at this
pass at this
thing you need to
thing you need to
end the signature
and then we need to get
and then we need to get
the we need to get the environment into
the we need to get the environment into
here
the environment is freaking nuts
though
e e
you kind of need puel right
okay so what we'll do
is can actually just do
stop HC route
for
body Model
D for
I want
these okay so we you going to do
these okay so we you going to do
this this goes up here
all right I'm starting to wake up a
bit this is feeling
approachable this thing doesn't have a
buffer actually I think what we do
buffer actually I think what we do
is yeah I know so there there's little
is yeah I know so there there's little
EP grapher that young made I think
EP grapher that young made I think
right let me find
it yeah so this is what we want here
it yeah so this is what we want here
right
oops silly
me you missed end fre
maybe
maybe
make
make
name Mars
okay so something like this there going
okay so something like this there going
be a lot of debugging involved but this
be a lot of debugging involved but this
is getting to be
is getting to be
clearer so now we've got environment no
clearer so now we've got environment no
PhD the Motion Lab
PhD the Motion Lab
Network end
you
see okay so this is it
we will get to this end
render okay this doesn't use anything
render okay this doesn't use anything
else cool
and we got our
policy what else am I
policy what else am I
missing we got the do in
here this is just puel
yeah so this is not loaded in
yet yeah I'm pretty sure this is
yet yeah I'm pretty sure this is
literally just
literally just
um just
puel policy we already got right
puel policy we already got right
oh wait what did I miss
this
interesting we definitely want the
any for
back
okay good we're still on
this
for
e e
yeah so this is a small
yeah so this is a small
[Music]
custom small custom parser
I think I already I just start like
I think I already I just start like
debugging this thing madly until it
debugging this thing madly until it
works I mean until it runs at
works I mean until it runs at
least so
y there we
go we do have n creator
coer li.
torch I thought I had a UTS
was it in clean
RL where's freaking layer in it I use
RL where's freaking layer in it I use
this thing everywhere don't
I upper Li pie
torch all forgot I did that to avoid
torch all forgot I did that to avoid
name
conflicts for
okay now we're getting
quars perfect
file has self Collision
a damn and it wants this config
a damn and it wants this config
file let me see what K did
oh this isn't
oh this isn't
bad I think it's just this
bad I think it's just this
right and he
passes why don't we just look at
passes why don't we just look at
it
for
e
e e
and Rob okay so I see what it is this is
and Rob okay so I see what it is this is
fine I'm a little tired today so my
fine I'm a little tired today so my
brain sometimes just skips some seconds
brain sometimes just skips some seconds
I don't know hey
welcome we're getting some hard stuff
welcome we're getting some hard stuff
done
done
today how it's going
I think this will just be
I think this will just be
fine and and
robot okay so this is super easy this is
robot okay so this is super easy this is
just going to
just going to
be also can we not standardize on double
be also can we not standardize on double
quotes if we're going to standardize on
quotes if we're going to standardize on
something please you're killing me
here single quotes
here single quotes
please they just look nice
oh kung's
oh kung's
up rise and shine time for code
let me
let me
join sure
does X chat have heavy
does X chat have heavy
filters I think some of these have like
filters I think some of these have like
link filters or something that are built
link filters or something that are built
in uh and yeah it will sometimes eat
in uh and yeah it will sometimes eat
messages it's kind of weird I do not
messages it's kind of weird I do not
have any extra filtering enabled on my
have any extra filtering enabled on my
end anywhere that I'm aware of and I've
end anywhere that I'm aware of and I've
looked a couple times at
least yeah but the thing today is H
least yeah but the thing today is H
integrating integrating
integrating integrating
some robotic Sim type work with
some robotic Sim type work with
puffer and dealing with the outcome of
puffer and dealing with the outcome of
that uh Hey
that uh Hey
K youve been busy I take
it I read through a bunch the stuff and
it I read through a bunch the stuff and
I think we'll be all right with
this if we can get clean
this if we can get clean
puffer yeah that's the goal so but the
puffer yeah that's the goal so but the
thing is at the moment right you've got
thing is at the moment right you've got
all this code like as a standalone with
all this code like as a standalone with
puffer lib vendored in so what I want to
puffer lib vendored in so what I want to
do is I want to get this thing into
do is I want to get this thing into
puffer lib itself uh not like just like
puffer lib itself uh not like just like
pulled out the clean puffer script so
pulled out the clean puffer script so
I'm getting the end bindings and such in
I'm getting the end bindings and such in
into puffer now and then uh clean puff
into puffer now and then uh clean puff
RL like the main level script it'll just
RL like the main level script it'll just
be a fork I'm not a fork it'll just be a
be a fork I'm not a fork it'll just be a
branch that has the extra clean puffer
branch that has the extra clean puffer
changes and then we'll figure out you
changes and then we'll figure out you
know if they're like specific licensing
know if they're like specific licensing
on specific utils we'll figure that
on specific utils we'll figure that
out but um yeah otherwise if we don't do
out but um yeah otherwise if we don't do
that then it's pretty difficult to keep
that then it's pretty difficult to keep
different repos synced up
different repos synced up
I mean plus you know you get access to
I mean plus you know you get access to
new puffer tools if you just merge stuff
new puffer tools if you just merge stuff
in like I'm going to want this to be
in like I'm going to want this to be
able to use our ablations like our hyper
able to use our ablations like our hyper
pram sweep stuff when that's done in a
pram sweep stuff when that's done in a
week or
week or
two motion
two motion
data
data
right
right
uh data files
yeah but we we don't have to we're not
yeah but we we don't have to we're not
going to merge like the amp
going to merge like the amp
discriminator and stuff into the main
discriminator and stuff into the main
Puffer that can stay on a branch but
Puffer that can stay on a branch but
what we can do is we can get the N code
what we can do is we can get the N code
merged up right so everything is there
merged up right so everything is there
and then just the portion that will be
and then just the portion that will be
the fork for this project is just going
the fork for this project is just going
to be some changes to clean puffer out
to be some changes to clean puffer out
right so that's like the goal is to have
right so that's like the goal is to have
a minimal diff right a minimal diff from
a minimal diff right a minimal diff from
the main repo uh so it's pretty easy to
the main repo uh so it's pretty easy to
keep stuff
synced I mean all that requires is like
synced I mean all that requires is like
moving the code in making sure like it
moving the code in making sure like it
runs and then making sure stuff doesn't
runs and then making sure stuff doesn't
Auto Import right whenever you load in
Auto Import right whenever you load in
puffer Li that like breaks if you don't
puffer Li that like breaks if you don't
have the right dependencies it's not
have the right dependencies it's not
that
hard you can see I've got your code like
hard you can see I've got your code like
sort
sort
of uh one just like all the files in
of uh one just like all the files in
here and I've been working
here and I've been working
on I got an initial Network o not this
one clean in the M yeah that's fine so
one clean in the M yeah that's fine so
anything that you want to clean up in
anything that you want to clean up in
the M assuming you mean humanoid phc I
the M assuming you mean humanoid phc I
just pasted that file so that's fine so
just pasted that file so that's fine so
I'll work on integration stuff and
I'll work on integration stuff and
anything that you do should be pretty
anything that you do should be pretty
easy CU it's just fixing a bunch of
easy CU it's just fixing a bunch of
imports and then fixing
signatures but yeah we absolutely want
signatures but yeah we absolutely want
to get the data that we care about
to get the data that we care about
loaded in the goal I think a good goal
loaded in the goal I think a good goal
for today or tomorrow would be to have
for today or tomorrow would be to have
have the whole thing running in puffer
have the whole thing running in puffer
such that we can see the output the
such that we can see the output the
output generated and look at that did
output generated and look at that did
you end up finding the 3D puffer no I
you end up finding the 3D puffer no I
got to find that guy for you I think I
got to find that guy for you I think I
might have to message upw work I have it
might have to message upw work I have it
on the other computer for sure but I
on the other computer for sure but I
might have to message upwork if I want
might have to message upwork if I want
to get it earlier than
to get it earlier than
that I will do do that though because we
that I will do do that though because we
now have multiple 3D environment
now have multiple 3D environment
projects oh uh also Spencer you were
projects oh uh also Spencer you were
interested in the GPU Drive stuff that
interested in the GPU Drive stuff that
is that looks like that's going to
is that looks like that's going to
proceed so um there will be a cool
proceed so um there will be a cool
project there uh with included
project there uh with included
authorship if you're interested in
authorship if you're interested in
joining that I will be helping them with
joining that I will be helping them with
a couple things over the next few days
a couple things over the next few days
as they finish up the paper and then
as they finish up the paper and then
it'll be that time for that um the stuff
it'll be that time for that um the stuff
I'm doing right now
I'm doing right now
will be done in a week a week in a day I
will be done in a week a week in a day I
think no actually less than a week six
think no actually less than a week six
days [ __ ] I got got to get cracking here
days [ __ ] I got got to get cracking here
um and then after that I could have a
um and then after that I could have a
bit more time for this
bit more time for this
stuff oh I will let me message you one
stuff oh I will let me message you one
thing
k
e
e e
send you a quick
send you a quick
thing onboarding and I can start reading
thing onboarding and I can start reading
material ready by end of weekend awesome
material ready by end of weekend awesome
yeah I will just I'll have time to
yeah I will just I'll have time to
onboard you pretty much whenever this is
onboard you pretty much whenever this is
stable like anytime we're both on um
stable like anytime we're both on um
yeah I mean there's not like a ton to
yeah I mean there's not like a ton to
onboard you want to as much as just like
onboard you want to as much as just like
you know some thoughts on how I approach
you know some thoughts on how I approach
things you're going to know most of this
things you're going to know most of this
stuff from this stream uh anyways it's
stuff from this stream uh anyways it's
just going to be like some things I'm
just going to be like some things I'm
thinking about in this base and like
thinking about in this base and like
stuff that I'm looking at here I'll on
stuff that I'm looking at here I'll on
board you for that project specifically
board you for that project specifically
as well uh that one I think will take
as well uh that one I think will take
it'll take them a little bit but we can
it'll take them a little bit but we can
probably start prototyping
probably start prototyping
already yeah we can probably start
already yeah we can probably start
prototyping already the only thing
prototyping already the only thing
that's a little tricky is I'd really
that's a little tricky is I'd really
like to do it the way that I did TCG and
like to do it the way that I did TCG and
Robo code and stuff where I at least
Robo code and stuff where I at least
have some time to go put in the basic
have some time to go put in the basic
infrastructure first so I give you some
infrastructure first so I give you some
guide rails on things um rather than
guide rails on things um rather than
having to make you figure out the data
having to make you figure out the data
structures I think that will result in
structures I think that will result in
less pain down the
line though hey your codee's getting
line though hey your codee's getting
pretty darn good
pretty darn good
so there will be little left to teach
so there will be little left to teach
you very
you very
soon at least on that side
honestly Kudos there I would be uh way
honestly Kudos there I would be uh way
way way too stubborn to take input and
way way too stubborn to take input and
incorporate it that
quickly well it took me 10 years to
quickly well it took me 10 years to
freaking learn what I'd
do all right I need to get data
I can Sim link it
right nah let's copy
it kilum on Tower in training AR
well the thing is messing with
well the thing is messing with
curriculum stuff on Tower climb is also
curriculum stuff on Tower climb is also
not necessarily the best idea because
not necessarily the best idea because
you have new somewhat fancy environment
you have new somewhat fancy environment
and new somewhat
and new somewhat
improvenet not a good combination
right you don't have a method that you
right you don't have a method that you
know should just work
for
e
e e
all
right
right
true [ __ ] around find out new M yeah I
true [ __ ] around find out new M yeah I
mean we actually have curriculum stuff
mean we actually have curriculum stuff
on the books now that is now officially
on the books now that is now officially
part of puffer's work and we've got a
part of puffer's work and we've got a
we've got somebody on that now as well
we've got somebody on that now as well
who just started so this stuff is all
who just started so this stuff is all
ramping up uh yeah this stuff is all
ramping up uh yeah this stuff is all
definitely ramping
definitely ramping
up I just got to get got to get through
up I just got to get got to get through
this thing I got to get through I have a
this thing I got to get through I have a
couple other potential meetings really
couple other potential meetings really
we just got to get a couple more these
we just got to get a couple more these
contracts on the books and uh rolling
contracts on the books and uh rolling
smoothly and uh that should help us push
smoothly and uh that should help us push
a lot the research because we'll be able
a lot the research because we'll be able
to start funding other stuff around this
space there's also the whole cluster
space there's also the whole cluster
shenanigans that I have to deal with
shenanigans that I have to deal with
soon
can't figure out what the path is
here for
okay resources
more e
s
smpl where is this
smpl where is this
thingy there it is
yep see you I'll be working I'm working
yep see you I'll be working I'm working
kind of slow
kind of slow
today pretty
today pretty
tired but I am working
yeah yeah I'm realizing as much as stuff
yeah yeah I'm realizing as much as stuff
I I've been doing local uh lately I
I I've been doing local uh lately I
actually need to get more hours out of
actually need to get more hours out of
myself to make
myself to make
everything run
everything run
smoothly so uh I don't know I figure
smoothly so uh I don't know I figure
some stuff
out I really wish I could figure out how
out I really wish I could figure out how
to maintain like 90 hour weeks without
to maintain like 90 hour weeks without
freaking just like getting super tired
freaking just like getting super tired
and dropping
and dropping
productivity but it's pretty tough to do
productivity but it's pretty tough to do
that as it turns out
what's happened here
I thought I gave you the
data
hello
um oh this is the wrong file
aeral so where's this thing get
called environment.
P I
P I
see off
see off
Li stop
Li stop
morph humanoid pH see import
this number of bodies in asset
file resources
I see failed to
load okay so that asset file is
there resource is Mor smpp
humanoid fail to load
huh
huh
s.
s.
oh hang
oh hang
on what's
on what's
this if I replace this with DOT
there we
go now we're back at
this probably same
thing also should keep puffer up on the
thing also should keep puffer up on the
left side so that I know if I have any
left side so that I know if I have any
support
requests luckily our users are taking
requests luckily our users are taking
care of stuff very
nice we Sol very
nice for
empty so
presumably presumably this is
screwing sample
data well yeah I'm just missing the
data well yeah I'm just missing the
freaking file du
wait how did it get
there let me
there let me
um you know that's a little bit uh it's
um you know that's a little bit uh it's
a little
suspicious okay so this is in humanoid
load motion self. motion
file okay that's not necessarily bad
so this is just going to be resources
so this is just going to be resources
War
uh
copy e
still
still
not
okay
oops
for
e e
morph
that
it
it
resources s
MP okay
this is in Motion Lab
650 resources
morph SM new neutral
pickle indeed it is not there
nope
nope
jez okay so where is this bloody thing
maybe I got to go look at the
original body model
okay phc data
okay phc data
smpp how do I miss that
because it doesn't freaking exist
lovely
um where's the stupid data
okay
okay
idea I bet I know where I can find the
data what
hold on
okay sign
okay sign
[Music]
in
e e
oh cuz then I have to move this as well
oh cuz then I have to move this as well
okay I got you
there we
go Jesus
go Jesus
this how big are these stupid
this how big are these stupid
files why are they that
large this
silly
e
e
e e
yay it
works very nice
effect equal
native uh okay so this is messed
native uh okay so this is messed
up this should be 1
up this should be 1
n
n
workers one and then internally
workers one and then internally
num we'll do 32 for testing like this
yeah input them action them
this so they're more recognizable
section n already
section n already
exists oh this Auto completed
garbage inspect
garbage inspect
keyword I do it wrong
am input
demm
this hey how's it going it's going we
this hey how's it going it's going we
are currently attempting to get this
are currently attempting to get this
trainer
trainer
running on this ported version of uh
running on this ported version of uh
some Isaac Jim code so this is high
some Isaac Jim code so this is high
dimensional continuous control
uh okay forward function
gotcha I think I should just be able to
gotcha I think I should just be able to
copy
this oh
yep that's all we need
and yeah perfect this is where we get
and yeah perfect this is where we get
the input
shapes so this
is 934
recently watched your full reinforcement
recently watched your full reinforcement
learning ice per video was great thank
learning ice per video was great thank
you yeah I put a lot of work into that
you yeah I put a lot of work into that
one it didn't take off nearly as much as
one it didn't take off nearly as much as
my uh my thesis did but hopefully it's a
my uh my thesis did but hopefully it's a
good reference I also have recently put
good reference I also have recently put
out a quick start
out a quick start
guide uh which has you know my thoughts
guide uh which has you know my thoughts
on important areas to look at and the
like that's on Puffer doai
like that's on Puffer doai
as well as on my
X has no attribute decode actions really
X has no attribute decode actions really
it
should ah just a
typo we' made a good bit of progress
typo we' made a good bit of progress
since that Iceberg video
for
sure this is just API shenanigans
let's see about this
okay so let's I think I have to check
okay so let's I think I have to check
the original for
this they do something very weird
this they do something very weird
here uh okay action mean action
decoder yeah so they take X of
decoder yeah so they take X of
this right action standard
this right action standard
deviation they take
X for
normal object not it
rable again probably just API Shen
rable again probably just API Shen
[Music]
Shenanigans let's see how I do it in the
Shenanigans let's see how I do it in the
default
default
net so decode
actions props batch
actions props batch
uh this
uh this
probably is
continuous yeah I kind of forgot about
continuous yeah I kind of forgot about
that is
continuous is
continuous is
continuous really
now it should get picked up
maybe okay this one's
expected 5
10 action dim is 69 for
well we'll see if it's doing anything
well we'll see if it's doing anything
we'll give it a
we'll give it a
minute grab restream in the
meantime we got some folks on YouTube
meantime we got some folks on YouTube
well
welcome yay it
welcome yay it
runs okay we actually have it running
runs okay we actually have it running
um 91% in the end of course we have a
um 91% in the end of course we have a
very small end batch size so that's
very small end batch size so that's
going to happen it will be much faster
going to happen it will be much faster
once that is
once that is
fixed but but yeah this actually looks
fixed but but yeah this actually looks
like it
like it
runs now this is not a fun time
here yeah that's not a fun time
here yeah that's not a fun time
here but it does it does actually
start okay so then the next thing here
start okay so then the next thing here
is going to be figuring out hyper
is going to be figuring out hyper
parameters figuring out sizing and stuff
parameters figuring out sizing and stuff
and then integrating the other port of
and then integrating the other port of
the train curve or the training process
the train curve or the training process
that we have currently missed I'm going
that we have currently missed I'm going
to take two minutes to grab a drink I
to take two minutes to grab a drink I
will be right back and then we will
continue
e
e
e
e
e e
okay we're back
so we'll take these
now does the filter pick up the
now does the filter pick up the
chair the chair
chair the chair
squeaking hopefully
not a little bit of it sometimes
all
all
right here's a
config I don't think this is the one
config I don't think this is the one
that we care about
config
train
controls and okay this looks more
correct am batch
correct am batch
size am mini batch size
size am mini batch size
what the
what the
hell they also have a replay buffer on
hell they also have a replay buffer on
PO which presumably means that they have
PO which presumably means that they have
no idea how po
no idea how po
Works
Works
um so that's an interesting
um so that's an interesting
one weight Decay reward
scale I wonder if that's like 512
scale I wonder if that's like 512
trajectories or something
trajectories or something
mini Bap size of 4096 wouldn't be
terrible Let's
terrible Let's
do let's try this so this is going to be
4096 uh they do mini Epoch of six that's
4096 uh they do mini Epoch of six that's
a little
a little
sketchy Horizon length
sketchy Horizon length
Lambda looks to
Lambda looks to
be95 I assume that's not tuned at
be95 I assume that's not tuned at
all and then they got a clip coefficient
all and then they got a clip coefficient
ah that is horrid what are you
ah that is horrid what are you
doing
4.2 V
4.2 V
loss unless I see this in here I'm going
loss unless I see this in here I'm going
to leave this at
to leave this at
0.5 two as
0.5 two as
well
well
five
five
entropy 0.0 is
interesting learning rate
that's did I miss
that's did I miss
anything
Advantage they do have a learn rate
Advantage they do have a learn rate
schedule but we don't
care okay this Max Brad Norm I'm going
care okay this Max Brad Norm I'm going
to increase it to 1.0 just for the heck
to increase it to 1.0 just for the heck
of it but this is just stupid like this
of it but this is just stupid like this
is stupid I don't know why you would do
is stupid I don't know why you would do
this like this tells me that you don't
this like this tells me that you don't
understand what the hell you're
doing and then they have all this weight
doing and then they have all this weight
Decay and stuff
Decay and stuff
so we will start with
this let's do 128 m
this let's do 128 m
so we get a little bit
of
feedback probably do it up to 512
feedback probably do it up to 512
without loading taking forever
morning how's it going
all right what's up with the K
here happens some k it
SS
XL
XL
oops we'll just go right
oops we'll just go right
here we'll see what's up
is all my
way I always forget my damn supplements
if you put it on the last line it breaks
if you put it on the last line it breaks
my
bad I'd like to get some sort of St
bad I'd like to get some sort of St
training
training
curves and then we'll pipe over the
curves and then we'll pipe over the
infos to the main environment so we can
infos to the main environment so we can
actually get
actually get
logs we'll see if we get this running at
logs we'll see if we get this running at
a reasonable
a reasonable
rate we will go from
there it's nice to actually be getting
there it's nice to actually be getting
this into puffer Li properly though like
this into puffer Li properly though like
at least we have a portion of the code
at least we have a portion of the code
that we know doesn't suck
okay so on the first update the KL
okay so on the first update the KL
should be zero if the K is not zero you
should be zero if the K is not zero you
have gone
have gone
insane maybe some of our other numbers
insane maybe some of our other numbers
are weird
are weird
though EEG loss is
though EEG loss is
nothing entropy
loss uh is gigantic but we are not using
loss uh is gigantic but we are not using
entropy
the loss is 22 and that matches what we
the loss is 22 and that matches what we
expect well actually I think this does
expect well actually I think this does
match the original train
curves
curves
now EG losses that's high for policy
now EG losses that's high for policy
loss especially after one
loss especially after one
update uh let's see
update uh let's see
clip
clip
rack
clip 995 yeah so that is crazy crazy
clip 995 yeah so that is crazy crazy
clipping
clipping
let's figure this out so we
let's figure this out so we
got
new log
prob log
probs
um
why why is this data scaled this way
for comp uh for comparison if I were to
for comp uh for comparison if I were to
just
take do this
-33 yep
right and then you've got some small
right and then you've got some small
changes
this is a continuous problem
this is a continuous problem let's see
this is a continuous problem let's see
the predictions coming out of the model
oops
okay these are very like
reasonable yeah so these are very
reasonable yeah so these are very
reasonable numbers
reasonable numbers
here so how does this get turned
here so how does this get turned
into into something
else sample
logits and actually we want to go right
logits and actually we want to go right
here
okay
okay
so robs
logs.
log VI
back okay so this is what you
get and then yeah if you sum that you're
get and then yeah if you sum that you're
going to get a big
number so it's actually reasonable it's
number so it's actually reasonable it's
just that there's a giant dimensional
just that there's a giant dimensional
action
action
space let me see if I actually handled
space let me see if I actually handled
this the way that uh that clean RL
this the way that uh that clean RL
does though I don't know if uh I don't
does though I don't know if uh I don't
know how much work cost is done in that
know how much work cost is done in that
space so that one might not be perfect
space so that one might not be perfect
either it seems like I think this
either it seems like I think this
matches the original pretty well
po continuous
action yeah do
some that's
interesting so yeah I mean that's going
interesting so yeah I mean that's going
to produce
um it's kind of weird that you some that
um it's kind of weird that you some that
isn't
it it's kind of
weird because yeah what's going to
weird because yeah what's going to
happen with this right
you're going to
you're going to
produce big log
probs then you're going to take EXP
how does this make any
sense I mean I think this is a PO
sense I mean I think this is a PO
problem more than uh anything like or
problem more than uh anything like or
sample
sample
problem but that doesn't make sense to
problem but that doesn't make sense to
me why would you
me why would you
sum why would you sum Logics like that
sum why would you sum Logics like that
then take a difference and then
exp if you take a difference of means
exp if you take a difference of means
you'd actually get something reasonable
you'd actually get something reasonable
here
well technically hold on why is the the
well technically hold on why is the the
difference so
difference so
big okay this is going to be nothing for
big okay this is going to be nothing for
the first iteration
the first iteration
right and now it's
gigantic CU you have new log
gigantic CU you have new log
CR you have log
CRS why why are they so
different hey what are you
different hey what are you
changing oh at the moment I'm just
changing oh at the moment I'm just
testing Isaac Jim stuff
testing Isaac Jim stuff
man this at the moment there does seem
man this at the moment there does seem
to be a very weird Quirk though with um
to be a very weird Quirk though with um
this would only affect High dimensional
this would only affect High dimensional
continuous control not low dimensional
continuous control not low dimensional
but because you're summing and it would
but because you're summing and it would
also affect I think the same thing for
also affect I think the same thing for
um high dimension multi- discreet but it
um high dimension multi- discreet but it
looks like you're summing the log probs
looks like you're summing the log probs
which leads you to these crazy K
which leads you to these crazy K
differences though I can't
tell it does seem like the actual
tell it does seem like the actual
actions are changing dramatically as
actions are changing dramatically as
well it's very
weird e
and on log
props okay so you have the original from
props okay so you have the original from
here so from before the
here so from before the
update so is this just applying a
update so is this just applying a
massive update is that's what's
massive update is that's what's
happening
yeah no I think this is some screwy
yeah no I think this is some screwy
thing with their settings let me
see 2 eus 5 is very reasonable for a
see 2 eus 5 is very reasonable for a
learning rate though
um I don't see anything in here that I'm
um I don't see anything in here that I'm
like I look at and say no
like I look at and say no
wrong there's nothing
obvious they had some Norms I think in
obvious they had some Norms I think in
there that
yes nor Advantage normalization is on
let me look at their original
let me look at their original
normalization to see what things they
normalization to see what things they
were let's see what things they were
were let's see what things they were
normalizing
impulse war is up to 5.5k
gez and do you think I won't be able to
gez and do you think I won't be able to
cut substantial lines of code off with
cut substantial lines of code off with
this yes
what do you think the odds are that if
what do you think the odds are that if
you had your own box 2D
you had your own box 2D
file I bet you if you had your own box
file I bet you if you had your own box
2D file that worked the way that you
2D file that worked the way that you
want you'd be able to make the code plus
want you'd be able to make the code plus
that box 2D file less than the length of
that box 2D file less than the length of
the code that you have now not including
the code that you have now not including
box 2D
now it's mostly how you want it
now it's mostly how you want it
really
H shouldn't be a particularly heavy
H shouldn't be a particularly heavy
physics end
fix bugs I
fix bugs I
see h i mean I will have to look through
see h i mean I will have to look through
that that I will have to allocate quite
that that I will have to allocate quite
a bit of time to 5.5 is
a bit of time to 5.5 is
uh I mean that's like you're getting up
uh I mean that's like you're getting up
to the up to twice the length of neural
to the up to twice the length of neural
MMO
3 my policy code
4% utal and what steps per
second that's not necessarily bad it
second that's not necessarily bad it
depends what your training rate yeah
depends what your training rate yeah
250k is a little slow
I mean 250k absolutely mogs like 90 more
I mean 250k absolutely mogs like 90 more
than 95% of academic and Industry RL
than 95% of academic and Industry RL
researchers but by puffer standards it's
researchers but by puffer standards it's
uh a little slow
they Norm the
OBS interesting
it's
it's
[Music]
[Music]
not I mean I'll probably be able to find
not I mean I'll probably be able to find
some stuff but sure
I owe too many people code like looks at
I owe too many people code like looks at
their code at the
their code at the
moment but I have to finish this
moment but I have to finish this
contract
yeah so that just means that you are
yeah so that just means that you are
bound by
uh well that's weird cuz that doesn't
uh well that's weird cuz that doesn't
match the 4% that you said
I think what to look for
I think what to look for
here probably
Norm they normalize anything
else what's your Val for pass batch
size your eval Ford pass batch size is
131k you have 131,000 agents
okay
okay
1024 might be a little low sometimes you
1024 might be a little low sometimes you
get some speed from 4096 depends on your
get some speed from 4096 depends on your
policy size but probably 1024 should be
policy size but probably 1024 should be
decently fast double check that usually
decently fast double check that usually
eval being slow is a bad batch size
well
well
yeah I mean just see if that's the
reason you know in practice we just I
reason you know in practice we just I
throw that into a sweep
throw that into a sweep
sometimes and then uh The Sweep can
sometimes and then uh The Sweep can
figure out whether it's worth paying the
figure out whether it's worth paying the
you know the Horizon
price okay so they're just clipping
their yeah they're just clipping value
their yeah they're just clipping value
and policy
what's this scaler the scaler is because
what's this scaler the scaler is because
ofp right
let me see what this is what I can do
let me see what this is what I can do
about this oh
about this oh
hey so I've got this thing running
hey so I've got this thing running
without the uh the dis or anything
yet but uh I'm trying to figure out why
yet but uh I'm trying to figure out why
the
the
KL cuz like they have some stuff in
KL cuz like they have some stuff in
there that obviously makes no sense with
there that obviously makes no sense with
the gradient magnitudes
the gradient magnitudes
right I'm trying to figure out what's up
right I'm trying to figure out what's up
with their
KL their uh their stats just change too
KL their uh their stats just change too
much from Epoch to Epoch it seems
much from Epoch to Epoch it seems
I it's very
odd I mean so initially right
all damn it I did the thing again you
all damn it I did the thing again you
have to put
um stupid there's this annoying
um stupid there's this annoying
breakpoint
breakpoint
bug python
I guess we could clip the value
I guess we could clip the value
loss maybe do we not have that
enabled oh this is
enabled oh this is
enabled but it doesn't seem to be
enabled but it doesn't seem to be
getting clipped very much
oh it
oh it
is okay so first update we've got very
is okay so first update we've got very
small policy
small policy
loss we've
got entropy loss but config and
got entropy loss but config and
PO is uh zero
so we don't care about
so we don't care about
that and I set VF Co up to like
that and I set VF Co up to like
so and they're separate networks as well
so and they're separate networks as well
so if I continue
so if I continue
here PG loss has exploded
here PG loss has exploded
right and clip r
right and clip r
is now almost
one because
log so this is our log
log so this is our log
problems then this is we've got new log
problems then this is we've got new log
problems
so I don't know what happened
here we can do a simple
model um would it be the op Norm I don't
model um would it be the op Norm I don't
have any Norms at all on this at the
have any Norms at all on this at the
moment I didn't think the obs
oh you know maybe the OBS are the issue
oh you know maybe the OBS are the issue
they're kind of
big do you know what are the uh the ones
big do you know what are the uh the ones
that can get that big like why would the
that can get that big like why would the
OBS be in the
50s cuz this like moving average norm is
50s cuz this like moving average norm is
kind of stupid
don't know
yet I mean I can just do
well dividing by 100 shouldn't
be let's see if let's see about this
now obviously you have to do it in the
now obviously you have to do it in the
other forward path so I probably screwed
other forward path so I probably screwed
this up
yeah no that doesn't
yeah no that doesn't
help I I you know I should probably do
help I I you know I should probably do
it in the uh in both of these because
it in the uh in both of these because
you can't you can't scale just
here here we're going to I'll leave that
here here we're going to I'll leave that
for now
gy fetch
results I was just getting observation
results I was just getting observation
data anyways
I don't see
I don't see
um K I don't see observations in Step
here look at the binding
but this doesn't get past observations
right
so
oh my
oh my
bad okay
simulate and fetch results as there
simulate and fetch results as there
compute observations
and I would love to find the observation
and I would love to find the observation
function in here
somewhere here it is
y
all right so none of this state is
all right so none of this state is
freaking normalized at
all
for e
trying to get a sense of like what the
trying to get a sense of like what the
heck they've done with this because you
heck they've done with this because you
know they did all this work to load in
know they did all this work to load in
the OBS and they still
the OBS and they still
suck so they didn't even get that
suck so they didn't even get that
right not supported in torch script get
right not supported in torch script get
out of here for
okay so there are five things in OBS
okay so there are five things in OBS
list
okay so it starts
with root AG
with root AG
OBS so OBS
OBS so OBS
list
list
Max
OBS this is
OBS this is
fine it's
fine it's
fine it's fine
fine it's fine
this is
this is
fine
fine
aha 1 two 3 four so local body angular
aha 1 two 3 four so local body angular
velocity
velocity not particularly well
velocity not particularly well
normalized either so it seems that they
normalized either so it seems that they
just straight up forgot to normalize
just straight up forgot to normalize
these two things
I'm going to just do over five and over
I'm going to just do over five and over
50 real quick just to see if that uh
50 real quick just to see if that uh
changes anything in the training
might go grab some lunch real
quick
e
e
e e
anyone
for e
how is this
broken I don't understand how this is
broken I don't understand how this is
broken
we'll fix this and then I'll break for
we'll fix this and then I'll break for
lunch so at least we can run it without
lunch so at least we can run it without
it
it
crapping even if the uh losses are
crapping even if the uh losses are
insane
SPS is
SPS is
zero
well how can SPS be zero
hang on that does not actually make that
hang on that does not actually make that
shouldn't be
shouldn't be
possible that might be there's something
possible that might be there's something
weird
there
e e
Z
SPS the up time is the same really
this got called twice somehow
this
inside hang
inside hang
on something screwy
oh this is too
late
e e
how do this happen
I'm confused how this has happened here
I'm confused how this has happened here
specifically with this
environment
for e
yeah so somehow oh this got to be a
yeah so somehow oh this got to be a
tensor
okay that's
stupid ah
that's really annoying okay
mask was getting stored as a freaking
mask was getting stored as a freaking
tensor so it was updating the
tensor so it was updating the
reference they should at least run
okay is nuts
all right well there will be uh more
all right well there will be uh more
work to do here but just normalizing the
work to do here but just normalizing the
OBS does not apparently fix
OBS does not apparently fix
it let me undo that before I forget to
it let me undo that before I forget to
undo it
but yeah
but yeah
for this thing about off by
for this thing about off by
550 doesn't seem to be the main
issue this length is really weird as
issue this length is really weird as
well but we definitely have some stuff
well but we definitely have some stuff
screwy
here this is going up I don't know if
here this is going up I don't know if
it's substantial at all but anyways I'm
it's substantial at all but anyways I'm
going to go get some lunch I'll be back
going to go get some lunch I'll be back
in a bit uh thanks for tuning in folks
in a bit uh thanks for tuning in folks
and if you want to
and if you want to
follow any of my stuff where we're
follow any of my stuff where we're
usually working on things on a much
usually working on things on a much
faster Pace than this all this messy
faster Pace than this all this messy
code puffer doai all of our
code puffer doai all of our
environments star the GitHub really
environments star the GitHub really
helps us Discord if you want to get
helps us Discord if you want to get
involved and then you can follow me on
involved and then you can follow me on
access well for more RL content thank
access well for more RL content thank
you and see you soon
