Kind: captions
Language: en
oops is this working
oops is this working
yep okay we are
live look at some experiments real quick
live look at some experiments real quick
that ran
overnight so we got the thing to do I
overnight so we got the thing to do I
mean reasonably
mean reasonably
well doesn't quite full solve the end
well doesn't quite full solve the end
it's very close but the sweeps also did
it's very close but the sweeps also did
something weird so I think we're going
something weird so I think we're going
to just fiddle with this for a little
to just fiddle with this for a little
bit uh we're going to see if we can get
bit uh we're going to see if we can get
a param set that does solve the end and
a param set that does solve the end and
if not we're going to see if we can
if not we're going to see if we can
figure out why and if there are any
figure out why and if there are any
improvements we can
improvements we can
make as the plan for right now
it's that time of day where I have like
it's that time of day where I have like
the sun perfectly on my
monitor okay
so did you earn much xp yesterday
um I don't know I
um I don't know I
did some uh some intervals and I did
did some uh some intervals and I did
some lifting so I guess I got a little
some lifting so I guess I got a little
bit of a little bit of what would that
bit of a little bit of what would that
be a little bit of uh stem XP and a
be a little bit of uh stem XP and a
little bit of uh strength XP or whatever
little bit of uh strength XP or whatever
yeah what did the sweep do that was
yeah what did the sweep do that was
weird well it pushed entropy all the way
weird well it pushed entropy all the way
down to the bottom for no reason like
down to the bottom for no reason like
you can see that it doesn't work here it
you can see that it doesn't work here it
pushed it all the way to this Max and I
pushed it all the way to this Max and I
don't know why it did
this you can see the algorithm does keep
this you can see the algorithm does keep
finding better stuff but it looks like
finding better stuff but it looks like
the there's like a
drift I think it's because it couldn't
drift I think it's because it couldn't
fully solve the end and it hit the
fully solve the end and it hit the
compute limit like it kept trying more
compute limit like it kept trying more
stuff over
here e
you have
you have
logs something
useful well I mean all the state
useful well I mean all the state
information is what you see here
right I'm just going to have to do a
right I'm just going to have to do a
little bit of thinking to see why that
little bit of thinking to see why that
is
is
uh why that is possible I mean I've seen
uh why that is possible I mean I've seen
carbs do the same
thing definitely SE
carbs do the same
thing let's see what that does whoops
so
so
obnoxious just have to reboot the
container turn the light
on yeah that doesn't help remotely does
on yeah that doesn't help remotely does
it I'd have to like really crank this
it I'd have to like really crank this
thing ah still no that's
crazy it's just that time of day where
crazy it's just that time of day where
there's a ton of glare it'll be gone in
there's a ton of glare it'll be gone in
like half hour
rendering
rendering
ideas you can blend
stuff
stuff
um you can get a static effect
um you can get a static effect
yeah I guess technically you could lurp
yeah I guess technically you could lurp
over
over
time it depends how much if you're
time it depends how much if you're
applying it to whether that's a good
idea I had a chat with the the Neptune
idea I had a chat with the the Neptune
folks as well yesterday
folks as well yesterday
today maybe they'll integrate some of
today maybe they'll integrate some of
these features we'll see
oops let's hope
so okay
so okay
so let's take a look at
here is this
one and then these ones that's going to
one and then these ones that's going to
be two my charts
I mean is it just me or does it look
I mean is it just me or does it look
like these just need a little bit more
like these just need a little bit more
time or is it that they all have the
time or is it that they all have the
shape because um they need the analing
I me they all have like a
I me they all have like a
similar sort of structure to them
this
one not bad it just takes longer
one not bad it just takes longer
right takes a little longer
so you do get stable learning out of
so you do get stable learning out of
this
thing it's weird that it
thing it's weird that it
doesn't quite solve it though isn't
it that is
it that is
weird let's go back to
let's go look at one of our good
runs this one
here we
go so this one
go so this one
has a very solid curve
here
here
sample we clearly
have a pretty stable
have a pretty stable
stable gamma range isn't
it I'd like to know the cost of
these so I can just filter this by hang
these so I can just filter this by hang
on how would I do this
filter by cost less than 100
this freaking query Builder never works
this freaking query Builder never works
what features I mean I asked him for
what features I mean I asked him for
stuff like the heat
stuff like the heat
map um I just gave him General feedback
map um I just gave him General feedback
on some stuff that uh could be you know
on some stuff that uh could be you know
cleaner with Neptune
and the API as
well
e e
okay so here are our
okay so here are our
points this is how we're going to have
points this is how we're going to have
to do
to do
this see this tells a little bit of a
this see this tells a little bit of a
different story doesn't
different story doesn't
it you can actually now
it you can actually now
see that the best ones are clustered up
see that the best ones are clustered up
at around
975 Lambda doesn't really matter at all
0.01 maybe we get something out of this
0.01 maybe we get something out of this
right
and then the learning
and then the learning
rate 03 to
rate 03 to
01 very high learning rate
01 very high learning rate
potentially very high learning rate what
potentially very high learning rate what
did we get in
RS yeah ours was a lot different right
RS yeah ours was a lot different right
we got this specific learn right
here different valve coefficient
here different valve coefficient
different gradient
different gradient
Norms
slightly a little bit of drift
20 48 M with 8192 mini batch
right G6
8192 three update EPO
8192 three update EPO
though there's some tradeoff it looks
though there's some tradeoff it looks
like
long was this
Run 100
Run 100
seconds so there is some tradeoff
here so I think what you want to
do e
it's a very clean return at
least what's this train at about a
least what's this train at about a
million
two update
EPO 8192 mini
batch this one got 501 right
see e
mys whose work have you been most
mys whose work have you been most
impressed with over the last month oh
impressed with over the last month oh
man you know stuff doesn't happen in RL
man you know stuff doesn't happen in RL
on the scale of there's something every
on the scale of there's something every
month there really isn't something every
month there was a cool result from uh
month there was a cool result from uh
Eugene was on
Eugene was on
um a lot of the stuff eugen's been
um a lot of the stuff eugen's been
involved in has been pretty good
involved in has been pretty good
there was a fun paper that basically
there was a fun paper that basically
showed that PO kind of Beats all the
showed that PO kind of Beats all the
fancy algorithms that were designed over
fancy algorithms that were designed over
the last decade to do better that's a
the last decade to do better that's a
fun
fun
one the uh the Apple paper on um driving
one the uh the Apple paper on um driving
was really
good it's not um to be clear
though you show this
this
one this is not like a Tesla competitor
one this is not like a Tesla competitor
thing at all I mean it you can tell
thing at all I mean it you can tell
because they kind of killed their self
because they kind of killed their self
driving uh but it is like a really
driving uh but it is like a really
clean it's like a really clean somewhat
clean it's like a really clean somewhat
smaller scale
approach e
see how fast this runs
about the same
about the same
900k and uh what was this one running at
before up a little early today picking
bread almost same
speed no not
speed no not
really I used to would Grill uh once in
really I used to would Grill uh once in
a while that's
a while that's
it company secured a 250 mil contract
it company secured a 250 mil contract
very
very
good well that tells you there's a
good well that tells you there's a
market for it
well then do it better right get the
contract okay so that is kind of
contract okay so that is kind of
interesting that I can uh just fiddle
interesting that I can uh just fiddle
with Hyper parameters and end up with
with Hyper parameters and end up with
something
better maybe not
better maybe not
better let see
I just kind of want to fiddle with this
I just kind of want to fiddle with this
for a little bit before we do it
for a little bit before we do it
automated
it's kind of funny with
um how it's like there are companies
um how it's like there are companies
that are purely like they purely purely
that are purely like they purely purely
exist for um government contract
right that does
oh yeah I'm sure I just wish the process
oh yeah I'm sure I just wish the process
were more
efficient e
well this does seem remarkably quite
well this does seem remarkably quite
stable but um it's not really getting
stable but um it's not really getting
better so presumably this is the scaling
better so presumably this is the scaling
of the discounts right
evaluate design test
simulation oh yeah well RL has to be
simulation oh yeah well RL has to be
more stable and consistent right to do
more stable and consistent right to do
that stuff quickly which is what I'm
that stuff quickly which is what I'm
working
on I have no opposition to defense Tech
on I have no opposition to defense Tech
I have no idea why it's like it's
I have no idea why it's like it's
considered Taboo in a lot of academic
considered Taboo in a lot of academic
circles but it's like would you like
circles but it's like would you like
there not to be
there not to be
defense right doesn't really make much
defense right doesn't really make much
sense to
me there's definitely something up with
me there's definitely something up with
the learning rate here
71 then what was the learning rate that
71 then what was the learning rate that
we used in this other one it was even
we used in this other one it was even
higher wasn't
it earier than now well some of them are
it earier than now well some of them are
right but some of them are just like I
right but some of them are just like I
don't know they're also just like a
don't know they're also just like a
bunch of really unassuming people in uh
bunch of really unassuming people in uh
Academia who just like don't want to
Academia who just like don't want to
think about Conflict at all you
think about Conflict at all you
know it's like
it seems kind of silly to me
well or strength is necessary to deter
well or strength is necessary to deter
conflict
I'm interested to see how much this
I'm interested to see how much this
spikes up at the end because that will
spikes up at the end because that will
tell me that there's a learning rate
tell me that there's a learning rate
thing going on though that will be a
thing going on though that will be a
separate consideration here
I will say this thing is remarkably
I will say this thing is remarkably
stable
okay no that one's just
okay no that one's just
worse but the thing is it's not even
worse but the thing is it's not even
like horribly worse it's not like the
like horribly worse it's not like the
curve
curve
crashes or anything
okay so let me now think
about
about
okay oh I didn't need to do that
that's way easier
right
okay so that's what a normal discount
okay so that's what a normal discount
Factor looks
like
e e
okay so this is what we
okay so this is what we
have it's a really sharp fall off
have it's a really sharp fall off
followed
followed
by a gradual fall
off I don't know why it should be that
off I don't know why it should be that
sharp
let's see if it changes over time
doesn't really change very much does
doesn't really change very much does
it it maybe it got a little bit
it it maybe it got a little bit
higher but then it got lower in places
higher but then it got lower in places
as well
Ah that's better right it does go up
hopefully we get one more sample in here
about the
same hopefully we get that last
sample perfect
yeah it went back up uh up even a little
yeah it went back up uh up even a little
bit more okay
bit more okay
so if we compare
here this portion feels reasonable to
me got an undergrad told me' work to
me got an undergrad told me' work to
free yeah got to be careful with that
free yeah got to be careful with that
that gets you in trouble if you have a
that gets you in trouble if you have a
company
Google labor labor laws or anything it
Google labor labor laws or anything it
like it is actually illegal to have
like it is actually illegal to have
people work for free so you have to be a
people work for free so you have to be a
little careful
I'm not saying it's not done all the
I'm not saying it's not done all the
time but got to be a little careful
yeah you got to be careful with those
yeah you got to be careful with those
ones in particular because it's the um
ones in particular because it's the um
they're like the easiest lawsuits ever
they're like the easiest lawsuits ever
to win um if you are wanting to be paid
to win um if you are wanting to be paid
and you get uh I think it might be State
and you get uh I think it might be State
dependent but I think you get like
dependent but I think you get like
triple damages in many
cases so you end up getting somebody
cases so you end up getting somebody
working for free and then they sue you
working for free and then they sue you
for three times the
for three times the
amount that you would that that you
amount that you would that that you
would have paid him or
whatever and based on
performance I mean I'm not a lawyer I
performance I mean I'm not a lawyer I
think it's something like you have
think it's something like you have
to the thing is this is not not that
to the thing is this is not not that
difficult to the problem to solve when
difficult to the problem to solve when
you have any amount of money to be
you have any amount of money to be
paying people because it you don't have
paying people because it you don't have
to be paying people at market rate so
to be paying people at market rate so
you literally like it is valid to pay
you literally like it is valid to pay
people like a minimum wage a minimum W
people like a minimum wage a minimum W
wage plus bonuses that is
wage plus bonuses that is
valid but anyways I'm not a lawyer go
valid but anyways I'm not a lawyer go
look that stuff
up I do think it is valuable for anybody
up I do think it is valuable for anybody
who wants to start a company to take one
who wants to start a company to take one
business law course that's what I did um
business law course that's what I did um
um it just is like it's not going to let
um it just is like it's not going to let
you know the answer to everything but
you know the answer to everything but
it's going to let you go ah okay maybe
it's going to let you go ah okay maybe
there's a problem that's going to get me
there's a problem that's going to get me
in trouble there
later just do just do your homework
later just do just do your homework
right
the thing is for an undergrad that
the thing is for an undergrad that
actually might be nice because like
actually might be nice because like
undergrads are very happy to have 600
undergrads are very happy to have 600
bucks a
month it depends on
month it depends on
um yeah well careful because using
um yeah well careful because using
Claude for legal advice
right also generally keeps up to 20
right also generally keeps up to 20
hours a week or whatever because
hours a week or whatever because
part-time you do not owe benefits
at least on paper
right that's fun go enjoy
I used to be a really good
I used to be a really good
skier um but that was when I was like I
skier um but that was when I was like I
used to weigh about 140 PBS for most of
used to weigh about 140 PBS for most of
my adult life I was really skinny um and
my adult life I was really skinny um and
it turns out skiing is really easy when
it turns out skiing is really easy when
you're just very light
even going from 140 to
even going from 140 to
180 just the 40 pounds and it's a whole
180 just the 40 pounds and it's a whole
different
world it's freaking
hard I never understood how people got
hard I never understood how people got
hurt skiing either and then it's like
hurt skiing either and then it's like
oh
oh
320 yeah that's hard that's a hard sport
you said you were doing rugby before
you said you were doing rugby before
though yeah I think you'll do pretty
though yeah I think you'll do pretty
well
well
there freaking mow people
down hey what's up not too much we're
down hey what's up not too much we're
currently looking at the results of uh
currently looking at the results of uh
the new RL algorithm I've been working
the new RL algorithm I've been working
on
on
we're looking
we're looking
at this is the discount factor that
at this is the discount factor that
would be used in po to wait the
would be used in po to wait the
importance of samples the new algorithm
importance of samples the new algorithm
learns an importance
learns an importance
factor and this is what it's learned
factor and this is what it's learned
it's not working quite as well as po
it's not working quite as well as po
yet but uh that's what we're looking
yet but uh that's what we're looking
at first thing I'd like to know is why
at first thing I'd like to know is why
there's such a massive gap between the
there's such a massive gap between the
first sample and the the second
sample
right I guess
it's
it's
entropy is it because you have a
entropy is it because you have a
stochastic
policy
policy
no that wouldn't make sense you should
no that wouldn't make sense you should
still be able to predict this
so there's this massive Gap and I don't
so there's this massive Gap and I don't
know
why is there anything special about the
why is there anything special about the
first time
step oh yeah I got the Cuda kernel for
step oh yeah I got the Cuda kernel for
this working um reasonably well
this working um reasonably well
yesterday uh as
yesterday uh as
well so this is it it's not very long
V standard
deviation gamma over oh we can do
this yeah I mean so this shows you right
this yeah I mean so this shows you right
here that the Gap comes from the value
here that the Gap comes from the value
standard
standard
deviation but then y y does it right
why the fall off is pretty smooth
why the fall off is pretty smooth
everywhere
else pretty smooth
kind of unrelated how do you manage your
kind of unrelated how do you manage your
time I really don't to be honest every
time I really don't to be honest every
time I try to do something very
time I try to do something very
structured I lose productivity so
structured I lose productivity so
basically all I do is if I have things
basically all I do is if I have things
that need to be done immediately I do
that need to be done immediately I do
them otherwise I just take the top five
them otherwise I just take the top five
Mo most important things right and I do
Mo most important things right and I do
whichever one is interesting me on this
whichever one is interesting me on this
particular
particular
day that's
all I don't really keep a calendar other
all I don't really keep a calendar other
than like making sure I don't miss
than like making sure I don't miss
meetings
meetings
um and in fact I wish I had even less
um and in fact I wish I had even less
structure than this right I think it
structure than this right I think it
would be even more productive for me if
would be even more productive for me if
I had just absolutely no obligations
I had just absolutely no obligations
with the company uh I think I even do
with the company uh I think I even do
better there because I would be like
better there because I would be like
even more just willing to like that's an
even more just willing to like that's an
interesting idea maybe I'll just do that
interesting idea maybe I'll just do that
today right and that's honestly where a
today right and that's honestly where a
lot of the breakthroughs come from is
lot of the breakthroughs come from is
just like people having time like if you
just like people having time like if you
actually care about what you're doing
actually care about what you're doing
right and you just have time to say h
right and you just have time to say h
you know there's a thread there I want
you know there's a thread there I want
to spend some time just pulling on that
to spend some time just pulling on that
thread well that's really the ideal if
thread well that's really the ideal if
you're a mo if you are motivated in
you're a mo if you are motivated in
research that's the ideal schedule right
research that's the ideal schedule right
and this is why I think a lot of this a
and this is why I think a lot of this a
lot of people like me don't really do
lot of people like me don't really do
well in um big company environments or
well in um big company environments or
whatnot because it's like there's no
whatnot because it's like there's no
bandwidth for me to do anything right
bandwidth for me to do anything right
it's like okay do a and then B and then
it's like okay do a and then B and then
C it's like
okay you didn't need to do a b or c you
okay you didn't need to do a b or c you
just needed to think a little bit and
just needed to think a little bit and
just jump straight to d
right that is all I
do I mean things will change depending
do I mean things will change depending
on what I'm working on right at the
on what I'm working on right at the
moment I'm in a research cycle so I'm
moment I'm in a research cycle so I'm
like I'm trying to make some
like I'm trying to make some
breakthroughs on this stuff and I'm kind
breakthroughs on this stuff and I'm kind
of just thinking about all this stuff in
of just thinking about all this stuff in
the back of my head all the time you
the back of my head all the time you
know I come up with stuff while I'm
know I come up with stuff while I'm
running I come up with stuff in between
running I come up with stuff in between
doing other things to try um later
doing other things to try um later
things will change a little bit right if
things will change a little bit right if
I'm doing like business stuff or puffer
I'm doing like business stuff or puffer
that's going to be more scheduled
that's going to be more scheduled
because it can be if I'm doing
because it can be if I'm doing
engineering stuff then it's a lot more
engineering stuff then it's a lot more
clearcut where it's just like yeah just
clearcut where it's just like yeah just
clear schedule sit down and do it for
clear schedule sit down and do it for
you know a week at a time or however
you know a week at a time or however
much I can do
but
but
um no the stuff that I've built does not
um no the stuff that I've built does not
come from time management
I know I was always sort of confused
I know I was always sort of confused
with that stuff
with that stuff
like very often I like I remember when I
like very often I like I remember when I
got to University I like oh you need to
got to University I like oh you need to
man your time you need to manage this
man your time you need to manage this
and that it's like well if I just like
and that it's like well if I just like
get the assignment or get the thing that
get the assignment or get the thing that
I have to do and I immediately go home
I have to do and I immediately go home
and work on it for eight
and work on it for eight
hours then I'm not going to have a time
hours then I'm not going to have a time
management problem in a week because
management problem in a week because
it's going to be done
it's going to be done
right so it's kind of if you're just
right so it's kind of if you're just
constantly working on stuff you make
constantly working on stuff you make
progress
the one thing is I do try to avoid
the one thing is I do try to avoid
forcing it like forcing in intellectual
forcing it like forcing in intellectual
work just doesn't
work just doesn't
work right like if I'm not in the mood
work right like if I'm not in the mood
to be doing something it's like okay
to be doing something it's like okay
I've got to get myself in the mood to do
I've got to get myself in the mood to do
something I can't just push through it
something I can't just push through it
so whether that's I got to go just take
so whether that's I got to go just take
some time to get some exercise in I need
some time to get some exercise in I need
to get some rest or
to get some rest or
whatever you want to be in a good Focus
whatever you want to be in a good Focus
state
money off of people people make money
money off of people people make money
off of all types of stupid [ __ ]
off of all types of stupid [ __ ]
right who
cares I do actually want to solve this
cares I do actually want to solve this
today so I'm trying to figure out why
why is there such a big difference
why is there such a big difference
between the standard deviation of the
between the standard deviation of the
first term and the second
first term and the second
term all this is supposed to be is a
term all this is supposed to be is a
prediction
prediction
of uh a prediction of how well it's a
of uh a prediction of how well it's a
prediction of how often you're going to
prediction of how often you're going to
get a
get a
reward here values mean
reward here values mean
zero oh okay well the mean is totally
different wait is this really really
noisy is this like really
noisy wait does it miss it
confused
confused
here did it get it wrong by a couple
here did it get it wrong by a couple
places or
something looks like it
where's reward blocks
at right here
we should make sure this is
correct and we need to make sure this is
correct and we need to make sure this is
correct
I think it is because the way that we
I think it is because the way that we
log stuff we log observation and then
log stuff we log observation and then
the reward at that time step together so
the reward at that time step together so
you do need to go ahead by
you do need to go ahead by
one
one
okay
okay
and why is this prediction so far off
and why is this prediction so far off
then is this the same
then is this the same
for here's the standard D of the second
for here's the standard D of the second
sample it's going to be the same because
sample it's going to be the same because
this one is uh only learned as a fixed
this one is uh only learned as a fixed
value here's value means for
value here's value means for
the sample one you see it went up a
the sample one you see it went up a
ton right the first one went up
Aon interesting so
it wasn't able no it didn't go up a ton
it wasn't able no it didn't go up a ton
wait
wait
what that's so weird
the value function just really
bad the value lost really bad
I mean there's clearly something wrong
I mean there's clearly something wrong
here
right how about values mean of two this
right how about values mean of two this
one will be interesting because there's
one will be interesting because there's
no longer any reward to get
right okay so to its credit it does drop
right okay so to its credit it does drop
by a
ton so it has some understanding
hey how are things going today they're
hey how are things going today they're
going we uh we have initial results on
going we uh we have initial results on
this they they're passable they're not
this they they're passable they're not
quite what uh we get out of Po yet but I
quite what uh we get out of Po yet but I
think we're getting
think we're getting
closer we're definitely getting
closer values mean is very weird okay
closer values mean is very weird okay
what if we do a three does it then it
what if we do a three does it then it
just know for sure ah it does fall okay
just know for sure ah it does fall okay
so I think what's happening
so I think what's happening
here try
here try
four yeah so what I think is happening
four yeah so what I think is happening
here is it knows roughly when it's going
here is it knows roughly when it's going
to get a reward it just doesn't know
to get a reward it just doesn't know
exactly when right because if you look
exactly when right because if you look
at
at
this okay this
this okay this
is this is actually kind of cool so
is this is actually kind of cool so
you're going to get a reward uh The Next
you're going to get a reward uh The Next
Step
so you can see that there's a high value
so you can see that there's a high value
here it's one step
here it's one step
early then there's a high value when you
early then there's a high value when you
get the reward it actually Peaks
get the reward it actually Peaks
here and then it drops quite a bit one
here and then it drops quite a bit one
step after and then it's drops like
step after and then it's drops like
basically all the way
basically all the way
down uh one step even after that
down uh one step even after that
so it knows it's going to get a reward
so it knows it's going to get a reward
somewhere in there but it doesn't know
somewhere in there but it doesn't know
exactly
when that's probably just why there's so
when that's probably just why there's so
much
much
uncertainty um
yeah that's probably just why there is
yeah that's probably just why there is
so much uncertainty right is
that it doesn't even know when it's
that it doesn't even know when it's
going to get a reward at the
going to get a reward at the
moment so yeah it's going to be even
moment so yeah it's going to be even
more uncertain about reward one step in
more uncertain about reward one step in
the
future though they the difference is
future though they the difference is
quite extreme here
it's a cool qualitative result but we
it's a cool qualitative result but we
have to figure out how to make this
have to figure out how to make this
thing now actually work
maybe that's an objective on the value
function I'll be back in a few and do a
function I'll be back in a few and do a
couple quick things I'll be right back 5
couple quick things I'll be right back 5
10 minutes
is
e
e
e
e
e
e
e
e
e
e
e
e e
okay is disadvantage function what it
okay is disadvantage function what it
should
be is this Advantage function what it
be is this Advantage function what it
should be so
I guess there was kind of
I guess there was kind of
something before to predicting
SS if you predict the sum of the rewards
SS if you predict the sum of the rewards
instead of the rewards
if the S moves by a place it's still
fine
fine
but that came with a ton of
but that came with a ton of
problems predicting
sums hang on we still get this in the
sums hang on we still get this in the
advantage estimation don't
we yeah we still get this in the
we yeah we still get this in the
advantage estimation okay the advantage
advantage estimation okay the advantage
estimation itself is uh is fairly robust
so it's probably the learning of the
so it's probably the learning of the
value function that's
bad
yeah it's probably this
because you can see it's
like this distribution that is learned
like this distribution that is learned
is controlled by the value function I
is controlled by the value function I
mean is controlled by the uh the value
mean is controlled by the uh the value
loss and the value loss of the moment is
loss and the value loss of the moment is
required to predict
each individual
term is there a better way to do this
it is kind of tricky
yeah you still want to be predicting you
yeah you still want to be predicting you
you're predicting the right
you're predicting the right
thing it's just very high variance
thing it's just very high variance
so let me explain what's happening
so let me explain what's happening
here
here
okay so do I
okay so do I
have I kind of have this up here so you
have I kind of have this up here so you
get you get this value prediction at
get you get this value prediction at
each time step and you get this Sigma at
each time step and you get this Sigma at
each time step right and what happens
each time step right and what happens
though is like your reward function is
though is like your reward function is
going to look something like
this so this is where your reward is and
this so this is where your reward is and
then the value function
then the value function
it has to guess where this is so like if
it has to guess where this is so like if
the value function guess is
this then this looks just as wrong as
this then this looks just as wrong as
guessing over here okay so like the
guessing over here okay so like the
value function has to figure out how to
value function has to figure out how to
put Mass around where it thinks the
put Mass around where it thinks the
reward is but you're not capturing this
reward is but you're not capturing this
locality
written agreement of unpaid
written agreement of unpaid
work
interesting I don't think that's a valid
contract there's no consideration
contract there's no consideration
I was pretty sure a valid contract both
I was pretty sure a valid contract both
parties need to receive something of
parties need to receive something of
value not equal value but something of
value not equal value but something of
value so I don't think it's a valid
value so I don't think it's a valid
contract
contract
um but I don't
know uh if it's a training program that
know uh if it's a training program that
sometimes can be but I don't
sometimes can be but I don't
know in order for it to qualify
know in order for it to qualify
I mean there are like specific training
I mean there are like specific training
programs I don't know if in general it
programs I don't know if in general it
just works though like you can just do
just works though like you can just do
that if there's a clear-cut mentorship
that if there's a clear-cut mentorship
relationship maybe but I don't know I'm
relationship maybe but I don't know I'm
not a
not a
lawyer like I say all I know is I can
lawyer like I say all I know is I can
like look at stuff and go there's
like look at stuff and go there's
something you should probably double
something you should probably double
check there I can't give you the answer
check there I can't give you the answer
straight
out lawyer friend says it's fine then
out lawyer friend says it's fine then
maybe
let we write this
loss see It's tricky because we still
loss see It's tricky because we still
need to be predicting the mean
value e
I think you do still end up with the
I think you do still end up with the
same value even if you sum right
what's the
actual standard deviation of rewards
actual standard deviation of rewards
here
so this is the actual standard
deviation so like there is it is
deviation so like there is it is
substantially more confident than the
substantially more confident than the
actual underlying standard
actual underlying standard
deviation and you can see it decays back
deviation and you can see it decays back
up to that underlying standard
deviation e
it is still weird though that there is
it is still weird though that there is
that much of a gap from the first to the
that much of a gap from the first to the
second there really shouldn't
be otherwise you'd expect to be sort of
be otherwise you'd expect to be sort of
similar
thereafter there's not something I'm
thereafter there's not something I'm
screwing up specifically with the first
screwing up specifically with the first
element that's the only thing I'm
element that's the only thing I'm
worried with worried about
here e
would only be able to be in the
would only be able to be in the
reward reward block
right mask gets set to
one e
okay the other option is what allows it
okay the other option is what allows it
to be more confident
to be more confident
here than uh in the
here than uh in the
previous the previous
ones I don't see
ones I don't see
anything really don't
value loss is just computed
as new value
mean reward block new value variance
what application are you most excited to
what application are you most excited to
see RL applied
see RL applied
to on a wide scale
the thing is it's not really one
the thing is it's not really one
application as much as it's I'm excited
application as much as it's I'm excited
to see RL RL fill in a whole bunch of
to see RL RL fill in a whole bunch of
gaps where people are like trying to
gaps where people are like trying to
hammer llms in and they make absolutely
hammer llms in and they make absolutely
no
sense like probably a whole bunch of
sense like probably a whole bunch of
industrial processes just like random
industrial processes just like random
industrial processes that are behind a
industrial processes that are behind a
lot of of the production of
goods um I think you can make there are
goods um I think you can make there are
like just a lot of random unintuitive
like just a lot of random unintuitive
processes that you can make much much
processes that you can make much much
more
efficient that's something I'm going to
efficient that's something I'm going to
be excited for but at the moment this is
be excited for but at the moment this is
really just like how do we get this
really just like how do we get this
field stable enough that we can actually
field stable enough that we can actually
do all of
do all of
that this the core stability of RL is
that this the core stability of RL is
still the main main issue here Control
still the main main issue here Control
Systems yeah I it's just like the
Systems yeah I it's just like the
problem with RL is that it works but it
problem with RL is that it works but it
only works if you have uh PhD and RL
only works if you have uh PhD and RL
fiddle with it for a few months and it
fiddle with it for a few months and it
needs to kind of just work if you have
needs to kind of just work if you have
know a decently qualified person with
know a decently qualified person with
some sort of background whatsoever in AI
some sort of background whatsoever in AI
fiddle with it for like a
day so that's what we're trying to get
day so that's what we're trying to get
to and I think it is pretty close I need
to and I think it is pretty close I need
to get this algorithm to work
to get this algorithm to work
um I need to really refine the hyper
um I need to really refine the hyper
parameter sweep stuff I need to run
parameter sweep stuff I need to run
benchmarks on all of our M there are a
benchmarks on all of our M there are a
couple small other things and we be
couple small other things and we be
pretty well
pretty well
there so much science will be done we
there so much science will be done we
are going to get there this year that's
are going to get there this year that's
the exciting thing like it's it's very
the exciting thing like it's it's very
clearly inside at this point this is not
clearly inside at this point this is not
just like some long-term
just like some long-term
goal but there are some tricky things to
goal but there are some tricky things to
figure out
yeah so I don't see
yeah so I don't see
where I don't see where this would be
where I don't see where this would be
going wrong
that's what I'm experiencing now yep
that's what I'm experiencing now yep
well I mean you're in the right spot
well I mean you're in the right spot
then right this is the goal of puffer is
then right this is the goal of puffer is
to fix reinforcement
learning implying that it's broken
learning implying that it's broken
because it absolutely
because it absolutely
is doesn't mean the tech doesn't work it
is doesn't mean the tech doesn't work it
works fantastically it's just too fiddly
works fantastically it's just too fiddly
to actually get it there for any given
to actually get it there for any given
problem
so this new function here this new loss
so this new function here this new loss
function um it is directly trying to
function um it is directly trying to
predict the reward at the next end time
predict the reward at the next end time
steps that's the idea and it has both a
steps that's the idea and it has both a
mean and a variance associated with it
I don't see anything that would
I don't see anything that would
make the next sample be way more
confident because
four students getting their masters
awesome so reward
awesome so reward
block gets rewards of t+
one
and you know it is actually really weird
and you know it is actually really weird
to me
to me
it's still not putting a big value on
it's still not putting a big value on
the value mean
the value mean
right because it doesn't know exactly
right because it doesn't know exactly
where the reward is going to
be so maybe this is just me trying to
be so maybe this is just me trying to
debug a very noisy
system but then why is the noisy system
system but then why is the noisy system
still substantially more confident in
still substantially more confident in
the first noisy prediction than the
the first noisy prediction than the
second noisy prediction
it's difficult to know if this is
it's difficult to know if this is
actually like a sign of a problem that I
actually like a sign of a problem that I
can track or this is a
distraction v+
equals gamma time values mean
index now this looks all this definitely
index now this looks all this definitely
looks correct to
me is there some like weird Edge case
me is there some like weird Edge case
it's screwing it up
like if
um maybe we go back to the the other
um maybe we go back to the the other
test real
test real
quick I wonder if we have this
quick I wonder if we have this
anywhere doesn't look like it
what's the Cuda compile command
what's the Cuda compile command
I get
this oh it is just nbcc cool
we get the Cuda test welcome YouTube
we get the Cuda test welcome YouTube
folks welcome twitch
folks welcome twitch
folks popular uh Wednesday or whatever
folks popular uh Wednesday or whatever
it
it
is um quick overview of what we're doing
is um quick overview of what we're doing
at the moment this is a new
at the moment this is a new
reinforcement learning algorithm it is
reinforcement learning algorithm it is
uh effectively an Improvement on
uh effectively an Improvement on
generalized Advantage
generalized Advantage
estimation which is probably one of the
estimation which is probably one of the
most po fundamental things because it's
most po fundamental things because it's
the main component of Po which is the
the main component of Po which is the
most commonly used
most commonly used
algorithm uh it has not been improved
algorithm uh it has not been improved
upon since it was originally published
upon since it was originally published
in 2017 and there really haven't been
in 2017 and there really haven't been
any general algorithm uh enhancements
any general algorithm uh enhancements
since then right now it's at least 10 um
since then right now it's at least 10 um
Captain so what we're trying to do at
Captain so what we're trying to do at
the moment is we are trying to learn the
the moment is we are trying to learn the
discount factors essentially we're
discount factors essentially we're
trying to learn the waiting that you
trying to learn the waiting that you
should assign to the reward to come over
should assign to the reward to come over
the next end points uh and the Hope in
the next end points uh and the Hope in
doing that is we'll be able to remove
doing that is we'll be able to remove
the hyper parameters gamma and Lambda
the hyper parameters gamma and Lambda
which are very difficult to tune and
which are very difficult to tune and
cause a bunch of problems and also that
cause a bunch of problems and also that
the agent will be able to learn uh
the agent will be able to learn uh
credit assignment over different time
credit assignment over different time
Horizons depending on where it is in the
Horizons depending on where it is in the
environment so environments that have
environment so environments that have
like short-term medium-term long-term
like short-term medium-term long-term
credit assignment problems it should be
credit assignment problems it should be
able to adaptively learn all of these
able to adaptively learn all of these
this is the
goal it's just like a very flexible
goal it's just like a very flexible
General algorithm if we can get it
General algorithm if we can get it
working
working
correctly uh I didn't that wasn't the J
correctly uh I didn't that wasn't the J
paper so
oops I
oops I
currently we have these learn discount
currently we have these learn discount
factors where are
they uh yeah here are the learn discount
they uh yeah here are the learn discount
factors and these ones actually look
factors and these ones actually look
pretty good up to here but then there's
pretty good up to here but then there's
a big gap here and I don't know why and
a big gap here and I don't know why and
also since there are a bunch of folks
also since there are a bunch of folks
live I will just
live I will just
mention all the stuff here this is all
mention all the stuff here this is all
open source at puff. you can go check it
open source at puff. you can go check it
out on the GitHub star the repo to help
out on the GitHub star the repo to help
us out and we've also got a Discord
us out and we've also got a Discord
where there's all sorts of live open
where there's all sorts of live open
source Dev you can get involved with you
source Dev you can get involved with you
can follow on X for more as well back to
code okay
so I want to first
so I want to first
try what happens if I do
this okay this still works right and if
this okay this still works right and if
I
I
do this it should not work
uh
uh
oh wait maybe is that
correct no that is wrong
right well it depends
it actually kind of depends on how
it actually kind of depends on how
you're Computing observations doesn't
it oh wait maybe this is the issue
it actually this could actually be I
it actually this could actually be I
have a theory here
have a theory here
so there's this little detail um where
so there's this little detail um where
you get a done signal right and then
you get a done signal right and then
there's this little detail of whether
there's this little detail of whether
you
you
observe like a done state or whether you
observe like a done state or whether you
reset the en and get the next
reset the en and get the next
observation
but what I'm thinking is that
but what I'm thinking is that
um if you get the next
um if you get the next
observation uh after the reset then
observation uh after the reset then
you're very clearly going to be able to
you're very clearly going to be able to
tell that the environment changed
tell that the environment changed
completely because like the state's
completely because like the state's
going to hop right it's going to hop
going to hop right it's going to hop
back to the reset
state that could screw it
up is there
up is there
a specific way I should be handling
this let me
this let me
see I want to keep that
window I think I've tried to tried to go
window I think I've tried to tried to go
through this several times as the
thing so you get
oops get OBS
one OBS
one OBS
n and then the duns are like
zero you get
zero you get
one then what do you do here
well it's a little bit more complicated
well it's a little bit more complicated
than this isn't
than this isn't
it because actually what happens is you
it because actually what happens is you
get like this
get like this
o02
03 and you actually get like
two
r r
four I think that the correct thing to
four I think that the correct thing to
do here technically right
would you do
would you do
OT terminal
I Sor to be flip-flopping for in a few
I Sor to be flip-flopping for in a few
hours yeah that's
hours yeah that's
fine oh three four a few hours
fine oh three four a few hours
okay um yeah I can do that let
okay um yeah I can do that let
me let me finish my thoughts on this
me let me finish my thoughts on this
real quick and then we will do
real quick and then we will do
that
that
um I probably should at least take a
um I probably should at least take a
little break and grab breakfast though
little break and grab breakfast though
the stream's doing well so we might have
the stream's doing well so we might have
to just start on it and then I'm going
to just start on it and then I'm going
to see how I'm feeling and if you know I
to see how I'm feeling and if you know I
have to take a break halfway through we
have to take a break halfway through we
might have to take a break halfway
might have to take a break halfway
through does this thing that I have on
through does this thing that I have on
screen make sense
though the thing is I don't know if this
though the thing is I don't know if this
is actually the
is actually the
problem it would actually seem kind of
problem it would actually seem kind of
unlikely that this is the problem
unlikely that this is the problem
right actually maybe
not because you do get a negative reward
not because you do get a negative reward
reward for dying don't
you so you would be able to
you so you would be able to
predict you'd probably be able to
predict you'd probably be able to
predict the reward for dying perfectly
predict the reward for dying perfectly
wouldn't
you e
how's this implemented in breakout right
now okay so resets
and it gives you the reward so right now
and it gives you the reward so right now
what happens is you
get how does this make
sense eating so wait you get o
hard
class oh because this is not hang on
yeah because there is no RT
right this is
right this is
zero so the way that we have it right
zero so the way that we have it right
now is one
this get shifted
is there a problem with
this I don't think there is right
yeah because you're using
the last observation to predict the next
the last observation to predict the next
reward
I mean we could test this to be fair
I mean we could test this to be fair
real
real
quick just you know real real quick
here oh is there no is there no negative
here oh is there no is there no negative
reward for losing a life
I don't think there's a negative reward
I don't think there's a negative reward
for losing a
for losing a
life so it's
moot yeah there's no negative reward for
moot yeah there's no negative reward for
losing a life okay so this is
n it's kind of good I'd rather not have
n it's kind of good I'd rather not have
to mess with that thing so we still
to mess with that thing so we still
don't know what this is then
don't know what this is then
unfortunately we still don't know why
unfortunately we still don't know why
this is screwing
this is screwing
um this is going to get boring rather
um this is going to get boring rather
quickly so here's what I'm going to
quickly so here's what I'm going to
propose since Captain is here uh Captain
propose since Captain is here uh Captain
has been working on this awesome new
has been working on this awesome new
environment for quite a long time it's a
environment for quite a long time it's a
big chunk of
big chunk of
code um and it looks like we're finally
code um and it looks like we're finally
going to review it and maybe PR it so
going to review it and maybe PR it so
I'm going to take just a couple minutes
I'm going to take just a couple minutes
grab a new cup of tea uh and then we
grab a new cup of tea uh and then we
will do that code review live on stream
will do that code review live on stream
so this will be like a pretty long form
so this will be like a pretty long form
you know long form go through a big
you know long form go through a big
project big chunk of code and uh yeah
project big chunk of code and uh yeah
there should be a lot of fun insights
here so um I think Captain if you go
here so um I think Captain if you go
ahead and get that ready I'll be back in
ahead and get that ready I'll be back in
a couple minutes and then I think this
a couple minutes and then I think this
will be a fun thing to do on stream
will be a fun thing to do on stream
and I'll try not to be too much of a
dick be right
back
e
e
e
e
e
e
e
e e
okay is it open source yet everything's
okay is it open source yet everything's
open
source let me tweet this out that we're
source let me tweet this out that we're
going to do this since this is uh kind
going to do this since this is uh kind
of a fun thing can I have a screenshot
of a fun thing can I have a screenshot
for the uh the Tweet captain or would
for the uh the Tweet captain or would
you rather I not do that until we
you rather I not do that until we
actually have it
integrated see if we get
integrated see if we get
a some people looking at
stuff sure
we have
one
Mega all
right for
yeah let me know if you got one and then
yeah let me know if you got one and then
we'll tweet this and we'll start this
we'll tweet this and we'll start this
review
Linux wants to update my colel
boom whole thing crashes no longer works
boom whole thing crashes no longer works
with this version of Linux
with this version of Linux
GG I get a screen in then as soon as
GG I get a screen in then as soon as
you're ready we'll start this I think
you're ready we'll start this I think
this will be good for people looking to
this will be good for people looking to
get into RL stuff this is like massively
get into RL stuff this is like massively
more of a contribution than you need
more of a contribution than you need
just to get started with puffer um but
just to get started with puffer um but
still I think this is going to be the
still I think this is going to be the
longest line count and in puffer um
longest line count and in puffer um
longer than neural MMO 3 we'll see
longer than neural MMO 3 we'll see
whether I agree that it needs to be
whether I agree that it needs to be
longer than neural MMO
hello can you hear me yeah okay
hello can you hear me yeah okay
cool you good are you good doing this
cool you good are you good doing this
live I figured it would be fun for
live I figured it would be fun for
people because this is like super
people because this is like super
educational
educational
yeah no that's great
awesome GPU driv review too so we have
awesome GPU driv review too so we have
like thousands upon thousands of lines
like thousands upon thousands of lines
of code review to do oh he's made good
of code review to do oh he's made good
progress that already dang yeah he
progress that already dang yeah he
worked
worked
quick guess so okay do you mean to show
quick guess so okay do you mean to show
you the link yeah just so I can get uh
you the link yeah just so I can get uh
maybe we get a couple more people
maybe we get a couple more people
looking at this right cool uh where do
looking at this right cool uh where do
you want me to play in twitch or Discord
you want me to play in twitch or Discord
doesn't matter all right I'll just send
doesn't matter all right I'll just send
it on
it on
Twitch it actually lets you send a link
Twitch it actually lets you send a link
that's
that's
cool yeah I've done it a couple times
cool yeah I've done it a couple times
it's never really gave me trouble and
it's never really gave me trouble and
anywhere we can get a screeny from
anywhere we can get a screeny from
this uh probably if you just like build
this uh probably if you just like build
it and just run the game or I can just
it and just run the game or I can just
send you one if you want can you just
send you one if you want can you just
send me one real quick so that uh we can
send me one real quick so that uh we can
yeah I can tweet it and then we can get
yeah I can tweet it and then we can get
this thing started properly
okay [ __ ] I do need a controller still
okay [ __ ] I do need a controller still
um my bad on that it's fine I kind of
um my bad on that it's fine I kind of
spring this on
you um the problem is if I uh if I get a
you um the problem is if I uh if I get a
controller then I tend to redownload
controller then I tend to redownload
Dark Souls or elen ring
Dark Souls or elen ring
so all right let me try and get a good
so all right let me try and get a good
action shot the scripted Bots are just
action shot the scripted Bots are just
doing their thing so that's
good uh so I did want to let you know
good uh so I did want to let you know
though I haven't had time to fully get
though I haven't had time to fully get
the uh the neuronet working and C but I
the uh the neuronet working and C but I
figured it still take a while to go
figured it still take a while to go
through all the M code so cool as long
through all the M code so cool as long
as you actually have stuff training on
as you actually have stuff training on
it what you do
yep all right uh let me send this in
yep all right uh let me send this in
Discord I mean we'll do way more promo
Discord I mean we'll do way more promo
for you and if you have uh an XL I can
for you and if you have uh an XL I can
add you on there as well um I do but I
add you on there as well um I do but I
haven't logged in in a while to you if
haven't logged in in a while to you if
you want me
you want me
to uh too because I am happy to do that
to uh too because I am happy to do that
it's generally like if you are in Ai and
it's generally like if you are in Ai and
you are you know looking to get your
you are you know looking to get your
work out there it is
work out there it is
mandatory yeah fair
mandatory yeah fair
enough do you have a app a handle for
enough do you have a app a handle for
this uh should just be at cap and space
hook there you go
yeah
thanks this is
thanks this is
awesome folks yeah there we go so
awesome folks yeah there we go so
um let me see what the best way to start
um let me see what the best way to start
this is because this one is so large
this is because this one is so large
that it's like it doesn't make sense to
that it's like it doesn't make sense to
just be going through it on GitHub even
just be going through it on GitHub even
does it I should probably like build
does it I should probably like build
this and play with it yeah I would I
this and play with it yeah I would I
would that's what I was going to
would that's what I was going to
recommend I would recommend honestly
recommend I would recommend honestly
like playing around in the game because
like playing around in the game because
if you don't have a sense for some of
if you don't have a sense for some of
the ways different things interact like
the ways different things interact like
some of the code will be like I don't
some of the code will be like I don't
know not making much sense or you're
know not making much sense or you're
just going to be like okay why is there
just going to be like okay why is there
so much code for this and um it it'll
so much code for this and um it it'll
make more sense when you play basically
make more sense when you play basically
okay and you can get away with mouse and
okay and you can get away with mouse and
keyboard for now I've actually gotten
keyboard for now I've actually gotten
halfway decent a mouse and keyboard it's
halfway decent a mouse and keyboard it's
just a little bit trickier but it's
just a little bit trickier but it's
doable
doable
when I'm too lazyy to like connect my
when I'm too lazyy to like connect my
controller sometimes I briefly hit
controller sometimes I briefly hit
golden OverWatch over the weekend so now
golden OverWatch over the weekend so now
I'm officially only a slightly below
I'm officially only a slightly below
average gamer oh
average gamer oh
nice uh what how high up is that in rank
nice uh what how high up is that in rank
is gold pretty low then or is it like
is gold pretty low then or is it like
medium I think it's like average okay
medium I think it's like average okay
all right
all right
uh
uh
oops and this is going to be Dev Branch
oops and this is going to be Dev Branch
right or or what branch you what what
right or or what branch you what what
did you have this built off of oh so
did you have this built off of oh so
like I said I haven't started working on
like I said I haven't started working on
the build yet um what puffer Li Branch
the build yet um what puffer Li Branch
were you working off
were you working off
of so I'm not forked puffer Li yet but
of so I'm not forked puffer Li yet but
I'll I don't
I'll I don't
know yeah I just trained it like I just
know yeah I just trained it like I just
copied clean
copied clean
RL like clean RL not even clean puffer
RL like clean RL not even clean puffer
yeah yeah yeah sorry I copied clean
yeah yeah yeah sorry I copied clean
puffer and then I just import puffer I
puffer and then I just import puffer I
basic we have like my own minimal demo
basic we have like my own minimal demo
so and you got that from 20 probably yes
so and you got that from 20 probably yes
okay that's fine so we'll be on
okay that's fine so we'll be on
2 oh I guess I don't even need it then I
2 oh I guess I don't even need it then I
I see CU you have it
I see CU you have it
self-contained yeah so if you just here
self-contained yeah so if you just here
yeah and building should be pretty
yeah and building should be pretty
simple yeah yeah you got a building
simple yeah yeah you got a building
before when it was even when it was
before when it was even when it was
still in its infancy so it should be
still in its infancy so it should be
really simple now as long as yeah you
really simple now as long as yeah you
should be fine is uh for folks watching
should be fine is uh for folks watching
audio is working well for Discord call
audio is working well for Discord call
and everything because I I'd like this
and everything because I I'd like this
to be a fun like educational thing and
to be a fun like educational thing and
hopefully some people will get inspired
hopefully some people will get inspired
to try to build some of their own M's
to try to build some of their own M's
off of this you don't have to make
off of this you don't have to make
anything remotely as complex as this but
anything remotely as complex as this but
uh it's a fun way to get involved yeah
uh it's a fun way to get involved yeah
working okay
working okay
great yeah I just really like the
great yeah I just really like the
original game and thought it'd be cool
original game and thought it'd be cool
to train AI on it and
to train AI on it and
I got somebody to introduce you to as
I got somebody to introduce you to as
well since you've been doing physics
well since you've been doing physics
stuff in puffer I had a chat yesterday
stuff in puffer I had a chat yesterday
with the uh the creator of Madrona who's
with the uh the creator of Madrona who's
just defended his P his uh his thesis
just defended his P his uh his thesis
and he's got like an awesome uh like
and he's got like an awesome uh like
actual FPS that we're look at
actual FPS that we're look at
integrating with puffer if you want to
integrating with puffer if you want to
get involved in that afterwards he's a
get involved in that afterwards he's a
little loud though
little loud though
okay usually like literally loud when he
okay usually like literally loud when he
talks or just like a loud person I'll
talks or just like a loud person I'll
just no no no I was reading that was I
just no no no I was reading that was I
was reading the the YouTube comment on
was reading the the YouTube comment on
the audio levels tell me if that's okay
the audio levels tell me if that's okay
I'm a little loud I see I was talking
I'm a little loud I see I was talking
with the m it's a little loud no yeah I
with the m it's a little loud no yeah I
was like what do you mean by that okay
was like what do you mean by that okay
uh or what uh so just do make well wait
uh or what uh so just do make well wait
so if you just want to play it do
so if you just want to play it do
uh um sh you don't okay let me see make
uh um sh you don't okay let me see make
um release demo yeah make release hyphen
demo yeah so this is
demo yeah so this is
gonna download a pinned commit of reopen
gonna download a pinned commit of reopen
my box 2D fork and then just build it
my box 2D fork and then just build it
we'll save the whole cmake discussion
we'll save the whole cmake discussion
until we actually see what it would look
until we actually see what it would look
like cake era could not find X11 the
like cake era could not find X11 the
heck there's definitely
heck there's definitely
X11
X11
huh uh does not work through
huh uh does not work through
Docker I thought I no I I built it on
Docker I thought I no I I built it on
box two and I've used
box two and I've used
it could not I don't think I ran into
it could not I don't think I ran into
this
this
either 3.
either 3.
22.1 yeah no cake the cake is fine uh
22.1 yeah no cake the cake is fine uh
that you just have to apt install
that you just have to apt install
something I remember running to this
something I remember running to this
like once and like chat just gave me the
like once and like chat just gave me the
package I think
package I think
okay yeah this this happened like one
okay yeah this this happened like one
time I can't remember
time I can't remember
when yeah pretty rare though it's a it's
when yeah pretty rare though it's a it's
a packaging issue I
a packaging issue I
guess liex love Dev yeah something like
guess liex love Dev yeah something like
that
y I'm confused as to why that's needed
y I'm confused as to why that's needed
specifically for this but
specifically for this but
sure I guess Raab needs it lib X
randar oh wait I actually might have a
randar oh wait I actually might have a
list of this in the docker container I
list of this in the docker container I
buil at one point this might save you
buil at one point this might save you
some
time I'm so the question is why these
time I'm so the question is why these
things are needed like if you're just
things are needed like if you're just
using RB but uh the X cursor
jez I swear a dog container at one point
jez I swear a dog container at one point
maybe that's
maybe that's
weird
okay yeah maybe I just installed this
okay yeah maybe I just installed this
there we go on box two I don't know and
there we go on box two I don't know and
like now I don't have this problem I'm
like now I don't have this problem I'm
not sure do you have it rendering over
not sure do you have it rendering over
SSH too no I don't have it rendering I
SSH too no I don't have it rendering I
just train it on box two okay um okay so
just train it on box two okay um okay so
we
have following variables are no set to
have following variables are no set to
not found open gel include
D yeah I haven't seen this either
D yeah I haven't seen this either
um I guess okay I guess it means it's
um I guess okay I guess it means it's
trying to find open GL and can't you
trying to find open GL and can't you
probably need toall another
probably need toall another
package is it just open GL open GL Dev
package is it just open GL open GL Dev
something yeah just that's another LM
something yeah just that's another LM
question I think because it's not like a
question I think because it's not like a
simple name one
sec I hope this doesn't break NVIDIA
drivers okay
M
M
there not
there not
farther there's definitely some set up
farther there's definitely some set up
stuff to fix here
stuff to fix here
yeah I've run a multiple it I don't know
yeah I've run a multiple it I don't know
it so yeah I guess you have to have
it so yeah I guess you have to have
certain things installed but there
certain things installed but there
should be like our nice new snazzy
should be like our nice new snazzy
container as well uh what is wrong here
container as well uh what is wrong here
hang on I don't remember having this jar
hang on I don't remember having this jar
mod load file what so so run it
mod load file what so so run it
again and it should just give you only
again and it should just give you only
the necessary yeah it should like slim
the necessary yeah it should like slim
down okay where's the actual eror
unrecognized warning that's just a
unrecognized warning that's just a
that's just the warning wait all
that's just the warning wait all
warnings being treated as
warnings being treated as
errors oh interesting okay I haven't
errors oh interesting okay I haven't
compiled with this old of a GCC in a
compiled with this old of a GCC in a
while
GCC I just have whatever default GCC is
GCC I just have whatever default GCC is
on here I do have I've got updated make
on here I do have I've got updated make
you need like a new GCC or a new CL or
you need like a new GCC or a new CL or
something you shouldn't
something you shouldn't
um I mean
um I mean
it's clang 14 it's probably old
it's clang 14 it's probably old
right uh I don't know I don't know if
right uh I don't know I don't know if
it's using GCC or CL it's using GCC I
it's using GCC or CL it's using GCC I
saw at the beginning it's like gcc1
saw at the beginning it's like gcc1
which is
which is
ancient I mean it might work to
ancient I mean it might work to
update
update
uh kind of well it yeah I'm wondering if
uh kind of well it yeah I'm wondering if
something might honestly I find it
something might honestly I find it
easier to update clang but whatever you
easier to update clang but whatever you
want to do because um there's just like
want to do because um there's just like
an app package you can
an app package you can
install or
install or
clang yeah let me send you the link
clang yeah let me send you the link
thank
thank
you so I you know we'll just get this
you so I you know we'll just get this
set up for now because I want to focus
set up for now because I want to focus
on the code today but then the question
on the code today but then the question
mainly is going to be if you're just
mainly is going to be if you're just
using I mean assumedly all this
using I mean assumedly all this
rendering stuff is not dependency for
rendering stuff is not dependency for
box 2D so know why are there all these
box 2D so know why are there all these
additional dependencies if we're both
additional dependencies if we're both
just using rayb
just using rayb
right I'm pretty sure these are just all
right I'm pretty sure these are just all
the stuff you installed are Raa
the stuff you installed are Raa
dependency like Raab uses X11 opengl all
dependency like Raab uses X11 opengl all
that stuff okay so the setup is just not
that stuff okay so the setup is just not
like the setup file should I have to
like the setup file should I have to
like I I'm confused because I have like
like I I'm confused because I have like
this is a ra valid container that I have
this is a ra valid container that I have
here right yeah I'm not sure about that
here right yeah I'm not sure about that
to be
to be
honest you just need to yeah you need
honest you just need to yeah you need
install white W get for some reason
install white W get for some reason
that's just not on the container I think
that's just not on the container I think
I have Pearl on the container not W get
I have Pearl on the container not W get
yeah it's nice to have both because a
yeah it's nice to have both because a
lot of random stuff uses both okay okay
lot of random stuff uses both okay okay
yeah CL 18 is
fine import out no module oh jeez this
fine import out no module oh jeez this
is like annoying python thing isn't it
is like annoying python thing isn't it
yeah this is a weird thing that happens
yeah this is a weird thing that happens
in your
in your
[Music]
[Music]
container that's right all right it
container that's right all right it
might be easier to do to do GCC because
might be easier to do to do GCC because
I don't know this like script wants to
I don't know this like script wants to
use like app to app repository that's
use like app to app repository that's
right did get it working I did get GCC
right did get it working I did get GCC
actually you know what if you just want
actually you know what if you just want
to hop on box two I'm not using it and
to hop on box two I'm not using it and
it just works on there okay I can do
it just works on there okay I can do
that as well well obviously we'll want
that as well well obviously we'll want
to get the setup stuff yeah fix but in
to get the setup stuff yeah fix but in
the I outside of the container it's
the I outside of the container it's
pretty seamless cuz like on my laptop
pretty seamless cuz like on my laptop
and on my desktop like I don't remember
and on my desktop like I don't remember
really having any issues and on my Mac
really having any issues and on my Mac
so I've tried on three different
so I've tried on three different
environments and I don't really think I
environments and I don't really think I
had to install any packages I just kind
had to install any packages I just kind
of like it just it just worked but this
of like it just it just worked but this
type of thing is going to be really nice
type of thing is going to be really nice
when we have the new boxes we're just
when we have the new boxes we're just
going to be able to give like any
going to be able to give like any
contributors like one or multiple boxes
contributors like one or multiple boxes
like
like
this yeah be nice all right I
this yeah be nice all right I
see it's in go back so it's in get um
see it's in go back so it's in get um
impulse
Wars just go back one directory and then
Wars just go back one directory and then
it's and get an Impulse
it's and get an Impulse
worse yeah okay so now we have this set
worse yeah okay so now we have this set
up and I can't play it through box two
up and I can't play it through box two
right oh you're right um never mind then
right oh you're right um never mind then
I forgot about that that's the main
I forgot about that that's the main
thing we want to
thing we want to
do
do
um how hard is it to Sol GC
yeah we really got to get these
yeah we really got to get these
compilers upd like it it could I can but
compilers upd like it it could I can but
the thing is like you realize that I
the thing is like you realize that I
have the default compilers that ship
have the default compilers that ship
with like not ancient versions of auntu
with like not ancient versions of auntu
right no I know like I I just broke
right no I know like I I just broke
building with gcc1 like pretty recently
building with gcc1 like pretty recently
like it should be able to build fine but
like it should be able to build fine but
I'm just saying for Speed like I got
I'm just saying for Speed like I got
like 10% or something speed gains by
like 10% or something speed gains by
updating my compiler like it's not
updating my compiler like it's not
insignificant well we can put it on the
insignificant well we can put it on the
container but it shouldn't break right
container but it shouldn't break right
yeah yeah no I agree I
yeah yeah no I agree I
agree um
agree um
4.9 pretty easily this is 2015 this is
4.9 pretty easily this is 2015 this is
ancient
yeah upgrading your OS ah very good
yeah upgrading your OS ah very good
great
suggestion you have to add a PPA I
suggestion you have to add a PPA I
freaking hate ppas
apparently here this might work let me
apparently here this might work let me
see have something and then hopefully we
see have something and then hopefully we
can just get started on the code because
can just get started on the code because
there's a whole bunch to go through here
there's a whole bunch to go through here
yeah you send
yeah you send
something yeah I sent it in uh General
something yeah I sent it in uh General
in Discord
in Discord
are you
are you
sure oh
development so
development so
um yeah I'm pretty sure something that I
um yeah I'm pretty sure something that I
installed just now broke
installed just now broke
out no that I've seen that like um
out no that I've seen that like um
yeah that just happens on your boxes
yeah that just happens on your boxes
like on the container for some
like on the container for some
reason oh see that's what was failing in
reason oh see that's what was failing in
the lvm script add after repository it's
the lvm script add after repository it's
because your python stuff's so weird I
because your python stuff's so weird I
don't know
don't know
why so like if
why so like if
you yeah but then like for some reason I
you yeah but then like for some reason I
can only train using the python 3.11
can only train using the python 3.11
command there's no app package in Python
command there's no app package in Python
312 yeah
312 yeah
but then I'm pretty sure the normal
but then I'm pretty sure the normal
python also doesn't have Pip it's it's
python also doesn't have Pip it's it's
like
like
weird oh you don't even have python 311
weird oh you don't even have python 311
on the new
on the new
ones okay yeah I guess I haven't been
ones okay yeah I guess I haven't been
updated mine uh yeah just try pip
updated mine uh yeah just try pip
installing app
package if that works then cool this
package if that works then cool this
stuff has gotten better does not
stuff has gotten better does not
I hate dealing with ppas almost lost the
I hate dealing with ppas almost lost the
OS yeah
OS yeah
it's it's really gross isn't
it's it's really gross isn't
it I bet it's a system package like for
it I bet it's a system package like for
some reason python like I don't know why
some reason python like I don't know why
they distribute like that
but yeah this type of stuff is just
but yeah this type of stuff is just
gross and it's like I don't know why
gross and it's like I don't know why
this stuff depends on python anyways
this stuff depends on python anyways
like why do you need why do p
like why do you need why do p
used for installing
used for installing
GCC like
GCC like
what Python 3
what Python 3
AP yeah that's what I saw
AP yeah that's what I saw
too already
too already
there
there
what someone said if
what someone said if
you reinstall it it might go away
but that's kind of wishful thinking
oh well that's gross I would like to be
oh well that's gross I would like to be
able to play the
able to play the
M yeah um okay let me see I'm not in the
M yeah um okay let me see I'm not in the
VM all right
VM all right
so let's try this let's try just getting
so let's try this let's try just getting
it building on whatever super old
it building on whatever super old
version you have of
version you have of
GCC
GCC
um so edit we're just going to move like
um so edit we're just going to move like
the offending thing and see if that
the offending thing and see if that
works so just run the make Command again
works so just run the make Command again
yeah just to make sure everything
yeah just to make sure everything
like explodes in the way I expect it to
like explodes in the way I expect it to
at least yeah okay so just edit the cake
at least yeah okay so just edit the cake
file really
file really
quick just cake list n it's just it's no
quick just cake list n it's just it's no
not
not
that one yeah no no no no yeah it's just
that one yeah no no no no yeah it's just
yeah that one go to line uh
104 and the very last thing yeah the
104 and the very last thing yeah the
very last like no gnu statement
very last like no gnu statement
expression remove
expression remove
that I don't think that'll fix it by
that I don't think that'll fix it by
itself
but okay yeah let's just remove wear and
but okay yeah let's just remove wear and
then I might build
then I might build
move what I have uh wear
on oh I yeah that one annoys the hell
on oh I yeah that one annoys the hell
out of me I missed warnings otherwise I
out of me I missed warnings otherwise I
don't get any warnings okay now it
don't get any warnings okay now it
should work okay
should work okay
cool so yeah now run release demo
cool so yeah now run release demo
demo oh holy this is
demo oh holy this is
cool let's see I'm red yep you can see
cool let's see I'm red yep you can see
it says drone one is red then you're
it says drone one is red then you're
human everything else is
scripted oops
okay
okay
okay yeah so I finally added a lot of
okay yeah so I finally added a lot of
stuff it tells you like what weapon you
stuff it tells you like what weapon you
have what team you're on there's lives
have what team you're on there's lives
and when you respawn you have like a
and when you respawn you have like a
shield briefly so you can't just get
shield briefly so you can't just get
spawn
spawn
killed ah okay this takes it this takes
killed ah okay this takes it this takes
some getting used
some getting used
wait hold on okay yeah you need to click
wait hold on okay yeah you need to click
behind okay to
go you added some nice like the triangle
go you added some nice like the triangle
breakup animation and stuff it's
breakup animation and stuff it's
good do try picking up some different
good do try picking up some different
weapons and getting a feel for them cuz
weapons and getting a feel for them cuz
right now you haven't picked up anything
right now you haven't picked up anything
I don't think unless I I think that they
I don't think unless I I think that they
they got all the weapons before I could
they got all the weapons before I could
yeah
yeah
potentially
yep
yep
okay oh um you can break using the space
okay oh um you can break using the space
bar and you have a limited number of
bar and you have a limited number of
like pool of energy that's represented
like pool of energy that's represented
by like the the ring in the middle bre I
by like the the ring in the middle bre I
see that's probably
see that's probably
useful yeah especially when they hit you
useful yeah especially when they hit you
or stuff
yeah also I have it set up to be teams
yeah also I have it set up to be teams
by default so Green's on your team I see
by default so Green's on your team I see
there is friendly fire but they won't
there is friendly fire but they won't
like indirectly attack you they won't
like indirectly attack you they won't
attempt to yeah oh
late yeah in this map everyone spawns
late yeah in this map everyone spawns
with a rail gun so
with a rail gun so
yeah the movement in this is like
yeah the movement in this is like
crazy it's very unintuitive right well
crazy it's very unintuitive right well
it it is the start but again that's
it it is the start but again that's
something it's not bad it's not bad to
something it's not bad it's not bad to
have like it's fine it's it's fine to
have like it's fine it's it's fine to
have a game that just has like just the
have a game that just has like just the
skill issue right well what I mean is
skill issue right well what I mean is
it's much more intuitive on a controller
it's much more intuitive on a controller
oh I see it's it's very unintuitive on a
oh I see it's it's very unintuitive on a
keyboard I will agree with that okay
keyboard I will agree with that okay
and that is because but you still have
and that is because but you still have
to shoot in the opposite direction
to shoot in the opposite direction
you're looking at you do but it's it's a
you're looking at you do but it's it's a
lot easier to like wrap your print
lot easier to like wrap your print
around at least for me like with the
around at least for me like with the
controller
controller
interesting like I don't know it's hard
interesting like I don't know it's hard
to describe but once you use a
to describe but once you use a
controller then it's like oh okay this
controller then it's like oh okay this
makes
sense so yeah that weapon you have to
sense so yeah that weapon you have to
charge there was a little charge meter
charge there was a little charge meter
under you
okay if you really don't want wait for
okay if you really don't want wait for
him you can just restart
him you can just restart
it
it
yeah I mean you've cleaned this up
yeah I mean you've cleaned this up
nicely though yeah
nicely though yeah
thanks just like all the little
thanks just like all the little
animations and
animations and
stuff yeah it's all like really simple
stuff yeah it's all like really simple
RB stuff yeah well but it like it makes
RB stuff yeah well but it like it makes
a big difference is the thing right it
a big difference is the thing right it
does yeah gosh um so the one last thing
does yeah gosh um so the one last thing
if you press the uh if you right click
if you press the uh if you right click
you can like basically push stuff away
you can like basically push stuff away
from you it's called a burst you can
from you it's called a burst you can
hold it to like make it
hold it to like make it
larger yeah huh so it'll you don't even
larger yeah huh so it'll you don't even
need any guns is what you're saying
need any guns is what you're saying
because I can just do I can just do well
because I can just do I can just do well
not if they shoot me first yeah so you
not if they shoot me first yeah so you
can but it's highrisk h reward because
can but it's highrisk h reward because
if it uses energy and if you run out of
if it uses energy and if you run out of
energy like breaking is pretty big so
energy like breaking is pretty big so
yeah you can do that
yeah you can do that
you can also deflect shots or you can
you can also deflect shots or you can
power up by Shots by bursting right
power up by Shots by bursting right
after you fire or you can use it to push
after you fire or you can use it to push
yourself away from walls so it's like
yourself away from walls so it's like
really
really
multi-purpose
oh yeah what's cool is too so web is
oh yeah what's cool is too so web is
weird it doesn't run at a stable FPS but
weird it doesn't run at a stable FPS but
it runs I think like at or above 60 FPS
it runs I think like at or above 60 FPS
on all the browsers I've tested in the
on all the browsers I've tested in the
web which is pretty cool so it looks
web which is pretty cool so it looks
pretty smooth in web we can get it
pretty smooth in web we can get it
running faster than 60 right it's
running faster than 60 right it's
running at 120 right now but like that's
running at 120 right now but like that's
the thing with the web it it doesn't run
the thing with the web it it doesn't run
at a steady FPS it just kind of runs
at a steady FPS it just kind of runs
whenever the browser wants to so it's
whenever the browser wants to so it's
like weird I had to count for that as
like weird I had to count for that as
you'll see
you'll see
web is just stupid yeah it's annoying
web is just stupid yeah it's annoying
but it's cool it works yeah it's very
but it's cool it works yeah it's very
difficult to control the uh The Recoil
difficult to control the uh The Recoil
on stuff I guess I'm not using the
on stuff I guess I'm not using the
braking though at all yeah no braking
braking though at all yeah no braking
helps a lot I
helps a lot I
see but you got to be careful though
see but you got to be careful though
because it burns up energy fast
yeah recoil management is kind of in
yeah recoil management is kind of in
positioning are kind of like the two
positioning are kind of like the two
main things so like like these scripted
main things so like like these scripted
agents like they're very they aim like
agents like they're very they aim like
perfectly but they are idiots when it
perfectly but they are idiots when it
comes like positioning and yeah it's
comes like positioning and yeah it's
just mechanically it's freaking hard
just mechanically it's freaking hard
yeah it is so I think there's a lot of
yeah it is so I think there's a lot of
potential for AI agents to just dominate
potential for AI agents to just dominate
because they could get really the
because they could get really the
mechanics are like I mean it's a good
mechanics are like I mean it's a good
example though where it's like the
example though where it's like the
mechanics make sense they're just
mechanics make sense they're just
hard
yeah I I mean I've played this game in
yeah I I mean I've played this game in
the original quite a bit obviously this
the original quite a bit obviously this
it's like it's easier to just do
it's like it's easier to just do
this yeah in the beginning it can be but
this yeah in the beginning it can be but
you leave yourself pretty open because
you leave yourself pretty open because
now you can't
now you can't
break well if I could figure out how to
break well if I could figure out how to
do that correctly in the first place
do that correctly in the first place
maybe it would matter
maybe it would matter
more are these walls not killing us no
more are these walls not killing us no
so you you just missed hitting it
so yeah you're G to if you use the
so yeah you're G to if you use the
shooting to like Propel yourself you can
shooting to like Propel yourself you can
go a lot faster when you're charging up
go a lot faster when you're charging up
your person
stuff oh it actually bounces you off the
stuff oh it actually bounces you off the
wall as well yeah yeah I I mentioned you
wall as well yeah yeah I I mentioned you
might have missed that yeah so it you
might have missed that yeah so it you
can actually use that as a last second
can actually use that as a last second
like say
like say
to save yourself like if you're about to
to save yourself like if you're about to
hit a wall you can burst off the wall
hit a wall you can burst off the wall
and push yourself
away if you're quick enough PR review
away if you're quick enough PR review
yeah this is going to be a PR review you
yeah this is going to be a PR review you
got to actually get a sense of what the
got to actually get a sense of what the
end is first though like how do I review
end is first though like how do I review
something without knowing so you do
something without knowing so you do
actually have to play the end it's one
actually have to play the end it's one
of the main reasons we use games they
of the main reasons we use games they
are interpretable enough for us to do
are interpretable enough for us to do
that and I got hit by the flying jeez
that and I got hit by the flying jeez
okay yeah is there
okay yeah is there
um does this thing do collisions only
um does this thing do collisions only
with it's with rexs only it's not with
with it's with rexs only it's not with
polygons or
polygons or
whatever uh what do you mean like yeah
whatever uh what do you mean like yeah
like these objects they have to be
like these objects they have to be
boxes um I mean like pretty much
boxes um I mean like pretty much
everything coll I'm not sure what you
everything coll I'm not sure what you
mean exactly like only the boxes collide
mean exactly like only the boxes collide
with certain things I mean like does box
with certain things I mean like does box
2D give you you can do like triangle
2D give you you can do like triangle
collisions oh yeah you can do pogon
collisions oh yeah you can do pogon
capsules circles all right chain shapes
capsules circles all right chain shapes
I'm just using
like ah circles I do actually have
like ah circles I do actually have
triangles when you die but they're only
triangles when you die but they're only
like an effect yeah they're just I okay
like an effect yeah they're just I okay
so I mean I think I get I get a sense of
so I mean I think I get I get a sense of
it for the most part um I don't know if
it for the most part um I don't know if
I what do you need to have do you need
I what do you need to have do you need
to like be a specific ELO in order to
to like be a specific ELO in order to
review it I
review it I
wonder I mean seriously like it helps
wonder I mean seriously like it helps
yeah but um I don't want to also be
yeah but um I don't want to also be
playing it all
playing it all
day even though it is
day even though it is
fun yeah the one thing AI agents get
fun yeah the one thing AI agents get
good at like immediately is they learn
good at like immediately is they learn
to be like nasty at bursting off walls
to be like nasty at bursting off walls
so they get really hard to kill oh
so they get really hard to kill oh
that's funny I mean it makes sense it's
that's funny I mean it makes sense it's
like a really short Horizon mechanics
like a really short Horizon mechanics
thing
yeah um if you want to make one if you
yeah um if you want to make one if you
want to make one small change I'll show
want to make one small change I'll show
you something quick um just so you can
you something quick um just so you can
get a sense of something that took me a
get a sense of something that took me a
long time like you can so exit out
long time like you can so exit out
really
really
fast
fast
yep and edit um SRC demo.
C okay so at the very end of the NIT
C okay so at the very end of the NIT
M
M
um yeah it's just lagging a bit twitch
um yeah it's just lagging a bit twitch
yeah so at the very end of that like
yeah so at the very end of that like
line there's going to be like yeah three
line there's going to be like yeah three
booleans set the second to last bullion
booleans set the second to last bullion
to
to
true that's just going to make them all
true that's just going to make them all
sitting ducks I just want to show you
sitting ducks I just want to show you
something it would be easier yeah
okay so yeah just go ahead and run it
okay so yeah just go ahead and run it
again okay and try and pick up yeah
again okay and try and pick up yeah
there's a mine at the bottom if you also
there's a mine at the bottom if you also
press PR three just the number three you
press PR three just the number three you
could take control of the the blue drone
could take control of the the blue drone
which is
which is
closer if you
closer if you
want yeah so go pick up that mine
want yeah so go pick up that mine
quick okay so one thing that was
quick okay so one thing that was
actually really tricky was getting
actually really tricky was getting
chained explosions so if you place two
chained explosions so if you place two
of those close together like far away
of those close together like far away
from
from
you not on a player yeah on a on like a
you not on a player yeah on a on like a
r wall yeah Place another one like close
r wall yeah Place another one like close
to that
okay and then shoot one of
okay and then shoot one of
those I
those I
see so that actually took me like
see so that actually took me like
multiple days which seems really simple
multiple days which seems really simple
because like yeah there was a lot of
because like yeah there was a lot of
like I have to iterate through all these
like I have to iterate through all these
box 2D objects to see if they're
box 2D objects to see if they're
touching but then like I can't destroy
touching but then like I can't destroy
the Box through the objects while I'm
the Box through the objects while I'm
iterating through them so I have to mark
iterating through them so I have to mark
them for removal later and it got really
them for removal later and it got really
challenging because like there's
challenging because like there's
multiple things that could destroy
multiple things that could destroy
projectile so I need to make sure like
projectile so I need to make sure like
yeah it there was a lot of edge cases so
yeah it there was a lot of edge cases so
so we'll look then I'll look at the
so we'll look then I'll look at the
structure stuff and then I'll see if I
structure stuff and then I'll see if I
can
can
find basically anywhere where I have
find basically anywhere where I have
ideas on that but um sure yeah okay are
ideas on that but um sure yeah okay are
we uh anything else you want to show me
we uh anything else you want to show me
or should I start looking at the code
or should I start looking at the code
here um the imploder right this is gonna
here um the imploder right this is gonna
us I'm sure if you're that close it
us I'm sure if you're that close it
might
might
yeah oh he hit you into the wall
yeah oh he hit you into the wall
yeah oh and there like a battle royale
yeah oh and there like a battle royale
thing here going on as well right yeah
thing here going on as well right yeah
so once timers out the walls start
so once timers out the walls start
closing in that's cool I did that
closing in that's cool I did that
actually in neural MMO in one of the
actually in neural MMO in one of the
early versions oh really yeah that's
cool yeah so I gotta give credit where
cool yeah so I gotta give credit where
credits do 90% 99 or probably I say like
credits do 90% 99 or probably I say like
90% of this is from the original game
90% of this is from the original game
mhm the only stuff I added I added the
mhm the only stuff I added I added the
mine launcher weapon I added the first
mine launcher weapon I added the first
thing
thing
BRAC oh yeah first thing breaking and
BRAC oh yeah first thing breaking and
energy mechanics I added this map and
energy mechanics I added this map and
one other but everything else is like
one other but everything else is like
pretty straight from the original
pretty straight from the original
game it's cool okay so like it have to
game it's cool okay so like it have to
go far enough before it'll explode on
go far enough before it'll explode on
something yeah so after after it goes a
something yeah so after after it goes a
certain
certain
distance if you want to see something
distance if you want to see something
really cool so let me see ra as well
really cool so let me see ra as well
this takes a long time to charge only
this takes a long time to charge only
but it's good yeah um so I'll show you
but it's good yeah um so I'll show you
one more thing pick up the uh machine
one more thing pick up the uh machine
gun quick
gun quick
actually uh machine gun will work okay I
actually uh machine gun will work okay I
guess all
right um and just shoot like one shot so
right um and just shoot like one shot so
you can get a sense of how fast it goes
you can get a sense of how fast it goes
it's a lot
it's a lot
yeah yeah if you burst and then let go
yeah yeah if you burst and then let go
of the burst at the same time as you
of the burst at the same time as you
shoot you can basically like supercharge
shoot you can basically like supercharge
your
your
shot oh that's so
funny so you Bas
funny so you Bas
yeah it's hard with the machine gun the
yeah it's hard with the machine gun the
flat can is honestly the best one
flat can is honestly the best one
because they go slow so there's Tech
because they go slow so there's Tech
basically yeah and that one I
basically yeah and that one I
accidentally I actually accidentally
accidentally I actually accidentally
discovered I didn't even intend for it
discovered I didn't even intend for it
but I it's really cool yeah I I had the
but I it's really cool yeah I I had the
exact same thing happen like in neural
exact same thing happen like in neural
MMO where there was was like
MMO where there was was like
unintentional Tech
unintentional Tech
um what there like there was this really
um what there like there was this really
there's like there's basically there's
there's like there's basically there's
like scraping Tech you can do there's
like scraping Tech you can do there's
likeing te you can do with a bow and
likeing te you can do with a bow and
with the
with the
sword um and then there's also like
sword um and then there's also like
enemy AI abuse you can
enemy AI abuse you can
do yeah it's really cool when you find
do yeah it's really cool when you find
like I don't know emergent behaviors
like I don't know emergent behaviors
around but like unintentional features I
around but like unintentional features I
guess I mean this is just the thing is
guess I mean this is just the thing is
this should be true of any like
this should be true of any like
sufficiently complex game and you leave
sufficiently complex game and you leave
in the ones that are interesting and you
in the ones that are interesting and you
take out the ones that aren't
true so yeah um I'm sure where you want
true so yeah um I'm sure where you want
to start let start the review
to start let start the review
see
see
yeah what
this I'll look at that later
um well let's just take a quick look at
um well let's just take a quick look at
the structure so it's all in
the structure so it's all in
Source yeah pretty much um the python
Source yeah pretty much um the python
stuff is not but all like the actual M
stuff is not but all like the actual M
code is in
code is in
there and you've taken a look at the
there and you've taken a look at the
policy before so you kind of know what
policy before so you kind of know what
to expect there but yeah feel free I did
to expect there but yeah feel free I did
do the uh scatter scatter thing so the
do the uh scatter scatter thing so the
policy a little cleaner it also makes a
policy a little cleaner it also makes a
compile it does yeah yeah I tested that
compile it does yeah yeah I tested that
I got the like end to end I now have end
I got the like end to end I now have end
to end comp including the lstm for eal
to end comp including the lstm for eal
working in puffer wait really CU I
working in puffer wait really CU I
thought I read something somewhere where
thought I read something somewhere where
like the lstm can't really be
like the lstm can't really be
compiled like they like I use there two
compiled like they like I use there two
separate lstms that are being used
separate lstms that are being used
there's a different lstm being used for
there's a different lstm being used for
the forward pass than the training pass
the forward pass than the training pass
but the weights are
but the weights are
synchronized oh nice that's smart yeah
synchronized oh nice that's smart yeah
and it's an lstm cell this also makes it
and it's an lstm cell this also makes it
like 30% faster that's that's awesome
like 30% faster that's that's awesome
yeah so did some work um this is I like
yeah so did some work um this is I like
I got remember how I got everything
I got remember how I got everything
training really fast yeah so that was
training really fast yeah so that was
part of it so
part of it so
anyways yeah with my recent changes with
anyways yeah with my recent changes with
my policy my policy doesn't have any
my policy my policy doesn't have any
graph bakes in in it specifically which
graph bakes in in it specifically which
is nice
is nice
so so what do you want to start on um
so so what do you want to start on um
game. has like all the game
game. has like all the game
logic um and M is just like you know the
logic um and M is just like you know the
more r specific
more r specific
stuff we have I'm looking at this first
stuff we have I'm looking at this first
we
we
have 7,000 lines okay yeah it's
big okay let me just I'm trying to get a
big okay let me just I'm trying to get a
sense of what what stuff is where so
sense of what what stuff is where so
there's this massive settings
file yeah a lot of that is like weapon
file yeah a lot of that is like weapon
stuff
Okay and like observation stuff
yeah so some of this is a little longer
yeah so some of this is a little longer
than it needs to be because I also like
than it needs to be because I also like
assigned the stuff below but I tried to
assigned the stuff below but I tried to
like make it smaller and I ended up
like make it smaller and I ended up
needing a lot of these things multiple
needing a lot of these things multiple
time so it actually just makes sense to
time so it actually just makes sense to
kind of do it the way I'm doing it it we
kind of do it the way I'm doing it it we
in my
opinion yeah there's like a lot of
opinion yeah there's like a lot of
different settings per weapon and some
different settings per weapon and some
of like the stuff is like calculated so
of like the stuff is like calculated so
I had I was it was getting weird in
I had I was it was getting weird in
certain I think like an older compiler
certain I think like an older compiler
versions it doesn't like when you're
versions it doesn't like when you're
doing like math in constant so I had to
doing like math in constant so I had to
use
use
macros which is kind of stupid because
macros which is kind of stupid because
it should be able I don't know just you
it should be able I don't know just you
it should be that's funny yeah that's
it should be that's funny yeah that's
that's actually really
that's actually really
weird but to be honest I'm pretty sure
weird but to be honest I'm pretty sure
it was just my LSP like yelling at me
it was just my LSP like yelling at me
and the compiler as actually fine I
and the compiler as actually fine I
discovered that recently where the LSP
discovered that recently where the LSP
will be like hey you can't do this and
will be like hey you can't do this and
then it compiles fine with no warnings
then it compiles fine with no warnings
I'm like okay shut up you know um you
I'm like okay shut up you know um you
know how you cannot have LSP
know how you cannot have LSP
warnings yeah using B if you don't use
warnings yeah using B if you don't use
an
an
LSP yeah but a lot of the LSP features
LSP yeah but a lot of the LSP features
are very nice in my op I'm aware
but it's
but it's
funny uh weapon of
fire I mean these are just all
fire I mean these are just all
like this is just
like this is just
tea if I have coffee coffee is just
tea if I have coffee coffee is just
black so most of these weapon like uh I
black so most of these weapon like uh I
used to have a function for everything
used to have a function for everything
but now the only weapons functions they
but now the only weapons functions they
have is are when some of the parameters
have is are when some of the parameters
are like very specific per weapon like
are like very specific per weapon like
random or something like that because
random or something like that because
like the machine gun and the shotgun
like the machine gun and the shotgun
they apply like some random aiming and
they apply like some random aiming and
velocity changes to uh projectiles and
velocity changes to uh projectiles and
then like yeah so stuff like that most
then like yeah so stuff like that most
the other stuff is just taken from the
the other stuff is just taken from the
weapon
weapon
struct insertion short is just placed
struct insertion short is just placed
here
here
because if I plac in certain other files
because if I plac in certain other files
they would be like circular including
they would be like circular including
stuff like it was getting weird but very
stuff like it was getting weird but very
small fire
okay so I had to see how this
is yeah settings is just a lot of like
is yeah settings is just a lot of like
settings and boiler plate and stuff
settings and boiler plate and stuff
types are pretty much like all the types
types are pretty much like all the types
where they live you know I'm an entity
where they live you know I'm an entity
type
rounds wall
entity for
R CLI is in there as
well okay we're doing we're going to
well okay we're doing we're going to
kind of do like forer granular
kind of do like forer granular
here sure where I need to get um a sense
here sure where I need to get um a sense
of like what generally is here
of like what generally is here
first and then I can go through line by
first and then I can go through line by
line it be a
line it be a
lot I don't know if I'd recommend going
lot I don't know if I'd recommend going
through script to agent first honestly
through script to agent first honestly
because trying to get a sense of what's
because trying to get a sense of what's
here sure you can go through it but
here sure you can go through it but
there's just a lot of calculations and
there's just a lot of calculations and
physics stuff going on because like yeah
physics stuff going on because like yeah
the the scripted agents are very like
the the scripted agents are very like
mid but even to get them to that level
mid but even to get them to that level
is really actually kind of
annoying it is really tough to get them
annoying it is really tough to get them
to not kill themselves by
accident yeah that was the safe stuff
accident yeah that was the safe stuff
okay
I think this file will be important
I think this file will be important
because this will be like how you're
because this will be like how you're
thinking about how the game needs to be
thinking about how the game needs to be
played in here or at least not needs to
played in here or at least not needs to
be played but as close as you can do
be played but as close as you can do
just by a rule based
just by a rule based
system yeah
system yeah
it can still be improved a lot but yeah
it can still be improved a lot but yeah
render is probably not if probably it's
render is probably not if probably it's
it's fine it's not bad but it's probably
it's fine it's not bad but it's probably
among the lower quality code just
among the lower quality code just
because like I this is the first
because like I this is the first
Graphics program I've done
Graphics program I've done
ever so well what what fancy graphic
ever so well what what fancy graphic
stuff is there in you I mean not a lot
stuff is there in you I mean not a lot
it's just I'm I don't know everything
it's just I'm I don't know everything
else is like I don't know I'm Graphics
else is like I don't know I'm Graphics
is generally like basic graphics is only
is generally like basic graphics is only
generally hard because most libraries
generally hard because most libraries
suck true ra is nice I tried to cut down
suck true ra is nice I tried to cut down
the amount of magic numbers and stuff
the amount of magic numbers and stuff
but at certain point there's just like I
but at certain point there's just like I
don't know I kind of just played this
don't know I kind of just played this
stuff until it looked the way I wanted
stuff until it looked the way I wanted
it I don't really care about I don't
it I don't really care about I don't
care too much about magic numbers um if
care too much about magic numbers um if
they're being used
they're being used
once yeah I don't care that much yeah if
once yeah I don't care that much yeah if
it if it was anything else I tried to
it if it was anything else I tried to
make it like a con or something I care a
make it like a con or something I care a
lot more about General logic flow and
lot more about General logic flow and
like whether there is more code than
like whether there is more code than
there needs to be
yeah you're clearly a more you know a
yeah you're clearly a more you know a
more comfortable um low-level programmer
more comfortable um low-level programmer
so I'm not going to like enforce things
so I'm not going to like enforce things
that are just purely style preference on
that are just purely style preference on
you um I'm not going to bother with that
you um I'm not going to bother with that
like I see you like your like uh the U
like I see you like your like uh the U
like the U into whatever form over short
like the U into whatever form over short
or long or like that's fine I see you
or long or like that's fine I see you
like your case statements that's fine
like your case statements that's fine
it's preference yeah I'm not going to
it's preference yeah I'm not going to
like that's a waste of both of our time
like that's a waste of both of our time
so I'm not going to do
so I'm not going to do
that the only style stuff I will talk
that the only style stuff I will talk
about is if there's something that's
about is if there's something that's
just like straight up wrong but I'm not
just like straight up wrong but I'm not
seeing well to be fair I haven't looked
seeing well to be fair I haven't looked
super super closely yet at any
super super closely yet at any
individual thing but I'm not seeing like
individual thing but I'm not seeing like
any
any
obvious right like at like obvious like
obvious right like at like obvious like
this line or like the way this
this line or like the way this
particular thing is done is is bad I'm
particular thing is done is is bad I'm
not seeing any of that right I'm seeing
not seeing any of that right I'm seeing
like I'm seeing like yep you know what
like I'm seeing like yep you know what
an early return is
an early return is
um I don't see like massive duplicated
um I don't see like massive duplicated
things where they should be like aemp
things where they should be like aemp
variable I don't
see okay you like your con correctness
see okay you like your con correctness
sure it doesn't matter that
sure it doesn't matter that
much that's that's preference I I think
much that's that's preference I I think
it's kind of not I don't think it's
it's kind of not I don't think it's
particularly useful but who cares
particularly useful but who cares
cares yeah I am just kind of paranoid
cares yeah I am just kind of paranoid
that like one day I'll modify something
that like one day I'll modify something
I didn't mean to and it like because
I didn't mean to and it like because
I've been down there in other languages
I've been down there in other languages
that don't have this like can go where I
that don't have this like can go where I
something is essentially constant but I
something is essentially constant but I
can't force it and then something
can't force it and then something
modifies it down the line and I'm you
modifies it down the line and I'm you
know operate under assumption that's not
know operate under assumption that's not
modified and it's a whole can of worms I
modified and it's a whole can of worms I
could see that with box 2D maybe being a
could see that with box 2D maybe being a
thing cuz you have like this engine in
thing cuz you have like this engine in
the picture yeah I can't really say I've
the picture yeah I can't really say I've
ever had that be a problem with
ever had that be a problem with
um with any of my stuff interesting it's
um with any of my stuff interesting it's
more a paranoid thing like also I don't
more a paranoid thing like also I don't
totally trust my future self to like
totally trust my future self to like
remember not to change something so if I
remember not to change something so if I
make it Con then it compy will just tell
make it Con then it compy will just tell
me I can't change
me I can't change
it well but then there I guess it
it well but then there I guess it
depends what flags you have enabled
depends what flags you have enabled
because then you end up needing the
because then you end up needing the
signatures to be constant stuff so if
signatures to be constant stuff so if
you something that's not const like I
you something that's not const like I
don't know I generally find const
don't know I generally find const
correctness to be a total pain in the
correctness to be a total pain in the
ass because of that because it like it
ass because of that because it like it
tries to enforce it's not just you tried
tries to enforce it's not just you tried
to change something that wasn't constant
to change something that wasn't constant
it's this function doesn't take a const
it's this function doesn't take a const
version or whatever maybe they compile
version or whatever maybe they compile
flags for that um um as far as I know
flags for that um um as far as I know
that's that's more of like an error
that's that's more of like an error
that's not even a warning but if you
that's not even a warning but if you
just do that from the
just do that from the
start but I also understand why some
start but I also understand why some
people wouldn't want to bother with it
people wouldn't want to bother with it
when if you don't have like because all
when if you don't have like because all
the other ocean so it's like it's not a
the other ocean so it's like it's not a
big deal but I'm more I was really
big deal but I'm more I was really
paranoid about like some of like the map
paranoid about like some of like the map
entries and like the weapon info entries
entries and like the weapon info entries
like I made the individual stru field to
like I made the individual stru field to
const and I signed them to const Global
const and I signed them to const Global
just to ensure I could never change
just to ensure I could never change
something because I didn't want it to be
something because I didn't want it to be
like yeah you know I'm more fine with
like yeah you know I'm more fine with
um it's fine like it's fine kind of
um it's fine like it's fine kind of
having the variables being const I just
having the variables being const I just
I don't like the way that they end up
I don't like the way that they end up
propagating through function signatures
propagating through function signatures
more than anything CU then like if I
more than anything CU then like if I
want to apply a function to a version
want to apply a function to a version
that isn't constant now I need a new
that isn't constant now I need a new
function or I need to do a const cast
function or I need to do a const cast
right and in that case I usually just
right and in that case I usually just
end up removing the cons from the
end up removing the cons from the
function if I have if there's a good
function if I have if there's a good
reason like I can't pass into cons like
reason like I can't pass into cons like
it's it hasn't really been a big deal to
it's it hasn't really been a big deal to
me like it's it's cost me I haven't
me like it's it's cost me I haven't
played with this since I was literally
played with this since I was literally
like brand brand new to like literally
like brand brand new to like literally
first like time using C++ or whatever
first like time using C++ or whatever
but I don't know it's you know it's not
but I don't know it's you know it's not
a big deal also it can help readability
a big deal also it can help readability
in my opinion because if you're just
in my opinion because if you're just
reading it you know like okay this will
reading it you know like okay this will
not change past this point unless
not change past this point unless
they're like casting it or like H's
they're like casting it or like H's
cting it or something so you kind of
cting it or something so you kind of
know like okay you're he's passing in
know like okay you're he's passing in
this parameter but this parameter is
this parameter but this parameter is
like not changed this pointer is not
like not changed this pointer is not
changing this function so you can that
changing this function so you can that
is fair that is fair um you can make
is fair that is fair um you can make
some safe assumptions
mhm and I don't how much actually helps
mhm and I don't how much actually helps
I like I wish it worked differently that
I like I wish it worked differently that
like you know you could strip const from
like you know you could strip const from
a signature and still pass it a const
a signature and still pass it a const
version and you'd still get an error if
version and you'd still get an error if
it changed or something maybe I don't
it changed or something maybe I don't
know
know
yeah I don't know i' have to think about
yeah I don't know i' have to think about
that the other thing I didn't do it for
that the other thing I didn't do it for
this reason but I'm pretty sure it does
this reason but I'm pretty sure it does
help compilers to know that like hey
help compilers to know that like hey
this thing isn't going to change like I
this thing isn't going to change like I
think it can help in optimization
think it can help in optimization
sometimes
sometimes
but it's a lot of like if you just look
but it's a lot of like if you just look
at the red here right on the screen like
at the red here right on the screen like
there's a lot of const all over the
there's a lot of const all over the
place yeah it's like actually a
place yeah it's like actually a
non-trivial amount of extra stuff to
non-trivial amount of extra stuff to
keep track of I mean you don't really
keep track of I mean you don't really
need to like mentally PR it you can just
need to like mentally PR it you can just
ignore cons if you want
ignore cons if you want
to that I that I won't take you could
to that I that I won't take you could
say the same thing of like typing your
say the same thing of like typing your
python
python
code yeah I would agree with that though
code yeah I would agree with that though
like for a m for just a readability like
like for a m for just a readability like
I don't think if anything I think const
I don't think if anything I think const
and typing in Python help readability
and typing in Python help readability
maintainability writeability I could see
maintainability writeability I could see
your point like yeah it makes it harder
your point like yeah it makes it harder
to like change but readability it's only
to like change but readability it's only
a plus in my
a plus in my
opinion well the python On's a different
opinion well the python On's a different
story because then I'd just rather be
story because then I'd just rather be
writing in a language where the types
writing in a language where the types
actually give you perf benefit but sure
actually give you perf benefit but sure
um I don't disagree with that but yeah
um I don't disagree with that but yeah
it's nice sometimes knowing what these
it's nice sometimes knowing what these
ambiguous objects are are in
ambiguous objects are are in
Python okay I should actually start
Python okay I should actually start
going through some of this properly I
going through some of this properly I
still need to get a sense though of
still need to get a sense though of
there are a few things so helpers what
there are a few things so helpers what
type of
type of
okay um I knew you'd love this I do
okay um I knew you'd love this I do
these are not like macros but I see that
these are not like macros but I see that
some of these are debugs at the very
some of these are debugs at the very
least most of them are debugs
least most of them are debugs
fast
fast
Malik yeah so I'm using DL Malik and
Malik yeah so I'm using DL Malik and
that basically means when I use the bug
that basically means when I use the bug
or in scripton yeah I have a comment
or in scripton yeah I have a comment
there actually explains
there actually explains
it a dress sanitizer
it a dress sanitizer
confined
okay jeez okay I do not like I do not
okay jeez okay I do not like I do not
like heavy
like heavy
macros um I also don't like what is the
macros um I also don't like what is the
point can you just explain to me what is
point can you just explain to me what is
the even the point of having this stuff
the even the point of having this stuff
in macros instead of in in function
in macros instead of in in function
calls the Asser and debug stuff yeah
calls the Asser and debug stuff yeah
yeah so um it allows you to do things
yeah so um it allows you to do things
you can't otherwise do because the file
you can't otherwise do because the file
and line macros like C doesn't have a
and line macros like C doesn't have a
way so like in go for example or other
way so like in go for example or other
languages with like a heftier runtime
languages with like a heftier runtime
you can get the file and line number
you can get the file and line number
that you're on through the run time but
that you're on through the run time but
you can't Inc I see so macro you know
you can't Inc I see so macro you know
their substitution so they can
their substitution so they can
substitute in like where you're at um
substitute in like where you're at um
also I got this idea from boxd so you
also I got this idea from boxd so you
can see like the on error thing in
can see like the on error thing in
assert that's really nice so basically
assert that's really nice so basically
like normally in an assertion it'll just
like normally in an assertion it'll just
you know like like uh send a signal like
you know like like uh send a signal like
sigill or something but I can actually
sigill or something but I can actually
change what happens when I hit an assert
change what happens when I hit an assert
so like I can make it do a debug break I
so like I can make it do a debug break I
can make it like sleep forever if I'm
can make it like sleep forever if I'm
rendering so I can like basically pause
rendering so I can like basically pause
like I can basically change what happens
like I can basically change what happens
when something you know happens that I
when something you know happens that I
don't want like don't expect it makes it
don't want like don't expect it makes it
way easier to bug so I don't I don't
way easier to bug so I don't I don't
completely hate this for debugging
completely hate this for debugging
only
um I'm seeing actually the vast majority
um I'm seeing actually the vast majority
of these are pretty bugging and you said
of these are pretty bugging and you said
there was something weird why you had to
there was something weird why you had to
do
do
this um no I don't that's just like a
this um no I don't that's just like a
help oh yeah again I don't know if this
help oh yeah again I don't know if this
is actually a LSB thing actual C thing
is actually a LSB thing actual C thing
but I remember before I was like
but I remember before I was like
calculating that um
calculating that um
using uh yeah like so you can't make
using uh yeah like so you can't make
that a function and assign it to a
that a function and assign it to a
constant or C will get mad because it's
constant or C will get mad because it's
like oh I can't figure out what this is
like oh I can't figure out what this is
a compile time so you have to make it a
a compile time so you have to make it a
macro you can't make what
macro you can't make what
a if I made mass and inverse Mass
a if I made mass and inverse Mass
functions and I tried to assign the
functions and I tried to assign the
result of those to constant like globals
result of those to constant like globals
then it would like scream at me because
then it would like scream at me because
oh I can't evaluate functions at compile
oh I can't evaluate functions at compile
time you can't make those constant
time you can't make those constant
globals that's
globals that's
weird I mean it kind of makes sense
weird I mean it kind of makes sense
because C has no um like they don't have
because C has no um like they don't have
constant expressions like con exper
constant expressions like con exper
stuff like C++ does so they're just
stuff like C++ does so they're just
trying to keep the language simple which
trying to keep the language simple which
makes sense but
makes sense but
yeah yeah it makes sense if you think
yeah yeah it makes sense if you think
about it but I mean of course this only
about it but I mean of course this only
becomes a problem if you actually want
becomes a problem if you actually want
to have the thing be assigned comp right
to have the thing be assigned comp right
but fine uh I don't think it works with
but fine uh I don't think it works with
a global I actually yeah I don't think
a global I actually yeah I don't think
it works with the global either right
it works with the global either right
yeah you can't do like uh in like you
yeah you can't do like uh in like you
can't do float Mass equals
can't do float Mass equals
this as a global uh you can't like if
this as a global uh you can't like if
you made Mass a
function I think you still can
function I think you still can
even if it's a function can't
even if it's a function can't
you uh no but I'm just saying at the
you uh no but I'm just saying at the
global weather's conent or not I have to
global weather's conent or not I have to
look at it I'm
look at it I'm
not it seems weird that there would be a
not it seems weird that there would be a
limitation for this type of stuff to
limitation for this type of stuff to
motivate additional macroing but
motivate additional macroing but
whatever I think that's about as much
whatever I think that's about as much
style stuff as I want to bother with um
style stuff as I want to bother with um
because it's like it's it's largely a
because it's like it's it's largely a
waste
waste
for I this stuff is more productive with
for I this stuff is more productive with
people who are like brand new to either
people who are like brand new to either
lowlevel programming or are newer
lowlevel programming or are newer
programmers in general so this is all
programmers in general so this is all
the macro Stu though so you've seen
the macro Stu though so you've seen
pretty much all of it yeah and it's
pretty much all of it yeah and it's
mostly debug so I'm fine with that so
mostly debug so I'm fine with that so
this is the game
this is the game
logic yeah like 99% of the game logic is
logic yeah like 99% of the game logic is
in this Mass this is the biggest file
in this Mass this is the biggest file
so I assume we only have prototypes for
so I assume we only have prototypes for
a few things
a few things
here yeah they're actually defined in
here yeah they're actually defined in
this file but but there's so much stuff
this file but but there's so much stuff
that calls each other and calls
that calls each other and calls
themselves like I had to make them
themselves like I had to make them
prototypes at the top
prototypes at the top
well I generally do try if I can to just
well I generally do try if I can to just
Define things in order use to force
Define things in order use to force
myself um because if you're going to you
myself um because if you're going to you
know once you start like screw it I'm
know once you start like screw it I'm
not caring about the order then it's
not caring about the order then it's
like you actually do separate C andh but
like you actually do separate C andh but
then you also get harder to read files
then you also get harder to read files
because it's like you know if you have a
because it's like you know if you have a
giant file but things are not actually
giant file but things are not actually
defined in the order they're used it's
defined in the order they're used it's
really hard to read them top to
really hard to read them top to
bottom no they are pretty much order of
bottom no they are pretty much order of
use for the most part just a few edge
use for the most part just a few edge
cases fine yeah yeah that's fine okay I
cases fine yeah yeah that's fine okay I
do the same
thing
what
what
okay I'm seeing a lot of like little
okay I'm seeing a lot of like little
tiny structs is there a reason there's
tiny structs is there a reason there's
like a stru with one
like a stru with one
wall yeah so so if you look at the
wall yeah so so if you look at the
function below is overlapping AABB that
function below is overlapping AABB that
stands for access to line bounding box
stands for access to line bounding box
so um box 2D it wants a call back in a
so um box 2D it wants a call back in a
context and that's a void pointer so
context and that's a void pointer so
yeah
yeah
actually I realized I could probably
actually I realized I could probably
just make that a bull now that I think
just make that a bull now that I think
about it instead of a struck with a bull
about it instead of a struck with a bull
but I think what it was before the
but I think what it was before the
struct used to have multiple members so
struct used to have multiple members so
okay I'm not going to get on you for the
okay I'm not going to get on you for the
like this is okay box 2D uses callbacks
like this is okay box 2D uses callbacks
lovely JavaScript great um no I mean for
lovely JavaScript great um no I mean for
this it makes sense like it's not crazy
this it makes sense like it's not crazy
into callbacks it uses callbacks where
into callbacks it uses callbacks where
it makes sense like I'm honestly fine
it makes sense like I'm honestly fine
with
with
it yeah don't compared to JavaScript
it yeah don't compared to JavaScript
that's like call back hell this is not
that's like call back hell this is not
that it's
sane I mean this is like large enough
sane I mean this is like large enough
that it's going to be tough to scroll
that it's going to be tough to scroll
through this until I'm really ready to
through this until I'm really ready to
yeah I just want to get a sense of
this there's a couple of callbacks but a
this there's a couple of callbacks but a
lot of it is just well
lot of it is just well
actually yeah I also want to get a sense
of okay I mean honestly the way that you
of okay I mean honestly the way that you
have this stuff
have this stuff
defined this
defined this
is I think that this will be pretty easy
is I think that this will be pretty easy
to review
to review
the the end
the the end
file right because you have let me see
file right because you have let me see
what this foot looks
like where is
Step going first step
there no step function in here there is
there no step function in here there is
it's towards the bottom though okay CU a
it's towards the bottom though okay CU a
lot of stuff calls it or a couple things
lot of stuff calls it or a couple things
call it yeah there you go so yeah this
call it yeah there you go so yeah this
is where some of the inscript and stuff
is where some of the inscript and stuff
gets weird I can talk tell you explain
gets weird I can talk tell you explain
that now or later
yeah my yeah my uh my intent was not to
yeah my yeah my uh my intent was not to
inflict this upon
inflict this upon
you so it's necessary because of because
you so it's necessary because of because
I'm doing
I'm doing
physics and in scripton is not like Raab
physics and in scripton is not like Raab
where it it will just pretty much
where it it will just pretty much
guarantee like oh you tell it like I
guarantee like oh you tell it like I
want 100 like X FPS and it will do its
want 100 like X FPS and it will do its
best to you know call like whatever
best to you know call like whatever
it'll just you know sleep in between
it'll just you know sleep in between
render calls or whatever so you're
render calls or whatever so you're
consistently stepping but the way it
consistently stepping but the way it
works in the web I the browser just kind
works in the web I the browser just kind
of like calls your function whenever it
of like calls your function whenever it
feels like it yeah I okay so and I need
feels like it yeah I okay so and I need
to run my physics at like um the same
to run my physics at like um the same
like time step so I basically oh if it's
like time step so I basically oh if it's
like if there's been too long of a gap I
like if there's been too long of a gap I
run the physics multiple times in one
run the physics multiple times in one
step
step
and it's it's like a standard thing in
and it's it's like a standard thing in
like games physics when you're running
like games physics when you're running
games with physics that like a variable
games with physics that like a variable
FPS it's like a standard thing but it's
FPS it's like a standard thing but it's
like a little bit
like a little bit
weird I see because there isn't actually
weird I see because there isn't actually
a time that has passed uh when you're
a time that has passed uh when you're
running this thing for training it's
running this thing for training it's
just like you're assuming that it's
just like you're assuming that it's
running at whatever You'
running at whatever You'
specified yeah for training yeah I'm
specified yeah for training yeah I'm
just running it as fast I can and I just
just running it as fast I can and I just
yeah so no matter what I'm doing I'm
yeah so no matter what I'm doing I'm
stepping the physics like by a set
stepping the physics like by a set
amount of like a set amount of time
amount of like a set amount of time
every time it's it's like yeah a fixed
every time it's it's like yeah a fixed
time step so step
actions not named amazing that's the one
actions not named amazing that's the one
there's so that's kind of like um I
there's so that's kind of like um I
because I have like frame skips and
because I have like frame skips and
stuff I get like what the actions are
stuff I get like what the actions are
for the step and then I just do them
for the step and then I just do them
multiple times over the frame skip
and then the step world is the thing
and then the step world is the thing
that I'm assuming has all the chunky
that I'm assuming has all the chunky
physics yeah box 2D step world just
physics yeah box 2D step world just
basically collides everything moves
basically collides everything moves
everything handles all the stuff and
everything handles all the stuff and
there's no callbacks they they have an
there's no callbacks they they have an
event system so you saw like the move
event system so you saw like the move
events and Collide events so you
events and Collide events so you
basically step the word you tell it like
basically step the word you tell it like
okay I'm defining these bodies and
okay I'm defining these bodies and
shapes I am setting like certain
shapes I am setting like certain
properties of them I set like maybe set
properties of them I set like maybe set
their initial velocities whatever and
their initial velocities whatever and
then after that like it will just
then after that like it will just
compute stuff and then you can ask it
compute stuff and then you can ask it
okay what are the new positions of stuff
okay what are the new positions of stuff
okay are have things collided okay have
okay are have things collided okay have
like sensors triggered stuff like that
like sensors triggered stuff like that
this type of a thing is
this type of a thing is
like is there a reason to stick these in
like is there a reason to stick these in
a
a
pre-processor so that was just because
pre-processor so that was just because
um uh I'm trying to oh yeah so so the
um uh I'm trying to oh yeah so so the
debug raw whatever like debug log um
debug raw whatever like debug log um
macros they evaluate to basically just
macros they evaluate to basically just
like nothing on release build but that
like nothing on release build but that
whole block I'm still doing stuff so
whole block I'm still doing stuff so
basically I have because I have wear on
basically I have because I have wear on
like you know warning says errors and I
like you know warning says errors and I
have like all the strict warnings if I
have like all the strict warnings if I
ever Define something and don't use it I
ever Define something and don't use it I
get an error so and also I can basically
get an error so and also I can basically
just no it would work still like
just no it would work still like
couldn't you just
do I no because this were just a debug
do I no because this were just a debug
pool couldn't you like why can't you
pool couldn't you like why can't you
just put this in a conditional instead
just put this in a conditional instead
of a
of a
pre-processor uh well I don't have a
pre-processor uh well I don't have a
conditional for debug it's just a build
thing so depending you can't get this as
thing so depending you can't get this as
a
a
bu H you can't just get this as a
bu H you can't just get this as a
bull yeah it's only known at compile
bull yeah it's only known at compile
time it's it's like a it's like yeah
time it's it's like a it's like yeah
something that's just well it's it's
something that's just well it's it's
just if it's defined or not that's a
just if it's defined or not that's a
yeah n debug is I understand how I
yeah n debug is I understand how I
understand how these flags work I just
understand how these flags work I just
don't necessarily see the point of using
don't necessarily see the point of using
them whatever I I think it's more
them whatever I I think it's more
important that we review the actual code
important that we review the actual code
um yeah but I I could have like you know
um yeah but I I could have like you know
a bull at run time but I was also like
a bull at run time but I was also like
all I mean at this point I can guarantee
all I mean at this point I can guarantee
that none of this code is going to
that none of this code is going to
execute it run time which I don't want
execute it run time which I don't want
it to anyway so or release time so it's
it to anyway so or release time so it's
fine by me like the one time I do that
fine by me like the one time I do that
outside of helpers
outside of helpers
so okay
so let's
so let's
see this that yeah super basic mostly
see this that yeah super basic mostly
just
just
steps like sets things up in
steps like sets things up in
steps yeah they're having to thread M
steps yeah they're having to thread M
script and macros through everything is
script and macros through everything is
not fun yeah I agree but
not fun yeah I agree but
I didn't really know what the
I didn't really know what the
alternative well I'll tell you what what
alternative well I'll tell you what what
we'll do is since I tend to get
we'll do is since I tend to get
sidetracked by like things I don't I
sidetracked by like things I don't I
like to nitpick on uh I'm going to do my
like to nitpick on uh I'm going to do my
best to not nitpick on stuff and instead
best to not nitpick on stuff and instead
we're actually going to go through I
we're actually going to go through I
think
think
probably it makes sense to do EnV
probably it makes sense to do EnV
first
first
um to see how stuff is set
um to see how stuff is set
up and then we do game
branching off into whatever dependencies
branching off into whatever dependencies
we
we
encounter and then probably
encounter and then probably
render I think that's probably because
render I think that's probably because
those are the that's the main stuff in
those are the that's the main stuff in
here right it's the en is the like the
here right it's the en is the like the
RL like the wrapper over how this
RL like the wrapper over how this
actually works as like the RL interface
actually works as like the RL interface
the observations is most of it plus the
the observations is most of it plus the
game like the calling of the high level
game like the calling of the high level
stuff in the game Loop and the game is
stuff in the game Loop and the game is
going to include it's kind of like a
going to include it's kind of like a
library of stuff that the game needs um
library of stuff that the game needs um
so I think that's that's how we'll go
so I think that's that's how we'll go
through that maybe I'll Branch into the
through that maybe I'll Branch into the
game as I do end we'll see depends to
game as I do end we'll see depends to
what makes sense and then we'll go
what makes sense and then we'll go
through the rendering I think those are
through the rendering I think those are
the three things and this probably will
the three things and this probably will
take us multiple days if you're not just
take us multiple days if you're not just
going to sit here with me all day um but
going to sit here with me all day um but
we will go through everything and the
we will go through everything and the
hope is going to be that uh when I'm
hope is going to be that uh when I'm
doing the en and the game portion maybe
doing the en and the game portion maybe
I find stuff on the RL side if there's
I find stuff on the RL side if there's
anything to improve so I'm going to pay
anything to improve so I'm going to pay
special attention to the observations
special attention to the observations
when we do that um but then also I I do
when we do that um but then also I I do
want to go through the game logic
want to go through the game logic
because one I might find stuff for you
because one I might find stuff for you
that'll be useful but also I think it's
that'll be useful but also I think it's
going to be productive uh as we look to
going to be productive uh as we look to
how we're going to build more Ms going
how we're going to build more Ms going
forward um because you've done a lot of
forward um because you've done a lot of
stuff now with like Loi 2D physics and I
stuff now with like Loi 2D physics and I
want to know going forward like what we
want to know going forward like what we
can get out of this type of stuff right
can get out of this type of stuff right
and how
or
or
Sim physic Stacks I'm use rest real
Sim physic Stacks I'm use rest real
quick I'll be back in a minute and then
quick I'll be back in a minute and then
we'll start on uh N.H right
we'll start on uh N.H right
back take
two
e
e e
all right we're waiting
all right we're waiting
on bread dough at the
moment and we get started on this
some DMs
soon as Captain's back we will do the
soon as Captain's back we will do the
end file we'll go from here and we'll
end file we'll go from here and we'll
see how much we get through
see how much we get through
today a 7,000 line
PR we're going to see if I find any
PR we're going to see if I find any
redundancy I mean I I think um Captain's
redundancy I mean I I think um Captain's
code looks pretty
code looks pretty
good but at the same
good but at the same
time should this thing be two and a half
time should this thing be two and a half
times longer than neural
MMO that's going to be the
MMO that's going to be the
question maybe there legitimately is
question maybe there legitimately is
that much stuff maybe box 2D just adds a
that much stuff maybe box 2D just adds a
lot of boiler plate I don't
lot of boiler plate I don't
know but uh we will see
I'm kind of happy with either result you
I'm kind of happy with either result you
know if there is a bunch of redundant
know if there is a bunch of redundant
code then yay you know we get a much
code then yay you know we get a much
shorter implementation and it's actually
shorter implementation and it's actually
pretty easy to build these things going
pretty easy to build these things going
forward uh if it's not redundant then
forward uh if it's not redundant then
yay Captain's pretty good at doing this
yay Captain's pretty good at doing this
stuff and you know we've got a very good
stuff and you know we've got a very good
contributor for building midsize uh you
contributor for building midsize uh you
know pretty like sizable
projects so either result will be good
from what I've seen so far I don't think
from what I've seen so far I don't think
I'm going to find a ton of
I'm going to find a ton of
like redundancy in the terms of like um
like redundancy in the terms of like um
a few lines here a few lines there I
a few lines here a few lines there I
think it's going to be bigger structural
think it's going to be bigger structural
stuff if
anything we will see
for the folks that are still watching
for the folks that are still watching
here this is a great way to get into
here this is a great way to get into
reinforcement learning you don't have to
reinforcement learning you don't have to
make a 7,000 line PR you know you can
make a 7,000 line PR you know you can
make a 400 line
make a 400 line
PR um that's enough to build a basic RL
PR um that's enough to build a basic RL
environment that's actually useful
environment that's actually useful
that's about how long like the
that's about how long like the
multi-agent snake demo I have on the
multi-agent snake demo I have on the
website is right so that's kind of
website is right so that's kind of
enough if you're clever to make a cool
enough if you're clever to make a cool
environment that can be used to test RL
environment that can be used to test RL
algorithms you use it to learn a little
algorithms you use it to learn a little
bit on how these are built and also as a
bit on how these are built and also as a
a benchmark right to get your own
a benchmark right to get your own
environment up and running and like get
environment up and running and like get
RL working on a new problem it's the
RL working on a new problem it's the
best way to learn it's kind of how I get
best way to learn it's kind of how I get
all of the all the new contributors who
all of the all the new contributors who
don't have prior RL experience this is
don't have prior RL experience this is
how I suggest people start and uh if you
how I suggest people start and uh if you
either if you repeat this a few times
either if you repeat this a few times
you will very quickly get to the point
you will very quickly get to the point
that you're able to contribute uh at a
that you're able to contribute uh at a
level that is at or better than the
level that is at or better than the
majority of RL
majority of RL
phds because the majority of RL phds
phds because the majority of RL phds
will have more science side experience
will have more science side experience
but they don't have the engineering
but they don't have the engineering
experience to execute on
experience to execute on
it science side background is important
it science side background is important
as well but that just takes a while
as well but that just takes a while
right it's just like intuition from
right it's just like intuition from
having seen a lot a lot of problems
having seen a lot a lot of problems
that's about it
hopefully Captain has not fallen into
hopefully Captain has not fallen into
the red dough
is this paper actually
good e
I wonder if any of these experiments are
I wonder if any of these experiments are
actually
actually
correct I wouldn't be surprised that
correct I wouldn't be surprised that
this is a negative result with
this is a negative result with
completely bogus and wrong experiments
completely bogus and wrong experiments
that just passes peer review because
that just passes peer review because
peer review is
stupid to be fair all
stupid to be fair all
also the peer review process kind of
also the peer review process kind of
assumes that you don't just make up your
assumes that you don't just make up your
experiment data because that's just
experiment data because that's just
fraud right so if you write like these
fraud right so if you write like these
are the experiments that we did and we
are the experiments that we did and we
got these
got these
results but you didn't actually do those
results but you didn't actually do those
experiments and get those results the
experiments and get those results the
way you say that you did them then
way you say that you did them then
that's not even a problem with pure
that's not even a problem with pure
review that's just like LMS are great at
review that's just like LMS are great at
fraud right
now if it actually produced anything
now if it actually produced anything
interesting that would be a totally
interesting that would be a totally
different
different
story what's
story what's
this oh um uh AI generated paper got
this oh um uh AI generated paper got
accepted to
accepted to
ICL wait you know it's AI generated or
ICL wait you know it's AI generated or
you just yeah no they they said they got
you just yeah no they they said they got
permission to submit an AI generated
permission to submit an AI generated
paper oh my gosh yeah but they didn't
paper oh my gosh yeah but they didn't
tell the review a past review
the AI scientists is the dumbest thing
the AI scientists is the dumbest thing
to be fair like David hod people like
to be fair like David hod people like
they're actually cool they have a good
they're actually cool they have a good
track record of producing interesting
track record of producing interesting
stuff um I don't really think this is it
stuff um I don't really think this is it
but I think some of the methods that
but I think some of the methods that
they're looking at are kind of
they're looking at are kind of
cool like they do a bunch of stuff with
cool like they do a bunch of stuff with
evolutionary methods um David hod did
evolutionary methods um David hod did
like original World modeling work and a
like original World modeling work and a
lot of early RL stuff so
lot of early RL stuff so
yeah
yeah
anyways code review time we good to
anyways code review time we good to
start here yeah all right
so reprocessor crap game map scripted
so reprocessor crap game map scripted
agent settings types Auto pxd
agent settings types Auto pxd
crap why let me see cannot par rip
headers for some reason we have
just declare necessary functions we need
just declare necessary functions we need
to declare client stuff up
here for some reason yeah so if you um
here for some reason yeah so if you um
include if I included rener Doh there
include if I included rener Doh there
that would also by a proxy include rib
that would also by a proxy include rib
which autop pxd like can't process Raab
which autop pxd like can't process Raab
I guess like RB is too complex for it so
I guess like RB is too complex for it so
because there are like only those things
because there are like only those things
it needs from Raab and my code I just
it needs from Raab and my code I just
find them here when Auto pxd is being
find them here when Auto pxd is being
used so we'll look at autop pxd
used so we'll look at autop pxd
separately that's fine 3 bit mask 4 bit
separately that's fine 3 bit mask 4 bit
mask cool this my logging stuff replace
mask cool this my logging stuff replace
calic with fast calic you said this is M
calic with fast calic you said this is M
scripton thing or no so um basically I
scripton thing or no so um basically I
use DL Malik which is a well-known like
use DL Malik which is a well-known like
alternative malic Library um and fast
alternative malic Library um and fast
Malik or fast Malik calic free what it
Malik or fast Malik calic free what it
does
does
in debug mode it just uses normal like
in debug mode it just uses normal like
standard C or lib C Malik cic whatever
standard C or lib C Malik cic whatever
because that way the address sanitizer
because that way the address sanitizer
can hook into it and find stuff if we're
can hook into it and find stuff if we're
building a release it uses DL Malik
building a release it uses DL Malik
because it does fun things like cashes
because it does fun things like cashes
stuff for you so you basically get um
stuff for you so you basically get um
that was one thing I want to tell you so
that was one thing I want to tell you so
one thing you are not going to like in
one thing you are not going to like in
the game logic is I don't um I don't
the game logic is I don't um I don't
allocate all memory up front I do
allocate all memory up front I do
allocate some memory like as the game is
allocate some memory like as the game is
going on but I get away with that
going on but I get away with that
because DL Malik essentially acts like a
because DL Malik essentially acts like a
caching well is a caching allocator so I
caching well is a caching allocator so I
when I use like uh perf and GPR and
when I use like uh perf and GPR and
stuff like that like Malik and calic and
stuff like that like Malik and calic and
free and friends are like less than 1%
free and friends are like less than 1%
of the total time so it's by allocating
of the total time so it's by allocating
up front I would wouldn't really gain
up front I would wouldn't really gain
anything because I assume that's also
anything because I assume that's also
because the game logic's a bit heavier
because the game logic's a bit heavier
right
right
yeah so relative to it it's less yeah
yeah so relative to it it's less yeah
exactly and I can't really like I've
exactly and I can't really like I've
I've done all the optimizations I can
I've done all the optimizations I can
like the way I'm calling box I not to
like the way I'm calling box I not to
say it's perfect but like I've optimized
say it's perfect but like I've optimized
this pretty heavily um I'm sure there's
this pretty heavily um I'm sure there's
still see if there's a way that I can
still see if there's a way that I can
see to do well like when we get to the
see to do well like when we get to the
points where you're doing dynamic memory
points where you're doing dynamic memory
we'll look at it and we'll see if I see
we'll look at it and we'll see if I see
an obvious and easy way that it could
an obvious and easy way that it could
just be done
just be done
static um because then you wouldn't need
static um because then you wouldn't need
the library right you wouldn't need you
the library right you wouldn't need you
wouldn't need this because the Malo
wouldn't need this because the Malo
would just be The Upfront Malo right I
would just be The Upfront Malo right I
mean again yeah but doing it this way is
mean again yeah but doing it this way is
actually less complex and less to manage
actually less complex and less to manage
about reason about and also DL Malo is
about reason about and also DL Malo is
just like use everywhere I think it's
just like use everywhere I think it's
actually like FreeBSD and other stuff
actually like FreeBSD and other stuff
like use it by default and scripton
like use it by default and scripton
actually uses DL Malik by default so
actually uses DL Malik by default so
that's why I don't use it when I build
that's why I don't use it when I build
in scripton because when I call just
in scripton because when I call just
standard Malo it uses DL Malik under the
standard Malo it uses DL Malik under the
hood because it's that good
hood because it's that good
okay well I will see if it's actually
okay well I will see if it's actually
more complicated to do static or not as
more complicated to do static or not as
well right because that's yeah that's a
well right because that's yeah that's a
sep question take a look CU if there is
sep question take a look CU if there is
a simp if there's if it is just as
a simp if there's if it is just as
simple to do static it's kind of nice to
simple to do static it's kind of nice to
just do stuff static but
just do stuff static but
um yeah
um yeah
anyways I'll see if there we'll see
anyways I'll see if there we'll see
we'll see when we get there yeah okay
we'll see when we get there yeah okay
destroy log
buffer this is pretty similar to what I
buffer this is pretty similar to what I
had before or oh wait you did something
had before or oh wait you did something
different here did I did you wait log I
different here did I did you wait log I
think I just changed the names of things
think I just changed the names of things
no you didn't this is the same I just
no you didn't this is the same I just
like capacity over it was just very
like capacity over it was just very
minor
changes one thing that bit me early on I
changes one thing that bit me early on I
can't remember if I pulled this from
can't remember if I pulled this from
yours or I think it was just me being
yours or I think it was just me being
stupid actually so in my like log stats
stupid actually so in my like log stats
I defined things as integers but and
I defined things as integers but and
then which meant I was doing integer
then which meant I was doing integer
division which meant I was getting a lot
division which meant I was getting a lot
of like zeros or ones or whatever and I
of like zeros or ones or whatever and I
it took me a while to figure out all I
it took me a while to figure out all I
had to do was make uh the log
had to do was make uh the log
stat issue I don't don't think that was
stat issue I don't don't think that was
I don't think that was a me issue I
I don't think that was a me issue I
changed them to be integers because I'm
changed them to be integers because I'm
like oh yeah these doesn't make sense to
like oh yeah these doesn't make sense to
be floats but then I'm like okay when
be floats but then I'm like okay when
I'm dividing yeah it actually does um
I'm dividing yeah it actually does um
see hang
see hang
on what do you know where that was was
on what do you know where that was was
the
the
index uh I thought divided by
index uh I thought divided by
integer you no so what I but it was
integer you no so what I but it was
being assigned to an integer because I
being assigned to an integer because I
set the log like buffer stuff to be ins
set the log like buffer stuff to be ins
in my code so I'm pretty sure it's my
in my code so I'm pretty sure it's my
mistake okay I have these as floats and
mistake okay I have these as floats and
Nur yep yeah you do so that was just me
Nur yep yeah you do so that was just me
not realizing I need to make them floats
not realizing I need to make them floats
as well yeah you do because it's the
as well yeah you do because it's the
well it depends the problem is cuz when
well it depends the problem is cuz when
you aggregate you also get a log back so
you aggregate you also get a log back so
even though you use a log each
even though you use a log each
individual log will be in but when you
individual log will be in but when you
aggregate you still need to have yeah
aggregate you still need to have yeah
exactly right yeah and that's what I
exactly right yeah and that's what I
didn't realize at first
yeah it worked out though because I
yeah it worked out though because I
think I help bet solve the same I can't
think I help bet solve the same I can't
remember if that was actually his
remember if that was actually his
problem or not but I think he was having
problem or not but I think he was having
the same problem with like blast r or
the same problem with like blast r or
something did you go over the numb
something did you go over the numb
drones and each drone has stats for
drones and each drone has stats for
firing each
firing each
weapon yeah so I aggregated this the um
weapon yeah so I aggregated this the um
stats per weapon just in case in the
stats per weapon just in case in the
future I want to have like per weapon
future I want to have like per weapon
stats right now in the python I just sum
stats right now in the python I just sum
them to be per drone but I left it open
them to be per drone but I left it open
to be like I could get detailed like
to be like I could get detailed like
stats per weapon if I want like weapon
stats per weapon if I want like weapon
accuracy weapon whatever you
know and you have this K as an index
know and you have this K as an index
okay
okay
yeah that's fine and then presumably you
yeah that's fine and then presumably you
have an enum for each of these you can
have an enum for each of these you can
just
just
un yeah I think num numb weapons is a
un yeah I think num numb weapons is a
constant I
constant I
think find nearest cell cell index
think find nearest cell cell index
that's closest is cell so this thing is
that's closest is cell so this thing is
is this thing split into cells is that
is this thing split into cells is that
what you did
what you did
internally
internally
yeah yes well so yes and no so you can
yeah yes well so yes and no so you can
see like in that picture all like the
see like in that picture all like the
boxes are on the grid kind of um but
boxes are on the grid kind of um but
when you're playing like everything's
when you're playing like everything's
continuous but um I do ass W huh I did
continuous but um I do ass W huh I did
that in MOA as well didn't I yeah yeah
that in MOA as well didn't I yeah yeah
yeah so it's continuous but yeah I I
yeah so it's continuous but yeah I I
like discretize things to certain points
like discretize things to certain points
yep like weapon pickups and walls are
yep like weapon pickups and walls are
all in the
all in the
grid yeah and I just conver that like
grid yeah and I just conver that like
yeah yeah yeah you know what I'm talking
yeah yeah yeah you know what I'm talking
about
about
mhm so this function specifically he's
mhm so this function specifically he's
only use one place this is when I am
only use one place this is when I am
calculating basically like uh the
calculating basically like uh the
observation of like uh if there are any
observation of like uh if there are any
drones like in the 11 by1 square or
drones like in the 11 by1 square or
whatever it's super rare but sometimes
whatever it's super rare but sometimes
there can be two drones in the same like
there can be two drones in the same like
cell so I basically figure out like
cell so I basically figure out like
what's the cell the other drone that's
what's the cell the other drone that's
not you is closest to to move them into
not you is closest to to move them into
there for the observation because
there for the observation because
otherwise they'd like you know like
otherwise they'd like you know like
quber each other yeah so what I do for
quber each other yeah so what I do for
that is uh I just don't let them be in
that is uh I just don't let them be in
the same cell I'm pretty
the same cell I'm pretty
sure it barely ever happens so I just
sure it barely ever happens so I just
wrote this function it's like almost
wrote this function it's like almost
never actually called well it it happens
never actually called well it it happens
anytime you like go Ram anybody right no
anytime you like go Ram anybody right no
even then it's it's like you have to be
even then it's it's like you have to be
very specific because most of the time
very specific because most of the time
if you're ramming someone you're you're
if you're ramming someone you're you're
still in two different
still in two different
cells yeah you can always like fiddle
cells yeah you can always like fiddle
with the grid size and stuff like the
with the grid size and stuff like the
grid doesn't have to be the size of an
grid doesn't have to be the size of an
object um anyways it's fine yeah it
object um anyways it's fine yeah it
makes the code really a lot to
makes the code really a lot to
make size of like each wall Square so
make size of like each wall Square so
that's just what I ended up doing
that's just what I ended up doing
yeah okay
yeah okay
so row
column yeah so this I have the same type
column yeah so this I have the same type
of a function you're just looking around
of a function you're just looking around
uh the eight adjacent
yeah sell off says it's defined in game.
yeah sell off says it's defined in game.
actually so I I had it in here up until
actually so I I had it in here up until
recently but I needed it in game so this
recently but I needed it in game so this
is your bounce
is your bounce
check this
is is there any reason to be
is is there any reason to be
using do you have a reason to be using
using do you have a reason to be using
like like
like like
chars and THS
here uh what do you
mean oh like make it um un you make it
mean oh like make it um un you make it
you mean why have some be unsigned to
you mean why have some be unsigned to
some signed no why they're different
some signed no why they're different
size
size
types oh so the columns and rows like
types oh so the columns and rows like
they're going to be well beyond the size
they're going to be well beyond the size
or well within the size of an in8
or well within the size of an in8
honestly but yeah the sale indexes they
honestly but yeah the sale indexes they
can get up into like the multiple
can get up into like the multiple
hundreds like four or five hundreds so
hundreds like four or five hundreds so
you need to make them bigger well I mean
you need to make them bigger well I mean
is there a reason not to just make
is there a reason not to just make
everything in inch is it actually
everything in inch is it actually
faster I don't know it just makes it
faster I don't know it just makes it
easier in my head because like I I
easier in my head because like I I
didn't think it was I didn't think it
didn't think it was I didn't think it
was faster because I don't
was faster because I don't
think I don't do it for performance
think I don't do it for performance
reasons I don't know I it's you could
reasons I don't know I it's you could
just make everything in it I just like
just make everything in it I just like
to be precise it's just a style thing
to be precise it's just a style thing
personally I just um yeah because I
personally I just um yeah because I
think I've read too that in 6 modern
think I've read too that in 6 modern
64-bit systems the compiler will pretty
64-bit systems the compiler will pretty
much make everything like 64 bits anyway
much make everything like 64 bits anyway
um 64 I don't I don't know how that is I
um 64 I don't I don't know how that is I
haven't looked to it but like I don't
haven't looked to it but like I don't
really think you're like really saving
really think you're like really saving
too much stuff yeah it's just the only
too much stuff yeah it's just the only
time I pretty much will exclusively use
time I pretty much will exclusively use
ins and floats unless I have like here
ins and floats unless I have like here
if I have a giant map of stuff that fits
if I have a giant map of stuff that fits
in chars right then I'll put it in
in chars right then I'll put it in
chars if there's like act clear reason
chars if there's like act clear reason
to but uh
okay M distance is not
fmin F Min
distance
distance
okay that's
funny I see that fine yeah so one thing
funny I see that fine yeah so one thing
you'll see you probably understand but
you'll see you probably understand but
one thing you'll see me do a lot is
one thing you'll see me do a lot is
instead of just using the distance I use
instead of just using the distance I use
the distance squared because you know
the distance squared because you know
normally it's like the square root of
normally it's like the square root of
the two like square whatever take square
the two like square whatever take square
root that doesn't matter yeah yeah you
root that doesn't matter yeah yeah you
can just not do that and and you can
can just not do that and and you can
save the operation sometimes yeah it's
save the operation sometimes yeah it's
the
the
same you do need to square it right but
same you do need to square it right but
yeah and I do that in there B2 isn't
yeah and I do that in there B2 isn't
squared anything this is pretty obvious
squared anything this is pretty obvious
but anything with the B2 prefix is a box
but anything with the B2 prefix is a box
2D
function ammo count
infinite ammo no ammo yeah I just
infinite ammo no ammo yeah I just
special I have to special case it
special I have to special case it
because of the infinite ammo like
because of the infinite ammo like
whatever weapon you start with you have
whatever weapon you start with you have
infinite
of and internally I set infinite to
of and internally I set infinite to
negative one but I'm scaling between one
negative one but I'm scaling between one
and zero so or zero and one so it
and zero so or zero and one so it
doesn't make sense okay so I special
doesn't make sense okay so I special
case it
now we get to the we start to get to
observations so yeah this the 2D grid
observations so yeah this the 2D grid
Ops this is the thing I told you
Ops this is the thing I told you
um yeah this makes sense for this type
um yeah this makes sense for this type
of an m and it's much easier to process
of an m and it's much easier to process
because otherwise you end up with entity
because otherwise you end up with entity
based observations right which are you
based observations right which are you
can do but it gets to be a little
can do but it gets to be a little
tricky yeah this this seems to work
tricky yeah this this seems to work
pretty well and like you said it's nice
pretty well and like you said it's nice
because it scales to like whatever Map
because it scales to like whatever Map
size yes yes it does um the only thing
size yes yes it does um the only thing
it doesn't scale particularly the well
it doesn't scale particularly the well
with a larger window around your agent
with a larger window around your agent
so like the uh the stuff Brenan was
so like the uh the stuff Brenan was
showing me yesterday they had like giant
showing me yesterday they had like giant
Maps right uh but you had to be able to
Maps right uh but you had to be able to
see the whole distance of the map cuz
see the whole distance of the map cuz
like there's an FPS and you can
like there's an FPS and you can
snipe uh Spencer it depends how much
snipe uh Spencer it depends how much
time Captain has because this is
time Captain has because this is
probably going to take us multiple days
probably going to take us multiple days
but if Captain has to go at some point
but if Captain has to go at some point
and then I just take my lunch break or
and then I just take my lunch break or
whatever then yeah I can I can do GPU
whatever then yeah I can I can do GPU
drive today as well we can just do code
drive today as well we can just do code
reviews
um map Ops
agent
agent
index OB start
offset the agent I'm pretty sure that's
offset the agent I'm pretty sure that's
just like what yeah yeah it's what drone
just like what yeah yeah it's what drone
it is like drone 0123
whatever yeah see if you wanted to make
whatever yeah see if you wanted to make
a really big version of this you'd get
a really big version of this you'd get
annoyed because you'd have to go change
annoyed because you'd have to go change
all of
all of
these yeah but I mean that's if I had
these yeah but I mean that's if I had
over like 250 5 agents which that's
over like 250 5 agents which that's
ridiculous are you sure we do it in earo
ridiculous are you sure we do it in earo
you could do
you could do
it yeah that I couldn't see myself doing
it yeah that I couldn't see myself doing
this type of game like dude that would
this type of game like dude that would
run so slow it's already running like
run so slow it's already running like
two huh why would it run slow well think
two huh why would it run slow well think
of how many more physics objects box
of how many more physics objects box
2D's got to process okay should scale
2D's got to process okay should scale
log n
log n
right I don't know how it will scale it
right I don't know how it will scale it
should be log
should be log
log in
right I don't know I think it would work
right I don't know I think it would work
and I think that you could have like a
and I think that you could have like a
giant ass map where you just have like
giant ass map where you just have like
all these localized
all these localized
battles it would look really cool if you
battles it would look really cool if you
think about
think about
it yeah no I could do it without like
it yeah no I could do it without like
too much changing I
too much changing I
do yeah I would probably B whenever they
do yeah I would probably B whenever they
die randomly you just basically like the
die randomly you just basically like the
multi-agent snake but impulse Force
multi-agent snake but impulse Force
yeah it' be sweet it' look really
yeah it' be sweet it' look really
freaking cool I can tell
freaking cool I can tell
you and you got to remember as well like
you and you got to remember as well like
how slow it is we count steps per second
how slow it is we count steps per second
in terms of number like it's per agent
in terms of number like it's per agent
step per second right true
step per second right true
true yeah that's a good point oh one
true yeah that's a good point oh one
quick thing you mentioned before safe
quick thing you mentioned before safe
array get at the only safe part of it is
array get at the only safe part of it is
it's only like debug time it does some
it's only like debug time it does some
assertion checks at run time it's
assertion checks at run time it's
basically just like um in a or release
basically just like um in a or release
build it's basically just like an array
build it's basically just like an array
um just normal array
um just normal array
operation yep that's fine I'm and that's
operation yep that's fine I'm and that's
kind of funny that you even need that
kind of funny that you even need that
because like don't you just get out of
because like don't you just get out of
bounds errors without
bounds errors without
sanitize uh kind of so I'm using like a
sanitize uh kind of so I'm using like a
a nor another library for dynamic um
a nor another library for dynamic um
like a dynamic array that's also why I
like a dynamic array that's also why I
have this because um some of their a
have this because um some of their a
most their API but one of the main
most their API but one of the main
reasons I have this is they do your
reasons I have this is they do your
favorite thing which I saw you
favorite thing which I saw you
complaining about yesterday to get
complaining about yesterday to get
something out of the array you have to
something out of the array you have to
like pass a double pointer in and get it
like pass a double pointer in and get it
out so I made this rapper so you don't
out so I made this rapper so you don't
have to do that damn it that's another
have to do that damn it that's another
reason I the rapper I it's the thing
reason I the rapper I it's the thing
where it's like okay if you don't need
where it's like okay if you don't need
the dynamic array and that sanitized
the dynamic array and that sanitized
ases your M checks you don't need the
ases your M checks you don't need the
safe get up and you don't need the
safe get up and you don't need the
asserts so like I don't know it's very
asserts so like I don't know it's very
quickly when you get one you want when
quickly when you get one you want when
you need a convenient thing you end up
you need a convenient thing you end up
having a whole bunch of un inconvenient
having a whole bunch of un inconvenient
things so you better make sure you
things so you better make sure you
really need the convenient thing there's
really need the convenient thing there's
a lot of like unknown quantities of
a lot of like unknown quantities of
things in this game like projectiles and
things in this game like projectiles and
all sorts of things so having Dynamic
all sorts of things so having Dynamic
array is very helpful okay well we will
array is very helpful okay well we will
see spots at which you have that um
see spots at which you have that um
because my strategy and all the other Ms
because my strategy and all the other Ms
has just been pre-allocate big enough
has just been pre-allocate big enough
call a
call a
day yeah I could do that but whenever I
day yeah I could do that but whenever I
try to make assumptions like that
try to make assumptions like that
eventually some Edge case happens during
eventually some Edge case happens during
training or something where it like
training or something where it like
blows up
blows up
so well I make it I make the degenerate
so well I make it I make the degenerate
Behavior not blowing up right I make the
Behavior not blowing up right I make the
degenerate Behavior being like
degenerate Behavior being like
overwrites an existing projectile or
overwrites an existing projectile or
whatever yeah know I know it's just this
whatever yeah know I know it's just this
is nice because there's little to no
is nice because there's little to no
overhead because the way like these
overhead because the way like these
arrays work like once they basically
arrays work like once they basically
like their capacity never changes only
like their capacity never changes only
their size does so after it plays like a
their size does so after it plays like a
couple of games the array is going to be
couple of games the array is going to be
like you know say 100 long and all it's
like you know say 100 long and all it's
like and it's going to keep that size
like and it's going to keep that size
forever it's never going to need to
forever it's never going to need to
allocate more you have a vector yeah
allocate more you have a vector yeah
basically okay I don't I don't think
basically okay I don't I don't think
that you actually need vectors and I
that you actually need vectors and I
think that you'd actually probably
think that you'd actually probably
simplify some stuff without it but we
simplify some stuff without it but we
will see when we get to
will see when we get to
there um
okay this is your
window call M okay yeah this is the
window call M okay yeah this is the
index into the
window this is some weird Ed
window this is some weird Ed
Case yeah I can honestly I should have
Case yeah I can honestly I should have
probably put a comment there
probably put a comment there
do you like make
it is it like not centered on the agent
it is it like not centered on the agent
when you're too close to the edge of the
when you're too close to the edge of the
screen or something no I I always have
screen or something no I I always have
it centered on the edge of the
it centered on the edge of the
agent so yeah the agent's always in the
agent so yeah the agent's always in the
center it should be at
center it should be at
least OBS call
zero yeah there's some uh oh this is
zero yeah there's some uh oh this is
padding I think
padding I think
yeah that's what it
is yeah so I pre-compute a lot of stuff
is yeah so I pre-compute a lot of stuff
so yeah I
don't yeah okay because you you copied
don't yeah okay because you you copied
the
static into
this how much time does compute
this how much time does compute
observations taking at the
observations taking at the
moment uh I haven't looked in a while
moment uh I haven't looked in a while
but I pre-computed a lot of stuff which
but I pre-computed a lot of stuff which
sped it up by a decent amount is it
sped it up by a decent amount is it
still a decent chunk of the M
time yeah it's not most of it is still
time yeah it's not most of it is still
like game logic but it's it's still yeah
like game logic but it's it's still yeah
it's above it's like 10% or not that's
it's above it's like 10% or not that's
not worth the time then because I I have
not worth the time then because I I have
ways I could fiddle with this but like
ways I could fiddle with this but like
if the map is static this can just stay
if the map is static this can just stay
in the OBS until it changes it's being
in the OBS until it changes it's being
copied every
time well the thing is it's centered on
time well the thing is it's centered on
the agent right
the agent right
so like that'll change oh I see because
so like that'll change oh I see because
it's the map pack layout okay it's not
it's the map pack layout okay it's not
glow okay sure
glow okay sure
yeah but I don't I don't like
yeah but I don't I don't like
pre-compute the packed layout for every
pre-compute the packed layout for every
sudden wall or sudden death like wall
sudden wall or sudden death like wall
place so when sudden death walls are out
place so when sudden death walls are out
which shouldn't be like that often
which shouldn't be like that often
because if it happens it's right at the
because if it happens it's right at the
end of the match then I just like
end of the match then I just like
compute everything on the Fly otherwise
compute everything on the Fly otherwise
I pre us to use the precomputed
stuff I could like like I said
stuff I could like like I said
pre-compute like every combination like
pre-compute like every combination like
okay here's the map here's the map with
okay here's the map here's the map with
one layer sudden but like it sudden
one layer sudden but like it sudden
death wall like even if sudden death
death wall like even if sudden death
happened every round it's only going to
happened every round it's only going to
be for a small part at the end so it
be for a small part at the end so it
shouldn't really affect uh observation
shouldn't really affect uh observation
time that much I didn't figure it was
time that much I didn't figure it was
worth it location of
weapon so this is going
weapon so this is going
[Music]
[Music]
through all the
through all the
pickups mhm and then if they're in the
pickups mhm and then if they're in the
grid then you put them
grid then you put them
yep I
yep I
see yeah and I I use this is a little
see yeah and I I use this is a little
this is a little bit
this is a little bit
odd
um you're not fully using the grid
um you're not fully using the grid
effectively in a way that would make it
effectively in a way that would make it
trivial to uh expand this to as big Maps
trivial to uh expand this to as big Maps
as you wanted because what you would
as you wanted because what you would
want to do here right is You' actually
want to do here right is You' actually
want to have the pickups already in a
want to have the pickups already in a
grid so that you can just like querry
grid so that you can just like querry
over the window instead of going through
over the window instead of going through
the whole list of pickups because that
the whole list of pickups because that
would get really big
would get really big
um but it's fine for what you're doing
um but it's fine for what you're doing
now cuz this is
now cuz this is
Tiny oh I see what you mean I yes that
Tiny oh I see what you mean I yes that
wouldn't be too hard to make a change
wouldn't be too hard to make a change
that wouldn't be too hard to change
that wouldn't be too hard to change
though so it's we're going to leave this
though so it's we're going to leave this
for if you want to make a really big
for if you want to make a really big
version of this to show
version of this to show
off
off
right then then it would make
sense so because I don't have this in
sense so because I don't have this in
get do you mind just like I don't know
get do you mind just like I don't know
like making comments when you have like
like making comments when you have like
legitimate things and then we can just
legitimate things and then we can just
like I don't know Commit This to your
like I don't know Commit This to your
fork or
fork or
something this is a clone so I might I
something this is a clone so I might I
re n you can just you can just change
re n you can just you can just change
the remote like later
the remote like later
okay so then here we'll do since there a
okay so then here we'll do since there a
legitimate
the always thinks yeah this is a hack it
the always thinks yeah this is a hack it
always thinks it's a
always thinks it's a
hack um
actually doesn't make it easier to do
actually doesn't make it easier to do
Dynamic pickups it's easy either way but
Dynamic pickups it's easy either way but
if you wanted them to float around right
if you wanted them to float around right
they basically just become entities like
they basically just become entities like
the agents that move around pickups move
the agents that move around pickups move
around and you just update their grid
around and you just update their grid
position
position
mhm you can even have move
continuously I'm not going to bother
continuously I'm not going to bother
with like if if this is not that much of
with like if if this is not that much of
the time a lot of M like it's 90% in
the time a lot of M like it's 90% in
compute OBS but if it's 10 I'm not going
compute OBS but if it's 10 I'm not going
to
to
bother yeah it's at most it's probably
bother yeah it's at most it's probably
like 20 something but I again I haven't
like 20 something but I again I haven't
looked in a
while same thing here
while same thing here
right
yeah and same thing with drones yeah I
yeah and same thing with drones yeah I
just kind of assume because it's a safe
just kind of assume because it's a safe
Assumption of this game like there's a
Assumption of this game like there's a
small amount of mostly everything so I
small amount of mostly everything so I
just l y but that's like the it's like
just l y but that's like the it's like
if you want to do like massively
if you want to do like massively
multi-agent
multi-agent
RL this is the design choice on uh the
RL this is the design choice on uh the
data structure is that you preut
data structure is that you preut
everything on the grid yeah that makes
everything on the grid yeah that makes
and you don't even need to it doesn't
and you don't even need to it doesn't
even have to be a grid right a grid is
even have to be a grid right a grid is
like the easy data structure that I use
like the easy data structure that I use
because it's constant time um it's like
because it's constant time um it's like
if there's only one thing right it's
if there's only one thing right it's
like a very small constant time because
like a very small constant time because
you just look in adjacent cells or
you just look in adjacent cells or
whatever or window of cells
whatever or window of cells
yeah you can also do uh bounding volume
yeah you can also do uh bounding volume
hierarchy or like quad tree or whatever
hierarchy or like quad tree or whatever
yeah and then it will be n log in
yeah and then it will be n log in
um but it scales to
um but it scales to
bigger well it can scale to bigger Maps
bigger well it can scale to bigger Maps
depending if you that's better if you
depending if you that's better if you
have like a big map with not that many
have like a big map with not that many
entities relative to the map size right
entities relative to the map size right
because like if you have 10,000 by
because like if you have 10,000 by
10,000 meters you don't want a 10,000 x
10,000 meters you don't want a 10,000 x
10,000 grid necessarily if there's only
10,000 grid necessarily if there's only
like you know a th objects in it
like you know a th objects in it
so there are choices to be made there
so there are choices to be made there
yeah discretize location yeah so this is
yeah discretize location yeah so this is
the same thing and I should probably
the same thing and I should probably
make sure that you're doing
this so what is actually being stored in
this so what is actually being stored in
in here new drone index and three bit
in here new drone index and three bit
mask so this is you're just getting like
mask so this is you're just getting like
a one hot of like which drone is there
a one hot of like which drone is there
yeah so um and the same with the walls
yeah so um and the same with the walls
the like color of the wall that's
the like color of the wall that's
there yeah so basically everything all
there yeah so basically everything all
the OBS you've seen so far yeah it's a
the OBS you've seen so far yeah it's a
window around your drone and all this is
window around your drone and all this is
stored in one bite it's just like yeah
stored in one bite it's just like yeah
what type of wall is there is there a
what type of wall is there is there a
weapon pickup and then like what drone
weapon pickup and then like what drone
is where okay that makes
is where okay that makes
sense nearest
sense nearest
walls so yeah I you and then I also give
walls so yeah I you and then I also give
like the actual like location of the
like the actual like location of the
couple nearest wall so that helps it if
couple nearest wall so that helps it if
the Asian's like about you know because
the Asian's like about you know because
in the grid you know you could be like
in the grid you know you could be like
six MERS or you could be like 2 meters
six MERS or you could be like 2 meters
or something away from a red wall and
or something away from a red wall and
that makes a big difference so this
that makes a big difference so this
tells so this is the fine grain
tells so this is the fine grain
observation yes these are all
continuous how do you find the closest
continuous how do you find the closest
walls I guess we find your walls up
walls I guess we find your walls up
there it's up it's in this
there it's up it's in this
file uh I don't remember where it is it
file uh I don't remember where it is it
might be in game you have to search for
might be in game you have to search for
it see I could just control F12 on it
it see I could just control F12 on it
and just compare me to definition so I
and just compare me to definition so I
don't really need to know where it is
don't really need to know where it is
but I'm pretty sure it's in
but I'm pretty sure it's in
game is this fast or is this like
game is this fast or is this like
looping through everything again no it's
looping through everything again no it's
it's optimized somewhat I'm pretty sure
it's optimized somewhat I'm pretty sure
it's in game if you want go take a look
it's in game if you want go take a look
at it
game.
yeah oh wait because you pass walls to
it near
it near
walls oh no this is the output array
walls oh no this is the output array
yeah
yeah
yeah so because I use it here and I also
yeah so because I use it here and I also
use it for scripted agents and I like
use it for scripted agents and I like
want different amounts of walls
want different amounts of walls
sometimes so this is the way I can make
sometimes so this is the way I can make
it like Dynamic Max nearest
walls oh you have to PR
walls oh you have to PR
computed yeah that's right I forgot yeah
computed yeah that's right I forgot yeah
I pre computed that yeah and uh they
are insertion sorted
are insertion sorted
whatever it's a really small number like
whatever it's a really small number like
usually I only want like two to four
usually I only want like two to four
walls so insertion starts really fast in
walls so insertion starts really fast in
that
case I tried using a Max Heap but that
case I tried using a Max Heap but that
ended up being slower like just get use
ended up being slower like just get use
a Max Heap that sorts as it goes but
a Max Heap that sorts as it goes but
yeah it was way more complex more code
yeah it was way more complex more code
and it wasn't even faster so
and it wasn't even faster so
i' be surprised if this is even the
i' be surprised if this is even the
thing that needs optimizing
so actually a lot of this would get
so actually a lot of this would get
shorter if you did it the way that I
shorter if you did it the way that I
suggested as well um because and and it
suggested as well um because and and it
would get faster I think because you
would get faster I think because you
have one
have one
Loop over the window right you just Loop
Loop over the window right you just Loop
over the window and then you would just
over the window and then you would just
go pick up you know the pickup at that
go pick up you know the pickup at that
index the agent at that index and
index the agent at that index and
whatever so this would get com like the
whatever so this would get com like the
loop order would flip and you would
loop order would flip and you would
replace a lot of these like like
replace a lot of these like like
duplicate checks H so this this section
duplicate checks H so this this section
of the code here this would get
of the code here this would get
compressed
compressed
substantially yeah that's good to know
then this is kind of what I expected as
then this is kind of what I expected as
well that like with you I'm not going to
well that like with you I'm not going to
find like redundant three line chunks
find like redundant three line chunks
right that's kind of like a newer
right that's kind of like a newer
programmer thing I would find like ways
programmer thing I would find like ways
to restructure things that could be
to restructure things that could be
faster and shorter
but that's the only one I found so
far and in this case it also
far and in this case it also
specifically relies on knowing the um
specifically relies on knowing the um
you know knowing good data structure for
you know knowing good data structure for
RL specifically right yeah so you would
RL specifically right yeah so you would
know that
yeah it's good to keep in mind but if I
yeah it's good to keep in mind but if I
ever do make this like a huge like I
ever do make this like a huge like I
don't know
don't know
like four rather than four like 50 plus
like four rather than four like 50 plus
agent thing that wouldn't be for a while
agent thing that wouldn't be for a while
probably if I do that but well I mean
probably if I do that but well I mean
it's it's the way that you implement
it's it's the way that you implement
stuff right like the way I implemented
stuff right like the way I implemented
neural MMO or snake or whatever I could
neural MMO or snake or whatever I could
test the thing with like four agents and
test the thing with like four agents and
just immediately scale it to 4,000 if I
just immediately scale it to 4,000 if I
wanted to same code same code like no
wanted to same code same code like no
more complex very
more complex very
simple right
simple right
yeah but you have to kind of know those
yeah but you have to kind of know those
data structures up front a little bit
data structures up front a little bit
yeah so my bad I should have I should
yeah so my bad I should have I should
have told you I should have been more
have told you I should have been more
clear on how you discretize stuff like
clear on how you discretize stuff like
that because that would have made that
that because that would have made that
type of thing
type of thing
easier it's fine um I mean yeah I mean
easier it's fine um I mean yeah I mean
it was 256 before you even have to start
it was 256 before you even have to start
changing types yeah that's like tons of
changing types yeah that's like tons of
stuff yeah well I also just wouldn't use
stuff yeah well I also just wouldn't use
uh I also just wouldn't use the shorter
uh I also just wouldn't use the shorter
types for the indices in the first place
types for the indices in the first place
right yeah you don't have to change it
right yeah you don't have to change it
though I mean to be fair if you're in
though I mean to be fair if you're in
any editor and not like just trolling in
any editor and not like just trolling in
no plugins Vim um you should just be
no plugins Vim um you should just be
able to find replace a lot of that yeah
able to find replace a lot of that yeah
it's it's not difficult
okay
okay
so near OBS we've done
so near OBS we've done
this floating walls near floating walls
this floating walls near floating walls
this is going to be the same thing right
this is going to be the same thing right
yeah yeah there's insertion
for I think again like a lot of these
for I think again like a lot of these
Loops would be
like if this were on a tille grid or
like if this were on a tille grid or
whatever like you could just
whatever like you could just
get well let me think you just look in
get well let me think you just look in
the cells around you and just get the
the cells around you and just get the
position of whatever is there like the
position of whatever is there like the
like the fine grein position of whatever
like the fine grein position of whatever
is in the adjacent
is in the adjacent
cells wouldn't you these things can't be
cells wouldn't you these things can't be
in the same tile can they can you have
in the same tile can they can you have
like a floating wall and a pick up in
like a floating wall and a pick up in
the same
the same
tile uh
tile uh
uh technically yes but the pickup's like
uh technically yes but the pickup's like
basically like temp like when a when a
basically like temp like when a when a
floating wall goes over pickup the
floating wall goes over pickup the
pickup kind of will like disappear and
pickup kind of will like disappear and
you can't interact with it until the
you can't interact with it until the
floating wall like P like stops
floating wall like P like stops
colliding with it
colliding with it
basically so not
really yeah so I mean I would kind of
really yeah so I mean I would kind of
just do the I just do the full grid
just do the I just do the full grid
discritization if I were going to do
discritization if I were going to do
this and then you BAS basically like
this and then you BAS basically like
instead of having all these Loops where
instead of having all these Loops where
you have to like basically do similar
you have to like basically do similar
Logic for all these different types of
Logic for all these different types of
things you would just have a bunch of
things you would just have a bunch of
things you know each grid cell can have
things you know each grid cell can have
a thing right and then you just get the
a thing right and then you just get the
type and the position of that thing and
type and the position of that thing and
that goes into the OBS right well so how
that goes into the OBS right well so how
would you handle something like
would you handle something like
projectiles because there could be
projectiles because there could be
depending if they're like smaller
depending if they're like smaller
projectiles you could have like multiple
projectiles you could have like multiple
different projectiles and a floating
different projectiles and a floating
wall saying like one cell or
wall saying like one cell or
something um then I probably just
something um then I probably just
wouldn't put the projectiles in the uh
wouldn't put the projectiles in the uh
in the grid with everything else CU
in the grid with everything else CU
those are small like everything else
those are small like everything else
would go on the grid and then the
would go on the grid and then the
projectiles would be the only thing that
projectiles would be the only thing that
aren't on the grid I see okay and then
aren't on the grid I see okay and then
the projectiles would just be a straight
the projectiles would just be a straight
up I mean that would just be a straight
up I mean that would just be a straight
up
um I don't even know if it makes sense
um I don't even know if it makes sense
to put those into a quadry or whatever
to put those into a quadry or whatever
because
H you'd probably use like some sort of
H you'd probably use like some sort of
very coarse sort of a tree I would think
very coarse sort of a tree I would think
so maybe you just like you make really
so maybe you just like you make really
big grid cells or
big grid cells or
something you'd have to play with that
something you'd have to play with that
because they move fast so you have to
because they move fast so you have to
keep updating them to new cells yeah so
keep updating them to new cells yeah so
it would probably be like a much coarser
it would probably be like a much coarser
sort of a quad tree type thing or a much
sort of a quad tree type thing or a much
coarser grid
coarser grid
thing um where you know maybe you only
thing um where you know maybe you only
split it into you know you split the
split it into you know you split the
screen into
screen into
like8 by eight chunks or something so it
like8 by eight chunks or something so it
would be like chunks instead of cells
would be like chunks instead of cells
that's the way to to say it and then
that's the way to to say it and then
each chunk has a max number of
each chunk has a max number of
projectiles or something like that and
projectiles or something like that and
then you only have to Loop and then you
then you only have to Loop and then you
only Loop through projectiles like in
only Loop through projectiles like in
more chunk or
more chunk or
something probably something like
something probably something like
that maybe there's a better way of doing
that maybe there's a better way of doing
it I don't
it I don't
know well at least for projectiles this
know well at least for projectiles this
is the one thing where not even
is the one thing where not even
Computing the observations like how I do
Computing the observations like how I do
the observations I don't think it's
the observations I don't think it's
optimal but I'm not sure how to improve
optimal but I'm not sure how to improve
it I Bas we
it I Bas we
just yeah it's a little below that I
just yeah it's a little below that I
think
okay type angle I'm actually going to
okay type angle I'm actually going to
put a comment in
here
yep e
so the same
thing and this is
thing and this is
pickups yeah I was talking about
pickups yeah I was talking about
projectiles but it's larger the same
projectiles but it's larger the same
thing well no pickups are different from
thing well no pickups are different from
projectiles cuz they're large and there
projectiles cuz they're large and there
are not that many of them so we don't
are not that many of them so we don't
care as much yeah what I meant about
care as much yeah what I meant about
projectiles is like I'm not I'm not sure
projectiles is like I'm not I'm not sure
how to efficiently put them in the
how to efficiently put them in the
observation find here it is right yeah
observation find here it is right yeah
so right now I just set projectile OBS
so right now I just set projectile OBS
like the max number of them and I think
like the max number of them and I think
it's like 30 or something and then if
it's like 30 or something and then if
they're ever exceed that amount I just
they're ever exceed that amount I just
don't put them in the observation but
don't put them in the observation but
like and then how do you get how do you
like and then how do you get how do you
get well how do you pick which
get well how do you pick which
projectiles you get to see so
projectiles you get to see so
essentially the I guess the way I I do
essentially the I guess the way I I do
it it's it's essentially like stacker
it it's it's essentially like stacker
Cube uh I guess it's like a stack or
Cube uh I guess it's like a stack or
something like whatever projectiles
something like whatever projectiles
created first is in like the front of
created first is in like the front of
the array and I just start from the
the array and I just start from the
front of the array oh so they're not
front of the array oh so they're not
sorted no um because I was thinking then
sorted no um because I was thinking then
how do you know which ones are
how do you know which ones are
nearby
nearby
uh just based on the like the position I
uh just based on the like the position I
give you I guess I I'm not so this is
give you I guess I I'm not so this is
all the
all the
projectiles and
then so the thing is though I was
then so the thing is though I was
thinking
thinking
like is what Global this is a global
like is what Global this is a global
Loop over
Loop over
projectiles you
projectiles you
yeah yeah it's not
yeah yeah it's not
great okay I to rest from again I've
great okay I to rest from again I've
been drinking too much tea give me a
been drinking too much tea give me a
second and then I'll think about how to
second and then I'll think about how to
this okay one sec no
problem
e
e e
you
you
there uh oh yep I'm here okay I'm going
there uh oh yep I'm here okay I'm going
to give you a general purpose
to give you a general purpose
architecture that would handle this and
architecture that would handle this and
everything else above I'm not saying
everything else above I'm not saying
this is the best but like this will at
this is the best but like this will at
least give you something okay and this
least give you something okay and this
scales perfectly as
well I came up with this in the last 30
well I came up with this in the last 30
seconds but it's like a very simple
seconds but it's like a very simple
generalization of stuff I've done before
generalization of stuff I've done before
so like you'll see why it's kind of
so like you'll see why it's kind of
obvious um here's your
obvious um here's your
drone here's your grid each of these is
drone here's your grid each of these is
a cell like projectiles right you've got
a cell like projectiles right you've got
like pickups right you've got like walls
like pickups right you've got like walls
you have stuff right uh and each of
you have stuff right uh and each of
these is just an entity
MH okay so then this
MH okay so then this
grid uh so you just have like
tile
oops okay and then you have like
struct and then this just has
n and then this
has so yeah basically an array of
has so yeah basically an array of
entities in each tile
right okay so you have like this is just
right okay so you have like this is just
fixed static right this is static in
memory and then what you do is when you
memory and then what you do is when you
Loop over this okay so when you like
Loop over this okay so when you like
when you do each Loop you just write the
when you do each Loop you just write the
entities into the tile one at a
entities into the tile one at a
time see so if we look at like this
time see so if we look at like this
structure here
here you have each
here you have each
entity then you just
entity then you just
do this one goes
do this one goes
here this one goes
here this one goes
here this one goes
here so on and so forth
here so on and so forth
right well I guess I did it yeah so this
right well I guess I did it yeah so this
would be like this and then I'd have to
would be like this and then I'd have to
make another one
right because you don't want projectiles
right because you don't want projectiles
in this in the grid well no I this is
in this in the grid well no I this is
even putting projectiles in the grid I
even putting projectiles in the grid I
came up with something that works for
came up with something that works for
everything
everything
so this you have this grided
so this you have this grided
piles right oh actually did I do that
piles right oh actually did I do that
right yeah I'm drawing it forly but um
right yeah I'm drawing it forly but um
to
to
explain you have a grid of tiles you can
explain you have a grid of tiles you can
have this a 1D array or two like a 1D
have this a 1D array or two like a 1D
array that's just like flat indexing to
array that's just like flat indexing to
2D or 2D array doesn't matter right and
2D or 2D array doesn't matter right and
uh this has
uh this has
destructive tiles each tile is just a
destructive tiles each tile is just a
fixed size array of
fixed size array of
entities right so technically you could
entities right so technically you could
even just make this like a flat index 3D
even just make this like a flat index 3D
array of tiles if you want but I think
array of tiles if you want but I think
it's easier like I think it's easier to
it's easier like I think it's easier to
do this because you do need this extra n
do this because you do need this extra n
right for each of these and just tells
right for each of these and just tells
you how many entities you have in it at
you how many entities you have in it at
the moment yeah yeah um so every time
the moment yeah yeah um so every time
you at every step right when you move
you at every step right when you move
all the entities you're just going to
all the entities you're just going to
reset this this end to zero and then you
reset this this end to zero and then you
uh you just write over right starting
uh you just write over right starting
from zero so you don't even have to
from zero so you don't even have to
clear
clear
it so yeah that makes sense you just
it so yeah that makes sense you just
write this in write this and write this
write this in write this and write this
in and then when you go to compute
in and then when you go to compute
observations what do you do you go
observations what do you do you go
through each cell you Loop up to n and
through each cell you Loop up to n and
you add it to your OBS and you're done
you add it to your OBS and you're done
and that gives you constant
and that gives you constant
time um constant time everything
so okay I do need to re like set the N
so okay I do need to re like set the N
to zero in every tile of the grid every
to zero in every tile of the grid every
step that right you don't need to reset
step that right you don't need to reset
anything to zero no you the size of each
anything to zero no you the size of each
of n entities in each tile you I have to
of n entities in each tile you I have to
do that every step though right you said
do that every step though right you said
that uh yeah n has to go to zero yeah
that uh yeah n has to go to zero yeah
now if you wanted to not Loop over this
now if you wanted to not Loop over this
okay you want this to be faster so just
okay you want this to be faster so just
like me set but I don't know that if you
like me set but I don't know that if you
want this to be faster then here you
want this to be faster then here you
could do this
could do this
so we have
so we have
tile hang
tile hang
on so you just have was an
entity probably make a 3D helper index
entity probably make a 3D helper index
function all right and then you just
function all right and then you just
have
have
um what was
um what was
it uh
Char
Char
n was it Char
n was it Char
Max or is it capacity no
sizes all you have to do is memet this
sizes all you have to do is memet this
one every step right
H yeah I
H yeah I
see no
Loop so I guess the way it'd be stored
Loop so I guess the way it'd be stored
in memory is let me see if you can even
in memory is let me see if you can even
do it without doing this so you don't
do it without doing this so you don't
have to do anything over the whole map
have to do anything over the whole map
let me think
oh wait yeah you totally can right
oh wait yeah you totally can right
you just store
you just store
um here if you want to not do
um here if you want to not do
this okay what if we
this okay what if we
do
pile and this
pile and this
has uh what's it
has uh what's it
int
n
n
step and then we have with
entity okay so you just do set step and
entity okay so you just do set step and
then you do
then you do
if
if
I
step
n step
right then n equal
right then n equal
Z
step
step
step so you could do that and now you
step so you could do that and now you
don't have to mset at every step there
don't have to mset at every step there
truly constant
truly constant
time okay so
time okay so
basically okay so when I first start
basically okay so when I first start
like you know 's going to be zero steps
like you know 's going to be zero steps
going to be zero and then when I'm
going to be zero and then when I'm
moving entities every step so after I do
moving entities every step so after I do
the physics thing I have the new
the physics thing I have the new
positions of everything I go into the
positions of everything I go into the
tiles and I I know where on the grid
tiles and I I know where on the grid
these entities are so I go into this
these entities are so I go into this
array I say okay this step here are the
array I say okay this step here are the
entities in here and then I I you know
entities in here and then I I you know
do my observations and the next step I
do my observations and the next step I
go in and say okay they've moved if
go in and say okay they've moved if
they're in a new tile um I just set them
they're in a new tile um I just set them
so basically this this I only like treat
so basically this this I only like treat
the stuff in the tile is valid if it
the stuff in the tile is valid if it
lines up with the current step and if
lines up with the current step and if
it's not the current step I just don't I
it's not the current step I just don't I
just ignore it when doing observations
just ignore it when doing observations
right because I know it's not active
right because I know it's not active
accurate the step you don't need to deal
accurate the step you don't need to deal
with step at all in compute observations
with step at all in compute observations
the way I have it you deal with this in
the way I have it you deal with this in
when you're actually updating your
when you're actually updating your
environment so when you're doing when
environment so when you're doing when
you are moving entities around right in
you are moving entities around right in
the environment itself you go through
the environment itself you go through
all the entities
all the entities
you put them on the tiles okay and then
you put them on the tiles okay and then
when you're putting them on the
when you're putting them on the
tiles um n starts at zero originally you
tiles um n starts at zero originally you
put all the things in N grows to however
put all the things in N grows to however
many entities there are per step and
many entities there are per step and
then when you get to the next step right
then when you get to the next step right
you're going to check and you're going
you're going to check and you're going
to see that your current step doesn't
to see that your current step doesn't
match this step so you reset
match this step so you reset
n and you start writing from the
n and you start writing from the
beginning again but then when you
beginning again but then when you
compute observations all you have to do
compute observations all you have to do
literally all you have to do is you Loop
literally all you have to do is you Loop
over your adjacent tiles okay in each
over your adjacent tiles okay in each
tile you Loop up to that tile's end and
tile you Loop up to that tile's end and
you copy the data
over okay so how would this work though
over okay so how would this work though
if say for
if say for
example there's just to simplify it
example there's just to simplify it
we're only caring about like one player
we're only caring about like one player
so the first drone he's in tile zero
so the first drone he's in tile zero
okay cool we put that in tile zero We
okay cool we put that in tile zero We
Set n to one we set step to zero the
Set n to one we set step to zero the
next observation okay the Drone moves to
next observation okay the Drone moves to
tile five and we set tile five to be you
tile five and we set tile five to be you
know that drone we update the step to be
know that drone we update the step to be
one so now tile zero still has the Drone
one so now tile zero still has the Drone
in it set to Step Zero okay fair you're
in it set to Step Zero okay fair you're
right that you you do actually have to
right that you you do actually have to
check the Step at OBS time you're right
check the Step at OBS time you're right
yeah that's what I thought you have to
yeah that's what I thought you have to
check time it's one check yeah that's
check time it's one check yeah that's
that's that's not expensive yeah it's
that's that's not expensive yeah it's
nothing yeah yeah yeah that's pretty
nothing yeah yeah yeah that's pretty
smart Okay so I mean this is this does
smart Okay so I mean this is this does
give you constant time everything right
give you constant time everything right
mhm the only thing that's not constant
mhm the only thing that's not constant
is some you you need memory for the
is some you you need memory for the
whole grid so if you try to put a city
whole grid so if you try to put a city
into impulse
into impulse
Wars
Wars
um
um
right you laugh but actually we're like
right you laugh but actually we're like
uh that's something we're looking at
uh that's something we're looking at
with GPU drive and like this
with GPU drive and like this
architecture right it's like okay what
architecture right it's like okay what
if we wanted to put a whole city
if we wanted to put a whole city
in but actually it might not even be bad
in but actually it might not even be bad
because as long as it's not a city with
because as long as it's not a city with
like three players in it right if it's
like three players in it right if it's
actually a densely populated city it
actually a densely populated city it
takes a lot of memory but that's
takes a lot of memory but that's
amortized over a lot of
amortized over a lot of
players right so this architecture might
players right so this architecture might
just
just
work the thing I was um discovering
work the thing I was um discovering
though with the way we do things um in
though with the way we do things um in
puffer you know like have this isn't
puffer you know like have this isn't
really specific to puffer but you know
really specific to puffer but you know
you have like multiple workers so
you have like multiple workers so
basically you know we have multiple work
basically you know we have multiple work
like vectorized workers each has their
like vectorized workers each has their
own process and in each process of
own process and in each process of
running multiple environments right
running multiple environments right
mhm um
mhm um
each process each worker all the
each process each worker all the
environments in that process are going
environments in that process are going
to be sharing like whatever like static
to be sharing like whatever like static
memory like not this per se but like say
memory like not this per se but like say
I pre-compute some stuff they're all
I pre-compute some stuff they're all
going to share that but if I say have
going to share that but if I say have
like 16 workers there's like 16 copies
like 16 workers there's like 16 copies
of all that pre-computed stuff in Ram
of all that pre-computed stuff in Ram
and in this case that' be like workers
and in this case that' be like workers
times M that'd be a lot so it's not
times M that'd be a lot so it's not
workers times and it's just
workers times and it's just
workers well it depends if this if it
workers well it depends if this if it
depends if this would be Global or not
depends if this would be Global or not
but this couldn't be
but this couldn't be
Global well yeah this is this is per n
Global well yeah this is this is per n
but the thing is okay if you have a
but the thing is okay if you have a
massive M right that m is going to have
massive M right that m is going to have
like a thousand players in it so you
like a thousand players in it so you
only need one of those Ms per core
only need one of those Ms per core
anyways yeah yeah that's what I do with
anyways yeah yeah that's what I do with
Nur Mo but like you only have one yeah
Nur Mo but like you only have one yeah
you one per court because you have all
you one per court because you have all
the players in there right you only want
the players in there right you only want
like 4,000 or 8,000 total agents right
like 4,000 or 8,000 total agents right
yeah yeah okay and then for Moa I
yeah yeah okay and then for Moa I
actually do have like shared resources
actually do have like shared resources
in MOA um but you only get one copy per
in MOA um but you only get one copy per
core cuz MOA only has like it's a decent
core cuz MOA only has like it's a decent
sized map right it's a decently big map
sized map right it's a decently big map
yeah yeah but it only has 10 players so
yeah yeah but it only has 10 players so
you still need a bunch of copies of it
you still need a bunch of copies of it
well fine the static assets get shared
well fine the static assets get shared
per core at least be on and off stream
per core at least be on and off stream
today ping me on dis when you're ready
today ping me on dis when you're ready
all right Spencer yeah whenever uh we're
all right Spencer yeah whenever uh we're
done with Captain here I will do some
done with Captain here I will do some
stuff for you so a lot of stuff to here
stuff for you so a lot of stuff to here
though it's a 7,000 line
PR is this like a reasonable
PR is this like a reasonable
architecture though the way you're that
architecture though the way you're that
I've I've gone through
I've I've gone through
this I I think so especially now I think
this I I think so especially now I think
so but I'm thinking like if we were to
so but I'm thinking like if we were to
scale up I'd probably have to
scale up I'd probably have to
change I'd have to change a decent bit
change I'd have to change a decent bit
of code I think
of code I think
because the way everything set up nicely
because the way everything set up nicely
just to work like each grid size is the
just to work like each grid size is the
size of like a normal wall but I think
size of like a normal wall but I think
that'd be way too small if we got like
that'd be way too small if we got like
really huge because right now I already
really huge because right now I already
have how big do you want to go with this
have how big do you want to go with this
we do like up to 4096 was it 2048 by
we do like up to 4096 was it 2048 by
2048 Maps I think I've done in
2048 Maps I think I've done in
neuro oh really uhuh now I don't have
neuro oh really uhuh now I don't have
this entity Max thing right I have one
this entity Max thing right I have one
entity per tile so you'd probably want
entity per tile so you'd probably want
to keep this small especially if your
to keep this small especially if your
entities have a ton of
properties well they be pointers
properties well they be pointers
entities not like but yeah I know you
entities not like but yeah I know you
mean
mean
um yeah well I didn't even make this
um yeah well I didn't even make this
list Dynamic see this is a static yeah
list Dynamic see this is a static yeah
no I see that um what was I going to say
no I see that um what was I going to say
you could also if you really wanted to
you could also if you really wanted to
save memory on this um you could make
save memory on this um you could make
this a link
this a link
list yeah right nah you you lose like
list yeah right nah you you lose like
you know the memory being contiguous and
you know the memory being contiguous and
all that so that's why I don't think
all that so that's why I don't think
it's worth it because like it it would
it's worth it because like it it would
make it slower uh it's still L then but
make it slower uh it's still L then but
it's yeah you lose there's annoying
it's yeah you lose there's annoying
pointer stuff yeah so iory being uous is
pointer stuff yeah so iory being uous is
really cash friendly and really nice
really cash friendly and really nice
generally so I like to do that when I
generally so I like to do that when I
can if you just keep this probably
can if you just keep this probably
doesn't need to be more than like four
doesn't need to be more than like four
right yeah I'd have to probably like do
right yeah I'd have to probably like do
a training run and just see like how big
a training run and just see like how big
it got in like billion steps or
it got in like billion steps or
something and then just put a little
something and then just put a little
past that just to be safe but yeah
past that just to be safe but yeah
probably gets an abil oh like the max
probably gets an abil oh like the max
that it ever gets yeah oh I wouldn't
that it ever gets yeah oh I wouldn't
even go that high
even go that high
I would just see like most of the time
I would just see like most of the time
you know if you cut a projectile off
you know if you cut a projectile off
once in a while who
cares yeah I guess I could get like the
cares yeah I guess I could get like the
average standard deviation then like Max
average standard deviation then like Max
and just make an educated
decision so yeah I mean this is like the
decision so yeah I mean this is like the
type of thing that you would look at and
type of thing that you would look at and
by the way this would compress all the
by the way this would compress all the
OBS code a ton as well wouldn't it yeah
OBS code a ton as well wouldn't it yeah
it would it would yeah my OBS code is
it would it would yeah my OBS code is
yeah there is a decent bit of duplicated
yeah there is a decent bit of duplicated
code cuz I I wasn't sure how to do it
code cuz I I wasn't sure how to do it
differently but yeah this is this makes
differently but yeah this is this makes
sense this so this is like the type of
sense this so this is like the type of
thing that you know it's if you think
thing that you know it's if you think
about this can make it more scalable and
about this can make it more scalable and
and simplify the code and make it faster
and simplify the code and make it faster
all at the same
all at the same
time I'd be interested to see if it
time I'd be interested to see if it
makes it faster with the amount of
makes it faster with the amount of
entities I have now it might still but I
entities I have now it might still but I
think it' be marginal yeah it wouldn't
think it' be marginal yeah it wouldn't
be a lot if it if it did it might make a
be a lot if it if it did it might make a
little faster but you'd really see a
little faster but you'd really see a
huge gain once you start scaling up like
huge gain once you start scaling up like
you said for sure
you said for sure
yeah I mean it depends if you want to do
yeah I mean it depends if you want to do
that as well right now the one thing I
that as well right now the one thing I
will say the one major major limitation
will say the one major major limitation
of um this type of an
of um this type of an
architecture is the uh local observation
architecture is the uh local observation
size so you can't see very far if you do
this uh what do you mean you have to
this uh what do you mean you have to
Loop over because you're doing cell
Loop over because you're doing cell
based right right so you have to Loop
based right right so you have to Loop
over a window yep um
over a window yep um
yeah my window right now is 11 by 11
yeah my window right now is 11 by 11
which is worked worked well in small
which is worked worked well in small
Maps I don't know how to scale to Big
Maps I don't know how to scale to Big
Maps but seems like I don't know is that
Maps but seems like I don't know is that
reasonable size yeah that's what we use
reasonable size yeah that's what we use
for a lot of our stuff as well um okay
for a lot of our stuff as well um okay
it's a it's a really great architecture
it's a it's a really great architecture
for like very local OBS if you really
for like very local OBS if you really
wanted something to see way farther
wanted something to see way farther
that's where we'd have to go to
that's where we'd have to go to
something else and actually I'm chatting
something else and actually I'm chatting
with um Brennon again probably next week
with um Brennon again probably next week
on the FPS stuff to see how he's done
on the FPS stuff to see how he's done
things with bounding value hierarchies
things with bounding value hierarchies
because you need to be able to see far
because you need to be able to see far
there it's like sniper maps and stuff
there it's like sniper maps and stuff
right yeah well the way I handle this in
right yeah well the way I handle this in
impulse Wars is I give you like very
impulse Wars is I give you like very
limited stuff in your window like but
limited stuff in your window like but
then I also give you like actual um
then I also give you like actual um
continuous like finer grain observations
continuous like finer grain observations
for a select amount of like near things
for a select amount of like near things
but you don't see far yeah yeah you're
but you don't see far yeah yeah you're
right yeah yeah so if you wanted to
right yeah yeah so if you wanted to
actually make this Fair you'd have to
actually make this Fair you'd have to
like fog of War what you can see to a
like fog of War what you can see to a
pretty small window around you and then
pretty small window around you and then
it would be like borderline impossible
it would be like borderline impossible
to play as a human
to play as a human
right it be really
right it be really
hard yeah stray bullets stray bullets
hard yeah stray bullets stray bullets
would probably or stray projectiles
would probably or stray projectiles
would probably kill you like all the
would probably kill you like all the
time it' probably be very unfun they
time it' probably be very unfun they
have instant reaction at the least
have instant reaction at the least
but yeah still but yeah as as a human
but yeah still but yeah as as a human
that's that's kind of why I never really
that's that's kind of why I never really
thought about doing a big like MOA type
thought about doing a big like MOA type
or not MOA like MMO type thing because
or not MOA like MMO type thing because
just don't think it would be that
just don't think it would be that
fun like there's already so much chaos
fun like there's already so much chaos
with four players if you had a huge map
with four players if you had a huge map
and a lot of people and I made like the
and a lot of people and I made like the
projectile distances before they like
projectile distances before they like
despawn like larger you'd get like
despawn like larger you'd get like
accident like killed by someone who
accident like killed by someone who
didn't even know they killed you like
didn't even know they killed you like
all the time yeah don't make the life
all the time yeah don't make the life
just don't make the projectile lifetime
just don't make the projectile lifetime
crazy yeah I don't know I it I think it
crazy yeah I don't know I it I think it
changed
changed
like for a lack of better phrase the
like for a lack of better phrase the
spirit of the game a lot I don't know if
spirit of the game a lot I don't know if
it's still being
it's still being
it depends how many like obstacles and
it depends how many like obstacles and
blocking off things there are like so
blocking off things there are like so
here imagine it this way right so
here imagine it this way right so
imagine that you're playing this on a
imagine that you're playing this on a
full screen okay and you have a few
full screen okay and you have a few
players on your screen right that you're
players on your screen right that you're
playing against but you can just keep
playing against but you can just keep
going in either direction for 10 minutes
going in either direction for 10 minutes
and you'll keep finding more
and you'll keep finding more
players yeah that's pretty
players yeah that's pretty
cool
cool
right that's pretty cool like here it's
right that's pretty cool like here it's
it's the way that it works with like the
it's the way that it works with like the
MMO right and I I actually rendered it
MMO right and I I actually rendered it
roughly the way that you the agent sees
roughly the way that you the agent sees
it in the game this is how far the agent
it in the game this is how far the agent
sees in the game but oh okay look right
sees in the game but oh okay look right
yeah yeah yeah this and this isn't even
yeah yeah yeah this and this isn't even
the full siiz map this is the web map oh
the full siiz map this is the web map oh
the fulls size map is even bigger than
the fulls size map is even bigger than
oh yeah you can go way bigger than this
oh yeah you can go way bigger than this
oh wow okay I thought this was a full
oh wow okay I thought this was a full
size you can go even bigger than this
size you can go even bigger than this
and uh they're only like a few like a
and uh they're only like a few like a
few neural agents in here as well there
few neural agents in here as well there
would be like way more agents than this
would be like way more agents than this
cuz the uh the G
cuz the uh the G
the policy is too big to run fast on CPU
the policy is too big to run fast on CPU
so I can only run a few of these guys um
so I can only run a few of these guys um
but yeah You' run into all sorts of
but yeah You' run into all sorts of
other players all sorts of other enemies
other players all sorts of other enemies
like it's pretty cool so you just keep
like it's pretty cool so you just keep
going pretty much wherever it's kind of
fun so that's if you want to do
fun so that's if you want to do
massively multi-agent but you know it's
massively multi-agent but you know it's
nice either way because the architecture
nice either way because the architecture
I'm describing if you don't have uh
I'm describing if you don't have uh
large OBS Windows needed it kind of just
large OBS Windows needed it kind of just
scales to what whatever and uh you know
scales to what whatever and uh you know
figuring out stuff that scills better to
figuring out stuff that scills better to
longer range Ops will be on the agenda
longer range Ops will be on the agenda
cuz that's what you need for like first
cuz that's what you need for like first
person right when you're looking in a
person right when you're looking in a
direction yeah yeah yeah but I'll work
direction yeah yeah yeah but I'll work
on that and I think the stuff Spencer's
on that and I think the stuff Spencer's
doing and then my chat with Bren and I
doing and then my chat with Bren and I
think we'll get that figured out in the
think we'll get that figured out in the
next few
next few
weeks okay but yeah you don't need to go
weeks okay but yeah you don't need to go
recode a bunch of stuff right now from
recode a bunch of stuff right now from
this I'm just giving you stuff that you
this I'm just giving you stuff that you
could like you can look at here for like
could like you can look at here for like
okay these are directions you could take
okay these are directions you could take
this project these are directions that
this project these are directions that
you can go with other projects right
you can go with other projects right
this
this
info but here go back up through yeah
info but here go back up through yeah
just on the projectile stuff
just on the projectile stuff
though I did kind of wonder what you
though I did kind of wonder what you
thought about this because yeah we kind
thought about this because yeah we kind
of started talking about this so
of started talking about this so
basically I want be able to see is these
basically I want be able to see is these
are at least relativized right yeah okay
are at least relativized right yeah okay
um I mean the fact that they do you have
um I mean the fact that they do you have
like an entity encoder or is it just
like an entity encoder or is it just
like into a flat encoder in the network
like into a flat encoder in the network
well what do you mean entity encoder oh
well what do you mean entity encoder oh
oh in the neural in the no it's uh I can
oh in the neural in the no it's uh I can
catenate like all the continuous OBS
catenate like all the continuous OBS
together and then just pass them into
together and then just pass them into
the the main one yeah yeah so that's not
the the main one yeah yeah so that's not
going to be it just can't see those is
going to be it just can't see those is
my guest really yeah just can't see
my guest really yeah just can't see
those so it's playing without being able
those so it's playing without being able
to it's hard to dodge anyways so it's
to it's hard to dodge anyways so it's
not
not
huge but like the way that you do this
huge but like the way that you do this
is an entity I think I've showed you
is an entity I think I've showed you
this right
so entity encoder works like this you
so entity encoder works like this you
have like X Y X Y X Y these are your
have like X Y X Y X Y these are your
points okay and what you're doing is
points okay and what you're doing is
you're doing like XY
you're doing like XY
XY XY and then you're putting this into
XY XY and then you're putting this into
a
a
network right mhm okay you just put this
network right mhm okay you just put this
into a
into a
network and then you Max
and then that kind of tells it like
and then that kind of tells it like
what's closest well it's you're applying
what's closest well it's you're applying
the same layer to each of
the same layer to each of
these
these
right so this doesn't know what the
right so this doesn't know what the
order of the points is right this has to
order of the points is right this has to
learn the same representation at each
learn the same representation at each
point
point
explicitly so it's like it's a totally
explicitly so it's like it's a totally
different problem if you swap 0.1 and
different problem if you swap 0.1 and
point two which is not what you intend
point two which is not what you intend
because they're not sorted
because they're not sorted
M whereas if you do this it's just
M whereas if you do this it's just
learning an encoder over points and what
learning an encoder over points and what
it'll do is it'll just learn to ignore
it'll do is it'll just learn to ignore
anything where the X and Y are too
big right so basically to make this to
big right so basically to make this to
make this bigger you think I should just
make this bigger you think I should just
max over the projectiles and then feed
max over the projectiles and then feed
that back in to the network yeah if you
that back in to the network yeah if you
wanted to make this is just a purely
wanted to make this is just a purely
encoder side change as well yeah yeah
encoder side change as well yeah yeah
right like the the policy
right like the the policy
this is pretty much anytime that you
this is pretty much anytime that you
have a number of things that are the
have a number of things that are the
same like a number of different objects
same like a number of different objects
where the order doesn't matter you have
where the order doesn't matter you have
to express that the order doesn't matter
to express that the order doesn't matter
to the
to the
policy and you do that by maxing it you
policy and you do that by maxing it you
do this by feeding the data each point
do this by feeding the data each point
into the network identically and then
into the network identically and then
you can Max you can do a tension right
you can Max you can do a tension right
this is a good thing for a Transformer
this is a good thing for a Transformer
you can do any operation that doesn't
you can do any operation that doesn't
depend on the
depend on the
position you can Max you can mean
position you can Max you can mean
usually Max is a good one though like
usually Max is a good one though like
you could do FC re FC Re Max if you
you could do FC re FC Re Max if you
wanted
wanted
to that seems pretty deep though like
to that seems pretty deep though like
okay then just do FC Re Max or just FC
okay then just do FC Re Max or just FC
Max there okay
Max there okay
right so encode it and then Max that
right so encode it and then Max that
okay and the encoding should not be two
okay and the encoding should not be two
dimensional right so this goes to like
dimensional right so this goes to like
64 dim or something so it can actually
64 dim or something so it can actually
store data for multiple points if it
store data for multiple points if it
wants yeah right and it can decide like
wants yeah right and it can decide like
okay I'm going to use this part of this
okay I'm going to use this part of this
space for stuff that's really nearby I'm
space for stuff that's really nearby I'm
going to use this part of this space for
going to use this part of this space for
stuff that's like kind of nearby right
stuff that's like kind of nearby right
it can learn all that it can't learn
it can learn all that it can't learn
that from the representation you have
that from the representation you have
now it's really hard okay so that's just
now it's really hard okay so that's just
a pure architecture thing you don't have
a pure architecture thing you don't have
to change your code at all for that the
to change your code at all for that the
N
N
code um that's worth playing with this
code um that's worth playing with this
is in GPU Drive policy as well can you
is in GPU Drive policy as well can you
make a comment in policy just so I kind
make a comment in policy just so I kind
of remember what you're
of remember what you're
saying where's the encoder
saying where's the encoder
just impul yeah where's the
just impul yeah where's the
projectile it's it's all the way at the
projectile it's it's all the way at the
bottom it's just it's just bundled into
bottom it's just it's just bundled into
continuous
OBS I could yeah remove it from that and
OBS I could yeah remove it from that and
then do something different with it
and you said I'll off to play around
and you said I'll off to play around
like should I should it be like FC reu
like should I should it be like FC reu
Max or FC Max probably probably just FC
Max or FC Max probably probably just FC
Max is good enough okay FC Max and then
Max is good enough okay FC Max and then
C and then pass them into the file
C and then pass them into the file
encoder yep and it'll be shorter as well
encoder yep and it'll be shorter as well
because now it's only like 128 dim or
because now it's only like 128 dim or
whatever instead of
whatever instead of
um well it depends how many points you
um well it depends how many points you
have right
have right
but so
but so
right now I give it like the max number
right now I give it like the max number
of projectiles I will give it is like 30
of projectiles I will give it is like 30
um give it like a 64 dim embedding then
um give it like a 64 dim embedding then
it'll be about the same yeah wait
it'll be about the same yeah wait
embedding I thought oh well because is
embedding I thought oh well because is
embedding Oh I thought FC was just fully
embedding Oh I thought FC was just fully
connected later yeah that's fine you
connected later yeah that's fine you
that it's for continuous values it's the
that it's for continuous values it's the
same
thing literally just yes a linear
thing literally just yes a linear
layer okay so CU I is that layer what's
layer okay so CU I is that layer what's
that layer doing right it's projecting
that layer doing right it's projecting
two Dimensions to 64
two Dimensions to 64
Dimensions
Dimensions
continue okay same
continue okay same
thing so it wouldn't really make a
thing so it wouldn't really make a
difference if I used uh a linear layer
difference if I used uh a linear layer
or an embedding layer well embedding
or an embedding layer well embedding
layers are for discrete data so no you
layers are for discrete data so no you
use a linear layer that is the embedding
use a linear layer that is the embedding
yeah I see I see what you're saying it's
yeah I see I see what you're saying it's
the same like concept over continuous
the same like concept over continuous
exactly it's getting your data to a
exactly it's getting your data to a
larger number of dimensions that's an
larger number of dimensions that's an
embedding okay got larger or smaller
embedding okay got larger or smaller
right either way it's embedding
right either way it's embedding
um compute enemy drone
observations yeah enemy drone is a
observations yeah enemy drone is a
little misleading now that once I added
little misleading now that once I added
teams but I don't know you don't have
teams but I don't know you don't have
entity encodings over this either right
entity encodings over this either right
uh no yeah so that's going to screw you
uh no yeah so that's going to screw you
as
as
[Music]
[Music]
well that makes a lot of sense yeah of
well that makes a lot of sense yeah of
course your I'm surprised you get your
course your I'm surprised you get your
policy doing that much
policy doing that much
right I didn't I didn't look at this
right I didn't I didn't look at this
closely enough when I was reviewing CU
closely enough when I was reviewing CU
like this is kind of complicated so I
like this is kind of complicated so I
didn't really realize that you weren't
didn't really realize that you weren't
uh cuz it's literally the difference of
uh cuz it's literally the difference of
a reshape before doing your Ops right
a reshape before doing your Ops right
it's like a very small code change to
it's like a very small code change to
miss oh this is also in continuous
miss oh this is also in continuous
observations
observations
projectiles um enemy drones and then the
projectiles um enemy drones and then the
agent drone is all in there
there I mean this is the same concept of
there I mean this is the same concept of
a con if you think about it right why do
a con if you think about it right why do
we not just pass images into linear
we not just pass images into linear
layers versus cons right it's because we
layers versus cons right it's because we
reuse those patches across the whole
reuse those patches across the whole
image right it's literally the same
image right it's literally the same
thing so what you're doing now is the
thing so what you're doing now is the
equivalent of trying to feed an image
equivalent of trying to feed an image
into a linear layer like pixel by
into a linear layer like pixel by
pixel oh to be fair though I don't know
pixel oh to be fair though I don't know
if this changes anything but the for
if this changes anything but the for
this like enemy drone observation the
this like enemy drone observation the
ordering will always be the same because
ordering will always be the same because
I do it based off the Drone index which
I do it based off the Drone index which
never changes so you're the
never changes so you're the
huh that would only make a difference if
huh that would only make a difference if
like you had the four drones playing
like you had the four drones playing
differently and you wanted to learn
differently and you wanted to learn
specifically different behaviors for
specifically different behaviors for
each of
them okay it could potentially be the
them okay it could potentially be the
case because they're if you're doing
case because they're if you're doing
teams there might be some that's on your
teams there might be some that's on your
team some not yeah you should have a
team some not yeah you should have a
value that's whether it's on your same
value that's whether it's on your same
team for the encoding I do yeah and then
team for the encoding I do yeah and then
it should learn that okay so but I still
it should learn that okay so but I still
need to do what you're talking about
need to do what you're talking about
like right okay yeah makeing sure yeah
like right okay yeah makeing sure yeah
but that's fine like that's not a data
but that's fine like that's not a data
side problem it's just architecture side
side problem it's just architecture side
you'll have like one reshape to make
you'll have like one reshape to make
sure that you do correctly but other
sure that you do correctly but other
than that you're fine yeah and I don't I
than that you're fine yeah and I don't I
shouldn't need to do anything with the
shouldn't need to do anything with the
agent with what like I do want it to
agent with what like I do want it to
learn the ordering of
that there's only one agent yeah exactly
that there's only one agent yeah exactly
so yeah that should be fine
so yeah that should be fine
yeah right yeah okay well like you don't
yeah right yeah okay well like you don't
need to you you're not going to encode
need to you you're not going to encode
each of these values separately right
each of these values separately right
yeah yeah that's what I'm just making
yeah yeah that's what I'm just making
sure it's for when you have like it's
sure it's for when you have like it's
it's an entity encoder right so it's
it's an entity encoder right so it's
when you have data that has multiple
when you have data that has multiple
channels or whatever that's going to be
channels or whatever that's going to be
presented in a specific
presented in a specific
order but order doesn't really matter
order but order doesn't really matter
yeah exactly that's the thing like if
yeah exactly that's the thing like if
you want if here if you want two things
you want if here if you want two things
if you want if you think that your
if you want if you think that your
observation is going to come in a
observation is going to come in a
different order depending on when you
different order depending on when you
get it but you the order shouldn't
get it but you the order shouldn't
matter then you use an entity encoder
matter then you use an entity encoder
okay what about the OBS when I give it
okay what about the OBS when I give it
like the N nearest walls like say the
like the N nearest walls like say the
four nearest walls and it's actually
four nearest walls and it's actually
sorted by like which order of closeness
sorted by like which order of closeness
should I do the same for that or that's
should I do the same for that or that's
fine because like no if you have it
fine because like no if you have it
sorted by order of closeness then that's
sorted by order of closeness then that's
the alternative to doing this that's
the alternative to doing this that's
what I thought you either sort it or you
what I thought you either sort it or you
do entity encoder okay right and I don't
do entity encoder okay right and I don't
know which one is going to be better by
know which one is going to be better by
the way I think in theory The Entity
the way I think in theory The Entity
encoder should be better but it might be
encoder should be better but it might be
kind of difficult to get it working
kind of difficult to get it working
quickly and
quickly and
efficiently yeah I do the n nearest
efficiently yeah I do the n nearest
walls because there's just too many
walls because there's just too many
walls in the map so I don't want to pass
walls in the map so I don't want to pass
those in observations it is mind you it
those in observations it is mind you it
is a very clean architecture if you have
is a very clean architecture if you have
everything expressible it's the same
everything expressible it's the same
entity type kind of um but the thing is
entity type kind of um but the thing is
if you get too many entities then you
if you get too many entities then you
kind of have to project into a pretty
kind of have to project into a pretty
high dimension so that you have enough
high dimension so that you have enough
room right to store all the information
room right to store all the information
and that can get slow so there are
and that can get slow so there are
reasons to do it there reasons to not do
reasons to do it there reasons to not do
it makes
it makes
sense
sense
okay um
okay um
next so I mean that's the review of the
next so I mean that's the review of the
OBS it looks
OBS it looks
like set up n
so yeah I have the option to basically
so yeah I have the option to basically
like pin one environment to always use
like pin one environment to always use
one map so you don't have to like deal
one map so you don't have to like deal
with tearing it down and setting it back
up I don't know why you have rendering
up I don't know why you have rendering
in
in
here rendering a separate API separate
here rendering a separate API separate
API call right what do you mean
API call right what do you mean
the way we usually do our MS is that
the way we usually do our MS is that
this n file has a render function that
this n file has a render function that
you can call separately to render the
you can call separately to render the
M oh okay well for some reason I thought
M oh okay well for some reason I thought
I saw some ocean ends that like the
I saw some ocean ends that like the
render wasn't being called or something
render wasn't being called or something
should be let me see well yeah it's not
should be let me see well yeah it's not
called from it's only called from the
called from it's only called from the
C python right render doesn't that's the
C python right render doesn't that's the
point it's that it's an it's an API that
point it's that it's an it's an API that
you call so here
go here's your policy yada yada
go here's your policy yada yada
demo look allocate reset make client
demo look allocate reset make client
separately it's not part of the M right
separately it's not part of the M right
client is not in the
client is not in the
m and then here's your
m and then here's your
step here's your render render is
step here's your render render is
separate from
separate from
Step oh I think the reason I did that
Step oh I think the reason I did that
kind of separately is because um there's
kind of separately is because um there's
certain things I I do when I know I'm
certain things I I do when I know I'm
rendering like there's certain like um
rendering like there's certain like um
those like triangles that get created
those like triangles that get created
those are physics objects but I
those are physics objects but I
obviously don't create them when
obviously don't create them when
training I only create them when I'm
training I only create them when I'm
rendering stuff like there's other
rendering stuff like there's other
things I do like handling you can't do
things I do like handling you can't do
it from the render
it from the render
Stu I just want to keep my rendering
Stu I just want to keep my rendering
code only render code oh see I want to
code only render code oh see I want to
have a clean separation like in the
have a clean separation like in the
render file it's only rendering that's
render file it's only rendering that's
all it does yeah okay that's a little
all it does yeah okay that's a little
trickier then because you're actually
trickier then because you're actually
adding physics objects it's annoying
adding physics objects it's annoying
yeah okay but yeah that is how we
yeah okay but yeah that is how we
usually have stuff set up um and by the
usually have stuff set up um and by the
way you do need to have the render and
way you do need to have the render and
step calls be separate because that's
step calls be separate because that's
just like that standard rla API stuff I
just like that standard rla API stuff I
mean you could call them um separately I
mean you could call them um separately I
guess it just right now just double
guess it just right now just double
render which you can't have a double
render which you can't have a double
render though the thing you need to be
render though the thing you need to be
able to have render mode enabled and
able to have render mode enabled and
then like step it and render when you
then like step it and render when you
want to um normally so but like you can
want to um normally so but like you can
still pass like a flag or whatever so
still pass like a flag or whatever so
that you can do do the things that you
that you can do do the things that you
need in step right you can still have
need in step right you can still have
like you can take render mode or
like you can take render mode or
something
something
um but yeah it does it needs to it that
um but yeah it does it needs to it that
does need to be
does need to be
separable
separable
anyways
anyways
so why does it need to be separable
so why does it need to be separable
though because like why do you need to
though because like why do you need to
be able to call it
be able to call it
separately because M's export step and
separately because M's export step and
render separately it's just the API that
render separately it's just the API that
everyone uses an
everyone uses an
RL like this is not just puffer this is
RL like this is not just puffer this is
like gymnasium it's it's everything I
like gymnasium it's it's everything I
know but I don't really understand like
know but I don't really understand like
why it's super
why it's super
necessary well there isn't there isn't a
necessary well there isn't there isn't a
reason for it right like you could have
reason for it right like you could have
equally well had it be that it like the
equally well had it be that it like the
API is that if you pass render mode true
API is that if you pass render mode true
then it always renders on step right
then it always renders on step right
yeah but that's not how they I do yeah
yeah but that's not how they I do yeah
that's not how they have it
that's not how they have it
um at the moment cuz like some render
um at the moment cuz like some render
functions right you can have it like
functions right you can have it like
return the pixel values or whatever and
return the pixel values or whatever and
you want to be able to get those at
you want to be able to get those at
certain times we don't do that but it's
certain times we don't do that but it's
still the same
still the same
API okay I mean I don't know I could
API okay I mean I don't know I could
restructure it to be like that but I'm
restructure it to be like that but I'm
not gonna I'm not going to block you on
not gonna I'm not going to block you on
merging for that but I think that it'll
merging for that but I think that it'll
probably cause some small things down
probably cause some small things down
the
the
line well I think what I do right now is
line well I think what I do right now is
if I render is true like I have a render
if I render is true like I have a render
function in Python but I'm
function in Python but I'm
Prett I can't remember either does
Prett I can't remember either does
nothing or does I don't know but I just
nothing or does I don't know but I just
don't really use it oh all
right yeah this is where I basically set
right yeah this is where I basically set
things like okay for training I'm going
things like okay for training I'm going
to lower like the Fidelity the physics
to lower like the Fidelity the physics
and the Brain Skip and if we're if we're
and the Brain Skip and if we're if we're
um yeah that kind of stuff
yeah I had to do some aligning because
yeah I had to do some aligning because
I'm doing like mixed um bites and floats
I'm doing like mixed um bites and floats
so if things aren't aligned like some
so if things aren't aligned like some
stuff freaks out
I thought size of struck gives you the
I thought size of struck gives you the
Align size does it
Align size does it
not uh size of just gives you the size
not uh size of just gives you the size
but that I need it to be aligned to the
but that I need it to be aligned to the
size of float which is normally four
size of float which is normally four
byes and it may or may not
be and some of well spef
be and some of well spef
are do stred memory well no I okay yeah
are do stred memory well no I okay yeah
I think strs do but I just have an array
I think strs do but I just have an array
of bites essentially for obser this is
of bites essentially for obser this is
for observations cool yeah yeah I
for observations cool yeah yeah I
actually I hit that before where like
actually I hit that before where like
sometimes the OBS itself is not aligned
sometimes the OBS itself is not aligned
you can run into issues exactly yeah you
you can run into issues exactly yeah you
can run into issues with that because
can run into issues with that because
when you put it to numpy stuff gets
when you put it to numpy stuff gets
offset weird yeah
offset weird yeah
exactly um specifically that's actually
exactly um specifically that's actually
a good point that might be an error that
a good point that might be an error that
we have in some puffer amps because I
we have in some puffer amps because I
didn't realize that until relatively
didn't realize that until relatively
recently well at least Le in my
recently well at least Le in my
experience if you if you don't have it
experience if you if you don't have it
aligned and stuff needs to be aligned
aligned and stuff needs to be aligned
then when you try to compile it'll like
then when you try to compile it'll like
scream at you huh okay so you should
scream at you huh okay so you should
probably know
probably know
okay in my case it's because when I was
okay in my case it's because when I was
using like nativized tensor to like
using like nativized tensor to like
convert like oh okay yeah yeah that's
convert like oh okay yeah yeah that's
exactly where I was hitting stuff yeah
exactly where I was hitting stuff yeah
some of the OBS are bites some of them
some of the OBS are bites some of them
are treated as floats and then it was
are treated as floats and then it was
like Hey this isn't aligned so yeah yeah
like Hey this isn't aligned so yeah yeah
it's a nightmare
yeah I use your map pathing stuff from
yeah I use your map pathing stuff from
uh MOA for the scripted agents which
uh MOA for the scripted agents which
it's pretty nifty right it's cool the
it's pretty nifty right it's cool the
way you did it it's not the best
way you did it it's not the best
pathfind for
pathfind for
environment but I don't I don't really
environment but I don't I don't really
want to implement like a star or
want to implement like a star or
something
something
so um well
so um well
it's the reason that I didn't do a star
it's the reason that I didn't do a star
is because you're Computing all paths
is because you're Computing all paths
anyways yeah no I'm just saying like
anyways yeah no I'm just saying like
it's not the best slower no I agree and
it's not the best slower no I agree and
that's why I took this compromise yes I
that's why I took this compromise yes I
it's not the best for like actual like
it's not the best for like actual like
uh competitiveness because they're locks
uh competitiveness because they're locks
to like tile base movements which isn't
to like tile base movements which isn't
like always optimal but um it's like
like always optimal but um it's like
good
good
enough
oh yeah fair I mean if you have um I
oh yeah fair I mean if you have um I
don't know if there's acceleration and
don't know if there's acceleration and
stuff it'll kind of curve the
stuff it'll kind of curve the
paths which is like kind of cool yeah
paths which is like kind of cool yeah
one thing I do need to figure out I just
one thing I do need to figure out I just
haven't yet right now my scripted agents
haven't yet right now my scripted agents
like don't take it to floating walls the
like don't take it to floating walls the
pathfinding and I haven't really thought
pathfinding and I haven't really thought
too much about how but they can't move
too much about how but they can't move
that's the
that's the
problem
problem
H you'd have to you have to special case
H you'd have to you have to special case
like if the path goes through a floating
like if the path goes through a floating
wall then you like do something simple
wall then you like do something simple
to get out of the way or something
to get out of the way or something
because at the moment yeah like the
because at the moment yeah like the
static pathfinding only yeah exactly oh
static pathfinding only yeah exactly oh
and that one also does not scale by the
and that one also does not scale by the
way that pathfinding algorithm does not
way that pathfinding algorithm does not
scale to um yeah BFS yeah yeah it does
scale to um yeah BFS yeah yeah it does
but but it only matters if you're like
but but it only matters if you're like
you could probably still do something
you could probably still do something
over like
over like
chunks I mean how big is your map and M
chunks I mean how big is your map and M
because that's pretty big and you do I
because that's pretty big and you do I
think it's one it's uh I think it's
think it's one it's uh I think it's
128 or
128 or
256 I think it's 12 but the thing is the
256 I think it's 12 but the thing is the
size is 128 * 128 * 12 * 128 I think
size is 128 * 128 * 12 * 128 I think
it's like a couple 100 Megs
it's like a couple 100 Megs
yeah yeah it was just the right Map size
yeah yeah it was just the right Map size
that we could do it yeah my my the
that we could do it yeah my my the
biggest map is right now is like 25 by
biggest map is right now is like 25 by
26 or something yeah okay so
why are these allocated
why are these allocated
separately
separately
H
H
what he Dr
what
what
see what are you talking about oh this
see what are you talking about oh this
is your vector thing mhm because it
is your vector thing mhm because it
allocates these dynamically you have to
allocates these dynamically you have to
destroy them
destroy them
individually mhm so if these were static
individually mhm so if these were static
it would just be free drone or free E
it would just be free drone or free E
drones what I'm doing when I'm
drones what I'm doing when I'm
destroying I'm I'm taking care of the
destroying I'm I'm taking care of the
Box 2D
Box 2D
stuff ah I see so I'm destroying the
stuff ah I see so I'm destroying the
physics objects and cleaning that up I
physics objects and cleaning that up I
see knowing that that actually has stuff
see knowing that that actually has stuff
that you deal okay that makes sense then
that you deal okay that makes sense then
so one thing what so I didn't H use to
so one thing what so I didn't H use to
do this you can just like destroy the
do this you can just like destroy the
whole world and if you destroy the world
whole world and if you destroy the world
it destroys everything in the world M
it destroys everything in the world M
but
but
one major optimization I had was um if
one major optimization I had was um if
I'm on the same map between rounds I
I'm on the same map between rounds I
like don't recreate the map and that
like don't recreate the map and that
required not destroying the world and
required not destroying the world and
then that required like destroying
then that required like destroying
everything and re you know what I mean
everything and re you know what I mean
so
yeah because it was it was slower to
yeah because it was it was slower to
destroy the entire world then like
destroy the entire world then like
recreate some stuff versus like
recreate some stuff versus like
destroying only what I don't what I need
destroying only what I don't what I need
to destroy I don't know I maybe I would
to destroy I don't know I maybe I would
do something like have this be in
do something like have this be in
entities or
entities or
something just make like entity array
something just make like entity array
that has all the entities and then e
that has all the entities and then e
cells is just like an offset into that
cells is just like an offset into that
or something I don't
knows well it makes it nice because like
knows well it makes it nice because like
I render each of these differently like
I render each of these differently like
I render projectiles drones whatever so
I render projectiles drones whatever so
when I'm like in the rendering
when I'm like in the rendering
I yeah well I would Pro well if you
I yeah well I would Pro well if you
wanted to do this so that you could have
wanted to do this so that you could have
the option of iterating over the whole
the option of iterating over the whole
like all the entities or over a specific
like all the entities or over a specific
type um you would have a big entities
type um you would have a big entities
array right and then you would have like
array right and then you would have like
e cells would just be a little struct
e cells would just be a little struct
that has the pointer to wherever cell
that has the pointer to wherever cell
starts in that entity array and then the
starts in that entity array and then the
number of cells that you actually
number of cells that you actually
have right yeah so I guess what I could
have right yeah so I guess what I could
do
do
too it's I don't really think it's worth
too it's I don't really think it's worth
doing but if I wanted to shrink like
doing but if I wanted to shrink like
clear m i could make another array of
clear m i could make another array of
all the entities because I have one like
all the entities because I have one like
generic entity struct that has like the
generic entity struct that has like the
type of the ENT entity and then like a
type of the ENT entity and then like a
void pointer to The Entity itself well
void pointer to The Entity itself well
that's what I saying yeah I could Loop
that's what I saying yeah I could Loop
over all of them and then switch over
over all of them and then switch over
like which destroy function I call but
like which destroy function I call but
like but if this is a dynamic array then
like but if this is a dynamic array then
it's not going to
it's not going to
work this would work with static
work this would work with static
arrays well what I was saying would work
arrays well what I was saying would work
with Dynamic I just don't really know if
with Dynamic I just don't really know if
it's worth doing
it's worth doing
would
would
it I don't know if it
would I don't see how that does I'm not
would I don't see how that does I'm not
sure we're talking about the same thing
okay okay here your actual freeze I
okay okay here your actual freeze I
see yeah I'm just that's actually
see yeah I'm just that's actually
deallocating the memory of the array
deallocating the memory of the array
when I'm removing I'm just basically
when I'm removing I'm just basically
setting the size to zero
above yeah so you end up with this
above yeah so you end up with this
either way the only thing that is that
either way the only thing that is that
if you had entities it would just be for
if you had entities it would just be for
entity and entities or whatever
yeah some reward shaping
weapon
weapon
force times weapon
force weapon Force
force weapon Force
squared
squared
yeah is that impulse or something like
yeah is that impulse or something like
what is weapon Force squ well weapon
what is weapon Force squ well weapon
force is right above it's the magnitude
force is right above it's the magnitude
that it's fired at first times this
that it's fired at first times this
inverse
inverse
Mass so what does this give
Mass so what does this give
you um
that basically gives you like the
that basically gives you like the
roughly like the impulse okay so it is
roughly like the impulse okay so it is
had yeah is impulse for is impulse for
had yeah is impulse for is impulse for
squared uh I mean multiplied by the shot
squared uh I mean multiplied by the shot
hit reward coefficient which I think
hit reward coefficient which I think
like scales it
like scales it
down newon
down newon
seconds so isn't this supposed to be
time Del a te or
time Del a te or
something I don't know the way like I
something I don't know the way like I
handle impulses in here is just I don't
handle impulses in here is just I don't
know I don't really think about like
know I don't really think about like
units or whatever it's just like well I
units or whatever it's just like well I
just don't know what squaring it getes
just don't know what squaring it getes
you like if this is a reasonable way to
you like if this is a reasonable way to
to scale this
to scale this
reward I don't I don't remember I was
reward I don't I don't remember I was
playing around with it until it seemed
playing around with it until it seemed
like decent
yeah and the compute hit strength gives
yeah and the compute hit strength gives
me so that's basically like scaling it
me so that's basically like scaling it
um I think what the idea was anyway so
um I think what the idea was anyway so
fire magnitude is like the impulse that
fire magnitude is like the impulse that
I or the magnitude of the impulse that I
I or the magnitude of the impulse that I
apply to it when I spawn the projectile
apply to it when I spawn the projectile
and then I'm multiplying it by its
and then I'm multiplying it by its
inverse Mass because I don't know that
inverse Mass because I don't know that
you know takes its mass into account and
you know takes its mass into account and
then um scaled force is like okay like
then um scaled force is like okay like
what's the I don't know I forget why I
what's the I don't know I forget why I
scaled it that way but I did like the
scaled it that way but I did like the
actual like initial force of the weapon
actual like initial force of the weapon
versus the amount the Dr like what
versus the amount the Dr like what
compute hit strength does is gives you
compute hit strength does is gives you
like it um I think if I remember
like it um I think if I remember
correctly gives you a float from zero to
correctly gives you a float from zero to
one and it's scaled um based on how far
one and it's scaled um based on how far
the Drone moved in the last step so like
the Drone moved in the last step so like
if you because you could hit a drone
if you because you could hit a drone
with a sniper and if you barely graze it
with a sniper and if you barely graze it
it's not going to move very much but if
it's not going to move very much but if
you H It Center Mass it's going to
you H It Center Mass it's going to
really move it so I reward them more if
really move it so I reward them more if
they move them more basically I see yeah
they move them more basically I see yeah
definitely checking to make sure that
definitely checking to make sure that
these are Saye as like one of the if
these are Saye as like one of the if
assuming that you have the data correct
assuming that you have the data correct
right like the M data and stuff is
right like the M data and stuff is
correct the next most important thing is
correct the next most important thing is
having the rewards be saying
yeah so here's a compute reward
yeah so here's a compute reward
function let's see how many components
function let's see how many components
you have
is there like a longer cool down if you
is there like a longer cool down if you
deplete all your energy
deplete all your energy
Yeah so basically I check that's like an
Yeah so basically I check that's like an
overheat mechanic type thing yeah
overheat mechanic type thing yeah
basically okay so they get rewarded for
basically okay so they get rewarded for
not fully depleting
not fully depleting
okay punished yeah I mean yeah okay
okay punished yeah I mean yeah okay
uh pick up
uh pick up
weapon they get a reward for picking up
weapon they get a reward for picking up
a
weapon yeah if they already held like a
weapon yeah if they already held like a
non
non
yeah okay normal shots and
yeah okay normal shots and
explosions
explosions
yep and then wait my
yep and then wait my
agents what's
agents what's
this so if I have like if all the
this so if I have like if all the
players our agents then I'll do like
players our agents then I'll do like
specific stuff for
specific stuff for
teams oh you're trying to like subtract
teams oh you're trying to like subtract
out
out
team well no like I was basically
team well no like I was basically
punishing them if they hit a teammate oh
punishing them if they hit a teammate oh
so there is friendly
so there is friendly
fire yeah okay because you can actually
fire yeah okay because you can actually
hit yourself and sometimes it's
hit yourself and sometimes it's
advantageous to hit yourself or yeah it
advantageous to hit yourself or yeah it
could be advantageous to hit a teammate
could be advantageous to hit a teammate
in very very rare circumstances like
in very very rare circumstances like
yeah but those mechanics always suck
yeah but those mechanics always suck
because people freaking control with
because people freaking control with
them so
them so
badly yeah but I mean if you just had
badly yeah but I mean if you just had
your shots pass through the player that
your shots pass through the player that
that'd be like totally different
that'd be like totally different
game man allowing
game man allowing
you it's kind of funny I guess it really
you it's kind of funny I guess it really
depends on the game but like allowing
depends on the game but like allowing
you to interact with your teammates is
you to interact with your teammates is
just one of the most tilting things ever
just one of the most tilting things ever
um yeah I like I know this from
um yeah I like I know this from
OverWatch it's like please delete life
OverWatch it's like please delete life
Weaver cuz he can pull you from he the
Weaver cuz he can pull you from he the
idea that he can pull you out of danger
idea that he can pull you out of danger
but he can also pull you out of a good
but he can also pull you out of a good
position into a really stupid position
position into a really stupid position
yeah and it's like why am I fighting my
yeah and it's like why am I fighting my
team it's like every single game that
team it's like every single game that
has this
has this
so yeah I mean I don't know that's yeah
so yeah I mean I don't know that's yeah
that's part of the game my opinion like
that's part of the game my opinion like
there's just shots flying on everywhere
there's just shots flying on everywhere
and sometimes you didn't mean for it to
and sometimes you didn't mean for it to
go to that place and it just happens
go to that place and it just happens
because you know you're shooting to move
because you know you're shooting to move
so you're not actually like aiming at
so you're not actually like aiming at
things a lot of times like so yeah part
things a lot of times like so yeah part
of the chaos yeah but this is how you
of the chaos yeah but this is how you
really like the one v9 mechanic
really like the one v9 mechanic
though yeah one v9 I just I just didn't
though yeah one v9 I just I just didn't
want agents like just mercilessly
want agents like just mercilessly
killing off their teammates any chance
killing off their teammates any chance
they got though
so what I might do no this is a good
so what I might do no this is a good
reward I'm not I'm not questioning the
reward I'm not I'm not questioning the
reward it's funny to have friendly F
reward it's funny to have friendly F
fire enabled at all but you can hit
fire enabled at all but you can hit
yourself anyway so I guess it makes
yourself anyway so I guess it makes
sense then yeah and I don't if you hit
sense then yeah and I don't if you hit
yourself I just don't do anything
yourself I just don't do anything
there's no reward
yeah I mean you could technically
yeah I mean you could technically
disable friendly fire if you wanted to
disable friendly fire if you wanted to
make it slightly less chaotic um and
make it slightly less chaotic um and
then you would color the
projectiles well see right now I color
projectiles well see right now I color
the projectiles based on the weapon
the projectiles based on the weapon
they're from so that' get
they're from so that' get
tricky because they have you give them
tricky because they have you give them
different you would give the weapons
different you would give the weapons
different projectile Sprites and then
different projectile Sprites and then
you would color those
you would color those
H yeah I could do that but the teams
H yeah I could do that but the teams
also should have more uniform coloration
also should have more uniform coloration
I would think I don't know if they need
I would think I don't know if they need
to be the same color well like it's like
to be the same color well like it's like
it's not like like green and blue versus
it's not like like green and blue versus
like red and purple or whatever is not
like red and purple or whatever is not
intuitive yeah I don't know I like the I
intuitive yeah I don't know I like the I
mean red versus blue is kind of a
mean red versus blue is kind of a
classic and we do it we do it for the
classic and we do it we do it for the
puffer Ms anyways
puffer Ms anyways
um so that's I that might be good for cl
um so that's I that might be good for cl
we can get to the renderer
we can get to the renderer
after that's I was thinking about that I
after that's I was thinking about that I
know like yeah we talk about the one
know like yeah we talk about the one
thing I do need want to add because I
thing I do need want to add because I
have not got teams training to work very
have not got teams training to work very
well and I think I know what so
well and I think I know what so
basically I don't have a reliable way to
basically I don't have a reliable way to
track kills yet when there are more than
track kills yet when there are more than
two players because it actually gets
two players because it actually gets
very challenging because it's not just
very challenging because it's not just
like oh who fired the shot that like got
like oh who fired the shot that like got
their heal to zero it was what for like
their heal to zero it was what for like
who was the owner or the parent that
who was the owner or the parent that
applied the force that most contributed
applied the force that most contributed
to their death you don't have because
to their death you don't have because
you don't even have health do you
you don't even have health do you
nope so yeah I gets it gets really
nope so yeah I gets it gets really
complicated because like I could shoot
complicated because like I could shoot
you with a sniper and then you could
you with a sniper and then you could
bounce off a wall and then die but then
bounce off a wall and then die but then
it's like okay but you're also moving
it's like okay but you're also moving
and you're also having recoil so I need
and you're also having recoil so I need
to track like okay at because there's
to track like okay at because there's
also like essentially FR friction but
also like essentially FR friction but
it's like top down so it's damping so
it's like top down so it's damping so
it's like okay I S do last projectile
it's like okay I S do last projectile
that hit you yeah but that can get
that hit you yeah but that can get
really cheap like that yeah no it's like
really cheap like that yeah no it's like
you just tickle somebody who's about to
you just tickle somebody who's about to
die yeah but it's
die yeah but it's
funny right yeah but I don't think it
funny right yeah but I don't think it
work well for learning is what I'm
work well for learning is what I'm
saying I mean do you think not because
saying I mean do you think not because
like yes technically if your teammate
like yes technically if your teammate
hits a good shot you're incentivized to
hits a good shot you're incentivized to
try to like tickle the opponent but
try to like tickle the opponent but
you're also incentivized to try to kill
you're also incentivized to try to kill
the enemy anyways so I don't know yeah
the enemy anyways so I don't know yeah
but sometimes it's pretty clear um for
but sometimes it's pretty clear um for
example like I could barely touch you
example like I could barely touch you
like really far from the red wall and
like really far from the red wall and
then you could kill yourself by like
then you could kill yourself by like
using the shotgun into the red wall and
using the shotgun into the red wall and
then I'd get rewarded for like not
then I'd get rewarded for like not
really doing anything
really doing anything
useful yeah there would have to be a
useful yeah there would have to be a
time delay so yeah it basic basically I
time delay so yeah it basic basically I
know what I need to do I just haven't
know what I need to do I just haven't
done it yet because I was also like
done it yet because I was also like
needing the box who the author to change
needing the box who the author to change
something for me so I could get some
something for me so I could get some
stuff and
yeah I mean the most of this is you get
yeah I mean the most of this is you get
a reward of one for
a reward of one for
winning yeah that's what I
winning yeah that's what I
do and in two Agent M which is normally
do and in two Agent M which is normally
what I do like we're one agent actually
what I do like we're one agent actually
One agent two players it's just if the
One agent two players it's just if the
other person dies you get rewarded like
other person dies you get rewarded like
I don't care if they kill themselves
I don't care if they kill themselves
like it's still good but yeah
like it's still good but yeah
well because you had to survive for that
well because you had to survive for that
long right
long right
exactly what I might do though once I
exactly what I might do though once I
can actually track kills is like give
can actually track kills is like give
you like partial award if they kill
you like partial award if they kill
themselves because like maybe you
themselves because like maybe you
contributed to like Mind Games to making
contributed to like Mind Games to making
them or you put them in a situation
them or you put them in a situation
where they like it was hard for them not
where they like it was hard for them not
to kill them themselves but like I give
to kill them themselves but like I give
you a better reward if you directly kill
you a better reward if you directly kill
them you can also just give your you can
them you can also just give your you can
just get a negative one reward for dying
just get a negative one reward for dying
and I think that handles
and I think that handles
everything yeah I've actually had i'
everything yeah I've actually had i'
I've given it like I've played around
I've given it like I've played around
with dying rewards and or punishments
with dying rewards and or punishments
and it's been I don't know they learn
and it's been I don't know they learn
it's been difficult for them to learn
it's been difficult for them to learn
from that from some
from that from some
reason
reason
interesting yeah I don't know
f i yeah I think right now I have death
f i yeah I think right now I have death
punishment set to like zero so I do add
punishment set to like zero so I do add
it but like doesn't do
it but like doesn't do
anything I I have to play around with it
anything I I have to play around with it
more
basically manual actions are going to be
basically manual actions are going to be
like uh either I think from the scripted
like uh either I think from the scripted
agent
agent
or um from like the human player compute
or um from like the human player compute
actions is basically just getting like
actions is basically just getting like
the neural network actions or like
the neural network actions or like
normalizing some stuff for everyone for
normalizing some stuff for everyone for
all the actions basically
is this supposed to be aim
is this supposed to be aim
yeah
yeah
oh yeah that's supposed to be
oh yeah that's supposed to be
aim I told you we're reviewing line by
line if I don't at least catch a couple
line if I don't at least catch a couple
you know single line bugs what am I
you know single line bugs what am I
doing IO the predicted um comment like
doing IO the predicted um comment like
this is a hack every time it just thinks
this is a hack every time it just thinks
it's a
hack this is super
hack this is super
Maven
yeah so it's
yeah so it's
move
aim binary shoot break and burst that's
aim binary shoot break and burst that's
a very reasonable little action space
yeah you could even combine them
yeah you could even combine them
you could combine these I think do you
you could combine these I think do you
need to be able to do these at the same
need to be able to do these at the same
time oh you do right yeah yeah okay you
time oh you do right yeah yeah okay you
need to be able to do this at the same
need to be able to do this at the same
time this is right click left click and
time this is right click left click and
yeah okay that's fine
then tan
then tan
HF yeah so that actually helped a ton
HF yeah so that actually helped a ton
with continuous continuous still wasn't
with continuous continuous still wasn't
great like as far as it learns but when
great like as far as it learns but when
I bound them by that instead of clipping
I bound them by that instead of clipping
it helped a
it helped a
lot is there a reason to not just do
lot is there a reason to not just do
this in the
this in the
policy
policy
uh something about like I can't
uh something about like I can't
remember um this is negative one was
remember um this is negative one was
Tage negative 1 to one or is it
Tage negative 1 to one or is it
unbounded no it's negative 1 to one yeah
unbounded no it's negative 1 to one yeah
okay so I could do it in the policy I
okay so I could do it in the policy I
just ended up doing it here oh I think
just ended up doing it here oh I think
because I also
because I also
hang on this is I'm confused because
hang on this is I'm confused because
isn't move aren't these discrete or are
isn't move aren't these discrete or are
these continuous no these are continuous
these continuous no these are continuous
you aim and move continuously but then
you aim and move continuously but then
these are oh no no so
these are oh no no so
above yeah that's that's if I'm doing
above yeah that's that's if I'm doing
multi uh like uh what's it called not
multi uh like uh what's it called not
multi hot yeah that's if I'm doing
multi hot yeah that's if I'm doing
multi- discreet but if I'm doing
multi- discreet but if I'm doing
continuous oh yeah then you just convert
continuous oh yeah then you just convert
them to um continuous anyways
them to um continuous anyways
right you should just if they're
right you should just if they're
multi-hot what you do is you should just
multi-hot what you do is you should just
convert them to be
continuous I think I have code for this
continuous I think I have code for this
in the Maze anth as well
in the Maze anth as well
okay I think I had this here because I
okay I think I had this here because I
also I treat um agent continuous actions
also I treat um agent continuous actions
the same as I treat controller actions
the same as I treat controller actions
because you know I just get continuous
because you know I just get continuous
inputs from the joysticks so it just
inputs from the joysticks so it just
lets me share some code basically okay
lets me share some code basically okay
you might want to just make the policy
you might want to just make the policy
had on continuous have a tan H and see
had on continuous have a tan H and see
if that
if that
helps um no so I was reading about that
helps um no so I was reading about that
if you do Tage like right after you get
if you do Tage like right after you get
the action that and i' I've tested not
the action that and i' I've tested not
extensively but I have tested it hurts
extensively but I have tested it hurts
Le because then what's going into the
Le because then what's going into the
experience buffer like altered whereas
experience buffer like altered whereas
like now I don't know we could do some
like now I don't know we could do some
research on or something but like the
research on or something but like the
reasoning I gave was like oh if you're
reasoning I gave was like oh if you're
kind of like modifying like you know
kind of like modifying like you know
what the policy's outputting and then
what the policy's outputting and then
it's kind of getting confused because
it's kind of getting confused because
it's training like not want it actually
it's training like not want it actually
outputed the thing is that likewise
outputed the thing is that likewise
right if it's outputting stuff outside
right if it's outputting stuff outside
of the range it's getting just it's
of the range it's getting just it's
getting like soft Clips down right now
getting like soft Clips down right now
MH so I mean the the what it would do is
MH so I mean the the what it would do is
if you did it in the policy yes it
if you did it in the policy yes it
changes learning Dynamics but then at
changes learning Dynamics but then at
least it would be uh it would be
least it would be uh it would be
outputting the actions that it's
outputting the actions that it's
actually
actually
taking so possible either way yeah okay
it just copied my previous
comment very
smart yeah I C movement to one just so
smart yeah I C movement to one just so
like someone can't cheat and tell me
like someone can't cheat and tell me
like I don't know I'm gonna like move
like I don't know I'm gonna like move
does have like X and
does have like X and
Y yeah it's just a v it say like a 2d
Y yeah it's just a v it say like a 2d
Vector
uh
um
um
consider doing heading and
consider doing heading and
magnitude X Y I think heading in
magnitude X Y I think heading in
magnitude might be easier to learn
magnitude might be easier to learn
it kind of
it kind of
depends so like heading right you can
depends so like heading right you can
turn in whatever direction oh I think I
turn in whatever direction oh I think I
tried
tried
that I think I actually tried that once
that I think I actually tried that once
and I have to try it again but I think I
and I have to try it again but I think I
Tri and it like learn at all interesting
Tri and it like learn at all interesting
yeah I'd have to try it again but
yeah I'd have to try it again but
yeah yeah well I I actually tried doing
yeah yeah well I I actually tried doing
that I think with aiming or something
that I think with aiming or something
actually let me think
actually let me think
yeah instead of just having output two
yeah instead of just having output two
values I think I just tried to have it
values I think I just tried to have it
output one value no that's what I did
output one value no that's what I did
for aiming instead of having it X output
for aiming instead of having it X output
like an X and A Y for aiming I tried to
like an X and A Y for aiming I tried to
have it output like one float which is
have it output like one float which is
basically like you know the angle like
basically like you know the angle like
zero say would be like straight up and
zero say would be like straight up and
then like 90 would be like to the right
then like 90 would be like to the right
or something like 180 be down but like
or something like 180 be down but like
it couldn't learn to aim like that at
it couldn't learn to aim like that at
all so I just kept it at XY
all so I just kept it at XY
I thought that'd be easier because
I thought that'd be easier because
that's one less thing to think about but
that's one less thing to think about but
not yeah but I've changed a lot since
not yeah but I've changed a lot since
then so maybe I'd redo
it nice
simple
simple
W that's good
is this the thing where like if you put
is this the thing where like if you put
the controller down the policy takes
the controller down the policy takes
over uh yeah right now I just I have it
over uh yeah right now I just I have it
like I think neurl and mo is the same
like I think neurl and mo is the same
way if you you can toggle control with
way if you you can toggle control with
control yeah that's the way that you do
control yeah that's the way that you do
it for M's where it's like obnoxious if
it for M's where it's like obnoxious if
you if it takes over immediately when
you if it takes over immediately when
you stop pressing something yeah because
you stop pressing something yeah because
holding shift while you're trying to do
holding shift while you're trying to do
all stuff would be annoying no no no
all stuff would be annoying no no no
that's it's that's for simpler Ms where
that's it's that's for simpler Ms where
you're just trying to test them yeah
yeah for
okay here's the big bad step
function how is the while loop part of
function how is the while loop part of
the if and
the if and
Def so that's jez wait and then is the
Def so that's jez wait and then is the
clothes gonna be part of it the clothes
clothes gonna be part of it the clothes
oh the closing
oh the closing
yeah
yeah
[Music]
[Music]
dude holy hell tell me how to do it
dude holy hell tell me how to do it
differently man because I don't normally
differently man because I don't normally
I can handle it sanely but if it's in
I can handle it sanely but if it's in
script and like I don't know how often
script and like I don't know how often
I'm being called so I have to like yeah
I'm being called so I have to like yeah
I have to if you go to that link it kind
I have to if you go to that link it kind
of explains hold
of explains hold
on hold on
then so basically yeah the way I
then so basically yeah the way I
understand it like normally I'm stepping
understand it like normally I'm stepping
the physics with a set time step like
the physics with a set time step like
say to make it simple like every half
say to make it simple like every half
second I'm stepping the physics and
second I'm stepping the physics and
telling the physics like you know
telling the physics like you know
simulate half a second in you know into
simulate half a second in you know into
the future or whatever but like um with
the future or whatever but like um with
inscrip in the like the browser is just
inscrip in the like the browser is just
calling the step function whenever it
calling the step function whenever it
feels like not on a set amount of time
feels like not on a set amount of time
like R will so you just you just need
like R will so you just you just need
this variable to not be a pre like be a
this variable to not be a pre like be a
pre-processor variable you need to have
pre-processor variable you need to have
this as a
this as a
variable um and then you'd be able to do
variable um and then you'd be able to do
it well because then all you would do is
it well because then all you would do is
then you would just say you know if M
then you would just say you know if M
Delta so you just have uh you know
Delta so you just have uh you know
double Delta time equals o.5 seconds or
double Delta time equals o.5 seconds or
whatever the default is if M scripton
whatever the default is if M scripton
Delta time equals this thing while
Delta time equals this thing while
accumulator is greater than equal Delta
accumulator is greater than equal Delta
time you do all your logic you know you
time you do all your logic you know you
just have the Y Loop it'll run once if
just have the Y Loop it'll run once if
you're not using M script in right and
you're not using M script in right and
then you don't need to have this crazy M
then you don't need to have this crazy M
scripton on a closing bracket as well I
scripton on a closing bracket as well I
mean the thing is though I need to call
mean the thing is though I need to call
like the inscript in specific like time
like the inscript in specific like time
functions which won't work normally so I
functions which won't work normally so I
have to like do something which aren't
have to like do something which aren't
defined
defined
normally yeah that that doesn't make
normally yeah that that doesn't make
sense if you're using GCC and script and
sense if you're using GCC and script and
get
get
now my God that is so yeah it's kind of
now my God that is so yeah it's kind of
necessary it's not that bad like
necessary it's not that bad like
functions that don't exist until
functions that don't exist until
you compile them like that well I mean
you compile them like that well I mean
it kind of makes sense right you're
it kind of makes sense right you're
using a different runtime and like Lipsy
using a different runtime and like Lipsy
doesn't have inscript and stuff but the
doesn't have inscript and stuff but the
script and runtime is inscript and stuff
script and runtime is inscript and stuff
like it's not ideal but I mean it is
like it's not ideal but I mean it is
what it is okay to be fair if you wanted
what it is okay to be fair if you wanted
to get rid of these you could still get
to get rid of these you could still get
rid of these macros it would be slightly
rid of these macros it would be slightly
more annoying all You' do is you'd have
more annoying all You' do is you'd have
you'd actually you'd have an M script in
you'd actually you'd have an M script in
[ __ ] file where it's just you do
[ __ ] file where it's just you do
this right and if it's not if end def M
this right and if it's not if end def M
scripton then you define these just you
scripton then you define these just you
just do like a like a header for these
just do like a like a header for these
right because they're not going to
right because they're not going to
actually get
actually get
called so you just Define them then you
called so you just Define them then you
could still do
it I guess but do you know what I'm
it I guess but do you know what I'm
saying kind of I I I know this is an
saying kind of I I I know this is an
ideal but I like this because this keeps
ideal but I like this because this keeps
like this this is all like like it's not
like this this is all like like it's not
a lot of logic and it keeps it all in
a lot of logic and it keeps it all in
the same place so it's easier to reason
the same place so it's easier to reason
about okay I'm scripting kind of
about okay I'm scripting kind of
gross normally you don't have to deal
gross normally you don't have to deal
with this but why do you need the M
with this but why do you need the M
script and get time instead of like you
script and get time instead of like you
can't use a system function I
can't use a system function I
guess yeah I don't think it's like
guess yeah I don't think it's like
defined or something it might be but I
defined or something it might be but I
just saw like all the script and stuff
just saw like all the script and stuff
recommending and using that so I just
recommending and using that so I just
was but Man web stuff is just answer I
was but Man web stuff is just answer I
think that's the conclusion I mean hey
think that's the conclusion I mean hey
this is a lot less cancer than writing
this is a lot less cancer than writing
this in JavaScript though yeah but like
this in JavaScript though yeah but like
can we just blame web web programmers
can we just blame web web programmers
for making their whole like causing all
for making their whole like causing all
their own problems and misery yeah fair
their own problems and misery yeah fair
enough just blame
them I mean like nothing that's like
them I mean like nothing that's like
nothing that nothing designed in the web
nothing that nothing designed in the web
makes any sense like at all it's like oh
makes any sense like at all it's like oh
web is so hard yeah it's hard because
web is so hard yeah it's hard because
you are all terrible programmers and you
you are all terrible programmers and you
made it hard yeah I'm not gonna argue
made it hard yeah I'm not gonna argue
with you there freaking just look at any
with you there freaking just look at any
modern web code and tell me that these
modern web code and tell me that these
are good
are good
programmers all
right but I try not to let their crap
right but I try not to let their crap
pollute you know just it bothers me
pollute you know just it bothers me
because it's like I hate when it's like
because it's like I hate when it's like
you have to pollute your nice code with
you have to pollute your nice code with
like their garbage
like their garbage
right to be fair it's it's like what
right to be fair it's it's like what
like 10 lines in like 1200 so it's
like 10 lines in like 1200 so it's
really not that bad is this not threaded
really not that bad is this not threaded
throughout a bunch of other
throughout a bunch of other
places no it's it's pretty much only
places no it's it's pretty much only
here there's a tiny bit in the render
here there's a tiny bit in the render
and there's like a tiny bit in the demo
and there's like a tiny bit in the demo
file because you know it's not in the
file because you know it's not in the
game file no okay that's probably
game file no okay that's probably
okayish
okayish
yeah nothing in the game logic is web
yeah nothing in the game logic is web
specific it's just the way like how
specific it's just the way like how
often I call physics and how I render
often I call physics and how I render
well yeah kind of specific to how I
well yeah kind of specific to how I
render
what is this
what is this
thing oh so you need um because of like
thing oh so you need um because of like
U well you don't need it but like uh it
U well you don't need it but like uh it
just makes like Auto pxd a little faster
just makes like Auto pxd a little faster
because they don't I was using um pragna
because they don't I was using um pragna
once pragma once but I guess autop pxd
once pragma once but I guess autop pxd
like doesn't support that so I just use
like doesn't support that so I just use
the classic header
the classic header
guards yeah you know what header guards
guards yeah you know what header guards
are right well this wouldn't be needed
are right well this wouldn't be needed
if it weren't also doing box 2D right
if it weren't also doing box 2D right
because it would just be fast
because it would just be fast
regardless are you talking about the
regardless are you talking about the
header guards at the
header guards at the
top yeah I mean if you just recompile
top yeah I mean if you just recompile
the whole thing every time it's what
the whole thing every time it's what
that's slow because of box 2D right this
that's slow because of box 2D right this
is like 7,000 lines of code it should be
is like 7,000 lines of code it should be
fast no well no no so the reason you
fast no well no no so the reason you
need you need something here you need
need you need something here you need
header guards or you need pragma once
header guards or you need pragma once
when you have multiple header files
when you have multiple header files
because they're getting included
because they're getting included
multiple places and when you include
multiple places and when you include
them they're getting expanded exped You
them they're getting expanded exped You
Know
Know
M huh yeah they're getting included
M huh yeah they're getting included
multiple yeah times so these this just
multiple yeah times so these this just
just ensures that they're only expanded
just ensures that they're only expanded
once you that you won't have
once you that you won't have
redefinitions why why are these even
redefinitions why why are these even
getting included multiple times like
getting included multiple times like
what game.
what game.
H so where wait so include n wait game
H so where wait so include n wait game
shouldn't include m m should include
shouldn't include m m should include
game
game
right I'm confused yeah when I had
right I'm confused yeah when I had
that you shouldn't need the you
that you shouldn't need the you
shouldn't need the header guard I
shouldn't need the header guard I
wouldn't think because each file should
wouldn't think because each file should
only get in be unless you have like
only get in be unless you have like
utils no I do kind of have like a utils
utils no I do kind of have like a utils
thing like types and like uh settings
thing like types and like uh settings
and what's this include game map
and what's this include game map
scripted agent settings and types I'm
scripted agent settings and types I'm
actually for the longest time I didn't
actually for the longest time I didn't
include m in game I don't remember why I
include m in game I don't remember why I
did that
see I get I get around this by I just
see I get I get around this by I just
have all this like game includes stuff
have all this like game includes stuff
right and then other thing includes game
right and then other thing includes game
and it's done yeah actually doesn't that
and it's done yeah actually doesn't that
still work here
still work here
what if you just include game. from m.h
what if you just include game. from m.h
doesn't it just
doesn't it just
work well I do that what do you mean
work well I do that what do you mean
without the
without the
guard cuz all this stuff is included in
guard cuz all this stuff is included in
game
game
right and they don't you don't need to
right and they don't you don't need to
include this this map or setting or type
include this this map or setting or type
here again because it's already in game
here again because it's already in game
yeah no you're right I just it just well
yeah no you're right I just it just well
you still need the guard just because I
you still need the guard just because I
don't know it gets tedious it's only if
don't know it gets tedious it's only if
there's stuff that's duplicated in the
there's stuff that's duplicated in the
includes yeah but it's just safer to
includes yeah but it's just safer to
always have the guard cuz it's like
always have the guard cuz it's like
three lines and then you don't have to
three lines and then you don't have to
worry about like things blowing up when
worry about like things blowing up when
you include multiple times it's just
you include multiple times it's just
good
practice I end up writing stuff in like
practice I end up writing stuff in like
two files or whatever so there's no
two files or whatever so there's no
guards because things can't be included
guards because things can't be included
in multiple places but sure yeah but I
in multiple places but sure yeah but I
mean like with the end of this like with
mean like with the end of this like with
a project of this size I wanted to
a project of this size I wanted to
separate things in separate files like
separate things in separate files like
could you imagine you can still you can
could you imagine you can still you can
still separate things into a separate
still separate things into a separate
file as long as they're not being
file as long as they're not being
included multiple like if you just have
included multiple like if you just have
game needs some like there's some stuff
game needs some like there's some stuff
you want to split out of game that is
you want to split out of game that is
only used by game you can still put that
only used by game you can still put that
in a separate file it won't get included
in a separate file it won't get included
multiple times right yeah but there are
multiple times right yeah but there are
multiple files that are included by
multiple files that are included by
multiple other files like yeah it's when
multiple other files like yeah it's when
you start having like library and utils
you start having like library and utils
and stuff like that and if you're trying
and stuff like that and if you're trying
to have shared stuff like that then yes
to have shared stuff like that then yes
right
right
um I tend to just not do
um I tend to just not do
that uh it's
that uh it's
fine it's it's totally fine it's I don't
fine it's it's totally fine it's I don't
know I just
know I just
like yeah doesn't doesn't matter matter
like yeah doesn't doesn't matter matter
it's like a minor point
it's like a minor point
of
preference to be fair this file is
preference to be fair this file is
already about the length of neural
already about the length of neural
MMO well there's a lot going
on okay
on okay
so couple prototypes
is it entity pause to cell
is it entity pause to cell
index so that's basically the main
index so that's basically the main
function discretizes like a continuous
function discretizes like a continuous
um position to like a
cell I could have multiplied by a half
cell I could have multiplied by a half
there I might change that I don't know
there I might change that I don't know
if the compiler would output anything
if the compiler would output anything
different but divides are slow I try to
different but divides are slow I try to
avoid dividing when I can I created that
avoid dividing when I can I created that
like really
like really
early the compiler is probably already
early the compiler is probably already
smart enough to do that though I
smart enough to do that though I
imagine most
likely yeah some sometimes things can
likely yeah some sometimes things can
get out of bounds like out of the map
get out of bounds like out of the map
pretty rar
pretty rar
um because like if something hits a
um because like if something hits a
drone and the Drone is going like
drone and the Drone is going like
incredibly fast it can like phase
incredibly fast it can like phase
through like tunnel through a wall
through like tunnel through a wall
because I don't set well wait this is a
because I don't set well wait this is a
funny way of doing bounce checks though
funny way of doing bounce checks though
well because box box 2D is basically
well because box box 2D is basically
handling the B it should be handling the
handling the B it should be handling the
bounds so if I ever get a cell that's
bounds so if I ever get a cell that's
like less than zero or like above the
like less than zero or like above the
max cell index I know it's out of bounds
this work for everything it does doesn't
this work for everything it does doesn't
it uh that's
cool I can only do this because box is
cool I can only do this because box is
handling everything else though this why
handling everything else though this why
doesn't this work
doesn't this work
otherwise well what do you well I mean
otherwise well what do you well I mean
no this could work I'm just saying you'd
no this could work I'm just saying you'd
have to do additional stuff if I wasn't
have to do additional stuff if I wasn't
using box CD I mean I think it normally
using box CD I mean I think it normally
the balance check is like you know z z
the balance check is like you know z z
and then like width and height
and then like width and height
right oh yeah yeah
right oh yeah yeah
cool way doing the bounce check okay
cool way doing the bounce check okay
yeah thanks yeah I don't mean collisions
yeah thanks yeah I don't mean collisions
I mean the map bounce check yeah yeah
I mean the map bounce check yeah yeah
this is a kind of a cool way of doing
this is a kind of a cool way of doing
the bounce check if you're already going
the bounce check if you're already going
to do
to do
thish I like
thish I like
that yeah this is just a little sanity
that yeah this is just a little sanity
check if like a drone goes out of bounds
check if like a drone goes out of bounds
I just kill it if other stuff goes out
I just kill it if other stuff goes out
of bounds I just despawn
of bounds I just despawn
it but I've never seen it h well I've
it but I've never seen it h well I've
almost never seen it happen in like
almost never seen it happen in like
regular play it only happens like in
regular play it only happens like in
training like
training like
randomly and it's not very
often it is actually a bug in box CD but
often it is actually a bug in box CD but
I haven't really been able to reproduce
I haven't really been able to reproduce
it enough for them to fix
it all right I'm be right back I'm going
it all right I'm be right back I'm going
to grab some more water uh in that case
to grab some more water uh in that case
give let's take a couple minutes I'd
give let's take a couple minutes I'd
like to heat up some oatmeal I haven't
like to heat up some oatmeal I haven't
eaten today just going to bring it back
eaten today just going to bring it back
up
up
here be right
back
e
e
e
e
e e
oops camera
froze
okay there
Captain apparently not
oatmeals not eating yet
today how the folks on YouTube and
today how the folks on YouTube and
twitch
doing we are
doing we are
through this depends how you count we
through this depends how you count we
did preliminary review of stuff and then
did preliminary review of stuff and then
we went through the main end file game
we went through the main end file game
file is larger but I think a lot of the
file is larger but I think a lot of the
parts of it will be quicker
parts of it will be quicker
probably be thorough
still Mike should not pick up me uh
still Mike should not pick up me uh
eating do let me know if it does so I
eating do let me know if it does so I
fix it I don't think it
should going be such a cool
should going be such a cool
environment and I have to do some of my
environment and I have to do some of my
own work on probably just the render
own work on probably just the render
Captain's done a great job with the way
Captain's done a great job with the way
it plays and
stuff now there's data architecture
stuff now there's data architecture
things to make it a lot bigger we'll see
things to make it a lot bigger we'll see
if I can find anything with the speed as
if I can find anything with the speed as
well but
well but
overall pretty darn good
the one thing we haven't seen
the one thing we haven't seen
yet is um the dynamic memory allocations
yet is um the dynamic memory allocations
and whether those are actually
needed my opinion thus far is that
needed my opinion thus far is that
they're probably just a
they're probably just a
crutch captain and
go he's still
go he's still
here just want to do
whatever good to take five anyways oh
whatever good to take five anyways oh
yeah by the way if anybody's looking for
yeah by the way if anybody's looking for
a project um this is Nathan's en it's
a project um this is Nathan's en it's
based on a popular MMO it's a really
based on a popular MMO it's a really
cool EnV it just needs to be cleaned up
cool EnV it just needs to be cleaned up
a little and uh have baselines thrown on
a little and uh have baselines thrown on
it cuz this is the only M that doesn't
it cuz this is the only M that doesn't
have um
have um
training and stuff going on it really
training and stuff going on it really
nice
ad there's also room to do stuff with
ad there's also room to do stuff with
like scripted AI in it as well for
opponents it's based
opponents it's based
on it's based on this
MMO up
well that kind of shows
well that kind of shows
you see it's like a tactical
game man I honestly shouldn't even be on
game man I honestly shouldn't even be on
this site
this site
because they have like full new graphics
because they have like full new graphics
and stuff and I have so many hours in
and stuff and I have so many hours in
that game uh from when I was younger
that game uh from when I was younger
that thing is like straight up heroin
that thing is like straight up heroin
cannot download that
cannot download that
ever but uh we can still do our out
ever but uh we can still do our out
based on
based on
today
e e
if anyone's looking for um ourl post dos
if anyone's looking for um ourl post dos
this
this
is you know probably one of the top
is you know probably one of the top
three places you could possibly
go okay get just grab some food as well
go okay get just grab some food as well
yeah ity get long I haven't I don't know
yeah ity get long I haven't I don't know
about you I haven't had time to eat
about you I haven't had time to eat
anything yet today so yeah I just a
anything yet today so yeah I just a
small
small
breakfast
breakfast
um yeah not too
much man my uh my wife is making a uh
much man my uh my wife is making a uh
something in the crock
something in the crock
poot and it is so completely full I uh
poot and it is so completely full I uh
didn't realize it I could tell the lid
didn't realize it I could tell the lid
was kind of like hovering off the
was kind of like hovering off the
crockpot a tiny bit so I try to push it
crockpot a tiny bit so I try to push it
down to make it just like sit like a
down to make it just like sit like a
couple millimeters and then it like and
couple millimeters and then it like and
then it spilled out a little bit CU it's
then it spilled out a little bit CU it's
so incredibly
so incredibly
full she has like a massive pork Putt in
full she has like a massive pork Putt in
there good food I'm here eating oatmeal
there good food I'm here eating oatmeal
with a dried blueberries thank you very
with a dried blueberries thank you very
much hey not
much hey not
bad it
bad it
works um okay
works um okay
lot of code der rival
lot of code der rival
so I think the two main things I'm going
so I think the two main things I'm going
to be looking for architecturally here
to be looking for architecturally here
is how you're using box 2D for the
is how you're using box 2D for the
physics du and then the smaller thing is
physics du and then the smaller thing is
why on Earth there are Dynamic arrays
why on Earth there are Dynamic arrays
and whether those are actually useful
and whether those are actually useful
um obviously the first one's way
bigger I think you could do without the
bigger I think you could do without the
dynamic arrays but well just about with
dynamic arrays but well just about with
can you do it and have it be just about
can you do it and have it be just about
as easy is my question I don't know I
as easy is my question I don't know I
know they give me a lot of developer
know they give me a lot of developer
economics and I don't really think
economics and I don't really think
there's much cost there's hardly any
there's much cost there's hardly any
cost performance-wise
cost performance-wise
and um as terms of like readability I
and um as terms of like readability I
don't really think It suffers hardly at
don't really think It suffers hardly at
all because everyone knows what vectors
all because everyone knows what vectors
are so personally I don't really see any
are so personally I don't really see any
downsides like I could do it but it
downsides like I could do it but it
would have made my life more difficult
would have made my life more difficult
we couldn't just paste the whole source
we couldn't just paste the whole source
of this onto the GPU anyways oh I asked
of this onto the GPU anyways oh I asked
Brennan about that by the way and he
Brennan about that by the way and he
said uh yes that does actually work and
said uh yes that does actually work and
he tried it for madona and yeah it's a
he tried it for madona and yeah it's a
good
good
Baseline oh like just compiling it into
Baseline oh like just compiling it into
a Kudo kernel or whatever literally just
a Kudo kernel or whatever literally just
past your code new Cuda Colonel it does
past your code new Cuda Colonel it does
work that's so cool yeah so I think we
work that's so cool yeah so I think we
might do that and we'll call it
might do that and we'll call it
Barracuda Baro yeah that's funny yeah
I also like how the um tentative names
I also like how the um tentative names
for puffer stuff there's no Rhyme or
for puffer stuff there's no Rhyme or
Reason like protein P30 like I don't
Reason like protein P30 like I don't
know it's just funny just protein is is
know it's just funny just protein is is
based on
based on
carbs um oh I guess that makes sense
carbs um oh I guess that makes sense
yeah yeah yeah P30 it's puffer proximal
yeah yeah yeah P30 it's puffer proximal
policy optimization we could also do I
mean okay what I'm saying is there's a
mean okay what I'm saying is there's a
reasoning for the name but they don't
reasoning for the name but they don't
fit it theme is what I meant a lot of
fit it theme is what I meant a lot of
stuff trying to theme everything around
stuff trying to theme everything around
like I don't know one thing I don't
like I don't know one thing I don't
think you need to I just think it's
think you need to I just think it's
funny that you're not that was fun uh
funny that you're not that was fun uh
you could also do ggae instead of GAE I
you could also do ggae instead of GAE I
heard that yeah that'd be fun well
heard that yeah that'd be fun well
technically our Contracting uh we
technically our Contracting uh we
puffer's technically two companies and
puffer's technically two companies and
the Contracting one is called puffer
the Contracting one is called puffer
GG yeah why is it called GG because I
GG yeah why is it called GG because I
was originally going to start it in just
was originally going to start it in just
doing games and then I decided to make
doing games and then I decided to make
it broader
it broader
[Music]
[Music]
you mean just do reinforcement for game
you mean just do reinforcement for game
devs or like what oh
devs or like what oh
okay
okay
gotcha yeah that's probably a good
call turns out
call turns out
um games industry is really hard to work
um games industry is really hard to work
with and there really not that many
with and there really not that many
companies that have money that want to
companies that have money that want to
do this stuff so you can do some stuff
do this stuff so you can do some stuff
with game companies but kind of dumb to
with game companies but kind of dumb to
make it the whole thing
make it the whole thing
yeah okay so this is just a back oh no
yeah okay so this is just a back oh no
this is not the call back this is the
this is not the call back this is the
call back here's the
bounds yeah AABB is basically a fancy
bounds yeah AABB is basically a fancy
word for like a box it's like you you
word for like a box it's like you you
pick like you make a box and then like
pick like you make a box and then like
what's in that box
what's in that box
basically there's more to it than that
basically there's more to it than that
if you're physics Savvy I imagine but
if you're physics Savvy I imagine but
that's the lamman terms it's stands for
that's the lamman terms it's stands for
axis aligned bounding
axis aligned bounding
box yeah I don't know
box yeah I don't know
okay yeah so this doesn't need to be a
okay yeah so this doesn't need to be a
struck but that's minor
struck but that's minor
whatever yeah I could I might change
whatever yeah I could I might change
that I know I had multiple I used to
that I know I had multiple I used to
have multiple stuff in this truck
so it's weird that it needs a call back
so it's weird that it needs a call back
just to do a bounce check
just to do a bounce check
well because you're doing a balance
well because you're doing a balance
check but then a lot of times you have
check but then a lot of times you have
custom logic as like okay this overlaps
custom logic as like okay this overlaps
but maybe I only want it to be true if
but maybe I only want it to be true if
like this or that thing is you know what
like this or that thing is you know what
I mean yeah it seems like should just be
I mean yeah it seems like should just be
a default but I guess you don't really
a default but I guess you don't really
have defaults see um well they do have
have defaults see um well they do have
like one or two of those because they
like one or two of those because they
have like you can do a ray cast and you
have like you can do a ray cast and you
they have like a ray cast with a call
they have like a ray cast with a call
back but they also have like just
back but they also have like just
raycast closest which I use which is
raycast closest which I use which is
just no call back so they do have a
just no call back so they do have a
little bit of
little bit of
that make distance proxy from
that make distance proxy from
tight yeah so that's that's a box 3D
tight yeah so that's that's a box 3D
thing when you are um doing like a shape
thing when you are um doing like a shape
distance check so like you can
distance check so like you can
get uh okay one sec my wife is call
me
for
for e
okay I'm gonna go and eat lunch my wife
okay I'm gonna go and eat lunch my wife
in a couple minutes but um we can review
in a couple minutes but um we can review
for a bit
for a bit
umay totally up to you we can yeah you
umay totally up to you we can yeah you
can hit up Spencer if you want I will
can hit up Spencer if you want I will
have some time like after but if you
have some time like after but if you
just want to do take the rest of day for
just want to do take the rest of day for
Spencer whatever right I don't think he
Spencer whatever right I don't think he
has that much to review it's a pretty
has that much to review it's a pretty
small
small
prototype okay so yeah I can do later in
prototype okay so yeah I can do later in
the day as well um I might do his review
the day as well um I might do his review
and then if you're back I'll just
and then if you're back I'll just
continue and if not then I'll probably
continue and if not then I'll probably
go to the gym and then I'll come back
go to the gym and then I'll come back
and
and
reval and I have my own gym so it's
reval and I have my own gym so it's
right here
right here
yeah that's
nice yeah I definitely need to be to
nice yeah I definitely need to be to
spend way more time on that it's tough
spend way more time on that it's tough
to get back um the amount of Fitness
to get back um the amount of Fitness
I've lost it's like it's tough to get it
I've lost it's like it's tough to get it
back but working on it
back but working on it
yeah
okay so yeah um when you do shape checks
okay so yeah um when you do shape checks
and or shape distance checks in box CD
and or shape distance checks in box CD
so normally you can take like so when
so normally you can take like so when
you have positions of entities that's
you have positions of entities that's
the position of their Center of mass but
the position of their Center of mass but
sometimes I want the position of the two
sometimes I want the position of the two
closest points you know like and that
closest points you know like and that
could be I don't know a couple different
could be I don't know a couple different
places so they have a function where it
places so they have a function where it
finds the two closest points but it
finds the two closest points but it
needs like this distance proxy type as
needs like this distance proxy type as
input so I just created this thing I
input so I just created this thing I
pass in like What entity type it is and
pass in like What entity type it is and
then like um you know
yeah it's very weird to me that this is
yeah it's very weird to me that this is
also a
also a
square the pickup
square the pickup
type I would think it would just be you
type I would think it would just be you
pass a radius so it's like you know this
pass a radius so it's like you know this
is a rough
is a rough
bounding no but it could be like a
bounding no but it could be like a
rectangle or
something well so box box CD has circles
something well so box box CD has circles
capsules polygons and other stuff so oh
capsules polygons and other stuff so oh
so this is how far you are to the
so this is how far you are to the
nearest point on this or what uh I don't
nearest point on this or what uh I don't
really know too much I just saw some
really know too much I just saw some
examples set it up correctly you don't
examples set it up correctly you don't
really have to worry about it too much I
really have to worry about it too much I
think it's something like that
think it's something like that
yeah yeah you give it a center then you
yeah yeah you give it a center then you
give it like your vertices basically I
give it like your vertices basically I
think that's what that
is and then that's just another helper
is and then that's just another helper
like you can either pass in the entity
like you can either pass in the entity
type or sometimes I have the entity but
type or sometimes I have the entity but
not the type so it's just actually get
not the type so it's just actually get
this gets used though
this gets used though
yeah they both get
used I don't know in this file but
used I don't know in this file but
somewhere used them both oh okay so this
somewhere used them both oh okay so this
function is not here just to get used by
function is not here just to get used by
this function no okay you don't use I
this function no okay you don't use I
don't see you doing stuff like that
don't see you doing stuff like that
generally either right yeah okay because
generally either right yeah okay because
that would be like over over
that would be like over over
functioning yeah no there's no reason
functioning yeah no there's no reason
yeah I think we're pretty much on the
yeah I think we're pretty much on the
same page with like a lot of the core
same page with like a lot of the core
stuff like the other stuff is like
stuff like the other stuff is like
smaller
smaller
nits
nits
um no I'm I'm generally pretty darn
um no I'm I'm generally pretty darn
happy with the how all this is
happy with the how all this is
um ultimately the differences in how I
um ultimately the differences in how I
would have done this are pretty darn
would have done this are pretty darn
minor other than like the core like RL
minor other than like the core like RL
data structures yeah and like how that's
data structures yeah and like how that's
informed
um I don't know static memory can be
um I don't know static memory can be
nice but whatever I think box 2D is
nice but whatever I think box 2D is
probably doing allocations under the
probably doing allocations under the
hood any anyways so it is but they have
hood any anyways so it is but they have
it pretty well optimized um they like
it pretty well optimized um they like
I'm trying to I bet you I could figure
I'm trying to I bet you I could figure
out how to do it without the static
out how to do it without the static
memory without the M memory allocations
memory without the M memory allocations
which would be cool but yeah like I said
which would be cool but yeah like I said
though profiling like it is like less
though profiling like it is like less
than 1% or maybe 1% so I didn't
than 1% or maybe 1% so I didn't
including their memory
including their memory
allocations uh their memory allocations
allocations uh their memory allocations
are less than mine and it's
are less than mine and it's
like they they pull memory so when you
like they they pull memory so when you
free and like yeah yeah and again like
free and like yeah yeah and again like
um DL Malik also pulls under the hood I
um DL Malik also pulls under the hood I
just don't have to worry about it which
just don't have to worry about it which
is
nice oh it's good that we get we should
nice oh it's good that we get we should
just make sure we finish this this week
just make sure we finish this this week
um I'm probably going to end up having
um I'm probably going to end up having
to take a little bit of time off off
to take a little bit of time off off
next week with the [ __ ] yeah that
next week with the [ __ ] yeah that
makes sense yeah I mean I'll be free
makes sense yeah I mean I'll be free
some of I'll be free some of tomorrow
some of I'll be free some of tomorrow
and probably also Friday so like right
and probably also Friday so like right
we can probably you can probably get
we can probably you can probably get
through it because I mean I'm GNA want
through it because I mean I'm GNA want
to start like I'm at least going to play
to start like I'm at least going to play
with the renderer uh and I'm going to
with the renderer uh and I'm going to
want to start doing some experiments on
want to start doing some experiments on
this thing as well because I mean
this thing as well because I mean
directly after this we're going to
directly after this we're going to
onboard you to science side stuff um I
onboard you to science side stuff um I
don't know if I want to give you like a
don't know if I want to give you like a
simple initial research task
simple initial research task
or I want to like get you doing research
or I want to like get you doing research
around this end first we'll see but
around this end first we'll see but
either way I do want to get you on
either way I do want to get you on
boarded to that yeah I'm excited to
boarded to that yeah I'm excited to
start doing that yeah this is this is a
start doing that yeah this is this is a
big enough contribution um that like I'm
big enough contribution um that like I'm
pretty much comfortable putting you on
pretty much comfortable putting you on
whatever
cool yeah behind the wall is something I
cool yeah behind the wall is something I
did recently that wasn't like too tricky
did recently that wasn't like too tricky
but it used a couple different like box
but it used a couple different like box
2D
things because originally for the
things because originally for the
longest time I had like explosions
longest time I had like explosions
affect you like no matter where you were
affect you like no matter where you were
which didn't make sense if like someone
which didn't make sense if like someone
hit you know one side of like a static
hit you know one side of like a static
wall and then you were exploded behind
wall and then you were exploded behind
it so I have to do like a combination of
it so I have to do like a combination of
like bounding checks and also like Ray
like bounding checks and also like Ray
cast to make sure it's actually in line
cast to make sure it's actually in line
of sight and do you get when you profile
of sight and do you get when you profile
do you get like time spent in this
do you get like time spent in this
function or do you just get time in box
function or do you just get time in box
2D uh I get both but to be honest I
2D uh I get both but to be honest I
haven't profiled in a decent bit I need
haven't profiled in a decent bit I need
to profile again I would like if you
to profile again I would like if you
could because it would really it's
could because it would really it's
really tough for me to make comments on
really tough for me to make comments on
like the efficiency like it's worthless
like the efficiency like it's worthless
for me to say oh this could be slow if
for me to say oh this could be slow if
it's like
it's like
0.1% so I would like to have the table
0.1% so I would like to have the table
that says how much time is spent in each
that says how much time is spent in each
of these functions like in this file
of these functions like in this file
okay um so I can get a sense of like is
okay um so I can get a sense of like is
it the time is spent in box 2D or is it
it the time is spent in box 2D or is it
the way in which you're using box
the way in which you're using box
2D yeah right yeah I can rerun that
2D yeah right yeah I can rerun that
again like today it's not difficult I
again like today it's not difficult I
would like that would be good if so we
would like that would be good if so we
next time we chat so when I finish this
next time we chat so when I finish this
file we can do we can go through that
file we can do we can go through that
that makes sense because like I don't
that makes sense because like I don't
know you know this closest point thing
know you know this closest point thing
like do we need this point or can I just
like do we need this point or can I just
say like I don't know when this gets
say like I don't know when this gets
called if you actually need this this
called if you actually need this this
point or you can just do like L2 of like
point or you can just do like L2 of like
this enters
this enters
right um I'm trying to think I it
right um I'm trying to think I it
depends how you call this right I'm not
depends how you call this right I'm not
asking you like where do you call this
asking you like where do you call this
now I'm just saying in general right
now I'm just saying in general right
yeah like if this were a lot of the comp
yeah like if this were a lot of the comp
then I would look to how you use it yeah
then I would look to how you use it yeah
yeah that makes
yeah that makes
sense yeah I'll get you that to answer
sense yeah I'll get you that to answer
your question about that though I don't
your question about that though I don't
call closest point like a ton pretty
call closest point like a ton pretty
sure
sure
yeah I mean I like I believe that you
yeah I mean I like I believe that you
are that you are good at optimizing
are that you are good at optimizing
stuff right but you've also been working
stuff right but you've also been working
on a 7,000 line code base for a while
on a 7,000 line code base for a while
and fresh eyes are useful no 100% right
and fresh eyes are useful no 100% right
like the neural MMO 3 code is not
like the neural MMO 3 code is not
optimal by any means I guarantee you
optimal by any means I guarantee you
it's still what the difference is it's
it's still what the difference is it's
1.9 million steps per second already
1.9 million steps per second already
right it's not like
borderline it trains at 500k though
borderline it trains at 500k though
right uh yeah it trains around 500k
right uh yeah it trains around 500k
bottleneck by policy it's about a
bottleneck by policy it's about a
million parameter
million parameter
policy I don't know how big yours
policy I don't know how big yours
is uh I think it's almost a million I
is uh I think it's almost a million I
can't remember if it's 700 or 900k but
can't remember if it's 700 or 900k but
it's
close pause behind wall
is this if there's a wall in the
is this if there's a wall in the
way yeah so yeah so basically um this is
way yeah so yeah so basically um this is
like
like
a yeah exactly but I use I use like yeah
a yeah exactly but I use I use like yeah
if you go down you'll see like where if
if you go down you'll see like where if
you go down to the bottom of behind wall
you go down to the bottom of behind wall
yeah you'll see like where I do actually
yeah you'll see like where I do actually
do the ray cast yeah cast
Ray yeah the whole translation thing is
Ray yeah the whole translation thing is
kind of weird there's some math in there
kind of weird there's some math in there
I don't really totally understand but
I don't really totally understand but
there was enough examples that I figured
there was enough examples that I figured
out how to call it I'm not sure why you
out how to call it I'm not sure why you
need like a I mean I guess it makes
need like a I mean I guess it makes
sense it's like you give it the start
sense it's like you give it the start
and then like the vector of where the
and then like the vector of where the
ray being cast or something if I recall
ray being cast or something if I recall
when I was trying to get box and it was
when I was trying to get box and it was
driving me insane it wasn't necessarily
driving me insane it wasn't necessarily
core box 2D as much as it was trying to
core box 2D as much as it was trying to
figure out joints in box 2D that was
figure out joints in box 2D that was
just
just
[ __ ] um The Joint
[ __ ] um The Joint
sucked yeah so I used joints once so you
sucked yeah so I used joints once so you
didn't really see it too much but when I
didn't really see it too much but when I
you have mines and you know you attach
you have mines and you know you attach
them to walls or stuff they like stick
them to walls or stuff they like stick
so yeah I create a joint there to stick
so yeah I create a joint there to stick
them and yeah
them and yeah
that I don't know for whatever reason it
that I don't know for whatever reason it
took me like a really long time to
took me like a really long time to
figure out to need there I would have
figure out to need there I would have
just when it gets when it gets there
just when it gets when it gets there
it's it's locked in place when it
it's it's locked in place when it
hits yeah but I don't know I also want
hits yeah but I don't know I also want
it to attach to moving walls so like the
it to attach to moving walls so like the
floating walls so it just like you know
floating walls so it just like you know
yeah it's like yeah that's
yeah it's like yeah that's
funny um but yeah it ended up being
funny um but yeah it ended up being
weird like I'm pretty sure I found a bug
weird like I'm pretty sure I found a bug
but I kept like asking um Aaron C the
but I kept like asking um Aaron C the
Box 2D guy like I'm like am I insane
Box 2D guy like I'm like am I insane
like because I was setting like one like
like because I was setting like one like
ID to like shape a and then something
ID to like shape a and then something
the position like it's kind of hard to
the position like it's kind of hard to
explain unless I show you basically but
explain unless I show you basically but
I was like mismatching things and that's
I was like mismatching things and that's
how it was working and I'm like this
how it was working and I'm like this
does not make sense to me and he was
does not make sense to me and he was
like kind of not answering my questions
like kind of not answering my questions
I I don't know I kind of just got the
I I don't know I kind of just got the
sense that he was just kind of like done
sense that he was just kind of like done
because I I kept asking him tons of
because I I kept asking him tons of
stuff because I was not understanding
stuff because I was not understanding
why it wasn't working but I don't know
why it wasn't working but I don't know
I'll bring it up again at some point
I'll bring it up again at some point
though because I don't understand these
though because I don't understand these
are valid questions and like this is a
are valid questions and like this is a
big use case for this Pro for this um
big use case for this Pro for this um
yeah this code right I don't know I got
yeah this code right I don't know I got
the feeling he didn't really understand
the feeling he didn't really understand
like what I was saying I don't know if I
like what I was saying I don't know if I
was not understanding explaining myself
was not understanding explaining myself
correct like well enough but yeah
correct like well enough but yeah
something seems weird to me
something seems weird to me
like doing the wrong thing is what's
like doing the wrong thing is what's
working which is like really confusing
working which is like really confusing
so I don't know it works now though but
so I don't know it works now though but
yeah I'm still kind of confused why it
yeah I'm still kind of confused why it
works that's like the one case that I've
works that's like the one case that I've
actually been
actually been
like kind of is box D has actually given
like kind of is box D has actually given
me kind of trouble like yeah it's giving
me kind of trouble like yeah it's giving
trouble here and there joints are
trouble here and there joints are
very but like there's been other times
very but like there's been other times
where giv me trouble but it's like I
where giv me trouble but it's like I
just need to learn boxy learn physics
just need to learn boxy learn physics
learn whatever but this has been like
learn whatever but this has been like
legitimately just confusing but luckily
legitimately just confusing but luckily
it's a small thing I just let it be a
it's a small thing I just let it be a
bug for a long time because it wasn't a
bug for a long time because it wasn't a
big deal but yeah glad I finally fixed
big deal but yeah glad I finally fixed
that
that
thing I mean they don't even necessarily
thing I mean they don't even necessarily
have to Anchor to the floating things so
have to Anchor to the floating things so
it is cool yeah it that's that's the
it is cool yeah it that's that's the
thing like it was fine for a while but
thing like it was fine for a while but
now that I have working it is cool yeah
now that I have working it is cool yeah
cuz you can like you could so easily
cuz you can like you could so easily
just make it something slightly
just make it something slightly
different like for instance you can
different like for instance you can
easily add
easily add
um you could add a pseudo third axis to
um you could add a pseudo third axis to
the environment so easily just by making
the environment so easily just by making
it like expand and then like shrink as
it like expand and then like shrink as
it's flying so it's like it's coming up
it's flying so it's like it's coming up
and then coming down and just anchors in
and then coming down and just anchors in
place well I I get what you mean by the
place well I I get what you mean by the
pseudo third axis but I'm not sure what
pseudo third axis but I'm not sure what
you mean by well if you wanted it to
you mean by well if you wanted it to
make sense of like the thing just
make sense of like the thing just
sticking somewhere instead of sticking
sticking somewhere instead of sticking
to to a shape like having it anchored to
to to a shape like having it anchored to
the ground instead of anchor to a
shape yeah no you could do that yeah
shape yeah no you could do that yeah
yeah no you could do that but then like
yeah no you could do that but then like
would you lose then like I said like
would you lose then like I said like
sticking to floating walls and them
sticking to floating walls and them
spinning around and sticking to
it I it's still it is cool if it it
it I it's still it is cool if it it
works like that yeah it does
works like that yeah it does
now which you can do cool stuff with it
now which you can do cool stuff with it
cuz like you know if a mine hits a
cuz like you know if a mine hits a
player without it being stuck to
player without it being stuck to
something it basically does nothing it's
something it basically does nothing it's
like super weak but if it's stuck to a
like super weak but if it's stuck to a
wall then it goes off it's you know it's
wall then it goes off it's you know it's
it's
it's
explosive so you could like stick it to
explosive so you could like stick it to
a wall shoot the wall someone and then
a wall shoot the wall someone and then
you could I don't know you could do cool
you could I don't know you could do cool
stuff with it I love the
stuff with it I love the
mine there's so many easy weapons you
mine there's so many easy weapons you
could add as well like a pretty power
could add as well like a pretty power
like a pretty powerful weapon would just
like a pretty powerful weapon would just
be a thing that pushes stuff without
be a thing that pushes stuff without
pushing
pushing
you oh like a shock wave thing just push
you oh like a shock wave thing just push
PES stuff but doesn't push
PES stuff but doesn't push
you oh so like a no recoil weapon yeah
you oh so like a no recoil weapon yeah
well like it doesn't even have to shoot
well like it doesn't even have to shoot
anything right can just push whatever's
anything right can just push whatever's
in front of you but not push you
in front of you but not push you
back that sounds kind of op to be honest
back that sounds kind of op to be honest
yeah you get uh telekinesis
yeah you get uh telekinesis
right because the main the main thing
right because the main the main thing
about this game is like the stronger the
about this game is like the stronger the
weapon is usually the higher recoil it
weapon is usually the higher recoil it
has to like bounce it out yeah well this
has to like bounce it out yeah well this
doesn't shoot a projectile so the
doesn't shoot a projectile so the
trade-off is that you have to go find
trade-off is that you have to go find
something else to shoot back
something else to shoot back
right yeah but that's in a way that's
right yeah but that's in a way that's
even more op because normally if say you
even more op because normally if say you
have the sniper and I have a shotgun and
have the sniper and I have a shotgun and
you're far away normally I'd be screwed
you're far away normally I'd be screwed
right but I can if I time my shot very
right but I can if I time my shot very
well I
can yeah but still but I'm just saying
can yeah but still but I'm just saying
like there's no real counterplay there
like there's no real counterplay there
so here's what you do though right this
so here's what you do though right this
is how you do this okay so you run
is how you do this okay so you run
training you log win rates with
training you log win rates with
different weapons and then you see what
different weapons and then you see what
weapons people are winning with yeah
weapons people are winning with yeah
yeah and that's how you
yeah and that's how you
balance yeah that's how you Auto balance
balance yeah that's how you Auto balance
a game with RF I have I thought about
a game with RF I have I thought about
doing that like I said that's why I have
doing that like I said that's why I have
the stats per weapon I just haven't
the stats per weapon I just haven't
actually looked at the stats that
actually looked at the stats that
closely can that stuff I literally did
closely can that stuff I literally did
this while I was depping the Moa the Moa
this while I was depping the Moa the Moa
that's cool I was using that to Auto
that's cool I was using that to Auto
balance the Moa I was looking at you
balance the Moa I was looking at you
know how much damage each different
know how much damage each different
character was inflicting and how often
character was inflicting and how often
they were using different abilities and
they were using different abilities and
if they weren't using an ability it was
if they weren't using an ability it was
really bad and if they were spamming an
really bad and if they were spamming an
ability it was really good yeah no I
ability it was really good yeah no I
definitely do want to get into that
definitely do want to get into that
because that would be fascinating to me
because that would be fascinating to me
it's very cool yeah science side I have
it's very cool yeah science side I have
I have used that to some degree because
I have used that to some degree because
in the be well halfway through the
in the be well halfway through the
project when I added breaking I
project when I added breaking I
initially added like light and hard
initially added like light and hard
breaking and it's you know pretty
breaking and it's you know pretty
self-explanatory like you know Light
self-explanatory like you know Light
breaking didn't break as much used less
breaking didn't break as much used less
energy hard the opposite and then the
energy hard the opposite and then the
agents were always heartbreaking and I I
agents were always heartbreaking and I I
cranked I kept cranking up like the
cranked I kept cranking up like the
energy drain so it you could barely
energy drain so it you could barely
heart break but they kept still doing it
heart break but they kept still doing it
so I'm like okay there's no point to
so I'm like okay there's no point to
doing both if it's always better to just
doing both if it's always better to just
heartbreak so I just removed it yeah
heartbreak so I just removed it yeah
Power yeah so that was kind of
interesting CU like me playing I was
interesting CU like me playing I was
like oh I'm gonna like reserve
like oh I'm gonna like reserve
heartbreaking for when I really need it
heartbreaking for when I really need it
but they would just hard break like tap
but they would just hard break like tap
it but it was still good because it was
it but it was still good because it was
so strong so yeah
so strong so yeah
anyway all
right overlapping
right overlapping
Circle yeah this one's specific it's
Circle yeah this one's specific it's
like is this overlapping in a circle and
like is this overlapping in a circle and
is it in line of
site I use I think I only use this in
site I use I think I only use this in
one place I use this when I place a mine
one place I use this when I place a mine
when it's being placed is a drone
when it's being placed is a drone
already in its like explosion radius and
already in its like explosion radius and
if it is I just set it off because the
if it is I just set it off because the
way like sensors work in boxd because I
way like sensors work in boxd because I
use I use like a sensor to detect
use I use like a sensor to detect
normally if a drone gets into like its
normally if a drone gets into like its
range if 2D yeah they have sensors huh
range if 2D yeah they have sensors huh
doesn't seem like a thing that needs to
doesn't seem like a thing that needs to
be in a physics engine but sure it's
be in a physics engine but sure it's
useful um because anyway the way sensors
useful um because anyway the way sensors
work
work
um if you create a sensor and there's
um if you create a sensor and there's
already stuff that would set it off it
already stuff that would set it off it
doesn't create like an event so I have
doesn't create like an event so I have
to like do a check when I created like
to like do a check when I created like
okay is there already something here um
okay is there already something here um
okay yeah because otherwise I'd have to
okay yeah because otherwise I'd have to
do a world step which then it could go
do a world step which then it could go
out of range and it makes sense anyway
out of range and it makes sense anyway
to it's Avent okay I've never been a fan
to it's Avent okay I've never been a fan
of aventra well H for box 2D I think it
of aventra well H for box 2D I think it
makes sense well it always makes sense
makes sense well it always makes sense
right event Ren always makes sense the
right event Ren always makes sense the
question is is it
question is is it
good I don't know I like the way box to
good I don't know I like the way box to
does it hey how's it going oh hey
does it hey how's it going oh hey
Spencer how's it going um so you're G to
Spencer how's it going um so you're G to
go get lunch um I'm G to chat with
go get lunch um I'm G to chat with
Spencer and then uh depending on if
Spencer and then uh depending on if
you're back and I'm still chatting with
you're back and I'm still chatting with
Spencer or done or whatever or if I go
Spencer or done or whatever or if I go
to the gym we'll finish this or we'll
to the gym we'll finish this or we'll
keep going on this today and then we'll
keep going on this today and then we'll
see how far we get and I'll be around
see how far we get and I'll be around
you know rest of the week as well cool
you know rest of the week as well cool
yeah thanks for the stuff so far man
yeah thanks for the stuff so far man
it's been useful awesome hey no thanks
it's been useful awesome hey no thanks
this is a massive PR this is going to be
this is a massive PR this is going to be
an awesome new end and it's goingon to
an awesome new end and it's goingon to
open up the doors for some low five
open up the doors for some low five
physics stuff as well and I think we're
physics stuff as well and I think we're
g get some good research out of it as
g get some good research out of it as
well so it'll be fun yeah I'm looking
well so it'll be fun yeah I'm looking
forward that we're doing research on it
forward that we're doing research on it
for sure yeah we'll get you on boarded
for sure yeah we'll get you on boarded
as soon as we have that merged all right
as soon as we have that merged all right
thanks Captain cool yep see you bye all
thanks Captain cool yep see you bye all
right Spencer so we are still on stream
right Spencer so we are still on stream
by the way that's um okay yeah that's
by the way that's um okay yeah that's
fine want to look at the GPU Drive code
fine want to look at the GPU Drive code
or I guess it's I don't know buffer
or I guess it's I don't know buffer
Drive G CPU Drive yeah we can take a
Drive G CPU Drive yeah we can take a
look at the GPU puffer Drive puffer
look at the GPU puffer Drive puffer
Tokyo puffer Tokyo
Tokyo puffer Tokyo
puff let me just I'll link it in the in
puff let me just I'll link it in the in
the chat really
the chat really
one thing that I what I was trying to do
one thing that I what I was trying to do
is just kind of get a a training Loop
is just kind of get a a training Loop
going of you know some imaginary OBS of
going of you know some imaginary OBS of
what I think would be like roughly the
what I think would be like roughly the
size so I can get a good performance
size so I can get a good performance
check right mhm and for some reason man
check right mhm and for some reason man
like I
like I
am really having a hard time getting
am really having a hard time getting
this this I can't debug this one thing
this this I can't debug this one thing
it all right it's being very very weird
it all right it's being very very weird
it's like I'm passing all the OBS and I
it's like I'm passing all the OBS and I
see the actions are going
see the actions are going
through the log is coming through like
through the log is coming through like
everything is coming through I and I'm
everything is coming through I and I'm
just at this point I don't really
just at this point I don't really
understand why it's not going ahead and
understand why it's not going ahead and
going through training it like it's
going through training it like it's
stuck at the first one
stuck at the first one
and it seems like it's like taking like
and it seems like it's like taking like
forever either to get through the
forever either to get through the
network
network
or it it just stays stuck at like the
or it it just stays stuck at like the
first EPO it stays stuck at the first
first EPO it stays stuck at the first
Epoch yeah and it takes a while just to
Epoch yeah and it takes a while just to
even get there
too but what's weird is when I go inside
too but what's weird is when I go inside
the EnV and I like print out like things
the EnV and I like print out like things
inside of Step it's blasting through
inside of Step it's blasting through
stuff and like crunching and making test
stuff and like crunching and making test
on the
on the
end I've run test on the actual end and
end I've run test on the actual end and
we're in the million multi-million steps
we're in the million multi-million steps
per
second
second
okay um let's see what you have
okay um let's see what you have
here where's the
here where's the
network uh I just used I actually didn't
network uh I just used I actually didn't
even build a network for this
even build a network for this
one you use default yeah how big is
it it is
it it is
500k it's the input dimm
input dim
input dim
of I guess it' be based on total OBS so
of I guess it' be based on total OBS so
just side what's the OB size 3
3,000 when I made it 10,000 it went up
3,000 when I made it 10,000 it went up
to like 1.4 million so I just lowered it
to like 1.4 million so I just lowered it
I thinking that that was the problem but
I'm going to look at this for you then
um the latest one I have is in the GPU
um the latest one I have is in the GPU
Drive
Drive
Branch just it's gets stuck during the
Branch just it's gets stuck during the
backward path like during
backward path like during
training that's what yeah it's getting
training that's what yeah it's getting
stuck in
stuck in
training so I can if you want I can
training so I can if you want I can
share my screen and show you where it
share my screen and show you where it
stops I want to look at that but I also
stops I want to look at that but I also
want to look
at this is fine
all right let me just get rid of my
all right let me just get rid of my
break
break
point yeah I mean that's why I'm like
point yeah I mean that's why I'm like
tripping out as to like what's
tripping out as to like what's
happening okay let me on this as
well
okay where's the conf oh is this
okay where's the conf oh is this
conflicting with the config that we have
conflicting with the config that we have
no it is you have puffer GPU Drive
good okay I just my well we're gonna see
good okay I just my well we're gonna see
it first but I'm guessing it's going to
it first but I'm guessing it's going to
be lower
be lower
this oh I'm not looking at what's on
this oh I'm not looking at what's on
your screen let me pull up the stream I
your screen let me pull up the stream I
guess it's about to be your screen but
guess it's about to be your screen but
the mini bat size is probably too big
the mini bat size is probably too big
it's my
it's my
guess all right all right I just muted
guess all right all right I just muted
you on yours okay yeah
you on yours okay yeah
[Music]
so it gets here and then it takes like
so it gets here and then it takes like
30 seconds for it to get to the first
30 seconds for it to get to the first
one but if you print out things in Step
one but if you print out things in Step
it's like blasting through and and
it's like blasting through and and
sending
sending
things or you can how long does it take
things or you can how long does it take
to get through
to get through
eal I guess we'll see when we get
eal I guess we'll see when we get
through the first step we'll see when we
through the first step we'll see when we
get through the first one but I so far I
get through the first one but I so far I
have not I have never gotten it to
have not I have never gotten it to
actually show a step per second it just
actually show a step per second it just
shows the agent steps up to the first
shows the agent steps up to the first
batch which is the 130k it prints out
batch which is the 130k it prints out
the log of you know the returns and
the log of you know the returns and
lengths but it doesn't ever get to the
lengths but it doesn't ever get to the
next one I mean I've waited for like 30
minutes I'll us fix your problems
can you just change mini bat SI to
can you just change mini bat SI to
1024 1024 okay
mini batch 1024 or doesn't batch side
mini batch 1024 or doesn't batch side
leave it as
leave it as
is
okay also just check your system Ram
still slow
huh yeah I mean and then just it stays
huh yeah I mean and then just it stays
here for okay
5 oh it's killed it so you're not going
5 oh it's killed it so you're not going
to get
to get
anything oh okay yeah true it's
anything oh okay yeah true it's
fine that
fine that
20 that's fine okay
20 that's fine okay
so um let's go to
so um let's go to
eval just open up well yeah open up the
eval just open up well yeah open up the
file uh that one is in clean RL Yeah
file uh that one is in clean RL Yeah
clean puff
clean puff
RL okay I think that's in puffer and
RL okay I think that's in puffer and
then clean no it isn't clean puffer l
then clean no it isn't clean puffer l
oh just clean puff all
right what's a call
cleancore there we
go where
go where
EV
EV
well
e well here roll out no it's at the top
e well here roll out no it's at the top
at the top all right you can
at the top all right you can
just you can just like if you just slash
just you can just like if you just slash
and start typing it's
fine okay SL dep space eval and you'll
fine okay SL dep space eval and you'll
get to the
get to the
definition
definition
death there you go there we
death there you go there we
go so I just put a break point right
after I would just put like a break
after I would just put like a break
point um let say before the
point um let say before the
policy no no no not that not before the
policy no no no not that not before the
policy's called on the forward
policy's called on the forward
pass go down oh on the
Flor right
Flor right
there H is not
there H is not
none okay you want another break point
none okay you want another break point
somewhere else no it's fine all right I
somewhere else no it's fine all right I
will direct you
will direct you
here part of the goal of this is that
here part of the goal of this is that
you learn how to do this as
well okay so n is new line or next
line okay
line okay
again okay keep
again okay keep
going keep going
okay so so
okay so so
far
far
um that's probably enough okay that's
um that's probably enough okay that's
enough now let's go to the end of V
enough now let's go to the end of V
Val okay so pop out of this so just Q
Val okay so pop out of this so just Q
yeah
yeah
okay so move that break point to the top
okay so move that break point to the top
of EV and put another at the end of EV
of EV and put another at the end of EV
Val top of the function end of the
Val top of the function end of the
function likewise you could have just
function likewise you could have just
put it in the the train
put it in the the train
file you can put this here as
file you can put this here as
well okay go the end of evl you could
well okay go the end of evl you could
have likewise you know done it from
have likewise you know done it from
where it's called but doesn't
where it's called but doesn't
matter y before return
yep okay continue pop C or n this time
yep okay continue pop C or n this time
so c yeah
so c yeah
looks like it's getting stuck
okay now hit
C okay so train is
C okay so train is
instant uh it is bottom neck by the M it
instant uh it is bottom neck by the M it
seems we can just double
seems we can just double
check let's go put the break
check let's go put the break
point um right before step instead of
point um right before step instead of
before the
model all right pop these out
where it's before receive is
where it's before receive is
um is where the data is
um is where the data is
synced in this file yeah right there
synced in this file yeah right there
you're looking at it it's right
you're looking at it it's right
underneath the with profile that end
underneath the with profile that end
while not experienced at full data VM
while not experienced at full data VM
receive up up there right one line up oh
receive up up there right one line up oh
this okay so put a break
this okay so put a break
point one after
point one after
it doesn't need
it let's run
this okay hit
this okay hit
n Okay
n Okay
C oh [ __ ] all fine just press C yep see
C oh [ __ ] all fine just press C yep see
Okay
Okay
C see
keep
keep
going um what's o
shape why do you have five
shape why do you have five
agents because we're doing multiple
agents because we're doing multiple
cars why do you only have five
cars why do you only have five
agents because there's only five cars in
agents because there's only five cars in
the scene can you not make a bunch of
the scene can you not make a bunch of
and right now I only have one
and right now I only have one
end well what's going to happen if you
end well what's going to happen if you
only have one end
only one's going to get past and the
only one's going to get past and the
other four are not going to get do
other four are not going to get do
anything because I thought all five are
anything because I thought all five are
in that's fine it's not one and it's
in that's fine it's not one and it's
five is too small of a number you're
five is too small of a number you're
passing five things through a neural
passing five things through a neural
network okay at a time so in order to
network okay at a time so in order to
collect one batch of data you need to do
collect one batch of data you need to do
20 some odd thousand
20 some odd thousand
eval 20 some thousand
eval 20 some thousand
Loops this is not how gpus
work so you're basically you're spending
work so you're basically you're spending
all the time on Cuda cronel
all the time on Cuda cronel
launch there because it's just what
launch there because it's just what
waiting to collect right now effectively
waiting to collect right now effectively
no it's that you're well I mean unless
no it's that you're well I mean unless
we're wrong and all the time is in Step
we're wrong and all the time is in Step
probably what's happening is all the
probably what's happening is all the
time is in the policy because you're
time is in the policy because you're
running the policy on a tiny little
running the policy on a tiny little
batch of data MH
batch of data MH
so so if I just increase the number of M
so so if I just increase the number of M
can you make 100 m on the same just
can you make 100 m on the same just
process yeah I don't see any reason why
process yeah I don't see any reason why
I couldn't m
I couldn't m
m no that's separate oh that's that's
m no that's separate oh that's that's
going to do that's like the outside of
going to do that's like the outside of
all right this one yeah you can do it
all right this one yeah you can do it
there right you have it coded so that
there right you have it coded so that
you can do
you can do
that hopefully uh I believe so yeah I
that hopefully uh I believe so yeah I
can double check
can double check
but let's run this
but let's run this
yeah I have it in there okay so let's
yeah I have it in there okay so let's
run
this okay
this okay
continue
continue
continue okay it's fast cool so remove
continue okay it's fast cool so remove
that break point and let's run
training I don't know why it would be
training I don't know why it would be
slower by the way it would take half an
slower by the way it would take half an
hour that's
hour that's
weird well that was me just saying a
weird well that was me just saying a
number I've never actually seen it print
number I've never actually seen it print
out a steps per second like it never got
out a steps per second like it never got
there
there
mhm that was just me like that was the
mhm that was just me like that was the
max period I was willing to
wait okay was that the only break I
wait okay was that the only break I
don't think I had any other break points
all
oh well it got there quicker this time
oh well it got there quicker this time
yeah so now there's a separate bug it's
yeah so now there's a separate bug it's
hanging on receive would be my
guess would there be something that it
guess would there be something that it
could get stuck on in the
end
end
um I mean right now it's just all it's
um I mean right now it's just all it's
doing is just replaying trajectories and
doing is just replaying trajectories and
resetting every 91
steps so I mean does the very quickly I
steps so I mean does the very quickly I
mean we can quickly find out if it's
mean we can quickly find out if it's
going through everything by just
going through everything by just
printing the time stab
mhm well that's not going to tell you if
mhm well that's not going to tell you if
it's hanging on the policy or hanging on
it's hanging on the policy or hanging on
the
the
end well it'll tell us that if it if the
end well it'll tell us that if it if the
end is getting through all the way now
end is getting through all the way now
okay go for
it stuck in the e talk
too on what on wait do you have an M
too on what on wait do you have an M
where you're stuck as
where you're stuck as
well I just saw that
message go ahead and run it no okay
message go ahead and run it no okay
you're just making a joke
you're just making a joke
cool I mean it's it's blasting through
cool I mean it's it's blasting through
and getting to 90 let's see well I don't
and getting to 90 let's see well I don't
think you're getting the actual print
out is it stuck there or is that no I
out is it stuck there or is that no I
mean it just goes It goes back to one as
mean it just goes It goes back to one as
it's supposed
it's supposed
to because it just it resets the
to because it just it resets the
trajectory spawn point back to the
trajectory spawn point back to the
beginning is it still
beginning is it still
running no I I turned it off I mean this
running no I I turned it off I mean this
thing did like a
thing did like a
ton you printed too much to see where
ton you printed too much to see where
it's getting stuck
though well that's because it's doing it
though well that's because it's doing it
100 100
100 100
copies okay
copies okay
well print in the python or something
well print in the python or something
like you need to figure out if it's
like you need to figure out if it's
getting stuck in the end if it's getting
getting stuck in the end if it's getting
stuck in the
stuck in the
policy you just need to figure out where
policy you just need to figure out where
it's
hanging I mean take your choice right
hanging I mean take your choice right
this could be Pi piy this could be you
this could be Pi piy this could be you
know a couple print
know a couple print
statements take your
statements take your
choice oh it's python
now I mean at least now it won't be
now I mean at least now it won't be
blasting a trillion times we'll only see
blasting a trillion times we'll only see
it
it
y oh hold on I have to recompile
that's not useful information yeah it
is why is that not useful
is why is that not useful
information well to me it just shows
information well to me it just shows
that it's just like the en is it's
that it's just like the en is it's
continuously ticking it's not getting
continuously ticking it's not getting
hung anywhere on
hung anywhere on
stepping so it's continuously ticking
stepping so it's continuously ticking
but um we're not getting any
but um we're not getting any
data do you set
data do you set
mask well I only I only printed I didn't
mask well I only I only printed I didn't
like print anything else do you set mask
like print anything else do you set mask
do I set mask
do I set mask
M I don't believe I set mask
M I don't believe I set mask
anywhere you don't use mask at all in
here okay well something is weird
here okay well something is weird
because it's not getting any
because it's not getting any
data because if one thing I'd noticed
data because if one thing I'd noticed
whenever I put the break point in here
whenever I put the break point in here
it is getting to the
log so like this populates
it gets like it does the 91 steps where
it gets like it does the 91 steps where
it's supposed to and then adds its log
it's supposed to and then adds its log
at the end of
at the end of
it my suspicion is that for some
it my suspicion is that for some
reason I think you're looping this
reason I think you're looping this
you're continuing to Loop the step
you're continuing to Loop the step
function but you're not adding any data
function but you're not adding any data
to the
buffer let me go check but wouldn't it
buffer let me go check but wouldn't it
get added every time that this runs
get added every time that this runs
through
through
CU like this you're not because I mean
CU like this you're not because I mean
it's continuously increasing and
it's continuously increasing and
then you can print out um self agent
then you can print out um self agent
step or whatever you can print out like
step or whatever you can print out like
data. agent steps or whatever that the
data. agent steps or whatever that the
pram is called do that do that real
pram is called do that do that real
quick to see if that gets
quick to see if that gets
stuck all right what is it under CMS
stuck all right what is it under CMS
right no it's in uh it's include
right no it's in uh it's include
buffel data. experience do I think step
buffel data. experience do I think step
or agent steps
something
okay what branch is this off
okay what branch is this off
of
that oh I might have messed something up
that oh I might have messed something up
for you then hang on but is this this is
for you then hang on but is this this is
on One Core
on One Core
right this is on One Core I shouldn't be
right this is on One Core I shouldn't be
messed up
then defense date is set for May 29th
then defense date is set for May 29th
good luck
good luck
man that's
awesome yeah put in the time to prepare
awesome yeah put in the time to prepare
talk maybe the dev the time that I
talk maybe the dev the time that I
pulled this Dev is behind it was that a
pulled this Dev is behind it was that a
weird at Dev it could
weird at Dev it could
be because but I know it doesn't break
be because but I know it doesn't break
on the other multi um agent
MS so I think it has to be
MS so I think it has to be
mine so the indices
here does our rware runs fine
me just see what I what I do
here config m b do we have M batch
size what is this
size what is this
ocean we have n batch size of one
good let's go to the puffer uh clean
good let's go to the puffer uh clean
puffer L
code do you have agent steps or oh you
code do you have agent steps or oh you
have data Global step
have data Global step
right so let's just print data Global
right so let's just print data Global
step somewhere in the
step somewhere in the
eval okay let me go to the eval I just
eval okay let me go to the eval I just
want you to print Global step I want to
want you to print Global step I want to
see if that could stu oh hold up I just
see if that could stu oh hold up I just
deleted like a bunch of
[ __ ] all
[ __ ] all
[Music]
[Music]
right you say the what is the data
right you say the what is the data
Global step
okay moove my other break
what happened gum Ms
what happened gum Ms
gum I must have made a typo
gum I must have made a typo
somewhere up here
keep
keep
going keep going wait let me see global
going keep going wait let me see global
St is 600 what does that say it said
St is 600 what does that say it said
like 600,000 now
like 600,000 now
seven what's the Delta of
this it's what 131,000 each right
M trying to see where that one printed
M trying to see where that one printed
but I think I pressed C too many times
but I think I pressed C too many times
too quickly all see
too quickly all see
657 500
okay is it not printing out training
data what is that under data experience
data what is that under data experience
data Epoch I
think okay well that's
think okay well that's
weird uh hang on
can you print
experience. it's the same thing I
experience. it's the same thing I
guess
false and where did you put this you put
false and where did you put this you put
this on line
86 I put this
86 I put this
I think I put this at literally the very
I think I put this at literally the very
top of eval so
top of eval so
line I think I did line
line I think I did line
84 okay my lines are different let meble
84 okay my lines are different let meble
check but did you put this outside the
check but did you put this outside the
loop or inside the while loop
loop or inside the while loop
where I have to find
it I put this just at the very top of
it I put this just at the very top of
evaluate so evaluate is getting called
evaluate so evaluate is getting called
multiple
times right can you get rid of the other
times right can you get rid of the other
print statement that's like spamming us
print statement that's like spamming us
and just put that print right
and just put that print right
there
yeah actually if this is on a box I
yeah actually if this is on a box I
could even help just fiddle with it from
could even help just fiddle with it from
there this I'm I'm I'm in the Box okay
there this I'm I'm I'm in the Box okay
I'm I'm in box one okay well I'll let
I'm I'm in box one okay well I'll let
you okay what did you want to here a
you okay what did you want to here a
little bit more but then I maybe I'll
little bit more but then I maybe I'll
fiddle with it with you um so okay that
fiddle with it with you um so okay that
break point get rid of that and just
break point get rid of that and just
right there put print data
right there put print data
dot
dot
um what is it data. Global step comma
um what is it data. Global step comma
data.
Epoch okay and you got rid of the other
Epoch okay and you got rid of the other
spamy print yeah I got rid of the other
spamy print yeah I got rid of the other
one okay so run that
that okay kill
that okay kill
that so it's running
that so it's running
eval
repeatedly it's not oh wait you do have
repeatedly it's not oh wait you do have
oh you don't have stats there what the
oh you don't have stats there what the
hell
hell
I not have
I not have
stats there's I don't know that's why
stats there's I don't know that's why
I'm confused
by I'm gonna let me let me get to this
by I'm gonna let me let me get to this
box and try to help
box and try to help
you otherwi we going be here all
day I mean I can try and pull in Dev
day I mean I can try and pull in Dev
again to find out if I was on an older
again to find out if I was on an older
Dev
see okay I see your print
what's the train
what's the train
command puffer GPU Drive yeah that's
command puffer GPU Drive yeah that's
puffer GP yeah puffer GPU Drive
why do I get
stats and then it never goes back so I
stats and then it never goes back so I
do get
do get
stats but you get it for like one second
stats but you get it for like one second
and then the stat doesn't exist anymore
and then the stat doesn't exist anymore
I
know I understand
what in the
what in the
hell broke my freaking terminal
oh I are you talking about it when your
oh I are you talking about it when your
your text isn't
your text isn't
appearing it literally I have that
appearing it literally I have that
happen if you don't press Q out it when
happen if you don't press Q out it when
you're inside of that and you just
you're inside of that and you just
command C you shouldn't break your
command C you shouldn't break your
terminal stupid
you
she
there you
there you
go oh
what that looks like that runs now
what that looks like that runs now
doesn't it
mhm don't set 50,000 uh steps you set it
mhm don't set 50,000 uh steps you set it
for total time steps to 50,000
for total time steps to 50,000
so it was running the post training
so it was running the post training
evaluation for a very long
time so basically it it jumped beyond
time so basically it it jumped beyond
the length of the total time steps
the length of the total time steps
needed yeah it like it finished like it
needed yeah it like it finished like it
finished instantly after the first step
finished instantly after the first step
it finished instantly and then it got
it finished instantly and then it got
stuck running an eval Loop that's
stuck running an eval Loop that's
looking for a score metric forever which
looking for a score metric forever which
you don't have
let's fix some stuff for
you okay well let's I guess now let's
you okay well let's I guess now let's
see how how good it can get so it it it
see how how good it can get so it it it
has five right now agents so if you want
has five right now agents so if you want
I guess Max it out it be like at
I guess Max it out it be like at
800 yeah something like
800 yeah something like
this and then what num workers to and
this and then what num workers to and
then no we're not doing that yet there's
then no we're not doing that yet there's
I don't think you want to play with num
I don't think you want to play with num
workers 2 in the current Branch until I
workers 2 in the current Branch until I
fix some stuff um
fix some stuff um
um
um
okay well there you go that's
okay well there you go that's
300K okay 34%
miscellaneous oh but you don't have the
miscellaneous oh but you don't have the
latest version of Dev that has um the
latest version of Dev that has um the
better breakdown and the other and the
better breakdown and the other and the
new performance enhancements for that so
new performance enhancements for that so
I'm not worried
I'm not worried
there cuz I I fixed I made that
there cuz I I fixed I made that
substantially better that Miss
so yeah there's 300K just right out the
so yeah there's 300K just right out the
gate for
gate for
you and really it may even go to like
you and really it may even go to like
5600 MH if we just add more
5600 MH if we just add more
Ms well
Ms well
okay well I don't know maybe we'll find
okay well I don't know maybe we'll find
out I I think the max if you were to do
out I I think the max if you were to do
it is be 800 because that would be close
it is be 800 because that would be close
to
4096 it's about the same say oh all
4096 it's about the same say oh all
right never mind yeah so 40 it's that's
right never mind yeah so 40 it's that's
not a hard cap it's like if you have a
not a hard cap it's like if you have a
really small
really small
policy then um you maybe need that many
policy then um you maybe need that many
but this is probably
but this is probably
good so 300K on
this um oh there's 400 well yeah it's
this um oh there's 400 well yeah it's
more okay
more okay
385 um and there's 18% M time that we
385 um and there's 18% M time that we
can get rid of and then there's a bunch
can get rid of and then there's a bunch
of myth overhead we can get rid of you
of myth overhead we can get rid of you
don't even have the latest version
don't even have the latest version
that's way FAS
that's way FAS
faster okay so let me pull in the latest
version there's still a bunch of testing
version there's still a bunch of testing
[ __ ] on actually you might you might
[ __ ] on actually you might you might
have to like remake a container if you
have to like remake a container if you
don't want to comment no you can comment
don't want to comment no you can comment
my Cuda kernel stuff out I
guess where even is your Cuda kernel
guess where even is your Cuda kernel
stuff in the latest de oh maybe it's not
stuff in the latest de oh maybe it's not
in the latest of I don't know if I've
in the latest of I don't know if I've
merged it
merged it
yet you just pull that
yet you just pull that
all right let's see what
happens oh you made some changes to demo
happens oh you made some changes to demo
up high but that's irrelevant right
up high but that's irrelevant right
because all we ever actually changed was
because all we ever actually changed was
config file pretty much all right I'm
config file pretty much all right I'm
just going to stash that
then all right let's see how old of a
then all right let's see how old of a
Dev I
Dev I
had I mean I kind of want h on
optimizing well looks like pulling quite
optimizing well looks like pulling quite
a bunch of stuff
a bunch of stuff
yep all right and I guess you were
yep all right and I guess you were
working on the same container as me
working on the same container as me
right so I can just go ahead straight to
right so I can just go ahead straight to
train yep all right let's see what
train yep all right let's see what
happens C
happens C
Advantage uh where's
that you do have C Advantage don't
you you just have to rerun
you you just have to rerun
setup Ah that's probably what it is
juston well now I feel silly that my
juston well now I feel silly that my
entire thing was really just because I
entire thing was really just because I
put the stupid
config yeah about the
same hang
same hang
on why do you not have all of my new
metrics what
thought you should have my new metrics
thought you should have my new metrics
by
by
now do is your thing not synced with the
now do is your thing not synced with the
Upstream is your fork not synced oh that
Upstream is your fork not synced oh that
might be the
might be the
case let me look let me do that let me
case let me look let me do that let me
do that right
do that right
now that's 99% chance probably would
now that's 99% chance probably would
happen yeah and you're going to have to
happen yeah and you're going to have to
comment the Cuda [ __ ] I'm sure so there
comment the Cuda [ __ ] I'm sure so there
is Cuda stuff in there
is Cuda stuff in there
now okay let me sync the fork yeah it
now okay let me sync the fork yeah it
says I'm 12 commits
says I'm 12 commits
behind it's not going to let you use the
behind it's not going to let you use the
Cuda stuff until you redo your
Cuda stuff until you redo your
container I have okay where is you don't
container I have okay where is you don't
you don't want we don't want to redo
you don't want we don't want to redo
your container now no but I'm saying
your container now no but I'm saying
where's the Cuda stuff that you uh I
where's the Cuda stuff that you uh I
need to comment out
need to comment out
C okay Cuda load the
top there's a load function at the top
top there's a load function at the top
yep right at the top of your screen oh
yep right at the top of your screen oh
at the very beginning okay yeah yeah
at the very beginning okay yeah yeah
yeah
you can just do that comment that
you can just do that comment that
function wrong
language is it what's what's the big one
language is it what's what's the big one
is it the triple yeah uh single quote
is it the triple yeah uh single quote
triple single quote triple all
triple single quote triple all
right I haven't done that in a little I
right I haven't done that in a little I
feel like I've been writing in straight
feel like I've been writing in straight
C for so long C is good hey be glad
C for so long C is good hey be glad
you're not writing for
you're not writing for
Cuda fair enough all right so that's off
Cuda fair enough all right so that's off
let's reset
let's reset
up just paste your entire end indic Cuda
up just paste your entire end indic Cuda
and see if it
runs
okay by the way are we ever are we going
okay by the way are we ever are we going
to put a tower climb up on the web at
to put a tower climb up on the web at
some point or is that going to be with
some point or is that going to be with
all the other changes oh of course um we
all the other changes oh of course um we
can do it early if you want I was just
can do it early if you want I was just
gonna I was like I've been busy doing
gonna I was like I've been busy doing
the algorithm stuff I was just thinking
the algorithm stuff I was just thinking
like puffer 2.5 will include Tower climb
like puffer 2.5 will include Tower climb
impulse Wars sure that was what I was
impulse Wars sure that was what I was
thinking you were doing it didn't make a
thinking you were doing it didn't make a
big difference to me on timing I was
big difference to me on timing I was
just that was
just that was
confirming all right looks like it got
confirming all right looks like it got
another
60k 39%
copy is that how many M copies I'm doing
copy is that how many M copies I'm doing
did you kill it or something why is it
stuck did I kill it I don't think I
stuck did I kill it I don't think I
killed
it oh now it's at
500 does it get
stuck did you set the cap to just 5
stuck did you set the cap to just 5
million maybe I did just set it to 5
million maybe I did just set it to 5
million
maybe it gets stuck let's see it's at
maybe it gets stuck let's see it's at
five million okay so yeah just make that
five million okay so yeah just make that
larger you need to define a score or
larger you need to define a score or
something or you need to set the target
something or you need to set the target
metric to episode
metric to episode
return so
return so
500k and uh you can see right there
500k and uh you can see right there
you're missing most of your Computing
you're missing most of your Computing
copy what does that mean like that just
copy what does that mean like that just
means it's doing M copies or what so
means it's doing M copies or what so
you're okay so you can kill this okay
you're okay so you can kill this okay
all right now go to
all right now go to
uh open up Clint
puffero
puffero
and do not you also have VI on this box
and do not you also have VI on this box
I'm pretty sure by way but uh let's see
I'm pretty sure by way but uh let's see
then there's eval copy yeah right
then there's eval copy yeah right
there so there are a couple places where
there so there are a couple places where
that's
used there
where's evil cop
where's evil cop
called that's one right
there it's probably the main one right
there it's probably just copying the
there it's probably just copying the
OBS is but I don't know if we have
OBS is but I don't know if we have
really much control to speed that up no
really much control to speed that up no
I mean I mean Beyond if we just reduce
I mean I mean Beyond if we just reduce
the total size of them
I mean 3K is pretty damn
I mean 3K is pretty damn
big I think if we were to do purely off
big I think if we were to do purely off
of the total
of the total
entities I'm curious what it'll be
entities I'm curious what it'll be
because what I did is I just I just
because what I did is I just I just
populated fake data one time yeah so
populated fake data one time yeah so
play with that let's see let's see what
play with that let's see let's see what
happens if you just reduce
happens if you just reduce
that all right I have to make a change I
that all right I have to make a change I
think four times somewhere in here XS 3K
think four times somewhere in here XS 3K
all right so that's let's find out where
all right so that's let's find out where
the other 3K is populate fake data
the other 3K is populate fake data
where's the other
where's the other
3K yeah cuz that's how
3K yeah cuz that's how
many total entities are in the thing so
many total entities are in the thing so
you're making it larger yeah just to see
you're making it larger yeah just to see
okay yeah it'll be
okay yeah it'll be
slower and we can we can reduce it for
slower and we can we can reduce it for
the next experiment but I'm just curious
the next experiment but I'm just curious
because this would be like if we
because this would be like if we
literally looked at every single Road
literally looked at every single Road
segment yeah it's going to be way too
segment yeah it's going to be way too
much
all right then the other place I got to
all right then the other place I got to
do it
here and we can try and lower it to like
here and we can try and lower it to like
300 and see how that goes I will point
300 and see how that goes I will point
out though that it did get faster just
out though that it did get faster just
by bringing the the new branch in didn't
by bringing the the new branch in didn't
it yes it
it yes it
did by like 1.5 arguably not bad
it's nice to see immediate speed UPS
it's nice to see immediate speed UPS
from the puffer all right if we do
from the puffer all right if we do
10,000 entities in a 1.4 million model
10,000 entities in a 1.4 million model
it becomes
it becomes
140 yep and 45% copy 31% the end no time
140 yep and 45% copy 31% the end no time
spent actually learning
spent actually learning
anything and I guarantee you that end is
anything and I guarantee you that end is
really just m copying
really just m copying
10,000 times five times 50,000 times so
10,000 times five times 50,000 times so
make it 1,000 see what
make it 1,000 see what
happens any particular reason why you
happens any particular reason why you
didn't choose
didn't choose
Triton for what the why
Triton for what the why
didn't are you talking to okay yeah uh
didn't are you talking to okay yeah uh
for what this like one tiny little
for what this like one tiny little
kernel that I have what's the
kernel that I have what's the
point it's
point it's
like 50 lines of C
did I already do it does Tron take care
did I already do it does Tron take care
of giving you a CPU kernel as well that
of giving you a CPU kernel as well that
doesn't need
doesn't need
Cuda that's the one thing I'd have to
Cuda that's the one thing I'd have to
check though actually it's kind of
check though actually it's kind of
trivial to do CPU and Cuda versions
trivial to do CPU and Cuda versions
because uh you just share the core logic
because uh you just share the core logic
as a c function so you just make a c
as a c function so you just make a c
wrapper and a CA wrapper probably what
wrapper and a CA wrapper probably what
we'll do 650 now at a th000 you're still
we'll do 650 now at a th000 you're still
in 34%
in 34%
copy so the copy is still really high
copy so the copy is still really high
regardless of the size well no take it
regardless of the size well no take it
down to 100 and see what
down to 100 and see what
happens and if it's still slow then
happens and if it's still slow then
we'll ask
questions oh [ __ ] all
right yes I know this probably should be
right yes I know this probably should be
a constant but I just wasn't [ __ ]
a constant but I just wasn't [ __ ]
with it fine you missed one in
allocate all right did I get all of
them
yeah so do you really hate my uh my Vim
yeah so do you really hate my uh my Vim
color scheme or do you just really like
color scheme or do you just really like
your lead junglers
are you talking to me
are you talking to me
yeah I just haven't changed it man I
yeah I just haven't changed it man I
just haven't even used why so much it's
just haven't even used why so much it's
like you really like your league
like you really like your league
junglers or you just hate the color I
junglers or you just hate the color I
just like playing on hard
man
15% up to 900
15% up to 900
yeah so at least at the moment data size
yeah so at least at the moment data size
really does matter a
really does matter a
lot
lot
yeah
yeah
okay I didn't test to see
okay I didn't test to see
um you know what
um you know what
precisely that looks like
precisely that looks like
um I'm trying to think how we do
that you know techn Tech I think that
um well if it becomes a bottleneck right
um well if it becomes a bottleneck right
I think technically what I could do and
I think technically what I could do and
I think I would need to make a different
I think I would need to make a different
back end for this
back end for this
actually um but I think what I could do
actually um but I think what I could do
is I could have let's say you have this
is I could have let's say you have this
thing multiprocess right so have two
thing multiprocess right so have two
different M copies what I can do is
different M copies what I can do is
instead of having it uh put the tensor
instead of having it uh put the tensor
into the shared memory and numpy
into the shared memory and numpy
right and then just wait until you need
right and then just wait until you need
it it can put it asynchronously into GPU
it it can put it asynchronously into GPU
memory so it's already there when you
memory so it's already there when you
need
need
it I think I could do
that just like one time as just like as
that just like one time as just like as
it's happening or yeah so like if you
it's happening or yeah so like if you
have two different blocks of M's right
have two different blocks of M's right
two cors so basically in you wouldn't
two cors so basically in you wouldn't
need to do torch T like you wouldn't
need to do torch T like you wouldn't
need to call torch tensor on it at all
need to call torch tensor on it at all
because it would already be a tensor and
because it would already be a tensor and
the it would be asynchronously putting
the it would be asynchronously putting
it into GPU memory instead of
it into GPU memory instead of
asynchronously putting it into the main
asynchronously putting it into the main
thread CPU
thread CPU
memory so I think technically we do have
memory so I think technically we do have
Avenues of reducing this further so I'm
Avenues of reducing this further so I'm
not too too worried that said 3 to 10K
not too too worried that said 3 to 10K
is still I mean that's freaking large
is still I mean that's freaking large
regardless like your model is also going
regardless like your model is also going
to take a hit because you just have too
to take a hit because you just have too
many too much stuff in
it yeah I mean that's just what they had
it yeah I mean that's just what they had
right I mean they when they said they
right I mean they when they said they
were doing it they had 3,000 pretty much
were doing it they had 3,000 pretty much
is the average of their OB size and when
is the average of their OB size and when
they were doing their
they were doing their
runs I'd be surprised if they need that
runs I'd be surprised if they need that
much
much
data so I mean I mean regardless we
data so I mean I mean regardless we
already have it it was at 500k anyways
already have it it was at 500k anyways
yeah I mean it was at 500k what a
yeah I mean it was at 500k what a
thousand or what was it uh wasn't it
thousand or what was it uh wasn't it
3,000 it was a
3,000 it was a
500K I think it was 3,000 so I think
500K I think it was 3,000 so I think
regardless I think we still just crush
regardless I think we still just crush
it and this is the stupidest possible
it and this is the stupidest possible
implementation right
yeah I mean I mean I just have a pure
yeah I mean I mean I just have a pure
entity I mean I wouldn't say it's
entity I mean I wouldn't say it's
like put it this way it is right now
like put it this way it is right now
just basically populating entities in
just basically populating entities in
there and
there and
then it is assuming right now let's see
then it is assuming right now let's see
in compute OBS that it's mem
in compute OBS that it's mem
copying the entirety of the fake data
copying the entirety of the fake data
into for each agent in it in itself
into for each agent in it in itself
so it's running this n agent
so it's running this n agent
times well the only thing that's missing
times well the only thing that's missing
is it actually has to fill that data
is it actually has to fill that data
with something real
with something real
right yeah I only initialized it one
right yeah I only initialized it one
time in the beginning so arguably it
time in the beginning so arguably it
would need to change yeah so I mean
would need to change yeah so I mean
you'll need to get data to actually
you'll need to get data to actually
train it with
right yeah I mean I so that's that was
right yeah I mean I so that's that was
one thing that I was curious is like
one thing that I was curious is like
does do all the coordinates have to be
does do all the coordinates have to be
relative uh yes
relative uh yes
okay so that's something that would
okay so that's something that would
always have to be changed then so I mean
always have to be changed then so I mean
that
that
is no you cannot cash
is no you cannot cash
it okay so I mean if all the coordinates
it okay so I mean if all the coordinates
always have to be relative every step
always have to be relative every step
then I mean that that's going to add one
then I mean that that's going to add one
more call for however many times we need
more call for however many times we need
to do that oh yeah of
to do that oh yeah of
course the one weird memory trick I was
course the one weird memory trick I was
going to do was I was going
going to do was I was going
to well I guess does that work
it it's so that you can mem copy the
it it's so that you can mem copy the
most
possible I because once you change
possible I because once you change
the relative coordinates for the map I
the relative coordinates for the map I
was thinking you could have that
was thinking you could have that
actually be like a separate struct where
actually be like a separate struct where
they're all contiguous in
memory like something along
memory like something along
this separate from the entities array
this separate from the entities array
because entities array you run into an
because entities array you run into an
issue where
issue where
you'll um right now the values you're
you'll um right now the values you're
getting are these individuals the X
getting are these individuals the X
through
through
valid but you have all of these other
valid but you have all of these other
items in the struct that are breaking up
items in the struct that are breaking up
the contiguous
memory where if you put them
memory where if you put them
memory I mean it's it's slightly more
memory I mean it's it's slightly more
it's slightly more spread out like the
it's slightly more spread out like the
block is
block is
larger yeah the you you can get one full
larger yeah the you you can get one full
block if you if you split it out into
block if you if you split it out into
just like a map I don't know how data
just like a map I don't know how data
array I don't know how much that would
array I don't know how much that would
change it to be
change it to be
honest observation wait observation data
honest observation wait observation data
I'm confused because so this is not like
I'm confused because so this is not like
used at all this is not used this is a
used at all this is not used this is a
concept okay so let me look at this
concept okay so let me look at this
because the thing
because the thing
is you only have to compute the
is you only have to compute the
relativization when you're making the
relativization when you're making the
Ops
Ops
right you would only have to do it when
right you would only have to do it when
you're making the Ops correct so if you
you're making the Ops correct so if you
have this observation data struck then
have this observation data struck then
you have to compute it there and then
you have to compute it there and then
copy it from there to the OBS don't
you because this isn't the
OBS what I was well here's the thing
OBS what I was well here's the thing
with that right because then you have to
with that right because then you have to
assign it every single time individually
assign it every single time individually
and that's a slower operation wait wait
and that's a slower operation wait wait
I'm confused
I'm confused
so you
okay well we need to diagram some stuff
okay well we need to diagram some stuff
I guess let me think um wait how do I
I guess let me think um wait how do I
want to go through this so you
want to go through this so you
have right okay let's explain what we
have right okay let's explain what we
have right now right now it's just
have right now right now it's just
dumping fake data right like no nothing
dumping fake data right like no nothing
is actually in there let me let me get
is actually in there let me let me get
this thing open it's I've been reviewing
this thing open it's I've been reviewing
code for many hours and I need to
code for many hours and I need to
diagram this to even have any idea
diagram this to even have any idea
what's going on um so right now you have
what's going on um so right now you have
like entities right mhm
okay and they have parameters like X Y
okay and they have parameters like X Y
speed speed okay and blah blah blah you
speed speed okay and blah blah blah you
need to get OBS which is going to be a
need to get OBS which is going to be a
different size which
different size which
is like this is
is like this is
Agents
Agents
correct okay and then this is however
correct okay and then this is however
many OBS and you don't need all these
many OBS and you don't need all these
variables but you need like Delta X I
variables but you need like Delta X I
only need a perent of those variables
only need a perent of those variables
yeah Del
yeah Del
y okay but then you're proposing that
y okay but then you're proposing that
right here we put this intermediate
right here we put this intermediate
struct yeah an intermediate struct that
struct yeah an intermediate struct that
you can just mem copy directly into
OBS but you still have to compute this
OBS but you still have to compute this
every step
every step
right you have to compute it but it it
right you have to compute it but it it
will be quicker than assigning it I
will be quicker than assigning it I
think why would it how would it Poss be
think why would it how would it Poss be
quicker because you have to compute each
quicker because you have to compute each
element of this struct
separately
separately
right I don't so you're like you
right I don't so you're like you
basically doing Delta X Delta
basically doing Delta X Delta
y here and then you're copying this is
y here and then you're copying this is
just one extra copy versus doing it
just one extra copy versus doing it
directly here isn't
it I think mine only applies if you're
it I think mine only applies if you're
allowed to keep absolute coordinates yes
allowed to keep absolute coordinates yes
you definitely cannot absolute
coordinates okay then I think that idea
coordinates okay then I think that idea
falls apart because I think I was
falls apart because I think I was
assuming that the map could still be
assuming that the map could still be
absolute and then there could be some
absolute and then there could be some
small amount of relative items but I
small amount of relative items but I
didn't think everything has to be
didn't think everything has to be
relative and also the way that you have
relative and also the way that you have
it
it
here uh even if you wanted to do this
here uh even if you wanted to do this
this would not be float star this would
this would not be float star this would
have to be static
have to be static
array because then if you copied this
array because then if you copied this
you'd be copying pointers
no because you can point you can you can
no because you can point you can you can
you can mem copy to the start of that
you can mem copy to the start of that
pointer and separate M Copy right you'd
pointer and separate M Copy right you'd
have to M Copy Rel go like the size of
have to M Copy Rel go like the size of
this and then REM copy the size actually
this and then REM copy the size actually
you don't so so if you if you if you
you don't so so if you if you if you
were to mem copy observation data and
were to mem copy observation data and
you gave it the first memory Point based
you gave it the first memory Point based
on how C aligns the floats in the struct
on how C aligns the floats in the struct
it is contiguous and that as long as you
it is contiguous and that as long as you
know the size of what you're copying you
know the size of what you're copying you
could do two times the float size of how
could do two times the float size of how
many units are in there and it will get
many units are in there and it will get
you to the next one because you know all
you to the next one because you know all
of those are fixed
sizes so for example if R goal is size
sizes so for example if R goal is size
90 and R goal y was size 90 you can just
90 and R goal y was size 90 you can just
mem copy 180 and it'll get it'll get
mem copy 180 and it'll get it'll get
both I don't think that works because
both I don't think that works because
the float star that is just an 8 byte
the float star that is just an 8 byte
that's eight bytes there that's just the
that's eight bytes there that's just the
address and then real goal Y is another
address and then real goal Y is another
8 byte
address so you're copying addresses
address so you're copying addresses
you're not actually copying what's at
you're not actually copying what's at
the address
right here so in this I think you can
right here so in this I think you can
make it
make it
work what you've done here right so if
work what you've done here right so if
you do
like this is 16
like this is 16
bytes MH right you can't copy this thing
bytes MH right you can't copy this thing
this is not even and like these aren't X
this is not even and like these aren't X
and Y aren't even necessarily next to
and Y aren't even necessarily next to
each other in memory no but I think the
each other in memory no but I think the
point is in C struct land they are next
point is in C struct land they are next
to each other in memory no they aren't
to each other in memory no they aren't
this this struct is 16
bytes so if you copy this
bytes so if you copy this
struct you're just copying these
addresses what you would have to do is
addresses what you would have to do is
if you wanted it to work like this right
if you wanted it to work like this right
and there is a way that you can make
and there is a way that you can make
this work
this work
but what you'd have to do is you'd have
but what you'd have to do is you'd have
to
like you Malik these bites right and
like you Malik these bites right and
then you put this this address to here
then you put this this address to here
and this address to
and this address to
here correct correct and then then then
here correct correct and then then then
it would do it that way you still
it would do it that way you still
wouldn't be able to quite do it yet
wouldn't be able to quite do it yet
you'd also have to send this address I
believe you still couldn't copy the
believe you still couldn't copy the
struct because the struct still has
struct because the struct still has
these two 8 by addresses you have to
these two 8 by addresses you have to
copy this thing not the struct so in
copy this thing not the struct so in
that case you may as well not have a
that case you may as well not have a
struct you just have a flat
struct you just have a flat
array because the address there the well
array because the address there the well
the this this struct has its own address
the this this struct has its own address
right yeah which is not the same as so
right yeah which is not the same as so
if you copy the struct even if you do
if you copy the struct even if you do
this you're copying the addresses of
this you're copying the addresses of
this data you're not copying the
this data you're not copying the
data it doesn't like Cascade down and no
data it doesn't like Cascade down and no
to pull the data out of these pointers
to pull the data out of these pointers
M it's going to do a shallow copy
M it's going to do a shallow copy
essentially okay so the there are things
essentially okay so the there are things
that you can technically do there like
that you can technically do there like
um what I would do for instance is if
um what I would do for instance is if
you make this if you made this a static
you make this if you made this a static
let me think if you made
this I'm trying to think how I've done
this I'm trying to think how I've done
this
before I mean either way this concept
before I mean either way this concept
was only to be used if if we had
was only to be used if if we had
absolute coordinates anyways which we
absolute coordinates anyways which we
don't and it has to be relative and if
don't and it has to be relative and if
it has to be relative then we have to
it has to be relative then we have to
calculate every single time yeah we do
calculate every single time yeah we do
but I'm hoping we're not going to need
but I'm hoping we're not going to need
so many points as they
so many points as they
need yeah I mean that that the biggest
need yeah I mean that that the biggest
point right is like how many points is
point right is like how many points is
the minimum amount of observations do we
the minimum amount of observations do we
need to accomplish a reasonable
need to accomplish a reasonable
performance even with 3K it's still
performance even with 3K it's still
500 yeah I mean even with 3K we're at 00
500 yeah I mean even with 3K we're at 00
yeah and uh I mean that's obviously you
yeah and uh I mean that's obviously you
haven't added the logic to the end right
haven't added the logic to the end right
to compute that but there's also been no
to compute that but there's also been no
attempt whatsoever to optimize the end
attempt whatsoever to optimize the end
and like this um I mean I can I can do
and like this um I mean I can I can do
that a little bit like this relativized
that a little bit like this relativized
stuff like if we had to we should be
stuff like if we had to we should be
able to get this to simd as well because
able to get this to simd as well because
it's the same the relativization
it's the same the relativization
operation it's the same instruction
operation it's the same instruction
applied repeatedly to stuff in
applied repeatedly to stuff in
contiguous
contiguous
memory this may break cuz I haven't
memory this may break cuz I haven't
tested it fully but I did create I did
tested it fully but I did create I did
add the Dynamics movement for the
add the Dynamics movement for the
physics on one part is this a simulated
physics on one part is this a simulated
MMO RPG now this is GPU Drive which is a
MMO RPG now this is GPU Drive which is a
GPU accelerated driving Sim but if you
GPU accelerated driving Sim but if you
want a simulated MMO
want a simulated MMO
RPG on puffer AI there is neur mo3 which
RPG on puffer AI there is neur mo3 which
is this like big open world with economy
is this like big open world with economy
and trade and enemies and all sorts of
and trade and enemies and all sorts of
stuff um so we do have that too all
stuff um so we do have that too all
right when I add the phys one in at when
right when I add the phys one in at when
you have just 100 OBS it's still
you have just 100 OBS it's still
880 when you have 100 OBS it's
880 when you have 100 OBS it's
880 okay awesome and we still haven't
880 okay awesome and we still haven't
tried to optimize there's still like
tried to optimize there's still like
copy overhead and
copy overhead and
stuff yeah it still has the cop oh wait
stuff yeah it still has the cop oh wait
it just jumped to 1.6 million for some
it just jumped to 1.6 million for some
reason what what your di I
reason what what your di I
wonder I don't know what the front front
wonder I don't know what the front front
load dip is is it
load dip is is it
Frozen No it's it's pumping it's at 1.6
Frozen No it's it's pumping it's at 1.6
that's so weird um with uh yeah I mean
that's so weird um with uh yeah I mean
it should be you should be able to train
it should be you should be able to train
that fast well
then all right let's put it back at
then all right let's put it back at
3,000 because that number seems more
3,000 because that number seems more
possible Howes co-pilot send you to a
possible Howes co-pilot send you to a
stream it's funny somebody said that
stream it's funny somebody said that
they found me with co-pilot
I think I have it one more place oh up
I think I have it one more place oh up
here welcome YouTube folks I really need
here welcome YouTube folks I really need
to make this like an actual constant
variable I mean but like regardless this
variable I mean but like regardless this
thing you you can see like the potential
thing you you can see like the potential
here that this thing can just be made to
here that this thing can just be made to
be fast end of story right yeah I mean
be fast end of story right yeah I mean
regardless it's it's already with what
regardless it's it's already with what
I've set up so far they're currently I
I've set up so far they're currently I
think it's already a 10x Improvement yes
think it's already a 10x Improvement yes
they're currently training at like 50k
they're currently training at like 50k
tops so yeah so men we already have 10x
tops so yeah so men we already have 10x
right so I mean they're more scenes to
right so I mean they're more scenes to
load in and stuff but yeah all right so
load in and stuff but yeah all right so
I just I just put it at uh 3,000
I just I just put it at uh 3,000
again still let's see if
again still let's see if
itum
optimed I me I think that if we really
optimed I me I think that if we really
had to I could come up with some
had to I could come up with some
fancy fancy copy
stuff yeah for reason I don't know why
stuff yeah for reason I don't know why
it lowers but who
it lowers but who
knows anyways 400 to 500 with the
knows anyways 400 to 500 with the
Dynamics calculation in there I think is
Dynamics calculation in there I think is
pretty good Benchmark to
start yeah that's I jumped
start yeah that's I jumped
again I don't know why it would do that
again I don't know why it would do that
it shouldn't really be that variable but
yeah so how much work do you think there
yeah so how much work do you think there
is to get like something that kind of
is to get like something that kind of
looks like an agent that drives not like
looks like an agent that drives not like
know hacking whatever you need to do
know hacking whatever you need to do
like how much do you how much work do
like how much do you how much work do
you think it takes to like put some
you think it takes to like put some
observations in that makes it even if
observations in that makes it even if
it's there's no Collision checks and it
it's there's no Collision checks and it
just like go okay so like what if it
just like go okay so like what if it
what if I just do like the simplest
what if I just do like the simplest
observation on Earth where I'm like I
observation on Earth where I'm like I
only give it its relative coordinate to
only give it its relative coordinate to
the goal
the goal
yeah that's what I mean that and then we
yeah that's what I mean that and then we
have OBS five yeah do that well I can do
have OBS five yeah do that well I can do
that I mean and I can see if it learns
that I mean and I can see if it learns
something and then yeah that's super
something and then yeah that's super
easy I can do that probably this evening
easy I can do that probably this evening
yeah so do that see if it learns and
yeah so do that see if it learns and
then if that learns right then the next
then if that learns right then the next
thing will be to like get Collision
thing will be to like get Collision
checks and actually get some Road points
checks and actually get some Road points
in and like again do it in the stupidest
in and like again do it in the stupidest
way possible and then that should be
way possible and then that should be
enough to get you cars that stay in Lane
enough to get you cars that stay in Lane
and go to Target and then that's already
and go to Target and then that's already
like something that looks kind of like
like something that looks kind of like
GPU drive and it's like wow okay we can
GPU drive and it's like wow okay we can
improve on this right
improve on this right
yeah and I mean at that point we'd be in
yeah and I mean at that point we'd be in
multi-million steps per we probably at
multi-million steps per we probably at
like at least one million steps per
like at least one million steps per
second easy if I'm doing it that small
second easy if I'm doing it that small
scale
scale
yeah I mean I think we can even optimize
yeah I mean I think we can even optimize
this stuff more like it goes up to 2.5
this stuff more like it goes up to 2.5
mil a lot of our train runs I will say
mil a lot of our train runs I will say
that uh you need really big like back
that uh you need really big like back
sizes and stuff to get that and async
sizes and stuff to get that and async
and whatever but I think that it is
and whatever but I think that it is
realistic to get a million or so for
realistic to get a million or so for
like good training parameters
okay well this sounds good then I'll let
okay well this sounds good then I'll let
you know if I get something visually
you know if I get something visually
decent um later tonight have multi GPU
decent um later tonight have multi GPU
now so um you know when they run this on
now so um you know when they run this on
their boxes with
their boxes with
multi-gpu uh they could be training this
multi-gpu uh they could be training this
at five million steps per second easily
at five million steps per second easily
yeah and then then at that point we just
yeah and then then at that point we just
like 100x their yeah their lab yes and
like 100x their yeah their lab yes and
at that point they 100ex the lab and we
at that point they 100ex the lab and we
loaded all of Tokyo or whatever and
loaded all of Tokyo or whatever and
Tokyo puff yeah Tokyo Puff incoming soon
Tokyo puff yeah Tokyo Puff incoming soon
to incoming soon uh yeah the renderer
to incoming soon uh yeah the renderer
still looks like it used to look right
still looks like it used to look right
yeah the render render is sick dude let
yeah the render render is sick dude let
meet you show the render the Rend was
meet you show the render the Rend was
like one of the easiest
like one of the easiest
Parts yeah I'll pull up I'll pull up the
Parts yeah I'll pull up I'll pull up the
render if somebody wants to see on
render if somebody wants to see on
stream well it's just it's cool I don't
stream well it's just it's cool I don't
know today's been a stream a good stream
know today's been a stream a good stream
day we've had nine or 10 people most of
day we've had nine or 10 people most of
the day oh kind of fun I didn't put the
the day oh kind of fun I didn't put the
actual thing for the massive code review
actual thing for the massive code review
day
day
oh let me um let me swap out my screen I
oh let me um let me swap out my screen I
think it's only going to show
uh anger why is it Angry what happened
uh anger why is it Angry what happened
address
address
sanitizer address sanitizer is mad did I
sanitizer address sanitizer is mad did I
forget to add memory to
forget to add memory to
somewhere 439 I can pull up the video if
somewhere 439 I can pull up the video if
it doesn't work right
now let's find out and see if it was
now let's find out and see if it was
something simple or something I have to
something simple or something I have to
investigate
investigate
439 what's
439 what's
happening
happening
439 is a it's because I'm using the
439 is a it's because I'm using the
physics model let me just change it from
physics model let me just change it from
trajectories to the
trajectories to the
expert okay and then we'll see
expert okay and then we'll see
that be
sweet this is good progress lately a lot
sweet this is good progress lately a lot
of good
of good
progress all right now it's still pissed
progress all right now it's still pissed
off for some reason all right you can
off for some reason all right you can
pull the
video
video
okay you go find it
okay you go find it
without I think I put it in the dev chat
without I think I put it in the dev chat
somewhere oh okay let me just get that
somewhere oh okay let me just get that
then Dev
then Dev
chat so this is impulse Wars that we
chat so this is impulse Wars that we
were reviewing earlier
were reviewing earlier
today and
today and
then
then
set where's the GPU Drive
set where's the GPU Drive
GI let me uh I I can link again as well
GI let me uh I I can link again as well
if I can
if I can
find I don't see
find I don't see
it where did I put this thing that I put
it where did I put this thing that I put
in general let's find
it now the one thing that's a little
it now the one thing that's a little
tricky I think with
tricky I think with
um we're going to have to think when we
um we're going to have to think when we
if we load in a whole city if we're like
if we load in a whole city if we're like
if we have to rethink the way that we do
if we have to rethink the way that we do
observations at all or if that still
observations at all or if that still
just works but but um I don't know CPUs
just works but but um I don't know CPUs
are kind of
fast I was chatting with Brandon
fast I was chatting with Brandon
yesterday and um the one I put it back
yesterday and um the one I put it back
in the one thing I think that we would
in the one thing I think that we would
legitimately have a hard time for is
legitimately have a hard time for is
they're doing like they have like an FPS
they're doing like they have like an FPS
where they're doing raycast versus the
where they're doing raycast versus the
actual geometry of like a Call of Duty
actual geometry of like a Call of Duty
map that's hard okay yeah here's the
map that's hard okay yeah here's the
renderer this thing's sweet
yeah rendering is super easy when you
yeah rendering is super easy when you
have all the trajectories already given
have all the trajectories already given
to you you just load in data
to you you just load in data
yeah they did with that I mean there's
yeah they did with that I mean there's
some funky stuff in there but and then I
some funky stuff in there but and then I
don't know what how you did all the
don't know what how you did all the
curves as well I haven't seen the r for
curves as well I haven't seen the r for
that um these are all just line segments
that um these are all just line segments
man okay so you just manually draw all
man okay so you just manually draw all
the yeah I I just manually Drew every
the yeah I I just manually Drew every
line segment from A to B 10,000 times
line segment from A to B 10,000 times
yeah all really shorts the line segments
yeah all really shorts the line segments
okay so probably there's like a draw
okay so probably there's like a draw
curve or something function that would
curve or something function that would
take all the points and be faster but
take all the points and be faster but
for now this is good I mean that's for
for now this is good I mean that's for
render I mean the thing still runs
render I mean the thing still runs
pretty clearly and smoothly well when we
pretty clearly and smoothly well when we
load a whole city in oh okay fair
load a whole city in oh okay fair
enough yeah
enough yeah
um but okay I gotta go and thanks for
um but okay I gotta go and thanks for
the help on this good luck with that let
the help on this good luck with that let
me know if you get a basic model running
me know if you get a basic model running
and then I'll go through and we can
and then I'll go through and we can
actually start to keep going on this
actually start to keep going on this
all right sounds good y see you Spencer
later that's good progress isn't
later that's good progress isn't
it um I think Captain will probably be
it um I think Captain will probably be
back in a little bit here um and we will
back in a little bit here um and we will
continue looking at the impulse Wars
continue looking at the impulse Wars
code lots and lots of code review
code lots and lots of code review
today but in the
today but in the
meantime I think we might go back to uh
meantime I think we might go back to uh
algorithm Dev for a little bit see if I
algorithm Dev for a little bit see if I
can figure out anything on the algorithm
can figure out anything on the algorithm
I've been working
on I'll talk about that in just a second
on I'll talk about that in just a second
um I'm going to take just a couple
um I'm going to take just a couple
minutes to go get myself a new drink and
minutes to go get myself a new drink and
uh and stuff but um for the folks
uh and stuff but um for the folks
watching this is all available puffer AI
watching this is all available puffer AI
it's all open source you want to help us
it's all open source you want to help us
out for free just start the repo really
out for free just start the repo really
helps oh look at that no time for
helps oh look at that no time for
algorithm death perfect yeah Captain all
algorithm death perfect yeah Captain all
I'm going to go get a drink and stuff
I'm going to go get a drink and stuff
and then we'll continue on impulse Wars
and then we'll continue on impulse Wars
but yeah for folks watching in the
but yeah for folks watching in the
meantime um yeah we'll continue with
meantime um yeah we'll continue with
impulse Wars and uh if you want to help
impulse Wars and uh if you want to help
us out for free start the repository
us out for free start the repository
join the Discord if you want to get
join the Discord if you want to get
involved in developing all this type of
involved in developing all this type of
crazy stuff you do not need an AI or RL
crazy stuff you do not need an AI or RL
background you just need to know how to
background you just need to know how to
program um a lot of our best
program um a lot of our best
contributors here have come in with no
contributors here have come in with no
background in Ai and like really the
background in Ai and like really the
most important thing is that you just
most important thing is that you just
have a programming background and the
have a programming background and the
rest can be learned quite
rest can be learned quite
quickly uh and yeah other than that
quickly uh and yeah other than that
follow on X for more RL content a Blog
follow on X for more RL content a Blog
we have articles and stuff like that uh
we have articles and stuff like that uh
I'll be back in a couple
I'll be back in a couple
minutes
minutes
and yeah see you see you in a second and
and yeah see you see you in a second and
we'll continue code reviewing impulse
Wars
e
e
e
e e
okay man I need a
okay man I need a
haircut like three times too much hair
here hey
here hey
Captain hey I'm the same but I also need
Captain hey I'm the same but I also need
a
a
haircut yeah this is ridiculous this is
haircut yeah this is ridiculous this is
literally like three times too much
hair you don't want to see my hair
then I just caught the uh well actually
then I just caught the uh well actually
I I just caught the end which was good
I I just caught the end which was good
timing but man that rendering looks good
timing but man that rendering looks good
is cool isn't it yeah that's
is cool isn't it yeah that's
sick
yeah we we will puffer theme some colors
yeah we we will puffer theme some colors
but other than that
but other than that
I reserve the right to puerum
Colors going to be tough to puffer theme
Colors going to be tough to puffer theme
impulse words though because the colors
impulse words though because the colors
of semantic
of semantic
meaning uh let me
see no yeah you would just change the
see no yeah you would just change the
shade of a couple things a little
shade of a couple things a little
bit
okay yeah weekend even get to
rendering I like the UI oh I didn't
rendering I like the UI oh I didn't
realize stop I
realize stop I
see I had what that you have like lives
see I had what that you have like lives
like stock oh yeah stocks I wasn't sure
like stock oh yeah stocks I wasn't sure
if you meant that because you know
if you meant that because you know
that's a smash term no one says that but
that's a smash term no one says that but
yeah I I like I said I just added that
yeah I I like I said I just added that
recently because I felt the well there
recently because I felt the well there
are a couple modes in the original
are a couple modes in the original
[Music]
[Music]
um they kind of have live so like the
um they kind of have live so like the
way it normally works it's normally just
way it normally works it's normally just
elimination and it's basically just like
elimination and it's basically just like
best of five but when some like when one
best of five but when some like when one
person wins like everyone else dies it
person wins like everyone else dies it
just resets so it's kind of like lives I
just resets so it's kind of like lives I
just thought it'd be more interesting if
just thought it'd be more interesting if
it was like actual lives they also have
it was like actual lives they also have
another mode like death mats where it's
another mode like death mats where it's
basically just who can get the most
basically just who can get the most
kills in a set amount of time yeah like
kills in a set amount of time yeah like
Limitless is if you can just do stuff
Limitless is if you can just do stuff
Limitless and
Limitless and
um it'll be easier you won't ever have
um it'll be easier you won't ever have
to destroy worlds and
to destroy worlds and
stuff oh like the episodes Never End
stuff oh like the episodes Never End
like the rounds Never End basically just
like the rounds Never End basically just
respawn weapons once in a while no
respawn weapons once in a while no
there's well yeah the way it works for
there's well yeah the way it works for
weapons now I just have a set timer
weapons now I just have a set timer
there's a set amount of them so I
there's a set amount of them so I
already account for that yeah I could
already account for that yeah I could
just respawn like unlimited it's like
just respawn like unlimited it's like
that's a tiny little change and that
that's a tiny little change and that
probably makes it
probably makes it
easier you think it makes it
easier you think it makes it
easier well to it's like yeah cuz you
easier well to it's like yeah cuz you
just Contin get data and you don't have
just Contin get data and you don't have
to worry about episodes and stuff
you just pass a done signal for an agent
you just pass a done signal for an agent
whenever it dies
whenever it dies
yeah yeah I might try that the thing now
yeah yeah I might try that the thing now
though is I don't know if this matters
though is I don't know if this matters
or not but I wonder if it if it's useful
or not but I wonder if it if it's useful
to think in terms of like uh lives like
to think in terms of like uh lives like
oh like planning like oh I have one life
oh like planning like oh I have one life
left and they have two like maybe I
left and they have two like maybe I
should do this or you know thinking like
should do this or you know thinking like
I don't know if you play any differently
I don't know if you play any differently
when you have one life maybe you play a
when you have one life maybe you play a
little more conservatively but not
little more conservatively but not
really yeah because I you still have to
really yeah because I you still have to
win yeah yeah I the one thing I'm
win yeah yeah I the one thing I'm
looking at here visually is I think you
looking at here visually is I think you
might want to play with a few different
might want to play with a few different
graphics for the Bots
graphics for the Bots
themselves like the triangles look
themselves like the triangles look
really freaking good that use for that
really freaking good that use for that
animation oh yeah the geometric stuff I
animation oh yeah the geometric stuff I
don't know if there's like something you
don't know if there's like something you
can do geometric for the ships even like
can do geometric for the ships even like
maybe their triangles or something I
maybe their triangles or something I
don't
don't
know yeah yeah uh I don't know if
know yeah yeah uh I don't know if
triangles would work just because like I
triangles would work just because like I
don't know they can go not but um I
don't know they can go not but um I
think circles was just because the
think circles was just because the
original circles and I think it makes
original circles and I think it makes
sense because you know you can a move
sense because you know you can a move
yeah just pull up a screen charge be
yeah just pull up a screen charge be
easier or there's not we can actually
easier or there's not we can actually
make it look like almost as good if we
make it look like almost as good if we
wanted to with
wanted to with
shaders yeah this it's a Shader game
shaders yeah this it's a Shader game
like they don't have any graphics this
like they don't have any graphics this
is just shaders yeah what's funny though
is just shaders yeah what's funny though
is so if you download on Steam it's free
is so if you download on Steam it's free
and like crank up the settings it
and like crank up the settings it
actually is like very visually busy get
actually is like very visually busy get
this and play it shouldn't I I kind of
this and play it shouldn't I I kind of
oh I need to get I need to order myself
oh I need to get I need to order myself
a
controller um service I will say though
controller um service I will say though
once you're used to m a little bit used
once you're used to m a little bit used
to mine the original will feel a little
to mine the original will feel a little
bit slow because the projectiles move
bit slow because the projectiles move
faster and you move faster yeah they
faster and you move faster yeah they
move to this company which mostly looks
move to this company which mostly looks
like they do like Wu
like they do like Wu
trapped mobile a lot of game places get
trapped mobile a lot of game places get
stuck in like random ass
stuck in like random ass
Contracting yeah are they
Contracting yeah are they
circles yeah well you can customize them
circles yeah well you can customize them
but they're essentially
but they're essentially
circles they don't look like circles
circles they don't look like circles
they look like they have like some
they look like they have like some
texture to them they're not just circles
texture to them they're not just circles
are they no well yeah I mean they're
are they no well yeah I mean they're
spheres I guess but
spheres I guess but
yeah I mean their game it's like it's a
yeah I mean their game it's like it's a
2d game but with like 3D graphics
2d game but with like 3D graphics
well yeah a lot of things are yeah they
well yeah a lot of things are yeah they
have this they have a we could that I be
have this they have a we could that I be
hard yeah maybe we do that um there's
hard yeah maybe we do that um there's
some stuff that's kind of hard like
some stuff that's kind of hard like
these lines here this is like they've
these lines here this is like they've
got well maybe they if it's static you
got well maybe they if it's static you
can fake it maybe we can do a lot of
can fake it maybe we can do a lot of
this without even
this without even
shaders you'd have to play it though
shaders you'd have to play it though
because there some of the stuff they do
because there some of the stuff they do
is cool some of the stuff they do is
is cool some of the stuff they do is
honestly like very busy so I mostly
honestly like very busy so I mostly
played on switch where they have to tone
played on switch where they have to tone
it down and honestly I think that's like
it down and honestly I think that's like
what they did on switch is a good
what they did on switch is a good
balance but if you max out the settings
balance but if you max out the settings
on PC you can't really tell what's going
on PC you can't really tell what's going
on like they just went oh this looks
on like they just went oh this looks
cool and just threw every effect into
cool and just threw every effect into
the I got a pretty fun pretty fun setup
the I got a pretty fun pretty fun setup
for uh
for uh
youc this is like this type of thing is
youc this is like this type of thing is
super easy to do I don't really like the
super easy to do I don't really like the
CRT monitor effect ever in games like
CRT monitor effect ever in games like
this yeah I'm not a fan of I think
this yeah I'm not a fan of I think
that's a little silly but this type of
that's a little silly but this type of
thing where they've got like the outline
thing where they've got like the outline
on the edges
on the edges
is really cool and we could do that yeah
is really cool and we could do that yeah
yeah I like that too yeah I don't know I
yeah I like that too yeah I don't know I
think we should I think we should
think we should I think we should
actually make it look good because it's
actually make it look good because it's
it is actually a pretty complex M it
it is actually a pretty complex M it
should look the
should look the
part it should look the
part it should look the
part yeah I'm down for help and ideas
part yeah I'm down for help and ideas
and stuff because like imagine like look
and stuff because like imagine like look
imagine what neuro would be
imagine what neuro would be
right okay so this thing crafter n RL oh
right okay so this thing crafter n RL oh
yeah like
yeah like
this thing looks stupid because it's
this thing looks stupid because it's
like shitty 2D Minecraft
like shitty 2D Minecraft
right but like this would have like this
right but like this would have like this
people use this just because it's like
people use this just because it's like
minecrafty because it's kind of like
minecrafty because it's kind of like
borrowing from the like the Minecraft
borrowing from the like the Minecraft
look but imagine if it weren't like
look but imagine if it weren't like
nobody would use this
nobody would use this
thing and it's already not that big of
thing and it's already not that big of
an F so I think like you do want stuff
an F so I think like you do want stuff
to look the part and I don't think it's
to look the part and I don't think it's
disingenuous to like if you make a
disingenuous to like if you make a
really project to make it look the part
really project to make it look the part
like people sometimes get pissy about
like people sometimes get pissy about
that research but I think that's only if
that research but I think that's only if
you like really Jazz up a really simple
you like really Jazz up a really simple
and if you just like treat it as the
and if you just like treat it as the
game and make it look like the game I
game and make it look like the game I
think it's good
think it's good
yeah I mean yeah if anything else we get
yeah I mean yeah if anything else we get
more people interested in it and then I
more people interested in it and then I
it's important you
it's important you
know it's not that hard I was surprised
know it's not that hard I was surprised
there are a couple things like yeah I
there are a couple things like yeah I
was really surprised at um the effect
was really surprised at um the effect
effess uh of the little yeah like
effess uh of the little yeah like
triangles that explode when you
triangles that explode when you
die it it's so much more satisfying now
die it it's so much more satisfying now
to kill enemies
to kill enemies
out kind of amazing you want to know
out kind of amazing you want to know
something crazy one of the main reasons
something crazy one of the main reasons
I'm pretty sure I always hated CS never
I'm pretty sure I always hated CS never
wanted to play that game is there's no
wanted to play that game is there's no
hit
hit
sound uh Counter Strike oh yeah there's
sound uh Counter Strike oh yeah there's
no hit sound really yeah every other
no hit sound really yeah every other
game has a hit sound yeah yeah yeah huh
game has a hit sound yeah yeah yeah huh
yeah it it does lose a little bit with
yeah it it does lose a little bit with
no audio but like I don't know if I'm
no audio but like I don't know if I'm
gonna go that
gonna go that
far it doesn't necessarily need to have
far it doesn't necessarily need to have
audio I just mean just having feedback
audio I just mean just having feedback
of some sort on stuff right no there's
of some sort on stuff right no there's
no I know you're saying yeah yeah audio
no I know you're saying yeah yeah audio
and visual feedback is really important
and visual feedback is really important
it's like huge it's why like I Lov
it's like huge it's why like I Lov
valerant I never liked CS at all even
valerant I never liked CS at all even
though like a lot of people like CS a
though like a lot of people like CS a
lot more mechanically it's like yeah
lot more mechanically it's like yeah
nope anyway yeah I understand that we
nope anyway yeah I understand that we
should review your code and we'll get to
should review your code and we'll get to
the renderer that's going to be the goal
the renderer that's going to be the goal
let's see if I can go through this at a
let's see if I can go through this at a
good enough clip to get to the
good enough clip to get to the
renderer game is going to take a bit
renderer game is going to take a bit
like all the heavy lifting is in game I
like all the heavy lifting is in game I
know uh obviously you haven't had time
know uh obviously you haven't had time
to go run a profile um in the lunching
to go run a profile um in the lunching
hour that you've been gone yeah um well
hour that you've been gone yeah um well
if I you can keep looking I can just hop
if I you can keep looking I can just hop
off the call cuz I just like to have
off the call cuz I just like to have
everything else quit and I can do it in
everything else quit and I can do it in
probably like five or so minutes quick
probably like five or so minutes quick
okay go do that real quick and I'll just
okay go do that real quick and I'll just
start looking on this in the meantime on
start looking on this in the meantime on
stream I'll be right
back
back
okay folks here x chat heavily filters
okay folks here x chat heavily filters
URLs damn yes it does uh if you have a
URLs damn yes it does uh if you have a
paper or something to link me just type
paper or something to link me just type
the name of the paper and I will Google
the name of the paper and I will Google
it I do not have any settings to filter
it I do not have any settings to filter
URLs it is purely X YouTube twitch
URLs it is purely X YouTube twitch
whatever filtering they're
doing if I don't if you don't see your
doing if I don't if you don't see your
message on the screen I'm not seeing
message on the screen I'm not seeing
your
message e
I didn't get the UR I didn't get the
I didn't get the UR I didn't get the
name of the paper if you were linking
one just post the name the paper here
one just post the name the paper here
and I will Google
it what is this
oh okay I always forget because of the
oh okay I always forget because of the
different handles this is the pulse
different handles this is the pulse
power stuff right
okay looking if it's worth exploring
um I highly doubt the
um I highly doubt the
if these are like not RL people I highly
if these are like not RL people I highly
doubt that they need a custom algorithm
doubt that they need a custom algorithm
and they can probably just run PO on
and they can probably just run PO on
it but I have to like there's a lot of
it but I have to like there's a lot of
math here i' have to actually go through
math here i' have to actually go through
this very
carefully so the thing is like you
carefully so the thing is like you
you're never going to
you're never going to
get like theoretical guarantees for zero
get like theoretical guarantees for zero
some stochastic game like forget it that
some stochastic game like forget it that
goes out the way window you're not
goes out the way window you're not
looking for like some you're not looking
looking for like some you're not looking
for something that is provably optimal
for something that is provably optimal
here it's all
here it's all
empirical
um see this is just not going to find
um see this is just not going to find
the optimal action because even if you
the optimal action because even if you
can prove that these things will
can prove that these things will
converge to the optimum um they have
converge to the optimum um they have
time like they can have exponential time
time like they can have exponential time
convergence
convergence
always because of the way that
always because of the way that
exploration doesn't work so in practice
exploration doesn't work so in practice
you just want the thing that works
you just want the thing that works
empirically which is normally just make
empirically which is normally just make
Po and like just run Po and crank it up
Po and like just run Po and crank it up
to be very
to be very
fast I'd have to look specifically what
fast I'd have to look specifically what
their motivation was for developing a
their motivation was for developing a
custom algorithm here um
say Define two variables
model is this a one-step problem
do you know is this an iterated problem
do you know is this an iterated problem
is this a one step problem or is this
is this a one step problem or is this
actually
iterated oh it's possibly iterated
is there anything that's actually um
is there anything that's actually um
difficult to code up here or anything
difficult to code up here or anything
that is
that is
slow because if these are the Dynamics
slow because if these are the Dynamics
environments and there isn't anything
environments and there isn't anything
that needs to be solved for right
that needs to be solved for right
there's like nothing expensive to solve
there's like nothing expensive to solve
you can just like code this in 10 lines
you can just like code this in 10 lines
or whatever and then run reinforcement
or whatever and then run reinforcement
learning on it
right just working with a guy
right just working with a guy
okay so yeah like this is the type of
okay so yeah like this is the type of
thing that I could look into for you but
thing that I could look into for you but
it like it will take me dramatically
it like it will take me dramatically
longer to understand the math of the
longer to understand the math of the
system itself than it will take you um
system itself than it will take you um
the question is mostly how long do the
the question is mostly how long do the
Dynamics take right can you like
Dynamics take right can you like
implement the Dynamics in a fast and
implement the Dynamics in a fast and
accurate Sim and is it an iterated
accurate Sim and is it an iterated
problem what's the OB space what's the
problem what's the OB space what's the
action space um
action space um
like if you get this into the format of
like if you get this into the format of
a fast RL
a fast RL
problem then like we can just Chuck
problem then like we can just Chuck
puffer at this and see what
happens so if you're down to do like if
happens so if you're down to do like if
you want to just like get into RL a
you want to just like get into RL a
little bit right with something initial
little bit right with something initial
this is the type of thing that you would
this is the type of thing that you would
do right you'd find something like this
do right you'd find something like this
where somebody has a physics paper or I
where somebody has a physics paper or I
in know whatever field this is uh where
in know whatever field this is uh where
there's like some fancy math that
there's like some fancy math that
defines the environment Dynamics you
defines the environment Dynamics you
would just Implement that real
would just Implement that real
quick we'd put an RL interface on it I
quick we'd put an RL interface on it I
can help make sure it's fast if that's
can help make sure it's fast if that's
needed and then we can just like run RL
needed and then we can just like run RL
on it and see what
happens okay um I sent it to you in the
happens okay um I sent it to you in the
uh General voice
uh General voice
chat I got linked a lot of math while
chat I got linked a lot of math while
you were away I see that
you were away I see that
yeah I this would take me like a month
yeah I this would take me like a month
to figure
to figure
out Electric Power Systems on critical
out Electric Power Systems on critical
infrastructure cool I cannot help you
infrastructure cool I cannot help you
with the math portion of that I can help
with the math portion of that I can help
you with uh if it works if you can set
you with uh if it works if you can set
it up as an RL
problem let's see uh oh where did my
problem let's see uh oh where did my
Discord go
oh here it is what did you just send
oh here it is what did you just send
me uh it's in the general like voice
me uh it's in the general like voice
chat it's just like the whatever file
chat it's just like the whatever file
hello hey Aon what's up you are on
hello hey Aon what's up you are on
stream at the moment just FYI okay uh
stream at the moment just FYI okay uh
first test of the online LP stuff is
first test of the online LP stuff is
running
running
awesome cool hope it
awesome cool hope it
works we're reviewing um 8,000 lines
works we're reviewing um 8,000 lines
worth of PRS
today that's a lot
ah this is exactly what I asked
ah this is exactly what I asked
for
perfect thank you Captain yeah Captain
perfect thank you Captain yeah Captain
wrote a 7,000 line environment this top
wrote a 7,000 line environment this top
down 2D physics
down 2D physics
shooter uh and also we have uh puffer
shooter uh and also we have uh puffer
implementation of GPU drive on CPU
implementation of GPU drive on CPU
prototype from Spencer
prototype from Spencer
nice when do we get you writing C is the
nice when do we get you writing C is the
[Laughter]
question I'm pretty good at getting
question I'm pretty good at getting
people into the lower level dep
people into the lower level dep
side but we can keep you on your fun
side but we can keep you on your fun
science for
science for
now
now
yeah honestly I find this stuff way
yeah honestly I find this stuff way
easier and way more chill at this point
easier and way more chill at this point
though
well I mean you have
well I mean you have
been living in it for the past little
been living in it for the past little
while that was
while that was
fun now this is super
chill okay B2 find pairs task this gets
chill okay B2 find pairs task this gets
called from I guess these are not your
called from I guess these are not your
functions yeah any so some of the B2
functions yeah any so some of the B2
stuff I call myself but
stuff I call myself but
UMX what is the total time
UMX what is the total time
here I guess like 15 seconds I don't
here I guess like 15 seconds I don't
know honestly grov is
know honestly grov is
kind yeah I have percent here okay so
kind yeah I have percent here okay so
compute OB with 3% wait 3%
compute OB with 3% wait 3%
right is that
right is that
right uh I think there's like a key at
right uh I think there's like a key at
the
the
bottom some of it's confusing because
bottom some of it's confusing because
some of the stuff is like this function
some of the stuff is like this function
and his shoulder and some of it is like
and his shoulder and some of it is like
just this function so let me explain
just this function so let me explain
that if you're not familiar
that if you're not familiar
so there is self seconds and then there
so there is self seconds and then there
is cumulative
is cumulative
seconds um so self seconds I believe is
seconds um so self seconds I believe is
just the time of His function yeah and
just the time of His function yeah and
cumulative is function and its children
cumulative is function and its children
right yeah and its children
right yeah and its children
exactly so I don't know whether this is
exactly so I don't know whether this is
this percent here
this percent here
is no this percent is clearly applied to
is no this percent is clearly applied to
self seconds right I would think you can
self seconds right I would think you can
see right because six this is bigger and
see right because six this is bigger and
this is smaller so it has to be right
this is smaller so it has to be right
you're right yeah okay so it's weird
you're right yeah okay so it's weird
though that the the most expensive thing
though that the the most expensive thing
is like 15% though no it's because it's
is like 15% though no it's because it's
just various box 2D
just various box 2D
calls
calls
yeah right I'm just saying like this
yeah right I'm just saying like this
stuff it looks like everything adds up
stuff it looks like everything adds up
to be like 30 if that but it's sorted
to be like 30 if that but it's sorted
it's sorted by self seconds not
it's sorted by self seconds not
cumulative seconds you see oh yeah yeah
cumulative seconds you see oh yeah yeah
so if you go down here look it's 23
so if you go down here look it's 23
seconds
seconds
yeah
yeah
okay and this is the correct sorting
okay and this is the correct sorting
this is how you want it by the
way so o Point what this B2 can you can
way so o Point what this B2 can you can
you move it to the other side of your
you move it to the other side of your
screen because like the chat is kind ofs
screen because like the chat is kind ofs
my
my
bad people are probably confused too
yep
yep
three percent in
three percent in
this handle body move event is this
this handle body move event is this
yours uh yeah step
yours uh yeah step
end yeah so you basically you're right
end yeah so you basically you're right
it's it's all in box 2D pretty much at
it's it's all in box 2D pretty much at
this point yeah because I've optimized a
this point yeah because I've optimized a
lot of my stuff not that it's perfect
lot of my stuff not that it's perfect
but it's a lot better than it used to be
but it's a lot better than it used to be
now the question
now the question
is uh is there any usage of box 2D that
is uh is there any usage of box 2D that
can be made better by a lot what's the
can be made better by a lot what's the
current step per second per
current step per second per
core per core uh I don't know but um I
core per core uh I don't know but um I
on my machine I get like 250 240k
on my machine I get like 250 240k
training on a puffer box I get close to
training on a puffer box I get close to
300 with just one agent with two agents
300 with just one agent with two agents
it goes up a decent amount but I'm not
it goes up a decent amount but I'm not
ready to do like selfplay
ready to do like selfplay
yet okay so I have breakdown of stuff in
yet okay so I have breakdown of stuff in
the monitor for good reason right so
the monitor for good reason right so
what you generally want to do is you
what you generally want to do is you
want to know how fast the environment
want to know how fast the environment
itself runs
itself runs
right and then if the environment is
right and then if the environment is
like substantially above a million then
like substantially above a million then
you should be able to get close to that
you should be able to get close to that
in
in
training
training
um you mean like the the breakdown of
um you mean like the the breakdown of
like the percentage of M
like the percentage of M
basically I yeah so I'm pretty sure it's
basically I yeah so I'm pretty sure it's
usually
around like actually I don't know you if
around like actually I don't know you if
you can compile this you can compile the
you can compile this you can compile the
main thing and run it like just per and
main thing and run it like just per and
that'll give you a good breakdown if you
that'll give you a good breakdown if you
want yeah so what do I just run so go
want yeah so what do I just run so go
back to the repo route yeah uh just run
make also this is I assume you don't
make also this is I assume you don't
have my nice perf optimizations in here
have my nice perf optimizations in here
yet I do not so that'll be faster I
yet I do not so that'll be faster I
tried to go like on that branch and
tried to go like on that branch and
check it out but there was stuff that
check it out but there was stuff that
was Fancy no worries fix that yeah
was Fancy no worries fix that yeah
that's what I figured but I was eager to
that's what I figured but I was eager to
try it out I was like ah going to have
try it out I was like ah going to have
to wait a little bit
longer I'm honestly so surprised that
longer I'm honestly so surprised that
people haven't like PR all sorts of like
people haven't like PR all sorts of like
little m's as much as people will PR
little m's as much as people will PR
much bigger M's um no I'm surprised
much bigger M's um no I'm surprised
nobody's done like Flappy puff by
nobody's done like Flappy puff by
now
now
right I mean if you make somebody makes
right I mean if you make somebody makes
it it's like such a simple like beginner
it it's like such a simple like beginner
project I'm surprised nobody's just
project I'm surprised nobody's just
bothered doing it yeah okay um so justce
bothered doing it yeah okay um so justce
see with Flappy
puff um all right so just run whatever
puff um all right so just run whatever
python I guess on this box just python
python I guess on this box just python
might work um tag Tac train
might work um tag Tac train
compile that train.
compile that train.
compil okay I got go take bre okay yeah
compil okay I got go take bre okay yeah
and then tac tac m. Sitting hyen Duck or
and then tac tac m. Sitting hyen Duck or
Tac duck whatever
Tac duck whatever
M just just m
M just just m
yeah Sitting
yeah Sitting
Duck because then that won't you don't
Duck because then that won't you don't
it true will work I guess it's python um
it true will work I guess it's python um
that should be all you
need yeah
okay all right I'll be right back uh oh
okay all right I'll be right back uh oh
yeah you're on the I'm on install
yeah you're on the I'm on install
this or I need other puffer yeah you
this or I need other puffer yeah you
need main puffer on 2.0 I'll be right
need main puffer on 2.0 I'll be right
back I got to take some bread out of the
oven oh it's running totally wrong
oven oh it's running totally wrong
Puffer
Puffer
we'll run this
one have you seen this m yet
one have you seen this m yet
Aaron uh no oh it's so cool I'll see if
Aaron uh no oh it's so cool I'll see if
I can run it in a second soon as this
I can run it in a second soon as this
finishes it's so
cool 7,000 line
n we got to get it to be fast enough is
n we got to get it to be fast enough is
the main thing
quarter million step per second train
quarter million step per second train
not fast enough puffer
not fast enough puffer
standards hey yeah you remember how when
standards hey yeah you remember how when
we were first talking about the lp stuff
we were first talking about the lp stuff
you were like hey make sure that your
you were like hey make sure that your
score is not just tracking the score of
score is not just tracking the score of
the sampled environments
the sampled environments
mhm that wasn't happening in the offline
mhm that wasn't happening in the offline
one but that is happening in the online
one
one
yeah um okay
yeah um okay
so I just oh I'm just tracking a
so I just oh I'm just tracking a
different metric
different metric
then yeah
then yeah
um I mean the other thing we can
um I mean the other thing we can
technically do is you can just track the
technically do is you can just track the
online like you can just like have it do
online like you can just like have it do
whatever and then the eval because there
whatever and then the eval because there
is an eval at the end right yeah like at
is an eval at the end right yeah like at
the end of training so then you can just
the end of training so then you can just
do the eval with the full distribution
do the eval with the full distribution
and then that point just gets logged
and then that point just gets logged
differently at the
differently at the
end that's also valid
uh the choice that I did here is um so
uh the choice that I did here is um so
in the running outcomes that I'm keeping
in the running outcomes that I'm keeping
track of I just and that one always
track of I just and that one always
maintains the past 25
maintains the past 25
per uh
per uh
task and that is across all
task and that is across all
tasks and so that one I just I'm just
tasks and so that one I just I'm just
tracking the mean of that value instead
tracking the mean of that value instead
the mean across all tasks yeah
the mean across all tasks yeah
okay is this for curriculum learning
okay is this for curriculum learning
yeah yep nice this is this is the end by
yeah yep nice this is this is the end by
the
the
way over to where you guys
are is this thing czy uh I suppose I
are is this thing czy uh I suppose I
have to look at where you're
have to look at where you're
streaming yeah where are you streaming
streaming yeah where are you streaming
which YouTube X
I'm streaming on X does not make it
I'm streaming on X does not make it
sound like you're doing reinforcement
sound like you're doing reinforcement
learning what just like the name X like
learning what just like the name X like
oh I'm streaming on X that makes it
oh I'm streaming on X that makes it
sounds like you're engaged in NSFW
sounds like you're engaged in NSFW
activities yeah and if you type and if
activities yeah and if you type and if
you try to find videos on X make sure
you try to find videos on X make sure
that you uh don't put a space or
that you uh don't put a space or
actually no you'll get it either way
actually no you'll get it either way
[ __ ] no make sure you do put a space
[ __ ] no make sure you do put a space
yeah way the naming to X and ditching
yeah way the naming to X and ditching
Twitter was like so
Twitter was like so
stupid kind of funny how stupid it was
stupid kind of funny how stupid it was
but you see
but you see
this yeah it's fun it's crazy right yeah
this yeah it's fun it's crazy right yeah
that's a really fun one yeah we haven't
that's a really fun one yeah we haven't
even done like I think I'm going to help
even done like I think I'm going to help
out with some graphics so it gets even
out with some graphics so it gets even
cooler it's
coolow
coolow
okay such a cool end
oh were you going to run the train
oh were you going to run the train
breakdown yes I
breakdown yes I
was
squirrel it should be in your uh reverse
squirrel it should be in your uh reverse
show oh yeah that
show oh yeah that
works myself I am a control R type
works myself I am a control R type
guy I should probably actually learn how
guy I should probably actually learn how
to use that eventually but not today
to use that eventually but not today
also is because you can it like it um
also is because you can it like it um
the history is improved so for example
the history is improved so for example
if you know youf
if you know youf
history something and then do up or down
history something and then do up or down
it'll do like a prefix search history
it'll do like a prefix search history
which is so
which is so
useful okay so you can just do SSH space
useful okay so you can just do SSH space
up and it'll give you the last SSH
up and it'll give you the last SSH
command you
command you
did
did
SSH okay yeah that's cool it's pretty
SSH okay yeah that's cool it's pretty
awesome so unless I change something in
awesome so unless I change something in
the perf is worse um this will give you
the perf is worse um this will give you
decent breakdown but at least on box two
decent breakdown but at least on box two
like a like a week or two ago I was
like a like a week or two ago I was
getting higher perf but maybe I don't
getting higher perf but maybe I don't
know if that's because of a change I
know if that's because of a change I
made or the fact you're not in recent
made or the fact you're not in recent
most recent torch version might be me
most recent torch version might be me
I'm not
I'm not
sure this is no this is my local which
sure this is no this is my local which
has uh updated torch okay maybe not
has uh updated torch okay maybe not
updated compile but you are spending 35%
updated compile but you are spending 35%
time in the end oh yeah the compiler
time in the end oh yeah the compiler
does help yeah you're spending 30 yeah a
does help yeah you're spending 30 yeah a
lot of time in the
lot of time in the
end um so that needs to be improved for
end um so that needs to be improved for
sure but then also I want to
sure but then also I want to
know
know
oops where's your
oops where's your
config what config oh right I don't have
config what config oh right I don't have
one like you guys
one like you guys
do yeah it's just I don't have
configs so this is this 256
configs so this is this 256
agents uh or how many agents is this
agents uh or how many agents is this
well right now I'm doing one per M so
well right now I'm doing one per M so
yeah it be two 256 agents per
yeah it be two 256 agents per
worker and how many
worker and how many
workers uh I think it's eight right
workers uh I think it's eight right
now you could up that in your machine
now you could up that in your machine
but on a puffer box because the puffer
but on a puffer box because the puffer
boxes have slightly more cores than my
boxes have slightly more cores than my
local but I got like a little bit of a
local but I got like a little bit of a
gain but like not
much I think of yeah increased that to
much I think of yeah increased that to
16 that's 16 if you leave batch size at
16 that's 16 if you leave batch size at
four and then you just have number of
four and then you just have number of
ends you got like a little bit of an
ends you got like a little bit of an
increase you can try eight but I didn't
increase you can try eight but I didn't
it wasn't as good as eight as at eight
it wasn't as good as eight as at eight
batch
size but yeah but the latest compiler I
size but yeah but the latest compiler I
do see some decent gains which makes
do see some decent gains which makes
sense because it's literally 10 years
sense because it's literally 10 years
gcc1
gcc1
which is kind of
crazy okay that's
crazy okay that's
significant oh yeah it it's fast at the
beginning does the slow down over
beginning does the slow down over
time oh no it's just a compile
time oh no it's just a compile
overhead I don't know the the speed can
overhead I don't know the the speed can
fluctuate a decent bit
fluctuate a decent bit
I guess it's dependent on a lot of
I guess it's dependent on a lot of
things because like I don't know I have
things because like I don't know I have
different Hardware from you though I
different Hardware from you though I
think
think
right yeah I have 16
right yeah I have 16
real oh
right you going to change the number of
right you going to change the number of
ends or leave them there internal buffer
ends or leave them there internal buffer
we ideally don't want it to be quad
we ideally don't want it to be quad
buffer by the way what do you uh buffer
buffer by the way what do you uh buffer
for why
for why
um because it's it's slower for the
um because it's it's slower for the
network even if it's faster for the
network even if it's faster for the
end
okay yeah ever since the new um torch
okay yeah ever since the new um torch
compile or Tor P torch version which
compile or Tor P torch version which
actually allowed me to compile like the
actually allowed me to compile like the
multi the puffer multis screet stuff
multi the puffer multis screet stuff
without action stuff without graph
without action stuff without graph
breakes her head has gone way down is it
breakes her head has gone way down is it
not it's not 20% M time
not it's not 20% M time
anymore no no this is pretty accurate
anymore no no this is pretty accurate
but the forward evaluate forward time
but the forward evaluate forward time
used to be like 40% and M time used to
used to be like 40% and M time used to
be like 16% or something oh I actually
be like 16% or something oh I actually
have an optimiz do you have
have an optimiz do you have
lstms I do yeah I have a major
lstms I do yeah I have a major
optimization for eval for with lstm so
optimization for eval for with lstm so
that'll get faster so yeah then my M my
that'll get faster so yeah then my M my
M should be the slowing Factor your m is
M should be the slowing Factor your m is
slow so we actually do have to care
slow so we actually do have to care
about this basically because your m is
about this basically because your m is
the slow part right now
the slow part right now
yep which it should be because I spent a
yep which it should be because I spent a
lot of time optimizing puffer yeah and I
lot of time optimizing puffer yeah and I
have spent a decent amount of time
have spent a decent amount of time
optimizing mine I'm honestly not really
optimizing mine I'm honestly not really
sure what else is there a per test I can
sure what else is there a per test I can
run in here or no yeah uh just make
Benchmark it'll
Benchmark it'll
do if you C the file will tell you I
do if you C the file will tell you I
think it's like 250 million
think it's like 250 million
steps it doesn't print anything but what
steps it doesn't print anything but what
I use I run like a benchmarking tool
I use I run like a benchmarking tool
like hyper find I'll run it like three
like hyper find I'll run it like three
times and then I'll like average the
result so I use bothered
result so I use bothered
with
with
yeah well I would do that like I would
yeah well I would do that like I would
take it a baseline make a change compile
take it a baseline make a change compile
it again and then like be basically comp
it again and then like be basically comp
like run them back to back and see if it
like run them back to back and see if it
improved or like you know made per worse
improved or like you know made per worse
basically where is it uh just Benchmark
basically where is it uh just Benchmark
benchmark
so you really want to time it or
so you really want to time it or
something because it won't do anything
something because it won't do anything
it won't print anything oh
so what how do you run this thing then
so what how do you run this thing then
like time space but I use like again I
like time space but I use like again I
use the actual benchmarking to like
use the actual benchmarking to like
hyper fine but time will work for rough
estimates I didn't even know that was a
estimates I didn't even know that was a
thing yeah so hyperfine it's basically
thing yeah so hyperfine it's basically
it no I didn't know that time was a
it no I didn't know that time was a
thing oh really yeah it's a built-in I
thing oh really yeah it's a built-in I
think the shell yeah I didn't know
think the shell yeah I didn't know
that I'm really not a power user with a
that I'm really not a power user with a
lot of the tools I have I like I use
lot of the tools I have I like I use
really like I use a very small set of
really like I use a very small set of
very simple
things yeah so this is basically just
things yeah so this is basically just
running one m on one core and this did
running one m on one core and this did
did you say this did it three times
did you say this did it three times
no that's that's something I did
no that's that's something I did
externally so is this 250 mil steps
yeah should
be that I do have two agents in there
be that I do have two agents in there
though I'm pretty sure in The
though I'm pretty sure in The
Benchmark so it should be 500 million
Benchmark so it should be 500 million
then right uh yeah I guess so
yeah so I I call step function that many
yeah so I I call step function that many
times but yeah okay so this says 17
times but yeah okay so this says 17
million
million
really am I doing something wrong you
really am I doing something wrong you
said you did you did 500 million 250
said you did you did 500 million 250
million steps times two agents divide by
million steps times two agents divide by
29 seconds uh fact go go and fact check
29 seconds uh fact go go and fact check
me it's an SRC like Source Benchmark doc
me it's an SRC like Source Benchmark doc
because yeah that doesn't seem right
because yeah that doesn't seem right
so the very bottom
yeah oh 2.5 million
yeah oh 2.5 million
yes that would be it I was like there's
yes that would be it I was like there's
something not the math ain't
something not the math ain't
math
math
so we have to take two zeros off of this
so we have to take two zeros off of this
yeah it's
yeah it's
170k yeah okay so this is kind of slow y
170k yeah okay so this is kind of slow y
yeah that would be considered kind of
yeah that would be considered kind of
slow um
there's no way it's got to be that
there's no way it's got to be that
slow it should be faster for
slow it should be faster for
sure let me
think well we'll we'll go through
think well we'll we'll go through
game yeah and uh we'll keep this thing
game yeah and uh we'll keep this thing
up on the right just in case I'll move
up on the right just in case I'll move
it so it's like not covered quite so
it so it's like not covered quite so
badly
entity
entity
transform was this where we
transform was this where we
were uh yeah I think we were like a
were uh yeah I think we were like a
little bit below but pretty much
yeah and we're looking at Circles of
yeah and we're looking at Circles of
stuff as
stuff as
well
so solve contacts
I think we go through this first and if
I think we go through this first and if
I see anything I see anything if not I
I see anything I see anything if not I
have to do first separately
have to do first separately
yeah so yeah again a lot of the Box 2D
yeah so yeah again a lot of the Box 2D
stuff the vast majority in box the Box
stuff the vast majority in box the Box
2D stuff on the profile like the grpr
2D stuff on the profile like the grpr
output is indirectly called by me but
output is indirectly called by me but
some of it is directly called by me but
some of it is directly called by me but
not a lot of
not a lot of
it well B2 World step that is called by
it well B2 World step that is called by
me yeah obviously that's like the key go
me yeah obviously that's like the key go
solve everything isn't it yes so this
solve everything isn't it yes so this
thing is uh about 30% of the time yeah
thing is uh about 30% of the time yeah
because it's a little more actually
because it's a little more actually
because this is 6.5
because this is 6.5
seconds spent in here total with
seconds spent in here total with
including
including
children and uh B2 fine pairs task this
children and uh B2 fine pairs task this
is apparently called outside of Step as
is apparently called outside of Step as
well or is this
called I guess something else that I
called I guess something else that I
call calls that I have to look that up
call calls that I have to look that up
because I don't call that directly so
because I don't call that directly so
what like what expensive box 2D stuff
what like what expensive box 2D stuff
are you calling that's not in
are you calling that's not in
Step um well that's not in step that's
Step um well that's not in step that's
not World step oh World step um because
not World step oh World step um because
this is like B2 World step this should
this is like B2 World step this should
be a bunch of stuff to like update all
be a bunch of stuff to like update all
the physics right yeah yeah okay but
the physics right yeah yeah okay but
that so that's 30% of your time
that so that's 30% of your time
right maybe 30 40% of your time is that
right maybe 30 40% of your time is that
yeah okay uh 6.5 over 24 is yeah it's
yeah okay uh 6.5 over 24 is yeah it's
like between 25 and 30% of your time um
like between 25 and 30% of your time um
where's the other
70 okay one one quick question if okay
70 okay one one quick question if okay
that math makes sense but what do the
that math makes sense but what do the
each percentage of time of the farle
each percentage of time of the farle
mean because so this percentage is
mean because so this percentage is
corresponding to self
corresponding to self
seconds oh I see so it's only 12% of
seconds oh I see so it's only 12% of
time in the step directly but including
time in the step directly but including
children you see it's a little more than
children you see it's a little more than
double yeah yeah
double yeah yeah
30% I
30% I
see okay so what I call directly um I
see okay so what I call directly um I
mean so I handle events like I handle
mean so I handle events like I handle
move events so basically like the move
move events so basically like the move
like handle body move events I'm
like handle body move events I'm
honestly kind of surprised that one's
honestly kind of surprised that one's
actually no no I'm thinking about I'm
actually no no I'm thinking about I'm
not surprised so basically you can like
not surprised so basically you can like
add
2% yeah that's only 2% okay yeah it was
2% yeah that's only 2% okay yeah it was
that small um we're looking for like
that small um we're looking for like
50% yeah I mean so nothing at the top
50% yeah I mean so nothing at the top
there partition mid sensor task execute
there partition mid sensor task execute
BL well so okay basically
everything yeah I was going to say
everything yeah I was going to say
everything above compute OBS is nothing
everything above compute OBS is nothing
I call directly like me a parent like so
I call directly like me a parent like so
maybe I call a parent function that
maybe I call a parent function that
calls them but I don't call any of that
calls them but I don't call any of that
stuff directly except World step well so
stuff directly except World step well so
here's the thing that doesn't make sense
here's the thing that doesn't make sense
to me right World step and everything in
to me right World step and everything in
it's only 6.5 seconds yeah okay but like
it's only 6.5 seconds yeah okay but like
B2 partition mid is now 16
B2 partition mid is now 16
seconds yeah I don't know it's weird so
seconds yeah I don't know it's weird so
something that you're calling that is
something that you're calling that is
not step is calling this stuff and it's
not step is calling this stuff and it's
taking a lot of time
why I'm wondering why GPR doesn't show
why I'm wondering why GPR doesn't show
that though what do you mean like why
that though what do you mean like why
doesn't I don't know why doesn't GPR
doesn't I don't know why doesn't GPR
because it's got to be one of my
because it's got to be one of my
functions I have a ton of functions in
functions I have a ton of functions in
game if my game some some function in
game if my game some some function in
game is does let's let's look for your
game is does let's let's look for your
functions what functions of yours do you
functions what functions of yours do you
see in
see in
here
here
uh drone step is near the middle but it
uh drone step is near the middle but it
doesn't look very high
doesn't look very high
down a little
down a little
bit maybe you should just download 22
bit maybe you should just download 22
seconds yeah in drone
seconds yeah in drone
step that's cumulative
step that's cumulative
right
same so cative means it and its children
same so cative means it and its children
right yeah so this doesn't call World
right yeah so this doesn't call World
Stu right no only only step M calls
Stu right no only only step M calls
World step that's the only thing it
World step that's the only thing it
calls World step
I mean it's called once for every drone
I mean it's called once for every drone
every step so but nothing I do here is
every step so but nothing I do here is
like
like
expensive I don't
think I break
what was the fix to get it to
what was the fix to get it to
build oh I just I had capital T true H
build oh I just I had capital T true H
invalid position for sudden death wall
invalid position for sudden death wall
oh yeah um that's actually prob I just
oh yeah um that's actually prob I just
introduced uh I know how to fix that so
introduced uh I know how to fix that so
basically go to settings that's not
basically go to settings that's not
that's not something you did well I just
that's not something you did well I just
I just with it yeah I did I just added
I just with it yeah I did I just added
this here this can randomly happen just
this here this can randomly happen just
I I know how to fix it though but so
I I know how to fix it though but so
just go to well I know how to stop it
just go to well I know how to stop it
from happening until I fix it myself SRC
from happening until I fix it myself SRC
settings change drone lies from three to
settings change drone lies from three to
one oh right up
one oh right up
above it's like
yeah your own it's just Capital drone
yeah your own it's just Capital drone
uncore
uncore
lives Yeah so basically what's happening
lives Yeah so basically what's happening
is is the because I now have three lives
is is the because I now have three lives
and like a timer um sometimes like when
and like a timer um sometimes like when
the sudden death walls are closing
the sudden death walls are closing
in uh they'll still be alive but I exit
in uh they'll still be alive but I exit
early if I like basically can't place
early if I like basically can't place
any more sun death wall so it kind of
any more sun death wall so it kind of
like it gets to the point where there
like it gets to the point where there
are walls everywhere and keeps trying to
are walls everywhere and keeps trying to
place them which never happened before
place them which never happened before
and so I never had to count for it is
and so I never had to count for it is
this running with sitting ducks or
this running with sitting ducks or
no uh that the agents take random
no uh that the agents take random
actions basically
actions basically
okay so they take random action so it's
okay so they take random action so it's
not a slow script that's Computing
not a slow script that's Computing
actions no no okay so I just took I just
actions no no okay so I just took I just
put return true inside of this drone
put return true inside of this drone
step and it got more than 3x
faster that's
faster that's
wild
so I just did
so I just did
this
this
okay so what's this what's Happening
okay so what's this what's Happening
Here
okay especially if you only have one
okay especially if you only have one
life so respawning is never happening
life so respawning is never happening
yep um hey hey um I mean I'm basically
yep um hey hey um I mean I'm basically
just
just
like managing B2 distance it's the only
like managing B2 distance it's the only
B2 function I
B2 function I
see yeah which is really simple it's
see yeah which is really simple it's
just like a distance function so like
just like a distance function so like
squaring squaring square root
did you remove the make true or the top
did you remove the make true or the top
I think so or return true I
mean yep
okay how do it take that long to
okay how do it take that long to
link you should really get not now but
link you should really get not now but
mold mold is a really fast
mold mold is a really fast
Linker whatever we're going to get put
Linker whatever we're going to get put
it on the puffer tank
it on the puffer tank
cool tell me me what to add to the app
cool tell me me what to add to the app
commands we will just add
commands we will just add
it but I would like to not have to have
it but I would like to not have to have
everything be a hard depth to run the
everything be a hard depth to run the
app no it's not it's just a speed up
app no it's not it's just a speed up
yes same with like ccache it's not
yes same with like ccache it's not
required but like if you have it it just
required but like if you have it it just
makes things faster so now we're still
makes things faster so now we're still
we're back to being
we're back to being
slow interesting okay this is really
slow interesting okay this is really
surprising because you can kind of see
surprising because you can kind of see
in the code nothing is there that should
in the code nothing is there that should
be that slow at least to
me maybe like the F Max and fmin stuff
me maybe like the F Max and fmin stuff
are somehow slow but that doesn't make
sense uh those can be slow depending on
sense uh those can be slow depending on
how fast how frequently they get called
how fast how frequently they get called
but if they're once per step it
but if they're once per step it
shouldn't
shouldn't
be well once per step per drone but I
be well once per step per drone but I
have like two drones so they're called
have like two drones so they're called
like you know a couple I do notice that
like you know a couple I do notice that
um uh if using conditionals is way
um uh if using conditionals is way
faster than using fmax App very often
faster than using fmax App very often
really MH
really MH
26 we're still most of
26 we're still most of
it
it
well I mean I can just write a function
well I mean I can just write a function
macro to do like Max or Min if it's like
macro to do like Max or Min if it's like
that much faster because this is
that much faster because this is
ridiculous so yeah you can put it there
ridiculous so yeah you can put it there
there but the respawning stuff should
there but the respawning stuff should
never happen because you have one life
never happen because you have one life
so we're testing yeah know I know I'm
so we're testing yeah know I know I'm
just saying my hypothesis is we're going
just saying my hypothesis is we're going
to get back to like a crazy 7even
to get back to like a crazy 7even
seconds or
whatever
whatever
yeah okay so hold on this block of code
yeah okay so hold on this block of code
right
right
here okay this block of code
drone heat drone weapon charge drone
drone heat drone weapon charge drone
cool down did we put one right after
cool down did we put one right after
like right around that assert or not
like right around that assert or not
okay it could be the assert that'd be
okay it could be the assert that'd be
really funny nah it it's it's in uh it
really funny nah it it's it's in uh it
should be compiled
out yeah it is because if we were in
out yeah it is because if we were in
release mode or debug mode I would see
release mode or debug mode I would see
debug BRS
so yeah that's that blocker
code go
slow I want another
slow I want another
window to do
this I'm going to move
and F Max and fmin potentially my new
and F Max and fmin potentially my new
greatest enemy that would be
greatest enemy that would be
hilarious honestly I mean hey I will be
hilarious honestly I mean hey I will be
very happy if I can get like a ton of
very happy if I can get like a ton of
perf from just not using them I am
perf from just not using them I am
usually pretty good at finding really
usually pretty good at finding really
stupid optimizations
that's ridiculous I mean I use FX and
that's ridiculous I mean I use FX and
fmin a lot so if I can just replace
fmin a lot so if I can just replace
those and get tons of perf that' just be
those and get tons of perf that' just be
so stupid but
amazing I mean so if you've optimized
amazing I mean so if you've optimized
stuff correctly I probably won't be able
stuff correctly I probably won't be able
to find anything because I'm not really
to find anything because I'm not really
that good at this stuff I'm just good at
that good at this stuff I'm just good at
finding really stupid optimizations that
finding really stupid optimizations that
have been
have been
missed uh let's see so weapon cool
missed uh let's see so weapon cool
down okay for
it could be though that this is spawning
it could be though that this is spawning
projectiles and that's what's taking a
projectiles and that's what's taking a
long time
long time
right no drone step doesn't spawn any
right no drone step doesn't spawn any
projectiles does it like set the cool
projectiles does it like set the cool
down so that you're allowed to or yeah
down so that you're allowed to or yeah
you can you can see the code all it's
you can you can see the code all it's
doing is like managing cooldowns and
doing is like managing cooldowns and
other timer relay stuff and then I do
other timer relay stuff and then I do
destroy the shield but rare
but mostly it's just managing cooldowns
but mostly it's just managing cooldowns
and other like related
things okay this is going to be
things okay this is going to be
unscientific because you know I've
unscientific because you know I've
Discord and your stream and blah blah
Discord and your stream and blah blah
blah but like I'm gonna try and replace
blah but like I'm gonna try and replace
fmin f with like my Min I don't know
fmin f with like my Min I don't know
what that's it is I'd be kind of
what that's it is I'd be kind of
surprised I know I'm just going to try
surprised I know I'm just going to try
it
locally wait did I do it
yeah I had like 60 instances of f Maxx
yeah I had like 60 instances of f Maxx
and 37 of f
minf h
minf h
oh this warning
suck yeah I see warnings are very not
suck yeah I see warnings are very not
they're very difficult to read I don't
they're very difficult to read I don't
think it's the maap I think it's what's
think it's the maap I think it's what's
implied by the
implied by the
maap maybe I'm giving it a try just in
maap maybe I'm giving it a try just in
case because you never
know yeah so what I do with hyperfine
know yeah so what I do with hyperfine
it's it's kind of like I don't know it's
it's it's kind of like I don't know it's
a very fancy tool you don't need this
a very fancy tool you don't need this
but it's just nice I do like a warm-up
but it's just nice I do like a warm-up
run just in case to kind of like I don't
run just in case to kind of like I don't
know get the you know cuz like a what is
know get the you know cuz like a what is
it like speculative execution all that
it like speculative execution all that
get the CPU warmed up and then it runs
get the CPU warmed up and then it runs
it does one warmup run and then I set it
it does one warmup run and then I set it
to do like three runs it takes the
to do like three runs it takes the
average and standard deviation of them
average and standard deviation of them
and then like without missing a beat
and then like without missing a beat
it'll do like my new Benchmark and then
it'll do like my new Benchmark and then
the old Benchmark or whatever it doesn't
the old Benchmark or whatever it doesn't
really matter the order
but so in drone step there this is stuck
but so in drone step there this is stuck
it's literally like it still hasn't
it's literally like it still hasn't
finished what did you change I hav't set
finished what did you change I hav't set
the cool down to zero yeah minute and
the cool down to zero yeah minute and
two seconds so it's the projectiles yeah
two seconds so it's the projectiles yeah
yeah you're because it's random action
yeah you're because it's random action
so it's gonna be shooting a lot
so it's gonna be shooting a lot
yeah okay but then where do we what do
yeah okay but then where do we what do
we do about
we do about
projectiles where do we
projectiles where do we
shoot uh drone shoot or shoot Dr I don't
shoot uh drone shoot or shoot Dr I don't
know something like that just search
know something like that just search
create
create
projectile and it's yeah Dr shoot
5.6
5.6
seconds so if we don't shoot it's fast
seconds so if we don't shoot it's fast
so these projectiles are not
optimized I mean you got to think about
optimized I mean you got to think about
it though if you're not shooting there's
it though if you're not shooting there's
like barely any physics
like barely any physics
happening well let's figure out what's
happening well let's figure out what's
going on with
going on with
these weapon needs
charge
charge
see all right I'm G head out and get
see all right I'm G head out and get
some other work done see Aon I'll uh let
some other work done see Aon I'll uh let
you know did you need something or you
you know did you need something or you
just hanging out here I just hanging out
just hanging out here I just hanging out
letting you know that the first pass at
letting you know that the first pass at
the uh online LP stuff is up and running
the uh online LP stuff is up and running
awesome yeah I let me know if you get
awesome yeah I let me know if you get
something to like actually improves over
something to like actually improves over
random or like close to the offline one
random or like close to the offline one
because that's when we're going to start
because that's when we're going to start
I have to start look at optimizing and
I have to start look at optimizing and
integrating for uh yeah
integrating for uh yeah
yep we'll do bye
yep we'll do bye
so okay let's see how slow this
is so that adds like a second to this
is so that adds like a second to this
what
what
does doing everything except spawning
does doing everything except spawning
the projectile so you like you get the
the projectile so you like you get the
impulse and The Recoil and
everything oh wait so you compute the
everything oh wait so you compute the
forces but don't actually spawn the
forces but don't actually spawn the
projectile okay so this create
projectile yeah and if you create the
projectile yeah and if you create the
projectile then it's got to
projectile then it's got to
um it's got to actually like a simulate
um it's got to actually like a simulate
it so the creation in and of itself
it so the creation in and of itself
isn't that slow it's probably just a
isn't that slow it's probably just a
simulation
I'm just double checking to make sure no
I'm just double checking to make sure no
I know I'm I'm not I'm not saying don't
I know I'm I'm not I'm not saying don't
do it I'm just going to explain it all
do it I'm just going to explain it all
right cool so the projectiles are the
right cool so the projectiles are the
slow
slow
thing let me see how you create them and
thing let me see how you create them and
what you do with them yeah but I'm also
what you do with them yeah but I'm also
very confused that like your return true
very confused that like your return true
and drone step like how that affected
and drone step like how that affected
that much because it made it so that it
that much because it made it so that it
uh it never the cool down yeah that that
uh it never the cool down yeah that that
makes yep yep yep never mind yeah yeah
makes yep yep yep never mind yeah yeah
yeah I get it projectile
entity this actually has to return
entity this actually has to return
something void uh what function I'm just
something void uh what function I'm just
trying to see oh yeah most of these
trying to see oh yeah most of these
create functions don't return anything
create functions don't return anything
does this
does this
um has it been created here already and
um has it been created here already and
added to the engine or no like PA
lovely I guess you have
lovely I guess you have
to what are you trying to
to what are you trying to
do uh just immediately destroy the
do uh just immediately destroy the
projectile oh
projectile oh
um you can just uh B2 destroy body or
um you can just uh B2 destroy body or
see this is tough cuz actual function
see this is tough cuz actual function
because I just have it like auto
because I just have it like auto
complete to yeah that should
work because it'll free the shape or
work because it'll free the shape or
it'll destroy the shape as
well do a uh make the bug demo because
well do a uh make the bug demo because
then it'll build with the address
then it'll build with the address
sanitizer and probably tell you like
sanitizer and probably tell you like
what happened
debug demo I don't have a debug
Benchmark but it'll still hit the same
Benchmark but it'll still hit the same
code
path
path
[Music]
[Music]
um I don't know I'm wondering if it's
um I don't know I'm wondering if it's
might be worth it to go through more of
might be worth it to go through more of
the game file just so you kind of
the game file just so you kind of
understand more of it before diving to
understand more of it before diving to
some stuff it's up to you we totally can
some stuff it's up to you we totally can
we give it a couple minutes just to see
we give it a couple minutes just to see
see if I immediately find anything I
see if I immediately find anything I
just want to know if like if the actual
just want to know if like if the actual
creation of the projectiles is slow that
creation of the projectiles is slow that
would kind of be funny
would kind of be funny
right because it wouldn't be surprising
right because it wouldn't be surprising
maybe there's like maybe it isn't
maybe there's like maybe it isn't
actually cashing your malx as nicely as
actually cashing your malx as nicely as
you'd
like I mean if you can see where DL
like I mean if you can see where DL
Malik is in the OR box 2D yeah but at
Malik is in the OR box 2D yeah but at
least my memory allocations well this
least my memory allocations well this
does this
does this
works but it's actually it's not it's
works but it's actually it's not it's
not deleting them is it well no B there
not deleting them is it well no B there
you don't delete them in the array so
you don't delete them in the array so
the renderer still thinks they're there
the renderer still thinks they're there
but look nothing happens when you go
but look nothing happens when you go
through
through
them so the
them so the
render
render
huh it's segs
huh it's segs
eventually yeah the thing is like some
eventually yeah the thing is like some
random thing caus it to seg
random thing caus it to seg
fault oh body is
fault oh body is
valid that's probably what
valid that's probably what
happened um do you have a quick fix this
happened um do you have a quick fix this
or not really not really all right well
or not really not really all right well
you have this to look at now right yeah
you have this to look at now right yeah
now you know it's the
now you know it's the
projectiles so um yeah you know do
projectiles so um yeah you know do
projectiles need as accurate physics as
projectiles need as accurate physics as
agents do
agents do
right so you can't really control the
right so you can't really control the
Fidelity of individual things you can
Fidelity of individual things you can
only control the physics Fidelity of
only control the physics Fidelity of
like the whole simulation that's
like the whole simulation that's
obnoxious isn't it I mean I
obnoxious isn't it I mean I
guess no like seriously I don't is isn't
guess no like seriously I don't is isn't
that a thing in game engines
that a thing in game engines
like if you have a million little thing
like if you have a million little thing
lik that don't need High Fidelity
lik that don't need High Fidelity
physics like the player needs High Fidel
physics yeah everything else needs to
physics yeah everything else needs to
not go through like walls or
not go through like walls or
whatever so what probably makes the
whatever so what probably makes the
physics slow if you pull back up the
physics slow if you pull back up the
like GPR thing so for a lot of the um
like GPR thing so for a lot of the um
projectiles I have to turn on continuous
projectiles I have to turn on continuous
Collision detection which makes it
Collision detection which makes it
slower but what that does is ensures
slower but what that does is ensures
that like when projectiles going really
that like when projectiles going really
fast they don't tunnel through other
fast they don't tunnel through other
Dynamic objects like other players well
Dynamic objects like other players well
Sol continuous this
Sol continuous this
is yeah 9%
is yeah 9%
total yeah not it's
total yeah not it's
even we're not at like this was this was
even we're not at like this was this was
uh with projectiles versus without
uh with projectiles versus without
projectiles it's like four or five times
projectiles it's like four or five times
faster yeah well I mean look
faster yeah well I mean look
cumulative seconds is it and all its
cumulative seconds is it and all its
children so solve continuous is more
children so solve continuous is more
expensive than even the step the world
expensive than even the step the world
step oh wait yep you're
step oh wait yep you're
right so yeah that is a decent chunk so
right so yeah that is a decent chunk so
I think that's mainly what it is it's
I think that's mainly what it is it's
just doing continuous Collision
just doing continuous Collision
detection Sol contacts is 10 though 10.4
detection Sol contacts is 10 though 10.4
seconds
yeah I mean there is stuff to look at
yeah I mean there is stuff to look at
here um because this is
here um because this is
not well I don't know you'd have to look
not well I don't know you'd have to look
but I I guess like the games that have a
but I I guess like the games that have a
bajillion projectiles they're they don't
bajillion projectiles they're they don't
need to run this
need to run this
fast yeah I no well I mean I could I can
fast yeah I no well I mean I could I can
run this thing that literally thousands
run this thing that literally thousands
of FPS on my machine probably like
of FPS on my machine probably like
hundreds of FPS on a normal laptop so
hundreds of FPS on a normal laptop so
it's for a normal game it's like plenty
it's for a normal game it's like plenty
fast but it's also barely doing anything
fast but it's also barely doing anything
with Graphics so that makes sense yeah
with Graphics so that makes sense yeah
but RL is different MH so I mean at
but RL is different MH so I mean at
least now we know it's the projectiles
least now we know it's the projectiles
right yeah I mean it's not like the base
right yeah I mean it's not like the base
game
game
somehow yeah so like the engine on the
somehow yeah so like the engine on the
agents running around the the
agents running around the the
environment even when they're like you
environment even when they're like you
know adding impulse and stuff like that
know adding impulse and stuff like that
is all fast yeah which makes sense if
is all fast yeah which makes sense if
there's some Corners to cut on the
there's some Corners to cut on the
projectile there's up to a 4X
projectile there's up to a 4X
Improvement if you make them virtually
Improvement if you make them virtually
free somehow yeah I don't know how you
free somehow yeah I don't know how you
do that
do that
okay well let's review the thing now at
okay well let's review the thing now at
least I've done I've done
least I've done I've done
something
yeah unfortunately it wasn't just the F
yeah unfortunately it wasn't just the F
Max
Max
F literally I have had that be the issue
F literally I have had that be the issue
in a Cuda
in a Cuda
kernel that's
funny yeah so like none of these things
funny yeah so like none of these things
have substantial time in them so we we
have substantial time in them so we we
just have to look at uh yeah what you're
just have to look at uh yeah what you're
doing here so entity transform okay
doing here so entity transform okay
closest
closest
point distance proxxy
thing position behind
wall build match
filter so this is if there is something
filter so this is if there is something
in the way
in the way
Yeah so basically you pass the filtering
Yeah so basically you pass the filtering
of like what you want to detect that is
of like what you want to detect that is
in the in the way so basically like you
in the in the way so basically like you
pass into start and end position so say
pass into start and end position so say
for example I mostly use this for
for example I mostly use this for
explosions like okay explosion goes off
explosions like okay explosion goes off
and I detect that like within the
and I detect that like within the
explosion radius like there's a player
explosion radius like there's a player
and then I pass in okay like from the
and then I pass in okay like from the
the center of the explosion to the
the center of the explosion to the
player can are there like can you hit
player can are there like can you hit
any walls and if so like yeah like
any walls and if so like yeah like
return true basically
so yeah um query query filters use a lot
so yeah um query query filters use a lot
in box TD because you tell it like when
in box TD because you tell it like when
you're doing a check like what um what
you're doing a check like what um what
shape type are you wanting to do the
shape type are you wanting to do the
check as like do you want to do this
check as like do you want to do this
check like it's a projectile like it's a
check like it's a projectile like it's a
wall whatever and then what do you want
wall whatever and then what do you want
to actually detect like do you want to
to actually detect like do you want to
detect walls players whatever so yeah
detect walls players whatever so yeah
there's it has a cool like um
there's it has a cool like um
bit masking or bit whatever bit mapping
bit masking or bit whatever bit mapping
masking it uses like bits and stuff um
masking it uses like bits and stuff um
bit Maps I think to do like Collision
bit Maps I think to do like Collision
stuff so yeah it's pretty fast in that
stuff so yeah it's pretty fast in that
sense like checking
sense like checking
stuff okay and here's the overlapping
stuff okay and here's the overlapping
circles that you use for that right use
circles that you use for that right use
this cuz the explosions a
this cuz the explosions a
circle lot yeah this is so the
circle lot yeah this is so the
overlapping circle is excl is
overlapping circle is excl is
exclusively used like I said um when you
exclusively used like I said um when you
place a mine it's detecting okay are
place a mine it's detecting okay are
there any drones in the mine's like
there any drones in the mine's like
explosion or in this proximity detection
explosion or in this proximity detection
radius so this isn't even used for like
radius so this isn't even used for like
the imploder or anything
the imploder or anything
no that one is the explode callback
no that one is the explode callback
which is very large and you'll see yeah
which is very large and you'll see yeah
a lot of
a lot of
callbacks that's kind of box 2D though
callbacks that's kind of box 2D though
not you right yeah I mean I guess like
I me it's hard to say i' I'd like really
I me it's hard to say i' I'd like really
have to be debing my own box 2 DMS to
have to be debing my own box 2 DMS to
see if that's really the same thing to
see if that's really the same thing to
be doing is to heavily use call backs
be doing is to heavily use call backs
for all this stuff um I mean it looks
for all this stuff um I mean it looks
like designed for it though yeah I don't
like designed for it though yeah I don't
I don't know how else you do it because
I don't know how else you do it because
like the way I handle explosions for
like the way I handle explosions for
instance I just tell it to do like
instance I just tell it to do like
basically I give it like um an aab so
basically I give it like um an aab so
basically like a box and tell it like
basically like a box and tell it like
okay like basically call my function for
okay like basically call my function for
everything in this box and then I just
everything in this box and then I just
do custom stuff over it so like
do custom stuff over it so like
otherwise it have to like return an
otherwise it have to like return an
array or something and have to arrate
array or something and have to arrate
over it yeah it would just return an
over it yeah it would just return an
array
array
exactly
exactly
yeah but it might be more expensive to
yeah but it might be more expensive to
keep that stuff in memory like if
keep that stuff in memory like if
there's a ton of stuff because IND or
there's a ton of stuff because IND or
whatever I it's but I guess this is the
whatever I it's but I guess this is the
way the Box 2D is designed because it
way the Box 2D is designed because it
doesn't return right or these your
doesn't return right or these your
functions no it doesn't return right so
functions no it doesn't return right so
this is box 2D then being I honestly
this is box 2D then being I honestly
this is like I hate this style of
this is like I hate this style of
programming it's it's like heavily event
programming it's it's like heavily event
driven the reason being that it takes
driven the reason being that it takes
the control flow away from you and
the control flow away from you and
sticks it into a library whereas if you
sticks it into a library whereas if you
just give me the ID over which to like
just give me the ID over which to like
iterate it you keep your own control
iterate it you keep your own control
flow rather than having it go into the
flow rather than having it go into the
library and then call your code from
library and then call your code from
there it's kind of just a gross pattern
there it's kind of just a gross pattern
at least well for my opinion but I see
at least well for my opinion but I see
you're saying but at least for box 2D
you're saying but at least for box 2D
like say for example I have a huge
like say for example I have a huge
explosion and I want to say okay give me
explosion and I want to say okay give me
everything in the explosion radius it
everything in the explosion radius it
gives me like 100 entities that's all
gives me like 100 entities that's all
like a lot and maybe like I'm only
like a lot and maybe like I'm only
actually going to like affect like five
actually going to like affect like five
of them that's like it has to you know
of them that's like it has to you know
keep getting all of them whereas I could
keep getting all of them whereas I could
tell it oh like I only want like the
tell it oh like I only want like the
first five okay you can stop now and
first five okay you can stop now and
then the same thing oh I see what you
then the same thing oh I see what you
mean yeah this is where like the you
mean yeah this is where like the you
would want
would want
this is kind of where you would like an
this is kind of where you would like an
iterator or
iterator or
something right yeah but maybe if it was
something right yeah but maybe if it was
a different language C doesn't really
a different language C doesn't really
like you could do a weird iterator thing
like you could do a weird iterator thing
but like I think callbacks are a
cleaner well the thing is you also don't
cleaner well the thing is you also don't
necessarily need an iterator for this
necessarily need an iterator for this
either what you want is this overlap
either what you want is this overlap
call like all this is doing is applying
call like all this is doing is applying
a physics check to everything in a scene
a physics check to everything in a scene
right or to like a number of things in a
right or to like a number of things in a
scene and then it's like doing something
scene and then it's like doing something
at some point in that Loop if you write
at some point in that Loop if you write
that Loop then you don't need this right
that Loop then you don't need this right
so if you did B2 World overlap Circle
so if you did B2 World overlap Circle
this is meant to just like go look at
this is meant to just like go look at
everything you could just do can you not
everything you could just do can you not
just like go over things in world and
just like go over things in world and
then do like if Circle overlap then this
then do like if Circle overlap then this
code uh maybe but like it'd be difficult
code uh maybe but like it'd be difficult
and probably slower because it's like
and probably slower because it's like
optimized it's like built to do it this
optimized it's like built to do it this
way
way
weird you you probably end up just like
weird you you probably end up just like
Reinventing like the internals of B2
Reinventing like the internals of B2
World overlap Circle which like doesn't
World overlap Circle which like doesn't
really make much
really make much
sense well I think that you end up
sense well I think that you end up
Reinventing stuff because it maybe it
Reinventing stuff because it maybe it
shouldn't be an API call like I don't
shouldn't be an API call like I don't
know I often think that stuffs that
know I often think that stuffs that
requires callbacks just shouldn't be
requires callbacks just shouldn't be
part of the
part of the
API um like you should just give me the
API um like you should just give me the
lower level primitive so that I write
lower level primitive so that I write
the loop and I write the code that
the loop and I write the code that
you're trying to take as a call back but
you're trying to take as a call back but
whatever there's no point in arguing it
whatever there's no point in arguing it
because it's like box DD is written like
because it's like box DD is written like
this so it makes sense the way you've
this so it makes sense the way you've
done it the one thing we can agree or
done it the one thing we can agree or
disagree but the one thing I will say in
disagree but the one thing I will say in
these like calls box 2D does a lot of
these like calls box 2D does a lot of
like uh what's the word for just had it
like uh what's the word for just had it
just kind of like Tiding up like doing
just kind of like Tiding up like doing
little things that are like nonobvious
little things that are like nonobvious
like it doesn't just like get an array
like it doesn't just like get an array
of things Loop over and call your call
of things Loop over and call your call
back like it does a non-trivial amount
back like it does a non-trivial amount
of things so and then calls your call
of things so and then calls your call
back like very specific conditions are
back like very specific conditions are
held if you go and look at the source so
held if you go and look at the source so
okay to me it kind of makes sense
okay to me it kind of makes sense
because I look at it more then yeah I
because I look at it more then yeah I
just don't want to have to worry about
just don't want to have to worry about
it so I don't have
it so I don't have
to
to
but but now we're
but but now we're
having all over the place H but now we
having all over the place H but now we
are still having to debug this per stuff
are still having to debug this per stuff
it's like internal to box 2D and it's
it's like internal to box 2D and it's
more opaque
more opaque
yeah you're going to get some of that no
yeah you're going to get some of that no
matter how you structure stuff though
matter how you structure stuff though
like how they structure stuff I think
like how they structure stuff I think
just because it's just physics heavy
but yeah find open pause I've optimized
but yeah find open pause I've optimized
but like it's it's it's very fast like
but like it's it's it's very fast like
it it's you don't even see it on that
it it's you don't even see it on that
thing it's not a big
deal so it just it finds random
deal so it just it finds random
tile yeah um within a given like map
tile yeah um within a given like map
quadrant if you like ask it for one what
quadrant if you like ask it for one what
is this for for spawning yeah oh yeah I
is this for for spawning yeah oh yeah I
have similar logic to this cool
have similar logic to this cool
yeah and I use the quadrants because uh
yeah and I use the quadrants because uh
just to spawn like um weapons more like
just to spawn like um weapons more like
evenly and then also um this was
evenly and then also um this was
interesting
interesting
fun so this is probably like kind of um
fun so this is probably like kind of um
um obvious to you being an RL a lot but
um obvious to you being an RL a lot but
one thing that had a huge like a massive
one thing that had a huge like a massive
learning difference was um I made one
learning difference was um I made one
change it was like a oneline change to
change it was like a oneline change to
basically say Okay instead of like
basically say Okay instead of like
spawning drones like randomly spawn them
spawning drones like randomly spawn them
if you have two drones in like opposite
if you have two drones in like opposite
quadrants from each other yeah like
quadrants from each other yeah like
diagonally and that like killed learning
diagonally and that like killed learning
just because they started farther away
just because they started farther away
so it was harder for the agents to like
so it was harder for the agents to like
learn shooting as good so initial
learn shooting as good so initial
conditions and environments like this
conditions and environments like this
are huge um unless it's you just have
are huge um unless it's you just have
the damn thing running so fast and tuned
the damn thing running so fast and tuned
well enough that they just get over that
well enough that they just get over that
initial bit quick enough but it doesn't
matter so yes I've spent a lot of time
matter so yes I've spent a lot of time
debugging initial conditions in various
debugging initial conditions in various
stages of
stages of
neuro so yeah now I do spawn drones like
neuro so yeah now I do spawn drones like
in different quadrants but only when
in different quadrants but only when
you're like just playing as a human in
you're like just playing as a human in
training I just spawn them all like
training I just spawn them all like
random places basically yeah this is
fine don't spawn them in the death walls
fine don't spawn them in the death walls
right well so I pre-compute a list of
right well so I pre-compute a list of
like spawn points that are good for
like spawn points that are good for
drones um like so I don't have to do a
drones um like so I don't have to do a
bunch of distance checks every time but
bunch of distance checks every time but
if they're walls place like they might
if they're walls place like they might
be covering the spawn point so just this
be covering the spawn point so just this
doesn't even show up in the yeah no it's
doesn't even show up in the yeah no it's
fast and it's not called that often
fast and it's not called that often
unless hang on where is
it
find I don't see it
anywhere maybe it's literally out of
anywhere maybe it's literally out of
here
maybe find open
plus 23 oh okay yeah the Cula time is 23
plus 23 oh okay yeah the Cula time is 23
I think this thing is just not accurate
I think this thing is just not accurate
yeah no because that doesn't make any
yeah no because that doesn't make any
sense but it's like self time is like
sense but it's like self time is like
literally zero it's so small it won't
literally zero it's so small it won't
even measure
even measure
it and then Cory filter
it and then Cory filter
is loading wall weapon pickup
drone so the shape type is passed in the
drone so the shape type is passed in the
beginning I think and yeah so we're
beginning I think and yeah so we're
basically saying like
basically saying like
at um is anything overlapping as like
at um is anything overlapping as like
whatever we're checking for spawn point
whatever we're checking for spawn point
like are there any floating walls weapon
like are there any floating walls weapon
pickups or other drones like as this
pickups or other drones like as this
thing within a men spawn
distance I bet you could still do like a
distance I bet you could still do like a
tile based thing where you wouldn't even
tile based thing where you wouldn't even
have to freaking deal with that
have to freaking deal with that
but I think I've actually benchmarked
but I think I've actually benchmarked
it's actually faster to use their
it's actually faster to use their
overlap stuff because they have like
overlap stuff because they have like
optimizations and stuff
optimizations and stuff
and then just the last code on my
part yeah because they use a couple
part yeah because they use a couple
different data structures to keep track
different data structures to keep track
of stuff so it's like quick to do these
of stuff so it's like quick to do these
kind of checks I forget it's like
kind of checks I forget it's like
something similar to a quad tree but not
something similar to a quad tree but not
exactly it's like specific for physics I
exactly it's like specific for physics I
can't remember I've never heard of it
can't remember I've never heard of it
before some kind of tree though and some
before some kind of tree though and some
other things something is
not but there is something in here that
not but there is something in here that
is not as fast as I would think it could
is not as fast as I would think it could
be at 100 something in this function no
be at 100 something in this function no
not in this function just generally in
not in this function just generally in
the way they're doing their checks um it
the way they're doing their checks um it
might not be anything to do with the
might not be anything to do with the
contact checks to be
contact checks to be
fair but you would think that it would
fair but you would think that it would
be because that's kind of the only thing
be because that's kind of the only thing
you have to
you have to
do right it's probably like I said just
do right it's probably like I said just
the like the CCD The Continuous
the like the CCD The Continuous
Collision detection is I think like the
Collision detection is I think like the
main slowdown and projectiles have that
so yeah Sol okay we'll go we'll fiddle
so yeah Sol okay we'll go we'll fiddle
with that after Great
Wall y each wall is a different object
Wall y each wall is a different object
yeah I asked about have to be to be fair
yeah I asked about have to be to be fair
it doesn't but easier for me and I asked
it doesn't but easier for me and I asked
like would it be faster if I just you
like would it be faster if I just you
know merged into one big wall and he's
know merged into one big wall and he's
like it shouldn't really make a
like it shouldn't really make a
difference
difference
so I should be unlog in I would think
so I should be unlog in I would think
but okay what
but okay what
would uh no it's it's log n it's log n
would uh no it's it's log n it's log n
so
so
it's each Collision check should be log
it's each Collision check should be log
n of the number of stuff in the scene
n of the number of stuff in the scene
roughly yeah I don't
roughly yeah I don't
know maybe you do a little better than
know maybe you do a little better than
that I don't know
that I don't know
you could pop on Discord and ask him or
you could pop on Discord and ask him or
I could ask on your
I could ask on your
behalf we can also Time
stuff
e e
it's so obnoxious how like every single
it's so obnoxious how like every single
thing basically every single interaction
thing basically every single interaction
with box 2D it's just this massive ass
with box 2D it's just this massive ass
thing yeah I
thing yeah I
mean yeah you need to you need to tell
mean yeah you need to you need to tell
it a bunch of stuff about shapes and
it a bunch of stuff about shapes and
bodies though so it just kind of is what
bodies though so it just kind of is what
it is it's like two separate things as
it is it's like two separate things as
well where it's
like yeah because I mean you have rigid
like yeah because I mean you have rigid
bodies that the the body and then you
bodies that the the body and then you
can have multiple shapes per body which
can have multiple shapes per body which
I almost never do for me but you can so
I almost never do for me but you can so
yeah you have to create a body which
yeah you have to create a body which
kind of like is the container for the
kind of like is the container for the
shapes and then the shapes are actually
shapes and then the shapes are actually
what collide with stuff um I don't see
what collide with stuff um I don't see
why you have multi what the hell does
why you have multi what the hell does
multiple shapes per body do they like
multiple shapes per body do they like
move together yeah like say you have
move together yeah like say you have
like a bicycle or something you could
like a bicycle or something you could
have one body and then you could have
have one body and then you could have
like multiple shapes for wheels and
like multiple shapes for wheels and
handlebars and other stuff and that's
handlebars and other stuff and that's
just like a rigid thing I guess
yeah that's so weird that they make that
yeah that's so weird that they make that
the default of like okay in order to
the default of like okay in order to
support that then everything has to go
support that then everything has to go
under a a body I mean to be fair though
under a a body I mean to be fair though
I haven't I'm not a physics huge person
I haven't I'm not a physics huge person
but like I've like to looked a little
but like I've like to looked a little
bit at a couple different physics
bit at a couple different physics
engines and I think it's a very like
engines and I think it's a very like
common thing for most
common thing for most
engines they call them different things
engines they call them different things
like fixtures or whatever but
like fixtures or whatever but
necessarily care if it's a common thing
necessarily care if it's a common thing
I care that it's 10 lines of code to
I care that it's 10 lines of code to
make a bloody
make a bloody
Square again though like there's a lot
Square again though like there's a lot
of things I like there's a lot more
of things I like there's a lot more
things I could set but I don't have to
things I could set but I don't have to
because the defaults are fine like I
because the defaults are fine like I
don't know I just set what I need
don't know I just set what I need
to I mean I don't know you're dealing
to I mean I don't know you're dealing
with physics like there's just going to
with physics like there's just going to
be more boiler
plate well I don't necessarily buy that
plate well I don't necessarily buy that
there's ever going to have to be a ton
there's ever going to have to be a ton
of boiler
of boiler
plate
um it's difficult to come up with
um it's difficult to come up with
designs for things that reduce boiler
designs for things that reduce boiler
plate but it's damn
plate but it's damn
useful I mean to be honest I feel like
useful I mean to be honest I feel like
box 2D strikes a good balance you have
box 2D strikes a good balance you have
to kind of read more and get a feel for
to kind of read more and get a feel for
yourself but yeah it does a lot of stuff
yourself but yeah it does a lot of stuff
like it handles a lot of stuff and
like it handles a lot of stuff and
allows you to do a lot of stuff and I
allows you to do a lot of stuff and I
don't know a lot of it is you just kind
don't know a lot of it is you just kind
of tell it like initial things like yeah
of tell it like initial things like yeah
there's there's a decent bit of code to
there's there's a decent bit of code to
like set up shapes and bodies but then
like set up shapes and bodies but then
it handles a lot of stuff for you just
it handles a lot of stuff for you just
pretty like
smoothly but I mean again like there's a
smoothly but I mean again like there's a
lot of different proper depending on
lot of different proper depending on
physics objects like density and size
physics objects like density and size
and Mass like friction is this a what is
and Mass like friction is this a what is
this uh yeah that's a function that a
this uh yeah that's a function that a
function returns a struct like they
function returns a struct like they
don't even give
don't even give
you they don't even like give you the
you they don't even like give you the
struct so that you can like use nice
struct so that you can like use nice
struct initializer
struct initializer
syntax yeah so this is one weird thing
syntax yeah so this is one weird thing
because it's I for because it needs an
because it's I for because it needs an
ID or something well no so the the ID is
ID or something well no so the the ID is
created below so again you could do this
created below so again you could do this
more easily if you an LSP but if you go
more easily if you an LSP but if you go
into B2 default body def they every like
into B2 default body def they every like
body and shape and basically every main
body and shape and basically every main
like death thing in box 2D has like a
like death thing in box 2D has like a
secret cookie that like it sets and the
secret cookie that like it sets and the
engine will like basically I don't know
engine will like basically I don't know
if it's an assertion check like only de
if it's an assertion check like only de
bug check or it'll basically check to
bug check or it'll basically check to
make sure you like basically got it from
make sure you like basically got it from
this function because this function sets
this function because this function sets
like safe defaults for things
like safe defaults for things
so I'm not necessarily agreeing
so I'm not necessarily agreeing
disagreeing with that that's just how it
disagreeing with that that's just how it
is so the function is nice though
is so the function is nice though
because it does set like there are a ton
because it does set like there are a ton
of different members on these trucks and
of different members on these trucks and
it sets like a whole bunch of same
it sets like a whole bunch of same
defaults and if they weren't there I
defaults and if they weren't there I
need to set like a whole bunch more
need to set like a whole bunch more
stuff myself so I don't I'm not yeah
stuff myself so I don't I'm not yeah
it's annoying because you don't have
it's annoying because you don't have
default values for stru and see right
default values for stru and see right
yeah so I think it's fine
so yeah basically yeah that's a language
so yeah basically yeah that's a language
Li that's a language limitation to be
Li that's a language limitation to be
fair yeah I mean I think I don't know C
fair yeah I mean I think I don't know C
it would be nice to have I think default
it would be nice to have I think default
I really don't want a lot of stuff in C
I really don't want a lot of stuff in C
like I really like the language but like
like I really like the language but like
stuff like defaults on structs
stuff like defaults on structs
maybe I don't
know yeah this is honestly very simple
know yeah this is honestly very simple
body and shape definition cuz like it's
body and shape definition cuz like it's
simple it's just really verbos there's a
simple it's just really verbos there's a
lot of
lot of
boiler
yeah me to be fair also there's
yeah me to be fair also there's
like that's
fine the syntax I've ever seen on this
fine the syntax I've ever seen on this
is isn't it like the C++ thing where
is isn't it like the C++ thing where
they do like position value do user data
they do like position value do user data
value whatever and they just chain
value whatever and they just chain
it uh I don't know I don't know what
it uh I don't know I don't know what
language that
language that
is
is
but could be
worse okay so we just we're going to
worse okay so we just we're going to
have weapon pickup
have weapon pickup
and
today oh okay I'm also just getting
today oh okay I'm also just getting
confused because the types are all so
confused because the types are all so
camel
camel
cased I am a camel case
cased I am a camel case
enjoyer upper camel for the types For
enjoyer upper camel for the types For
Heaven's Sake but fine what' you say oh
Heaven's Sake but fine what' you say oh
upper camel the the like the types don't
upper camel the the like the types don't
the types start
the types start
lowercase yeah I don't know
usually you at least uper camel the
usually you at least uper camel the
whatever yeah come to think of it I'm
whatever yeah come to think of it I'm
kind of surprised I don't do that
kind of surprised I don't do that
because I WR want to go because in go
because I WR want to go because in go
like the way you export or
like the way you export or
unexported or not that's horrifying oh
unexported or not that's horrifying oh
honestly people say that but it makes a
honestly people say that but it makes a
ton of sense because you don't there's
ton of sense because you don't there's
no keywords there's no public private
no keywords there's no public private
whatever you can e immediately look at
whatever you can e immediately look at
anything and know if it's public or
anything and know if it's public or
private so it's honestly kind of
private so it's honestly kind of
brilliant in my opinion you just don't
brilliant in my opinion you just don't
have public or private but
have public or private but
whatever I don't know it's useful
whatever I don't know it's useful
because you have some API and you don't
because you have some API and you don't
want people to touch internals and then
want people to touch internals and then
you can kind of enforce it with the
you can kind of enforce it with the
language because people are stupid so or
language because people are stupid so or
sometimes future you is stupid
so it's a useful programming idiom yeah
not a keyword
not a keyword
enjoyer I mean that's a thing though it
enjoyer I mean that's a thing though it
gets rid of a keyword but you can also
gets rid of a keyword but you can also
just not have the keyword in the first
just not have the keyword in the first
place and just not have the
place and just not have the
distinction you can but I mean even C
distinction you can but I mean even C
has the way like has a way to do it you
has the way like has a way to do it you
just make things
just make things
static I never use that
keyword yeah I don't really but again if
keyword yeah I don't really but again if
you're making a library I think it's
you're making a library I think it's
useful because the then you can ensure
useful because the then you can ensure
like users won't come to you like oh man
like users won't come to you like oh man
I did this thing and now it's BR I don't
I did this thing and now it's BR I don't
really care if you called some like if
really care if you called some like if
you called some random internal function
you called some random internal function
that's not in the docs right I know but
that's not in the docs right I know but
sometimes the thing is like it's not
sometimes the thing is like it's not
obvious they did that but you can kind
obvious they did that but you can kind
of prevent that by doing that unless
of prevent that by doing that unless
like they literally change the source to
like they literally change the source to
do it and then it's like more obvious
do it and then it's like more obvious
you
you
know it just eliminates a whole class of
know it just eliminates a whole class of
Errors like I don't know it's really and
Errors like I don't know it's really and
it's really simple to do so I don't
it's really simple to do so I don't
really see a downside
I guess the lack of name spacing is yeah
okay because C doesn't really have any
okay because C doesn't really have any
sort of name space so yeah no no
yeah that is kind of
yeah that is kind of
annoying whatever
why are there so many different types of
entities I mean I need different info
entities I mean I need different info
for different entities so so I guess you
for different entities so so I guess you
just have separate structs for
just have separate structs for
everything yeah oh
my normal trick is just entity and I
my normal trick is just entity and I
just you know
just you know
like unless there's a perras in like I
like unless there's a perras in like I
projectiles probably want something
projectiles probably want something
smaller because there are a lot of them
smaller because there are a lot of them
but I just like have all the fields for
but I just like have all the fields for
all the
all the
entities yeah there's enough different
entities yeah there's enough different
types that I just it just be too
types that I just it just be too
confusing and messing for my taste
confusing and messing for my taste
personally but well you avoid stuff like
personally but well you avoid stuff like
needing a per type thing like
needing a per type thing like
this I mean yeah but then you'd have to
this I mean yeah but then you'd have to
special case it because like oh I'm
special case it because like oh I'm
creating you have to pass in like an
creating you have to pass in like an
enom or something to tell it like what
enom or something to tell it like what
you're creating to set Fields
you're creating to set Fields
accordingly yeah but this just makes
accordingly yeah but this just makes
more sense to me because instead of
more sense to me because instead of
having one giant function does
having one giant function does
everything you have smaller functions
everything you have smaller functions
that do like one
that do like one
thing yeah just have a lot of
thing yeah just have a lot of
them yeah it's easier to keep in your
them yeah it's easier to keep in your
mental mind though because you want to
mental mind though because you want to
say oh I want to change the behavior
say oh I want to change the behavior
of like how you know pickups respond
of like how you know pickups respond
it's like one small function usually l
it's like one small function usually l
in my I don't know it's these are all
in my I don't know it's these are all
silly preferen things right like in my
silly preferen things right like in my
mind it's just like having less code is
mind it's just like having less code is
also
easier yeah this was kind of tough to
easier yeah this was kind of tough to
figure out how to do create drone Shield
figure out how to do create drone Shield
what's the
what's the
shield so when you first start it's this
shield so when you first start it's this
like little opaque thing that goes over
like little opaque thing that goes over
you it basically eats any shots like any
you it basically eats any shots like any
shot that hits you it doesn't affect
shot that hits you it doesn't affect
your velocity at all um for like three
your velocity at all um for like three
or so seconds after you
or so seconds after you
spawn um but it was tough to make it so
spawn um but it was tough to make it so
that it would follow you around and not
that it would follow you around and not
affect your movement but also just eat
affect your movement but also just eat
shots because if I made a dynamic body
shots because if I made a dynamic body
it would you know like it would still
it would you know like it would still
move but if I made it a dynamic body
move but if I made it a dynamic body
attached to you then would like
attached to you then would like
interfere with movement
interfere with movement
so sep object you couldn't have just
so sep object you couldn't have just
like made the entity immune to shots for
like made the entity immune to shots for
a few
a few
seconds so yeah you can't so the only
seconds so yeah you can't so the only
way you could really the only way you
way you could really the only way you
could really do that is say like don't
could really do that is say like don't
collide with shots then they would just
collide with shots then they would just
pass through
pass through
it oh I see and you want to eat them
it oh I see and you want to eat them
yeah like if you shoot a shielded player
yeah like if you shoot a shielded player
just bounces off the player the shield I
just bounces off the player the shield I
guess if I were trying to do this your
guess if I were trying to do this your
way it would be or Not Your Way box way
way it would be or Not Your Way box way
it would
it would
be wouldn't you just set you set the
be wouldn't you just set you set the
shield as a mask bit
shield as a mask bit
right and then when you're doing
right and then when you're doing
Collision checks The Shield is one of
Collision checks The Shield is one of
the Mask bits and your call back tells
the Mask bits and your call back tells
you that hey if the shield bit is set
you that hey if the shield bit is set
you eat this projectile instead of
you eat this projectile instead of
letting it pass
letting it pass
through yeah but don't have a call back
through yeah but don't have a call back
for like on collision um well yeah they
for like on collision um well yeah they
don't really have like an on collision
don't really have like an on collision
do this they just there's no on
do this they just there's no on
collision they have Collision callbacks
collision they have Collision callbacks
which I handle like events basically
which I handle like events basically
Collision events which I consume but
Collision events which I consume but
they don't have like I am in the process
they don't have like I am in the process
of like deciding what to do with the
of like deciding what to do with the
Collision like you decide what to do
Collision like you decide what to do
with
with
it you just set like you set like uh
it you just set like you set like uh
filters like here's you know what should
filters like here's you know what should
Collide here's what shouldn't Collide
Collide here's what shouldn't Collide
and then yeah they do have a call back
and then yeah they do have a call back
for like very so you can use a call back
for like very so you can use a call back
if you say you want to have like a
if you say you want to have like a
one-way platform like say you have a 2d
one-way platform like say you have a 2d
platform like Mario where you can jump
platform like Mario where you can jump
like from underneath on top of it but
like from underneath on top of it but
then like when you get on top of it it's
then like when you get on top of it it's
like Solid Ground you can have that with
like Solid Ground you can have that with
a call back but all it allows you to do
a call back but all it allows you to do
is say like should you collide with this
is say like should you collide with this
yes or no so that and still in this case
yes or no so that and still in this case
it basically just like pass through
it basically just like pass through
it so there's three main types of body
it so there's three main types of body
which never move kinematic um only move
which never move kinematic um only move
like with you like how you set the
like with you like how you set the
velocity to them they essentially have
velocity to them they essentially have
infinite mass and then dynamic or just
infinite mass and then dynamic or just
normal so um I create a separate
normal so um I create a separate
kinematic body because again that has
kinematic body because again that has
like infinite Mass essentially um and so
like infinite Mass essentially um and so
anything that's shot at it it'll just
anything that's shot at it it'll just
eat it well it won't eat it it'll just
eat it well it won't eat it it'll just
act like you know it's like a movable
act like you know it's like a movable
object but then I yeah so I I syn its
object but then I yeah so I I syn its
velocity to the Drone and I set it to
velocity to the Drone and I set it to
not collide with the parent drone um and
not collide with the parent drone um and
then but the thing is though because
then but the thing is though because
it's not attached to the Drone if the
it's not attached to the Drone if the
Drone runs into a death wall it'll just
Drone runs into a death wall it'll just
die so I create another shape on the
die so I create another shape on the
Drone that only collides with
Drone that only collides with
walls uh and other Shields I think and
walls uh and other Shields I think and
so that way like if the Drone now
so that way like if the Drone now
touches and I set it's like type as a
touches and I set it's like type as a
shield not as a drone because you know
shield not as a drone because you know
if a drone touches a wall dies so then
if a drone touches a wall dies so then
if it has a shield if it touches a death
if it has a shield if it touches a death
wall it'll be hit by that other
wall it'll be hit by that other
shape it's kind of confusing Yeah It's
shape it's kind of confusing Yeah It's
Tricky Yeah It's Tricky thing to figure
Tricky Yeah It's Tricky thing to figure
out I'm really curious how they did in
out I'm really curious how they did in
the original game but I tried to
the original game but I tried to
decompile it because it's like C and
decompile it because it's like C and
unity but it gave me all the boiler
unity but it gave me all the boiler
plate and none of the actual game logic
plate and none of the actual game logic
which is
which is
annoying yeah how long is the Box 2D
annoying yeah how long is the Box 2D
source code I don't know long long long
source code I don't know long long long
longer than this I'll tell you
longer than this I'll tell you
that
probably it seems like there should be
probably it seems like there should be
if you didn't need joints and
stuff I mean joints are pretty useful
stuff I mean joints are pretty useful
though I know maybe then you maybe you
though I know maybe then you maybe you
can I don't know it's I'm just wondering
can I don't know it's I'm just wondering
how much of this
how much of this
is fighting the thing you're trying to
is fighting the thing you're trying to
do versus fighting the physics
do versus fighting the physics
API I don't know I mean I've worked with
API I don't know I mean I've worked with
enough like third party stuff like if
enough like third party stuff like if
you do enough complex stuff eventually
you do enough complex stuff eventually
you're going to reach a point where like
you're going to reach a point where like
there are like the limitations or like
there are like the limitations or like
decisions that the library made are
decisions that the library made are
going to make it difficult for you at
going to make it difficult for you at
some point but like I don't know there's
some point but like I don't know there's
always compromises and sometimes a
always compromises and sometimes a
compromise is going to bite you but like
compromise is going to bite you but like
maybe it doesn't bite very this is very
maybe it doesn't bite very this is very
heavily called back I mean this is not
heavily called back I mean this is not
like nested call back hell but this is
like nested call back hell but this is
I this is like a very clearly an event
I this is like a very clearly an event
driven
driven
programming like implementation of this
programming like implementation of this
yeah which is
yeah which is
like I mean that's not just the way you
like I mean that's not just the way you
do things right that's a very
do things right that's a very
opinionated design
opinionated design
sure and uh it does cause stuff like
sure and uh it does cause stuff like
this because you do take control flow
this because you do take control flow
from the user uh yeah but I don't really
from the user uh yeah but I don't really
think like rearranging so changing the
think like rearranging so changing the
API to not use callbacks would solve
API to not use callbacks would solve
this problem no that's no because you
this problem no that's no because you
would just like whenever you're you
would just like whenever you're you
would just be able to write your custom
would just be able to write your custom
logic you know where you do Collision
checks I mean I I guess that's well the
checks I mean I I guess that's well the
thing is then you'd have to like really
thing is then you'd have to like really
rewrite World step because right now
rewrite World step because right now
like it doesn't it
like it doesn't it
doesn't yeah you would break it apart so
doesn't yeah you would break it apart so
like the optimizations you're talking
like the optimizations you're talking
about where it's like well it doesn't
about where it's like well it doesn't
just run the stuff in the loop you would
just run the stuff in the loop you would
put like those types of checks right
put like those types of checks right
uh that would be stuff that the user can
uh that would be stuff that the user can
call at the start and then you would
call at the start and then you would
like the individual checks would be up
like the individual checks would be up
to the user in the loop and you get to
to the user in the loop and you get to
write your custom logic so yeah you
write your custom logic so yeah you
don't give you like a world update
don't give you like a world update
function that does just does everything
function that does just does everything
but in return like whenever you actually
but in return like whenever you actually
want the world to do something specific
want the world to do something specific
with your objects you just write the
with your objects you just write the
code you don't have to write a call
code you don't have to write a call
back yeah I mean so I see what you're
back yeah I mean so I see what you're
saying you just kind of want the power
saying you just kind of want the power
user version the downside of that is
user version the downside of that is
like doing doing things in General it'd
like doing doing things in General it'd
be way harder to get started and
be way harder to get started and
probably like more error prone to do
probably like more error prone to do
certain things but you'd have like more
certain things but you'd have like more
ability to do certain
ability to do certain
things they're trying the the I like rip
things they're trying the the I like rip
right I like how RB it's not it's not
right I like how RB it's not it's not
like you it's like here if you were to
like you it's like here if you were to
do this for rayb it would be like you
do this for rayb it would be like you
attach things to the scene right and
attach things to the scene right and
then you just do rb.
then you just do rb.
draw right yeah so that's how a lot of
draw right yeah so that's how a lot of
render libraries work that's how a lot a
render libraries work that's how a lot a
lot of render libraries work and they
lot of render libraries work and they
all suck
all suck
because of it yeah so because they take
because of it yeah so because they take
the control Flow Away yeah right look
the control Flow Away yeah right look
I'm not saying it's perfect but I'm just
I'm not saying it's perfect but I'm just
saying like I can see why he did it I no
saying like I can see why he did it I no
I can see it's it's a thing that people
I can see it's it's a thing that people
do right event driven programming is
do right event driven programming is
very common in fact like every game
very common in fact like every game
engine ever this is kind of how they do
engine ever this is kind of how they do
stuff right because they make their
stuff right because they make their
module they attach it to the scene and
module they attach it to the scene and
then the game engine is the thing that
then the game engine is the thing that
actually runs the
loop but yeah I mean
yeah I'm not I'm we're not going to
yeah I'm not I'm we're not going to
change that at least today so it is what
change that at least today so it is what
it is for this like this is I see like
it is for this like this is I see like
the like given the way that the engine
the like given the way that the engine
works like the way that you've done this
works like the way that you've done this
is perfectly sensible right I'm more the
is perfectly sensible right I'm more the
reason I'm like saying all this stuff
reason I'm like saying all this stuff
out loud is because I'm looking longer
out loud is because I'm looking longer
term it's like okay um this is a thing
term it's like okay um this is a thing
where if you keep making if we keep
where if you keep making if we keep
doing more and more stuff with box 2D
doing more and more stuff with box 2D
like I don't know maybe it is worth
like I don't know maybe it is worth
looking at if we can get like access to
looking at if we can get like access to
the core Loop maybe that makes the code
the core Loop maybe that makes the code
half the length I don't
know maybe after do this whole review
know maybe after do this whole review
pop like legit pop in the Box D Discord
pop like legit pop in the Box D Discord
and I don't know talk to the talk to
and I don't know talk to the talk to
Aaron I honestly think I should do more
Aaron I honestly think I should do more
than just that I should I'd have to
than just that I should I'd have to
really like make an end and get a feel
really like make an end and get a feel
for it
for it
first yeah that's
first yeah that's
fair and like i' love want to sort of
fair and like i' love want to sort of
get a sense of like what does it feel
get a sense of like what does it feel
like to do your own Loop versus this
like to do your own Loop versus this
what is the lifting that box is actually
what is the lifting that box is actually
doing for you under the scenes right you
doing for you under the scenes right you
say it's very optimize in a number of
say it's very optimize in a number of
places but what is it actually doing I'd
places but what is it actually doing I'd
want to know
want to know
that yeah I couldn't tell you well but
that yeah I couldn't tell you well but
that's this is the thing right it's
that's this is the thing right it's
doing a lot somehow but you don't know
doing a lot somehow but you don't know
like what it is so it's like is this
like what it is so it's like is this
something that you could call yourself
something that you could call yourself
in a few functions that could just be
in a few functions that could just be
isolated is it something that has to be
isolated is it something that has to be
in an invent Loop like I don't no right
in an invent Loop like I don't no right
like could you just give me a is it like
like could you just give me a is it like
are all your implementation
are all your implementation
optimizations in a really good quad tree
optimizations in a really good quad tree
somewhere that like I can just take your
somewhere that like I can just take your
quadry and then write my own Loops over
quadry and then write my own Loops over
it right like I don't
it right like I don't
know it depends how tied together all
know it depends how tied together all
those optimizations
are here's your
drone yep okay there's your comment on
drone yep okay there's your comment on
this density
this density
okay all the different
okay all the different
properties yeah this this one's got a
properties yeah this this one's got a
lot and just setting my own like
lot and just setting my own like
defaults for my own uh entity type and
defaults for my own uh entity type and
stuff
so I I'll agree here that this doesn't
so I I'll agree here that this doesn't
really matter all that much um given
really matter all that much um given
that the physics engine is way
that the physics engine is way
slower
slower
anyways um I I'd probably still do stuff
anyways um I I'd probably still do stuff
static just because I'm used to it and I
static just because I'm used to it and I
don't think it's that
don't think it's that
hard but because like the code that you
hard but because like the code that you
add in setting it up static ends up
add in setting it up static ends up
being the same is the code that you end
being the same is the code that you end
up adding for deleting it like for
up adding for deleting it like for
destroying all the extra objects anyways
destroying all the extra objects anyways
um the thing is though I have to destroy
um the thing is though I have to destroy
the bodies anyway so it's that's true
the bodies anyway so it's that's true
okay I forgot about that that's so
okay I forgot about that that's so
that's obnoxious there's no like
that's obnoxious there's no like
destroy like just here's a like array of
destroy like just here's a like array of
bodies destroy them
bodies destroy them
all well I mean I could do that I could
all well I mean I could do that I could
store all the bodies and like get AR r
store all the bodies and like get AR r
or something but again they provide an
or something but again they provide an
easy way to do that I just don't do it
easy way to do that I just don't do it
because then it have to destroy the
because then it have to destroy the
whole world and I don't yeah no that's
whole world and I don't yeah no that's
that's not what you want you don't want
that's not what you want you don't want
the whole you just want to destroy the
the whole you just want to destroy the
exist okay yeah yeah so but normally if
exist okay yeah yeah so but normally if
you just destroy the world it takes care
you just destroy the world it takes care
of everything so it's very
of everything so it's very
nice yeah but you don't you want to keep
nice yeah but you don't you want to keep
the map you don't want to yeah I
yep I mean this is like this is good
yep I mean this is like this is good
though I mean it's like it's good that I
though I mean it's like it's good that I
basically can't find other than like the
basically can't find other than like the
RL stuff that I found so far where it's
RL stuff that I found so far where it's
like the data architecture would lend
like the data architecture would lend
itself to compressing some stuff
itself to compressing some stuff
like I can't find any short things that
like I can't find any short things that
like a you can just get rid of this and
like a you can just get rid of this and
this it's like much bigger stuff that
this it's like much bigger stuff that
would have to be changed design wise and
would have to be changed design wise and
then it's like there would be tradeoffs
then it's like there would be tradeoffs
right yeah so and you haven't really
right yeah so and you haven't really
gotten to the meat of the code yet
gotten to the meat of the code yet
because this is all like creating and
because this is all like creating and
destroying stuff like once you get past
destroying stuff like once you get past
the creation and destruction then it's
the creation and destruction then it's
actually
like yeah these are just little
like yeah these are just little
triangles you
triangles you
see these are the
see these are the
triangles yeah when someone when someone
triangles yeah when someone when someone
dies yeah okay a lot of the boiler plate
dies yeah okay a lot of the boiler plate
Point
Point
St yeah I'm not disagreeing that was
St yeah I'm not disagreeing that was
annoying when I had to write this
yeah yeah I probably would have just
yeah yeah I probably would have just
done it in screen space without Box 2
done it in screen space without Box 2
yeah I I could have but I wanted it to
yeah I I could have but I wanted it to
collide off walls that is cool how many
collide off walls that is cool how many
lines in the environment about 7,000
about half of which looks like the spxx
about half of which looks like the spxx
2 def
Falls I don't quite go that far but it
Falls I don't quite go that far but it
is a lot
oh yeah by the way um as for the respawn
oh yeah by the way um as for the respawn
timer masking will break one of the uh
timer masking will break one of the uh
the fun optimizations I came up with
the fun optimizations I came up with
just FYI oh yeah uhhuh why is
just FYI oh yeah uhhuh why is
that um because one of the optimizations
that um because one of the optimizations
is to index with slices instead of an
is to index with slices instead of an
array of integers
array of integers
M so if you have a contiguous slice it's
M so if you have a contiguous slice it's
uh you avoid a copy on the data that was
uh you avoid a copy on the data that was
one of the ones I think what I'm
one of the ones I think what I'm
planning on doing is I'm not gonna mask
planning on doing is I'm not gonna mask
when they're respawning because I think
when they're respawning because I think
like where the other drones are I don't
like where the other drones are I don't
know if you don't as long as it's not a
know if you don't as long as it's not a
very long respawn time I think that'll
very long respawn time I think that'll
be fine it's like two or three seconds I
be fine it's like two or three seconds I
don't know it steps right yeah I don't
don't know it steps right yeah I don't
know uh
know uh
yeah I don't
know okay here's the offending
know okay here's the offending
projectile yeah there's a lot of logic
projectile yeah there's a lot of logic
in here just for setting impuls outside
in here just for setting impuls outside
the Drone so they don't immediately
the Drone so they don't immediately
Collide okay yeah then I also have to
Collide okay yeah then I also have to
detect like basically if the drone's
detect like basically if the drone's
like kissing a wall essentially and it's
like kissing a wall essentially and it's
shooting into the wall like spawn it so
shooting into the wall like spawn it so
it's not like inside the wall or the
it's not like inside the wall or the
Drone that was fun to find
out fun oh I think what I do is instead
out fun oh I think what I do is instead
of if I'm going if I would have normally
of if I'm going if I would have normally
spawned it in the wall I spawn it like
spawned it in the wall I spawn it like
basically inside the Drone instead
basically inside the Drone instead
because that's like than inside the wall
because that's like than inside the wall
I guess cuz drones are Dynamic and they
I guess cuz drones are Dynamic and they
can move but walls can't they can bump
can move but walls can't they can bump
they can Boop yeah
yeah okay so this is the is physics
yeah okay so this is the is physics
bullet thing yeah and that's that
bullet thing yeah and that's that
enables continuous Collision
enables continuous Collision
detection you would think that it would
detection you would think that it would
enable some optimized thing because
enable some optimized thing because
there are a lot of bullets in games
there are a lot of bullets in games
normally so the thing is um
normally so the thing is um
yeah like when it's a bullet you have to
yeah like when it's a bullet you have to
do more expensive checks because you're
do more expensive checks because you're
well when you said it to be a bullet now
well when you said it to be a bullet now
you're instead of so normally he does he
you're instead of so normally he does he
does continuous Collision detections
does continuous Collision detections
always um Dynamic objects against static
always um Dynamic objects against static
objects so basically like ensuring that
objects so basically like ensuring that
like everything won't like tunnel
like everything won't like tunnel
through like say walls or something but
through like say walls or something but
he doesn't like the box box Duty will
he doesn't like the box box Duty will
not like do CCD against two Dynamic
not like do CCD against two Dynamic
objects so you have to explicitly tell
objects so you have to explicitly tell
it to because that is very performance
it to because that is very performance
intensive wait did the bullets don't
intensive wait did the bullets don't
have do the bullets have to collide with
have do the bullets have to collide with
each
each
other um they do but it doesn't matter
other um they do but it doesn't matter
because I have to enable this or else
because I have to enable this or else
they'd pass through drones like
they'd pass through drones like
sometimes no way to make them not
sometimes no way to make them not
collide with each other but still
collide with each other but still
collide with
collide with
DRS um cuz that's a lot of checks isn't
DRS um cuz that's a lot of checks isn't
it like everyone every other so no
it like everyone every other so no
you're right um if two like bullets do
you're right um if two like bullets do
Collide but they don't do the expensive
Collide but they don't do the expensive
CCD checks against each
CCD checks against each
other so they just do normal Collision
other so they just do normal Collision
checks but they don't do like the
checks but they don't do like the
expensive ones so they kind of do what
expensive ones so they kind of do what
you
said something is
said something is
slow it has to do with the bullets yeah
slow it has to do with the bullets yeah
it's it's CCD I think CCD is just
it's it's CCD I think CCD is just
like okay well can you can we okay we'll
like okay well can you can we okay we'll
I guess we want to get to the meat of
I guess we want to get to the meat of
this but like can we we could just turn
this but like can we we could just turn
it off and see if it's fast right you
it off and see if it's fast right you
can if you put that to false I bet it
can if you put that to false I bet it
would speed it up a lot like is bullet
would speed it up a lot like is bullet
false I bet it would speed it up a
lot all right do it get diff quick just
lot all right do it get diff quick just
to make sure it's the only main thing
to make sure it's the only main thing
you
you
Chang it is
Chang it is
right it should just be comments and
right it should just be comments and
that that that comments comments
that that that comments comments
comments live one yeah should be good
nope it took it down from like 26 to 21
nope it took it down from like 26 to 21
I mean that's a decent bit but not as
I mean that's a decent bit but not as
much as I thought
yeah that's not the thing that saves it
yeah that's not the thing that saves it
I mean yeah I think just all the bullets
I mean yeah I think just all the bullets
in general theit like the projectiles
in general theit like the projectiles
are just Prett expensive to simulate
are just Prett expensive to simulate
because there's so many of them they all
because there's so many of them they all
bouncing around at different speeds
bouncing around at different speeds
anding and
crap if you can render like 50k of these
crap if you can render like 50k of these
things in real time
things in real time
which you
which you
can like we should be able to simulate
can like we should be able to simulate
more than that
no I don't I don't know if I could
no I don't I don't know if I could
render 50k of them you can that's like a
render 50k of them you can that's like a
common test of like rendering that many
entities spr Oh you mean like with no
entities spr Oh you mean like with no
simulation just like just rendering them
simulation just like just rendering them
no they they do simulate they simulate
no they they do simulate they simulate
and render oh okay like it's like the
and render oh okay like it's like the
bunnies test or whatever oh okay
Okay add a bit of lateral drone velocity
Okay add a bit of lateral drone velocity
of the
of the
projectile yes so you can so basically
projectile yes so you can so basically
if you are moving like directly to the
if you are moving like directly to the
right and you're aiming straight down
right and you're aiming straight down
and you shoot the the projectile won't
and you shoot the the projectile won't
go straight down it'll go a little bit
go straight down it'll go a little bit
to the right but it also depends on like
to the right but it also depends on like
the um density of the projectile so it
the um density of the projectile so it
depends like weapon to weapon
sensors only on
sensors only on
mines mines and the flat
cannons get shaped projected
cannons get shaped projected
perimeter yeah that's something so they
perimeter yeah that's something so they
have an explosion callback function but
have an explosion callback function but
like I did it myself because I wanted to
like I did it myself because I wanted to
control a bunch of stuff so like yeah I
control a bunch of stuff so like yeah I
needed to copy that out cu like I think
needed to copy that out cu like I think
they made it static or something
they made it static or something
something so
something so
yeah and there was some logic in there I
yeah and there was some logic in there I
didn't
didn't
need one
sec explodes projectile ensures any
sec explodes projectile ensures any
other projectiles that are caught are
other projectiles that are caught are
also destroyed
e exploding projectiles
okay yeah this is where it gets to the
okay yeah this is where it gets to the
more comp stuffff handling like chained
explosions so you have a projectile
explosions so you have a projectile
entity MH which then has a bunch of
entity MH which then has a bunch of
entities attached a bunch
entities attached a bunch
of no I have a separate like array that
of no I have a separate like array that
holds like the number okay so this is
holds like the number okay so this is
all the exploding
all the exploding
projectiles all the projectiles that
projectiles all the projectiles that
exploded this step and like and need to
exploded this step and like and need to
be destroyed basically or are exploding
be destroyed basically or are exploding
this step
yeah okay so it just has Global access
yeah okay so it just has Global access
to all the exploding ones to chain it I
to all the exploding ones to chain it I
see
see
yeah and here is
yeah and here is
the context that actually does that yeah
the context that actually does that yeah
the explode context is one of the
the explode context is one of the
biggest functions or probably the most
biggest functions or probably the most
complex function one of the more complex
complex function one of the more complex
functions Contex next let get the
functions Contex next let get the
entity make some
pointers yeah I have to Define stuff up
pointers yeah I have to Define stuff up
there because you can't like in the
there because you can't like in the
first line of a switch case you can't
first line of a switch case you can't
like create a variable stupid C
thing that's just C
thing that's just C
scoping yeah um
scoping yeah um
projectile to The Entity
and context projectile is a projectile
and context projectile is a projectile
projectile needs to be
destroyed so if you turn to True from
destroyed so if you turn to True from
this call back it keeps going but if you
this call back it keeps going but if you
turn false it'll just exit early and it
turn false it'll just exit early and it
won't like call your function
again in general for box to be
callbacks the parent drone if this is a
callbacks the parent drone if this is a
bur
so explode call back is is um done for
so explode call back is is um done for
projectile explosion and burst because
projectile explosion and burst because
they're pretty similar I mean they're
they're pretty similar I mean they're
both explosions they're just handled a
both explosions they're just handled a
little bit differently in some
cases you count burst as a own
cases you count burst as a own
projectile no as it own
projectile no as it own
explosion its own
explosion its own
explosion yeah
first text parent for
okay
okay
text entity is hang on the shape
Yeah so basically you can attach like a
Yeah so basically you can attach like a
void pointer two shapes or bodies and
void pointer two shapes or bodies and
then you can just get whatever that
is so all the step info stuff is for
is so all the step info stuff is for
like reward purposes all somewhat for Lo
like reward purposes all somewhat for Lo
well it's for logging and
well it's for logging and
rewarding like tracking like who got hit
rewarding like tracking like who got hit
who exploded who did you hit yourself BL
blah this is a void pointer and it gets
blah this is a void pointer and it gets
made as an entity okay yeah and entity
made as an entity okay yeah and entity
it just has um a void pointer to the
it just has um a void pointer to the
actual
and then a type like an En like what
and then a type like an En like what
type it is oh man you have the the type
type it is oh man you have the the type
named the same name as the variable yeah
named the same name as the variable yeah
I mostly call it an I messed up there I
I mostly call it an I messed up there I
didn't even know that that's
didn't even know that that's
valid yeah you can do that in most
valid yeah you can do that in most
languages although it's kind of weird I
languages although it's kind of weird I
didn't mean to do that most places I
didn't mean to do that most places I
name like the variable an but I guess I
name like the variable an but I guess I
didn't
didn't
here my brain is probably shot working
here my brain is probably shot working
on this function to be fair I've this is
on this function to be fair I've this is
a function I modify a
a function I modify a
lot context
lot context
e stat
e stat
okay parent drone
index nothing if you h a
index nothing if you h a
wall normal explosions
wall normal explosions
don't why is there even a case on this
don't why is there even a case on this
death wall ENT so if you burst into a
death wall ENT so if you burst into a
static wall it pushes you away so I have
static wall it pushes you away so I have
to handle that
to handle that
if you into a static wall so remember
if you into a static wall so remember
how this is the death wall right I'm
how this is the death wall right I'm
confused any wall so they're fall
confused any wall so they're fall
through
through
they yeah okay I hate switch statements
they yeah okay I hate switch statements
whatever um
whatever um
okay so all if you hit any
okay so all if you hit any
wall it just depends if it's floating or
wall it just depends if it's floating or
not if it's floating it'll push it away
not if it's floating it'll push it away
like normal but if you if uh you burst
like normal but if you if uh you burst
into a normal wall it'll push you away
okay I see what you did MH
just spend 90 minutes on a elite C
just spend 90 minutes on a elite C
feature what are you doing
my
gosh interview
prep next time I have to take Elite code
prep next time I have to take Elite code
interview just do me a favor and just
interview just do me a favor and just
shoot me
instead not doing that [ __ ] anymore
yeah the reason I use B2 shape distance
yeah the reason I use B2 shape distance
here is because the radius of the
here is because the radius of the
explosion is plainly seen But if I used
explosion is plainly seen But if I used
like the center of um entities instead
like the center of um entities instead
it could be kind of confus because you
it could be kind of confus because you
could have like a player who's like just
could have like a player who's like just
the like a small point of them is
the like a small point of them is
but they're not affected so it like
feels and I also use a lot of this stuff
feels and I also use a lot of this stuff
can be cheated because circles are
can be cheated because circles are
really easy to do this check four right
really easy to do this check four right
yeah I mean I'm sure they special case
yeah I mean I'm sure they special case
that I don't know because you can pass
that I don't know because you can pass
it like it knows CLE
yeah I mean it's literally just like
yeah I mean it's literally just like
subtract
subtract
radius yeah
radius yeah
don't consider fall
don't consider fall
off so yeah explosion have like a radius
off so yeah explosion have like a radius
and then a fall off so like the fall off
and then a fall off so like the fall off
affects you like a lot less than a
affects you like a lot less than a
radius does don't consider fall off for
radius does don't consider fall off for
static
static
walls so basically when you burst like
walls so basically when you burst like
when you're charging it it has like this
when you're charging it it has like this
ring that goes around you to tell you
ring that goes around you to tell you
like when you release it like how big
like when you release it like how big
the explosion will be but that's the
the explosion will be but that's the
radius not the fall off so I don't
radius not the fall off so I don't
consider the fall off or static walls so
consider the fall off or static walls so
it's not suris
it's not suris
surprising if that makes sense so you
surprising if that makes sense so you
get pushed back the same amount no
get pushed back the same amount no
matter how much of the circles on the
matter how much of the circles on the
wall uh the so if you're anywhere in the
wall uh the so if you're anywhere in the
radius it's the same but if you're in
radius it's the same but if you're in
the fall off then it starts to like
the fall off then it starts to like
affect you less depending on where you
affect you less depending on where you
are in the fall off okay so there's like
are in the fall off okay so there's like
a full damage region and there's a
a full damage region and there's a
falloff region yeah
falloff region yeah
okay but the burst like helper ring
okay but the burst like helper ring
doesn't show the fall off it shows the
doesn't show the fall off it shows the
radius so it'd be confusing using if you
radius so it'd be confusing using if you
would like oh yeah I'm safe to burst
would like oh yeah I'm safe to burst
here and not get pushed back and then
here and not get pushed back and then
you're not so oh
you're not so oh
okay just it's just a special case oh
okay just it's just a special case oh
okay I see I see yeah that should
okay I see I see yeah that should
actually you know that should be handled
actually you know that should be handled
not in the code that should be handled
not in the code that should be handled
in the
visuals what do you
visuals what do you
mean well if you have like the ring you
mean well if you have like the ring you
should kind of get like a ripple or
should kind of get like a ripple or
something for the fall off
something for the fall off
range uh
maybe there's a lot you can do on
maybe there's a lot you can do on
that um the visual side yeah we got to
that um the visual side yeah we got to
get we got to get like into this as you
get we got to get like into this as you
say so we can get
say so we can get
there
there
yeah once get through this function I'll
yeah once get through this function I'll
probably have to dip for the day but we
probably have to dip for the day but we
can do more tomorrow but yeah we got
can do more tomorrow but yeah we got
like this is like almost halfway into
like this is like almost halfway into
this game
this game
code mhm but to be fair all the meat is
code mhm but to be fair all the meat is
like towards the end we also got through
like towards the end we also got through
the end file in the OBS today yeah that
the end file in the OBS today yeah that
was that's not too
was that's not too
bad yeah you haven't really like this
bad yeah you haven't really like this
right now you're like finally into the
right now you're like finally into the
actual meat a lot of the rest of it is
actual meat a lot of the rest of it is
like M stuff set up you know boiler
like M stuff set up you know boiler
plate tearing it creating tearing down
plate tearing it creating tearing down
blah blah
blah blah
blah over a thousand lmes in for all
blah over a thousand lmes in for all
that yeah it's a lot of boiler
that yeah it's a lot of boiler
well a lot of it is just helpful like
well a lot of it is just helpful like
helper functions to do certain things
helper functions to do certain things
it's not on you it's a lot of box 2D
it's not on you it's a lot of box 2D
boiler
boiler
yeah but anyway there are only a few
yeah but anyway there are only a few
small things where I'm like okay I would
small things where I'm like okay I would
have done that
have done that
differently
differently
um and they're like mostly preference
um and they're like mostly preference
like in general I like these things
like in general I like these things
always bite me so I just never use
always bite me so I just never use
switch
switch
statements oh I think for this it's it
statements oh I think for this it's it
makes sense but yeah this preference
so yeah basically if the direction is
so yeah basically if the direction is
zero like the um the entity we're
zero like the um the entity we're
considering for the explosion is
considering for the explosion is
literally like on the exact explosion
literally like on the exact explosion
Center so we have to like randomly set
Center so we have to like randomly set
like what the direction will be or else
like what the direction will be or else
like you'll have some like division by
like you'll have some like division by
zero
somewhere it's behind wall don't explode
somewhere it's behind wall don't explode
The Entity if it's behind
The Entity if it's behind
no so return true just means like you
no so return true just means like you
just exit oh so I okay so you have to
just exit oh so I okay so you have to
see oh
see oh
okay yeah cuz the radius can be bigger
okay yeah cuz the radius can be bigger
than it can go over a wall MH yeah very
than it can go over a wall MH yeah very
easily this is a damic check and you're
easily this is a damic check and you're
just doing it to the center point I
just doing it to the center point I
would
would
assume um it's just like a center check
assume um it's just like a center check
right well the center of the explosion
right well the center of the explosion
to like the closest point well so I I
to like the closest point well so I I
actually do Center of explosion to
actually do Center of explosion to
closest point on
closest point on
agent um of whatever entity but I
agent um of whatever entity but I
already find the closest point so I'm
already find the closest point so I'm
just I'm just passing those points in
just I'm just passing those points in
because like there's all sorts of stuff
because like there's all sorts of stuff
I don't think it's this sophisticated
I don't think it's this sophisticated
right if it is this sophisticated then I
right if it is this sophisticated then I
understand why it's slow but
understand why it's slow but
like if we do like
I
think hang
on I think like technically you can have
on I think like technically you can have
cases where like like you can see a
cases where like like you can see a
portion of it behind the wall but the
portion of it behind the wall but the
center point is
center point is
still right through the
wall uh what's the big circle like the
wall uh what's the big circle like the
huge circle AOE so you can have an AOE
huge circle AOE so you can have an AOE
yeah an agent so like you can have stuff
yeah an agent so like you can have stuff
technically if you're being really
technically if you're being really
pedantic with your physics you can have
pedantic with your physics you can have
stuff where like you can shoot them
stuff where like you can shoot them
because you can see a portion of them
because you can see a portion of them
behind the wall like sticking out from
behind the wall like sticking out from
the wall but if you just do the center
the wall but if you just do the center
check you won't see that I don't think
check you won't see that I don't think
it's sophisticated enough to do this
it's sophisticated enough to do this
right uh so yeah in this situation it
right uh so yeah in this situation it
would explode
would explode
it it would why would it would actually
it it would why would it would actually
get to this line yeah because it finds
get to this line yeah because it finds
the closest point oh actually no no
the closest point oh actually no no
you're right yeah the closest yeah it
you're right yeah the closest yeah it
wouldn't explode it okay so I this is
wouldn't explode it okay so I this is
where like if it's doing this I go okay
where like if it's doing this I go okay
that's complicated I don't know how it
that's complicated I don't know how it
does that fast like we'll just take our
does that fast like we'll just take our
SPS and be happy if it's this like this
SPS and be happy if it's this like this
is brain dead easy to
is brain dead easy to
write right this is just array cast from
write right this is just array cast from
Center to Center
Center to Center
MH so it it's an even smaller raid cast
MH so it it's an even smaller raid cast
because I already found the closest
because I already found the closest
point so I just do it from like instead
point so I just do it from like instead
of the center like where that like yeah
of the center like where that like yeah
right there and it hits a wall so then I
right there and it hits a wall so then I
say yeah don't
say yeah don't
explode yeah so it would have to be the
explode yeah so it would have to be the
wall would have to be shorter but
yeah but yeah you get the
idea yeah and then these Ray casts are
idea yeah and then these Ray casts are
always going to be like the sample like
always going to be like the sample like
this the amount that the number of steps
this the amount that the number of steps
that you do cuz like it's you clip it's
that you do cuz like it's you clip it's
basically how much do you care about it
basically how much do you care about it
clipping Corners
clipping Corners
right because if you do it here right
right because if you do it here right
you clip the corner a little
you clip the corner a little
it'll go
it'll go
through this happens in AAA games
through this happens in AAA games
though right yeah this does this happens
though right yeah this does this happens
in tripa
in tripa
games so I there's not a solution to it
games so I there's not a solution to it
other than just like you pick whatever
other than just like you pick whatever
tolerance you want and you deal with it
tolerance you want and you deal with it
yeah it's once I made this change I
yeah it's once I made this change I
don't really notice anything like it's
don't really notice anything like it's
it's good enough for this game I'm not
it's good enough for this game I'm not
going to make it even more expensive I'm
going to make it even more expensive I'm
wondering if we can make it cheaper yeah
wondering if we can make it cheaper yeah
maybe it's too
maybe it's too
slow I don't really think it's explosion
slow I don't really think it's explosion
though because I didn't really see that
though because I didn't really see that
in
grov I mean it does a lot of stuff but
grov I mean it does a lot of stuff but
like no I don't mean that in general I
like no I don't mean that in general I
mean I just mean the checks in general
mean I just mean the checks in general
because it's
because it's
like well I is it is it raycast I guess
like well I is it is it raycast I guess
it's not raycast that are probably the
it's not raycast that are probably the
main thing it's probably just up
main thing it's probably just up
Collision checks
yeah yeah would have to be straight up
yeah yeah would have to be straight up
Collision checks because that's all the
Collision checks because that's all the
projectiles are doing I mean thinking
projectiles are doing I mean thinking
about it though I think this is kind of
about it though I think this is kind of
like not worst case but like not a great
like not worst case but like not a great
case perf wise for Collision checks
case perf wise for Collision checks
because a lot of games like things
because a lot of games like things
aren't always moving like you know you
aren't always moving like you know you
run around you hit things they move but
run around you hit things they move but
then they like still but like when you
then they like still but like when you
shoot a projectile it moves until it
shoot a projectile it moves until it
spawns so you're checking like every
spawns so you're checking like every
step and there's like a lot of them well
step and there's like a lot of them well
yeah games do this and they have way
yeah games do this and they have way
more projectiles than you they're just
more projectiles than you they're just
not trying to run at the speed yeah yeah
not trying to run at the speed yeah yeah
that too but also gaming has like
that too but also gaming has like
horribly horribly like they will just
horribly horribly like they will just
optimize the code to the point that it
optimize the code to the point that it
runs on the hardware yeah that's it yeah
runs on the hardware yeah that's it yeah
right they don't need to do anything
right they don't need to do anything
else that's why like you have games
else that's why like you have games
being like ridiculously slow these days
being like ridiculously slow these days
right like
right like
yeah it's another whole
yeah it's another whole
thing I mean heck like they're not even
thing I mean heck like they're not even
rendering native anymore they're like
rendering native anymore they're like
they're using girl that's sample
they're using girl that's sample
[Music]
mhm and it like kind of works
so this is kind of cool like I think
so this is kind of cool like I think
it's pretty cool so this is I added down
it's pretty cool so this is I added down
there a little bit like the the um you
there a little bit like the the um you
don't have line numbers I can't really
don't have line numbers I can't really
easily tell you but like the parent
easily tell you but like the parent
velocity direction stuff so that
velocity direction stuff so that
basically means like
basically means like
uh if you are like at the center of a
uh if you are like at the center of a
screen and there's a projectile that's
screen and there's a projectile that's
passing just above you going from left
passing just above you going from left
to right it won't just knock you
to right it won't just knock you
straight down when if it explodes like
straight down when if it explodes like
right above your head it'll knock you
right above your head it'll knock you
like or shoot you like diagonally like
like or shoot you like diagonally like
down to the right because some of its
down to the right because some of its
velocity going to the right is like
velocity going to the right is like
accounted for but it's dependent if it's
accounted for but it's dependent if it's
barely moving from left to right it
barely moving from left to right it
won't really affect it's like all
won't really affect it's like all
dependent on like speeds and stuff so I
dependent on like speeds and stuff so I
thought that was cool I mean you're kind
thought that was cool I mean you're kind
of doing the physics engine at this
of doing the physics engine at this
point not really it's just like I'm
point not really it's just like I'm
using the you're just this is normal
using the you're just this is normal
like physics
stuff so if it's passing by then you get
stuff so if it's passing by then you get
some of
the
the
huh yeah this would be like a high like
huh yeah this would be like a high like
this would normally be like an
this would normally be like an
explosions like Library or something
explosions like Library or something
that you would use that would do this
that you would use that would do this
internally I would
internally I would
think maybe because this is like
think maybe because this is like
simulating that it's not actually a a
simulating that it's not actually a a
sphere or whatever it's like it's like
sphere or whatever it's like it's like
warped by this like the projectile
itself it's also nice for burst though
itself it's also nice for burst though
because when you're if you're moving
because when you're if you're moving
really fast like aggressively like
really fast like aggressively like
approaching someone and then burst it's
approaching someone and then burst it's
going to be stronger than if you just
going to be stronger than if you just
like sit there and then first on
them so I don't know it has some cool no
them so I don't know it has some cool no
that is cool it's also also
that is cool it's also also
like right this is not an expensive
like right this is not an expensive
operation at all no it's not it's it's
operation at all no it's not it's it's
it doesn't really add anything because
it doesn't really add anything because
you're just doing a couple different
you're just doing a couple different
Vector math
operations which are pretty fast yeah I
operations which are pretty fast yeah I
me as far as I can see I haven't seen a
me as far as I can see I haven't seen a
single thing that i' that you're doing
single thing that i' that you're doing
so far that's like oh that's slow yeah
so far that's like oh that's slow yeah
right I thought you meant at first it
right I thought you meant at first it
was cheap like from a game perspective
was cheap like from a game perspective
no it's cheap to simulate yeah
no it's cheap to simulate yeah
yeah yeah scale the parents how
yeah yeah scale the parents how
close if that person off a
wall does this like slide off a wall
wall does this like slide off a wall
or I'm trying to remember the comet I
or I'm trying to remember the comet I
tried to make it kind of but it was like
tried to make it kind of but it was like
a confusing things so I think games
a confusing things so I think games
literally have this stuff special case
literally have this stuff special case
like what I like I know OverWatch for
like what I like I know OverWatch for
instance they literally have like when
instance they literally have like when
you hit a wall they like look at the
you hit a wall they like look at the
angle and then they initial like the
angle and then they initial like the
based on like fixed bucket of angle they
based on like fixed bucket of angle they
will initialize like uh you bounce off
will initialize like uh you bounce off
the wall or you crash into the wall or
the wall or you crash into the wall or
you like slide on the
you like slide on the
wall and like they have just like a few
wall and like they have just like a few
cases of this and like it's kind of
cases of this and like it's kind of
funny how you only have to do it few of
funny how you only have to do it few of
these before people just stop noticing
these before people just stop noticing
stuff being weird yeah
stuff being weird yeah
right or like they'll have something
right or like they'll have something
where like hey if you hit your ankles on
where like hey if you hit your ankles on
a wall you hop up yeah yeah yeah they
a wall you hop up yeah yeah yeah they
have a lot like yeah I know like so last
have a lot like yeah I know like so last
I there was a good thread where they
I there was a good thread where they
went over all these little like MH
went over all these little like MH
mostly like hidden things they do to
mostly like hidden things they do to
kind of like help you out like if you're
kind of like help you out like if you're
like a couple pixels down below platform
like a couple pixels down below platform
to like pop you up onto yeah that's
to like pop you up onto yeah that's
super annoying to hit like on like you
super annoying to hit like on like you
like you clip your toe right yeah
like you clip your toe right yeah
exactly so yeah a lot of these things
exactly so yeah a lot of these things
are very important but you don't have to
are very important but you don't have to
do very many of them before you start
do very many of them before you start
noticing like oh okay that feels way
noticing like oh okay that feels way
better no 100% yeah most I mean all the
better no 100% yeah most I mean all the
stuff is like I was play testing I'm
stuff is like I was play testing I'm
like well this sucks and in a special
like well this sucks and in a special
case yeah know that's good that's very
case yeah know that's good that's very
good it's crazy that nobody's made just
good it's crazy that nobody's made just
like a no like really nice low-level
like a no like really nice low-level
library for some of that stuff right
library for some of that stuff right
yeah but
yeah but
to be fair it'd be hard to Jo on purpose
to be fair it'd be hard to Jo on purpose
that okay I actually have to go though
that okay I actually have to go though
so cool so we are about 1,200 lines
so cool so we are about 1,200 lines
through a little less and uh we will
through a little less and uh we will
resume this whenever you're around this
resume this whenever you're around this
is really solid though like yeah thanks
is really solid though like yeah thanks
have
have
uh I'm looking forward to playing with
uh I'm looking forward to playing with
this as well once we have it
this as well once we have it
integrated yeah and let me know when you
integrated yeah and let me know when you
get a controller because that'll be I
get a controller because that'll be I
will order I will order a controller
will order I will order a controller
okay cool
okay cool
yeah because then you can test out the
yeah because then you can test out the
original game too and see how you think
original game too and see how you think
it Compares against that yes if the next
it Compares against that yes if the next
is actually just me playing Elden ring I
is actually just me playing Elden ring I
will blame you for this yeah all right
will blame you for this yeah all right
okay so I gotta go talk to you later
okay so I gotta go talk to you later
thanks man bye you make good drawing
thanks man bye you make good drawing
easy to
understand not this I assume this isn't
understand not this I assume this isn't
mind
mind
the stuff
okay what time is it
5:29 I just did something in physics M
5:29 I just did something in physics M
with Fields very similar to what a oh
with Fields very similar to what a oh
solution might be to finding closed
solution might be to finding closed
exposed area with neat Vector stuff and
exposed area with neat Vector stuff and
integration blah blah blah yeah I it's
integration blah blah blah yeah I it's
not like essential at all for this game
not like essential at all for this game
basically the reason I was asking is um
basically the reason I was asking is um
I wanted to know how sophisticated box
I wanted to know how sophisticated box
2D was right because in my mind if
2D was right because in my mind if
you're just doing Center distance checks
you're just doing Center distance checks
and like Ray
and like Ray
casts then it shouldn't be that
casts then it shouldn't be that
expensive and I don't know why I don't
expensive and I don't know why I don't
know what is possibly inbox 2D right
know what is possibly inbox 2D right
that's so complicated that it merits
that's so complicated that it merits
putting the entire thing behind an event
putting the entire thing behind an event
based API because that just immediately
based API because that just immediately
make stuff way way way more boiler plate
make stuff way way way more boiler plate
way harder to write concise code way
way harder to write concise code way
less control for the user so I don't
less control for the user so I don't
know what's actually in there that
know what's actually in there that
justifies this or if there is anything
justifies this or if there is anything
um so that's going to be something that
um so that's going to be something that
we will look at if I get more into like
we will look at if I get more into like
lowii physics
applications I think for Hi-Fi physics
applications I think for Hi-Fi physics
applications you use what like physics
applications you use what like physics
is GPU based well you probably do want
is GPU based well you probably do want
GPU
GPU
based but then stuff gets kind of crazy
based but then stuff gets kind of crazy
very very
quickly I mean we could do it it's just
quickly I mean we could do it it's just
like it depends what like what
like it depends what like what
applications we have that actually need
applications we have that actually need
that
stuff trying to think if I want to keep
stuff trying to think if I want to keep
doing anything here now on algorithm
doing anything here now on algorithm
side or anything like
that I mean I really would like uh to
that I mean I really would like uh to
get the new
get the new
algorithm doing
something goat well thank
something goat well thank
you new
you new
chair I got it a while ago it's nice I
chair I got it a while ago it's nice I
got sick of having an office chair so
got sick of having an office chair so
this is like it's got um like a leg rest
this is like it's got um like a leg rest
in it and stuff honestly I think I work
in it and stuff honestly I think I work
longer hours because of it it's just
longer hours because of it it's just
like more comfortable in general to
here do we have this old thing I was
here do we have this old thing I was
working
working
on yeah this
thing I was trying to figure out maybe
thing I was trying to figure out maybe
I'll see if I can just make one last
I'll see if I can just make one last
little bit of progress today before I
little bit of progress today before I
head out um and then maybe I'll come
head out um and then maybe I'll come
back in the evening we'll see as
well so I spent most of today doing code
well so I spent most of today doing code
reviews right but this morning I was
reviews right but this morning I was
working on
working on
this new Advantage estimation uh
this new Advantage estimation uh
function it's supposed to replace
function it's supposed to replace
generalized Advantage
generalized Advantage
estimation
estimation
and I was trying to figure out
and I was trying to figure out
why it learned such a weird variance
why it learned such a weird variance
curve that's what I was trying to figure
curve that's what I was trying to figure
out and I think I didn't really come up
out and I think I didn't really come up
with
with
any any concrete results on why as well
yeah
um I was in kind of a tough spot for it
um I was in kind of a tough spot for it
honestly we'll just do a little bit on
honestly we'll just do a little bit on
it and see if I make any progress
I mean it could be like some weird index
I mean it could be like some weird index
bug that's making the
first entry easier to predict or
first entry easier to predict or
something like that
something like that
but I don't think that makes sense
actually I don't know if that makes
sense this is a Cuda Kel for the new
sense this is a Cuda Kel for the new
Advantage
function it's just a little piece of
function it's just a little piece of
C let's get it on the bigger
one I don't think there is anything in
one I don't think there is anything in
here that's possibly wrong
here that's possibly wrong
though maybe I look at it in a little
though maybe I look at it in a little
bit more
detail Horizon minus one
you ever use random
Forest no not really
Forest no not really
um I the only thing that I've done where
um I the only thing that I've done where
it would even be remotely applicable
it would even be remotely applicable
would be it's in like really really low
would be it's in like really really low
data settings so I've done hyper
data settings so I've done hyper
parameter sweep stuff where some people
parameter sweep stuff where some people
do that uh I use gussian processes for
do that uh I use gussian processes for
my hyper pram sweep stuff which I think
my hyper pram sweep stuff which I think
is generally
is generally
better you'd have to really compare them
though there are a bunch of these like
though there are a bunch of these like
old methods that like they work when you
old methods that like they work when you
only have a tiny amount of data and you
only have a tiny amount of data and you
just kind of need something but
what's the other
what's the other
one radiant
one radiant
boosting
yeah trying to think
here guess I can show what's going on
here guess I can show what's going on
here
do we can actually see the
behavior I'd actually I also would like
behavior I'd actually I also would like
to know how
to know how
early it converges on this
like
compile okay
so values STP
so values STP
Z okay so
Z okay so
initially it is pretty flat
initially it is pretty flat
right the last one doesn't get trained
right the last one doesn't get trained
but um the rest of them are all about
68 okay so now this has had some time to
68 okay so now this has had some time to
run
you see this is already this is
you see this is already this is
already uh diverged a
already uh diverged a
bit look at this so it caps out at 2
bit look at this so it caps out at 2
oneish oh whoops I forgot to leave the
oneish oh whoops I forgot to leave the
uh the Discord call uh hey how's it
uh the Discord call uh hey how's it
going all oh sorry I mean interrupted
going all oh sorry I mean interrupted
you're recing someone no I was just
you're recing someone no I was just
talking to the stream what's going on oh
talking to the stream what's going on oh
okay uh yeah just had a quick question
okay uh yeah just had a quick question
for you um
for you um
um given that various cars reach their
um given that various cars reach their
goal at um different points in time I
goal at um different points in time I
presume I'm supposed to mask the steps
presume I'm supposed to mask the steps
after they reach their goal do I mask
after they reach their goal do I mask
when they get their goal or the step
when they get their goal or the step
afterwards uh I think it should be the
afterwards uh I think it should be the
step
step
afterwards so I would assign the reward
afterwards so I would assign the reward
on the on the winning step and then set
on the on the winning step and then set
some type of buo in to then check to
some type of buo in to then check to
mask the next you should do that and
mask the next you should do that and
it's annoying because actually masking
it's annoying because actually masking
breaks one of our big perf
breaks one of our big perf
optimizations it's
optimizations it's
annoying um we have it's like slicing
annoying um we have it's like slicing
versus
versus
indexing but you can do that for now and
indexing but you can do that for now and
we'll see if we can find ways around it
we'll see if we can find ways around it
will that break anything right now or it
will that break anything right now or it
might if in the dev Branch it might
might if in the dev Branch it might
okay I mean what would happen if I don't
okay I mean what would happen if I don't
mask um it might work it depends how
mask um it might work it depends how
what it depends on the data density
all right well I'll I'll try not masking
all right well I'll I'll try not masking
at first and see what happens and then
at first and see what happens and then
yeah see if you can anything and then
yeah see if you can anything and then
we'll improve from there all right
we'll improve from there all right
thanks
thanks
see get out of that
see get out of that
call totally forgot it was still in
call totally forgot it was still in
there
um so if we look at this value standard
um so if we look at this value standard
deviation if I print out reward standard
deviation if I print out reward standard
deviation you see this is pretty close
deviation you see this is pretty close
to what uh this converges to here so
to what uh this converges to here so
basically what this means is because the
basically what this means is because the
predicted value standard
predicted value standard
deviation uh matches the reward standard
deviation uh matches the reward standard
deviation it means that it has no idea
deviation it means that it has no idea
what to predict here uh it's just
what to predict here uh it's just
predicting you know it's getting it's
predicting you know it's getting it's
doing as well as random guessing B well
doing as well as random guessing B well
not random guessing like random guessing
not random guessing like random guessing
based on the
distribution so it just knows hey you
distribution so it just knows hey you
get a reward 5% of the time I'm going to
get a reward 5% of the time I'm going to
predict you know 5% of the time
reward kind of that but then as you go
reward kind of that but then as you go
up right you see it's
up right you see it's
lower this means that the model actually
lower this means that the model actually
has some predictive value it is more
has some predictive value it is more
confident in its predictions than
confident in its predictions than
random which is what you'd expect and if
random which is what you'd expect and if
you look here it's kind of smooth right
you look here it's kind of smooth right
it goes from 209 uh 19 19 18 17 15 16 14
it goes from 209 uh 19 19 18 17 15 16 14
and then it jumps to 11 so for some
and then it jumps to 11 so for some
reason this first step has this big jump
reason this first step has this big jump
uh and this kind of gives you this gross
uh and this kind of gives you this gross
curve where if I look
at okay so this is the weighting that we
at okay so this is the weighting that we
assign to these various terms it's just
assign to these various terms it's just
based on inverse of this with some
based on inverse of this with some
normalization the first term gets
normalization the first term gets
weighted one 1.0 and then the second
weighted one 1.0 and then the second
terms gets weighted 6 there's this
terms gets weighted 6 there's this
massive jump and then it's smooth from
massive jump and then it's smooth from
there so I want to know what causes this
there so I want to know what causes this
jump for
DS rewards advantages
let's do that just to be
let's do that just to be
sure just zero this to be absolutely
sure just zero this to be absolutely
sure that we don't have like some
sure that we don't have like some
garbage data polluting this
okay yeah so this is
consistent no rewards here though
maybe we'll just look at the advantage a
maybe we'll just look at the advantage a
little bit
huh no rewards really
okay there's some
reports
reports
so six one 2 3
so six one 2 3
four
six not
six not
great this is .1 here and this is a
3 thinks it's going to get the reward
3 thinks it's going to get the reward
two steps earlier than it's actually
two steps earlier than it's actually
going to get
it
it
right or it thinks it's getting you a
right or it thinks it's getting you a
reward in both of these places
really three
really three
one two three
four one two three four
four one two three four
five
five
six okay hang
six okay hang
on
five oh wait this is both look at this
these three are all kind of
these three are all kind of
elevated we have slightly elevated
elevated we have slightly elevated
slightly elevated and then it decays so
slightly elevated and then it decays so
what it's kind of done is it's kind of
what it's kind of done is it's kind of
put uh put a probability distribution
put uh put a probability distribution
sort of over
sort of over
this it's kind of just like spread out
this it's kind of just like spread out
where it thinks it's going to get the
where it thinks it's going to get the
reward I mean that is
reward I mean that is
reasonable and that will give you a good
reasonable and that will give you a good
Advantage estimate
3.1
3.1
five not bad
So based on
So based on
the means of these
the means of these
values we are
good oh it's also interesting that the
good oh it's also interesting that the
first
first
one the first one is very very confident
one the first one is very very confident
it's not getting a reward
why is there such a big gap between the
why is there such a big gap between the
first one and the second
one it's because it's at a
one it's because it's at a
boundary that wouldn't make sense
Do You observe when you get a reward I
Do You observe when you get a reward I
don't think you
do that still wouldn't account for it
do that still wouldn't account for it
though I can't really think of anything
though I can't really think of anything
that would account for why the first
that would account for why the first
step would be so much more confident
step would be so much more confident
than the second step
let's block
less than equal to Z jusus right
yeah the reward block is correctly
computed nothing to do with duns
for e
I wonder is there some way that I'm
I wonder is there some way that I'm
screwing this up somehow in the policy
screwing this up somehow in the policy
loss that's then indirectly influencing
it GMA times values mean
oh that all looks correct to
me hang on wa it predicts
me hang on wa it predicts
voluming predicts reward at next time
voluming predicts reward at next time
stuff
stuff
right welcome YouTube
right welcome YouTube
folks but a you on
folks but a you on
here
here
um for the people who just got here what
um for the people who just got here what
I'm currently trying to do uh this is
I'm currently trying to do uh this is
a Advantage function Puda kernel for an
a Advantage function Puda kernel for an
advantage function for a new RL
advantage function for a new RL
algorithm that I'm working
algorithm that I'm working
on and I mostly have it doing what I
on and I mostly have it doing what I
want
want
uh there just a couple quirks and edge
uh there just a couple quirks and edge
cases with it this is essentially trying
cases with it this is essentially trying
to learn automatically learn credit
to learn automatically learn credit
assignment over the next many many steps
assignment over the next many many steps
and at the moment what it's doing is
and at the moment what it's doing is
it's paying a lot of attention to the
it's paying a lot of attention to the
first step and then substantially less
first step and then substantially less
to the second step and then a little
to the second step and then a little
less to the third a little less to the
less to the third a little less to the
fourth and so on and so forth so I'm
fourth and so on and so forth so I'm
trying to figure out now is why it's
trying to figure out now is why it's
paying so much more attention to the
paying so much more attention to the
first step than the second step and if
first step than the second step and if
it's a bug or if it's like genuine or
it's a bug or if it's like genuine or
what
um since we do have a bunch of people
um since we do have a bunch of people
watching all the stuff is on puff. it's
watching all the stuff is on puff. it's
all open source can go start the repo to
all open source can go start the repo to
help us out and uh join the Discord to
help us out and uh join the Discord to
get involved with Deb if you want other
get involved with Deb if you want other
than that back to
than that back to
code
so yeah I what I was thinking before
so yeah I what I was thinking before
right so the way that I have the value
right so the way that I have the value
function right value mean gives you the
function right value mean gives you the
prediction of the reward at The Next
prediction of the reward at The Next
Step at the second Next Step third next
Step at the second Next Step third next
step and so on and so
forth hang is that true yeah so value
forth hang is that true yeah so value
mean of zero gives you the prediction of
mean of zero gives you the prediction of
the reward at step one so one step in
the reward at step one so one step in
the
the
future then gamma is learned it's based
future then gamma is learned it's based
on the standard deviation of the
on the standard deviation of the
prediction it gives you the waiting
prediction it gives you the waiting
right
so when we get the
rewards we're always going to have a
rewards we're always going to have a
reward for the first
reward for the first
step and we're never going to have a
step and we're never going to have a
reward for the last step because we need
reward for the last step because we need
to go one over and the buffer and we
to go one over and the buffer and we
don't have
don't have
anything that explains
why so that explains why this last ter
why so that explains why this last ter
is
is
one but see this last term shouldn't
one but see this last term shouldn't
affect us I don't think
it's the first term that's
weird is there any sort of indexing bug
weird is there any sort of indexing bug
that I can think of that would cause
this what would
this what would
cause more confident predictions on the
cause more confident predictions on the
first time step
I mean accidentally
I mean accidentally
shifting if you actually see the case in
shifting if you actually see the case in
which you get the reward like if you see
which you get the reward like if you see
the block break for instance that would
the block break for instance that would
do
do
it I don't think that is the case
it I don't think that is the case
though let me think about
that because values mean
H I couldn't possibly have shifted that
H I couldn't possibly have shifted that
over one
right is there a good way to test
that could I
that could I
do t + one
I do reward t+
2 let me see if that does
anything I just want to see if I can
anything I just want to see if I can
like get something that causes this
like get something that causes this
Behavior
here's your first deoch one
oh hang
oh hang
on
on
1.27 that looks better doesn't
it let's let it keep running a little
it let's let it keep running a little
bit e
158 161 166 174 this actually cleaned it
158 161 166 174 this actually cleaned it
up
so
so
okay The Next Step then so if that makes
okay The Next Step then so if that makes
it
it
even what if I do instead of K minus one
even what if I do instead of K minus one
or k whatever we do do
this what does this
cause this is now predicting the reward
cause this is now predicting the reward
that you have already
that you have already
got so you see it break you see the
got so you see it break you see the
brick break or whatever and you're
brick break or whatever and you're
predicting that reward
ah do we have something here
will you look at that right so you get a
will you look at that right so you get a
very
very
accurate prediction for the current time
step but then you still get there is the
step but then you still get there is the
fall off starts two
fall off starts two
later I wonder if I have an off by one
later I wonder if I have an off by one
somehow with the reward
somehow with the reward
indexing use a rest real quick I'm going
indexing use a rest real quick I'm going
to be right back and then we'll see
to be right back and then we'll see
we'll investigate that I'd be kind of
we'll investigate that I'd be kind of
surprised that would be a really bad to
surprised that would be a really bad to
have but maybe I screwed up be right
back e
I just uh I saw one thing I have to
I just uh I saw one thing I have to
reply to really
reply to really
quick because
is
it
e e
like so
like so
funny oh yeah it's just easy yeah your
funny oh yeah it's just easy yeah your
llm version of it is like the easiest
llm version of it is like the easiest
possible setting of
possible setting of
RL you have a freaking one-step problem
RL you have a freaking one-step problem
you're like solving a bandit problem and
you're like solving a bandit problem and
you're saying oh yeah our lazy it's not
you're saying oh yeah our lazy it's not
even a bandit problem because the
even a bandit problem because the
returns are
predictable determinist
predictable determinist
banded take which lever to
banded take which lever to
full all
right two-step
right two-step
problem what is
wrong when I collect my data here right
wrong when I collect my data here right
let me
let me
see how we do storing
data action
data action
log CRS rewards DS right all this
log CRS rewards DS right all this
stuff
stuff
okay so you are
storing oh wait hold
storing oh wait hold
on is that bad
on is that bad
here technically it's not single step
here technically it's not single step
each token is one step no it is not each
each token is one step no it is not each
token is not an action symbolically it
token is not an action symbolically it
is multistep yeah no each to each token
is multistep yeah no each to each token
is not one step that's not analogous
is not one step that's not analogous
that's like me saying each bite of an
that's like me saying each bite of an
observation is one
step or each bite like of an action
step or each bite like of an action
output is a step or something it's not
output is a step or something it's not
how it
how it
works multi-step RL with LMS would be
works multi-step RL with LMS would be
great and uh that would actually be
great and uh that would actually be
something where some of the things I
something where some of the things I
work on may be applicable but it will
work on may be applicable but it will
also be incredibly incredibly heavy and
also be incredibly incredibly heavy and
expensive because LMS are very slow
honestly this is probably the thing
honestly this is probably the thing
where yeah I could see you solving a
where yeah I could see you solving a
whole bunch of stuff with that yeah I
whole bunch of stuff with that yeah I
could see I could see that being like
could see I could see that being like
the thing that solves everything
the thing that solves everything
honestly it massively more compute than
honestly it massively more compute than
I have available to do that type of
I have available to do that type of
stuff
stuff
um yeah I could see that being the thing
um yeah I could see that being the thing
that solves
that solves
everything like straight up
but the thing is there are so many weird
but the thing is there are so many weird
quirks with RL um my plan is not to go
quirks with RL um my plan is not to go
do that on llms my plan is to like fix
do that on llms my plan is to like fix
all the problems with RL here where I
all the problems with RL here where I
can do that just like sitting in sitting
can do that just like sitting in sitting
at my uh my desk working on these fast
ends I mean just the amount of like
ends I mean just the amount of like
compute involved in that is going to be
compute involved in that is going to be
such a pain because like your RL
such a pain because like your RL
trajectory is the process of you writing
trajectory is the process of you writing
a program for instance right so like
a program for instance right so like
your actions are the edits that you make
your actions are the edits that you make
to your code all right your reward is
to your code all right your reward is
going to be you run the code does it do
going to be you run the code does it do
what you
want and then you iterate on this
want and then you iterate on this
process for a very very long
time one bill tokens can't solve one
time one bill tokens can't solve one
bill tokens Can completely cons
bill tokens Can completely cons
consistently went on
that yeah tict Tac Toe is it like you
that yeah tict Tac Toe is it like you
can solve that problem in about five
can solve that problem in about five
seconds with a a tiny RL model from
seconds with a a tiny RL model from
scratch one bill llms well that's like a
scratch one bill llms well that's like a
failure of llms
failure of llms
right I can Sol you don't need 10
right I can Sol you don't need 10
billion parameters I can probably solve
billion parameters I can probably solve
that with like well you can solve it
that with like well you can solve it
with way less than 10,000 parameters but
with way less than 10,000 parameters but
let's say 10,000 because optimization
let's say 10,000 because optimization
gets janky when you go below
gets janky when you go below
that you can probably solve it with 10
that you can probably solve it with 10
parameters
honestly yeah you can obviously solve it
honestly yeah you can obviously solve it
deterministically with a lookup table
deterministically with a lookup table
but I mean like even if you're even if
but I mean like even if you're even if
you give it like okay you have to learn
you give it like okay you have to learn
to solve the game just by playing the
to solve the game just by playing the
game from scratch you can still solve
game from scratch you can still solve
that you know with a small handful of
that you know with a small handful of
parameters right
yeah no of course like I'm not saying oh
yeah no of course like I'm not saying oh
in order to do this you need to go have
in order to do this you need to go have
like a billion dollars worth of compute
like a billion dollars worth of compute
and probably then it's still not enough
and probably then it's still not enough
it's just uh you're in a rough spot
it's just uh you're in a rough spot
because you know your models are a
because you know your models are a
million are a billion parameters minimum
all
all
right let me uh let me think about this
right let me uh let me think about this
here because I actually think I might
here because I actually think I might
have hit on something
have hit on something
so you get your observation this is
so you get your observation this is
receive okay and on your first
receive we just give you like zero
receive we just give you like zero
rewards and stuff so it gets a padding
rewards and stuff so it gets a padding
value okay but then when you log this
value okay but then when you log this
with
action your actions are not padded
doesn't action still maps
doesn't action still maps
to the reward one in the future doesn't
it cuz you store these things together
I'm just trying to make sure I don't
I'm just trying to make sure I don't
have an off by
one actions death yet so you just make
one actions death yet so you just make
the next block of
the next block of
actions equal to
this
for
e e
wait
OBS reward for this time step
right so OBS pairs with
OBS pairs with a reward for next time
OBS pairs with a reward for next time
step so OBS this step then action then
step so OBS this step then action then
reward is there anything I'm doing here
reward is there anything I'm doing here
that like screws this
up hang
on I I do
this so
oh wait hang on what about these log
probs experience log
probs
probs
Logics action equals action
you took this
you took this
action with these
Logics this is correct isn't
that you get the
that you get the
observation you compute your
observation you compute your
action and then you get the reward on
action and then you get the reward on
the next time
step so this should not be off by
one but I'm seeing in the
one but I'm seeing in the
data it's not a clear indication of an
data it's not a clear indication of an
off by one but it looks like something
off by one but it looks like something
like that
and we get
and we get
here value me reward block new value
here value me reward block new value
variance
just increasing this to plus two already
just increasing this to plus two already
does
does
it like increasing it to look two steps
it like increasing it to look two steps
ah it already makes it
smooth e
hang
on this is kind of
is this just
shifted
no so you get
very accurate predictions of the reward
very accurate predictions of the reward
you can observe
I mean you would think that that big dip
I mean you would think that that big dip
right
right
there would be
there would be
um that you see yourself breaking the
um that you see yourself breaking the
block
block
right but then why is there still this
right but then why is there still this
dip One Step afterwards
is it just that you know you're probably
is it just that you know you're probably
not going to get another reward right
not going to get another reward right
after you've already gotten
one it's a very sharp Decay off
though and no because it's averaged over
though and no because it's averaged over
everything right this value standard
everything right this value standard
deviation
that's too
that's too
sharp something's wrong
oh wait hang on a
second so you also have to predict your
second so you also have to predict your
own actions I guess don't
own actions I guess don't
you wait wait that's a
thing so if you're in a
state is the value function learning
state is the value function learning
what the network is going to
do it shouldn't matter though because in
do it shouldn't matter though because in
breakout
breakout
specifically your action doesn't have
specifically your action doesn't have
any influence on the reward
any influence on the reward
uh like a couple time steps ahead right
uh like a couple time steps ahead right
the ball actually has to go all the way
the ball actually has to go all the way
to the
Target so that hypothesis goes out the
Target so that hypothesis goes out the
window as
well oh wait do you
well oh wait do you
know you should know the direction the
know you should know the direction the
ball is going don't you
do you know the direction the ball is
do you know the direction the ball is
going
again though it's more confident on the
again though it's more confident on the
first
first
step that would be the opposite
step that would be the opposite
Trend can't be that
either okay let's just double check that
either okay let's just double check that
it's not anything related into
this I Al state
this I Al state
two positional arguments but three
were yeah you don't need
this okay
oh oh no wait this is still the two
oh oh no wait this is still the two
Ahead version
Ahead version
right or no wait this is not hang
on this
is yeah this is the same time step
is yeah this is the same time step
version
we still see the same thing
and actually now it's less confident of
and actually now it's less confident of
the first date because it doesn't have
the first date because it doesn't have
memory
memory
anymore but there's still this
Gap e
interesting if you do it this way and
interesting if you do it this way and
I'm corrected my indexing it means you
I'm corrected my indexing it means you
can
can
predict well the reward that you just
predict well the reward that you just
got
got
duh the reward at the next time step and
duh the reward at the next time step and
then it crashes dramatically
I don't know does that mean like you
I don't know does that mean like you
could break another brick or something
could break another brick or something
in that
time why don't I just run this on pong
time why don't I just run this on pong
and see if I get the same thing
have to learn something though for me to
have to learn something though for me to
get uh any signal to
use all right there's a very very slight
use all right there's a very very slight
amount of signal
here yeah if this will uh if this gets a
here yeah if this will uh if this gets a
break point then this will be a decent
break point then this will be a decent
test
this will basically confirm it if not it
this will basically confirm it if not it
could just be n
could just be n
specific should have tried this a while
ago on hit the break point
it's just unlucky
there we
go
go
22 271 28 yeah there's still this Gap
22 271 28 yeah there's still this Gap
right
oh but interestingly now it
is no there's still this like
dip it's not anywhere near as
dip it's not anywhere near as
bad and if I undo this
we'll have to rerun this of
course maybe there is actually just a
course maybe there is actually just a
breakout specific thing right where it's
breakout specific thing right where it's
like yeah you can hit a Breck a brick
like yeah you can hit a Breck a brick
and then it takes two frames to hit the
and then it takes two frames to hit the
next one if it's like on an angle or
next one if it's like on an angle or
something I don't know could be
could just be an M specific
Quirk we'll double
check
e
e e
all
all
right interestingly that didn't score as
right interestingly that didn't score as
well though maybe it
well though maybe it
didn't that's
weird oh hang on does this work
rewards I mean that looks reasonable to
me it's basically confident
me it's basically confident
for I wouldn't be surprised if that's
for I wouldn't be surprised if that's
like the time it takes the thing to
bounce then why isn't breakout confident
bounce then why isn't breakout confident
right like most of the time the ball is
right like most of the time the ball is
going to hit
the the ball's just going to hit the uh
the the ball's just going to hit the uh
the
the
brick and then bounce back isn't it
I wonder if it's like a weird trajectory
I wonder if it's like a weird trajectory
segment length
segment length
problem let me try something real
quick 24
M what if we do 256 M that change
M what if we do 256 M that change
anything
I'll see what that
I'll see what that
does that would be kind of funny if it
does that would be kind of funny if it
were a
were a
um a horizon issue
it's still
there it's like a huge huge
gap is there something that just makes
gap is there something that just makes
it hard to predict with breakout
didn't seem to apply with
p i mean they're going to be Ms like
p i mean they're going to be Ms like
this I guess
right well what do we do about this
okay maybe like the the better question
okay maybe like the the better question
is
is
like why isn't it as confident in the
like why isn't it as confident in the
next several steps does that make sense
next several steps does that make sense
to
ask if I continue
here let's undo this before I forget as
here let's undo this before I forget as
well
this value function should be able to
this value function should be able to
see it
see it
right it's gotten all the observations
right it's gotten all the observations
previous hasn't gotten the rewards
oops did that close the gap a little
bit it did
404 6
oh wait hang
on there we go
so 16
here your rewards
here your rewards
right and
then yeah one in one right so this is
then yeah one in one right so this is
what you're
what you're
predicting on
predicting on
15 let's look at how this looks so
15 let's look at how this looks so
14 hold on values mean
okay you got zero value
okay you got zero value
in and
in and
then let's do reward
Block it's five away
okay let's get a little
closer
14 it thinks it's going to
be here here here or there's a trailing
be here here here or there's a trailing
it could take a little
longer this is point two so it still
longer this is point two so it still
thinks that there's a trailing
possibility and now it's reduced it
possibility and now it's reduced it
quite
substantially so it knows this is
substantially so it knows this is
actually a good value function
actually a good value function
it knows it's going to get a reward
it knows it's going to get a reward
here and here it puts some probability
here and here it puts some probability
math
Trail cuz it's not sure it could take an
Trail cuz it's not sure it could take an
extra step I
guess
guess
okay I mean I like this this makes sense
okay I mean I like this this makes sense
to make
let's see if we learn the value function
better what happens if we learn the
better what happens if we learn the
value
function this
this maybe this
try
this oop what's
wrong I don't know how that
happened I think it does make more sense
happened I think it does make more sense
to learn the whole distribution
clamp
clamp
received got linear hang on what what
received got linear hang on what what
happened
here
Point wait no this is
self. decoder
value log standard
deviation oh hang
on
decoder oh wait yeah you're just using
decoder oh wait yeah you're just using
that wrong one
cool
oops that's a very different story isn't
oops that's a very different story isn't
it
3.1
2 and it has no
idea 10 there's no idea this far out
idea 10 there's no idea this far out
right keep running it
see if it keeps going
up okay
that gives you that's something for
that gives you that's something for
sure oh that's a very interesting
sure oh that's a very interesting
distribution actually why is it so
distribution actually why is it so
confident about the ones later
on interesting wait 1 2 3 four five 6
on interesting wait 1 2 3 four five 6
Seven 8 9 10 11
Seven 8 9 10 11
12 six seven 8
n oh
and then it goes this far out and then
and then it goes this far out and then
it doesn't know
it doesn't know
again is it actually predicting the
again is it actually predicting the
bounce I think it is predicting the
bounce I think it is predicting the
bounce
bounce
here wait no hang on value standard
here wait no hang on value standard
deviation or rather it's predicting that
deviation or rather it's predicting that
it doesn't actually know when it's going
it doesn't actually know when it's going
to hit right
so it's pretty confident
here that it's not getting any
here that it's not getting any
reward and then it doesn't know exactly
reward and then it doesn't know exactly
when it's going to break a brick but it
when it's going to break a brick but it
knows it's going to break a
knows it's going to break a
brick and then it's pretty confident
brick and then it's pretty confident
it's not going to break a brick for a
it's not going to break a brick for a
while and then it doesn't
while and then it doesn't
know let's see if we can make sure that
know let's see if we can make sure that
that's actually happening e
okay no rewards
okay no rewards
given and
given and
it's pretty clean and confident that
it's pretty clean and confident that
it's not getting any reward until it
it's not getting any reward until it
goes too far out
it's too far so let's do
48 okay this one's nice right
wait
488 that's
488 that's
right and values mean it's a little
right and values mean it's a little
early
it's very unconfident here that it's
it's very unconfident here that it's
when it's getting the
reward that's weird isn't it
can we just have to run
this shouldn't be slow
right e 20K
let's Commit
This e
it is
it is
learning definitely is learning
276 is all I got on this
276 is all I got on this
one oh we will see
whether it is better
learnable what happened with uh with
learnable what happened with uh with
that
that
run let just check this and then I'm
run let just check this and then I'm
going to go for
dinner not this one
hey YouTube
hey YouTube
folks we just got the new version of
folks we just got the new version of
this algorithm
this algorithm
running as an initial
test so this is the previous
test so this is the previous
sweep comparison
sweep comparison
here what's wrong with
this why don't I see my dashboard oh
this why don't I see my dashboard oh
here
so this is the these are the runs and
so this is the these are the runs and
then if I look at the Fredo
then if I look at the Fredo
front five so you really don't solve the
front five so you really don't solve the
end
end
fully you get very close but you don't
fully you get very close but you don't
really fully solve it with this version
really fully solve it with this version
of the
algorithm there are a whole bunch of
algorithm there are a whole bunch of
different factors I can consider with
different factors I can consider with
that
the one I want to do for now is
the one I want to do for now is
just having the variants be adaptive per
term so we will see how this
term so we will see how this
goes I'm going to go get some
goes I'm going to go get some
dinner and we may or may not be back
dinner and we may or may not be back
after dinner with RL content I will
after dinner with RL content I will
say definitely will be back
say definitely will be back
tomorrow um for anyone who's interested
tomorrow um for anyone who's interested
in this stuff more generally it's all
in this stuff more generally it's all
free an open source it's
free an open source it's
atp. you can start the GitHub to help us
atp. you can start the GitHub to help us
out that really helps us and if you want
out that really helps us and if you want
to get involved in Dev you don't need an
to get involved in Dev you don't need an
RL back RL background some of our best
RL back RL background some of our best
contributors just came in with a good
contributors just came in with a good
programming background and they pick it
programming background and they pick it
up if you want to make M's like this or
up if you want to make M's like this or
contribute to the science join the
contribute to the science join the
Discord right here puffer Dogg or
Discord right here puffer Dogg or
discord.gg puffer you can follow me on X
discord.gg puffer you can follow me on X
for more RL content there's also a Blog
for more RL content there's also a Blog
here as well and lots of lots of fun
demos so

Kind: captions
Language: en
oops is this working
oops is this working
yep okay we are
live look at some experiments real quick
live look at some experiments real quick
that ran
overnight so we got the thing to do I
overnight so we got the thing to do I
mean reasonably
mean reasonably
well doesn't quite full solve the end
well doesn't quite full solve the end
it's very close but the sweeps also did
it's very close but the sweeps also did
something weird so I think we're going
something weird so I think we're going
to just fiddle with this for a little
to just fiddle with this for a little
bit uh we're going to see if we can get
bit uh we're going to see if we can get
a param set that does solve the end and
a param set that does solve the end and
if not we're going to see if we can
if not we're going to see if we can
figure out why and if there are any
figure out why and if there are any
improvements we can
improvements we can
make as the plan for right now
it's that time of day where I have like
it's that time of day where I have like
the sun perfectly on my
monitor okay
so did you earn much xp yesterday
um I don't know I
um I don't know I
did some uh some intervals and I did
did some uh some intervals and I did
some lifting so I guess I got a little
some lifting so I guess I got a little
bit of a little bit of what would that
bit of a little bit of what would that
be a little bit of uh stem XP and a
be a little bit of uh stem XP and a
little bit of uh strength XP or whatever
little bit of uh strength XP or whatever
yeah what did the sweep do that was
yeah what did the sweep do that was
weird well it pushed entropy all the way
weird well it pushed entropy all the way
down to the bottom for no reason like
down to the bottom for no reason like
you can see that it doesn't work here it
you can see that it doesn't work here it
pushed it all the way to this Max and I
pushed it all the way to this Max and I
don't know why it did
this you can see the algorithm does keep
this you can see the algorithm does keep
finding better stuff but it looks like
finding better stuff but it looks like
the there's like a
drift I think it's because it couldn't
drift I think it's because it couldn't
fully solve the end and it hit the
fully solve the end and it hit the
compute limit like it kept trying more
compute limit like it kept trying more
stuff over
here e
you have
you have
logs something
useful well I mean all the state
useful well I mean all the state
information is what you see here
right I'm just going to have to do a
right I'm just going to have to do a
little bit of thinking to see why that
little bit of thinking to see why that
is
is
uh why that is possible I mean I've seen
uh why that is possible I mean I've seen
carbs do the same
thing definitely SE
carbs do the same
thing let's see what that does whoops
so
so
obnoxious just have to reboot the
container turn the light
on yeah that doesn't help remotely does
on yeah that doesn't help remotely does
it I'd have to like really crank this
it I'd have to like really crank this
thing ah still no that's
crazy it's just that time of day where
crazy it's just that time of day where
there's a ton of glare it'll be gone in
there's a ton of glare it'll be gone in
like half hour
rendering
rendering
ideas you can blend
stuff
stuff
um you can get a static effect
um you can get a static effect
yeah I guess technically you could lurp
yeah I guess technically you could lurp
over
over
time it depends how much if you're
time it depends how much if you're
applying it to whether that's a good
idea I had a chat with the the Neptune
idea I had a chat with the the Neptune
folks as well yesterday
folks as well yesterday
today maybe they'll integrate some of
today maybe they'll integrate some of
these features we'll see
oops let's hope
so okay
so okay
so let's take a look at
here is this
one and then these ones that's going to
one and then these ones that's going to
be two my charts
I mean is it just me or does it look
I mean is it just me or does it look
like these just need a little bit more
like these just need a little bit more
time or is it that they all have the
time or is it that they all have the
shape because um they need the analing
I me they all have like a
I me they all have like a
similar sort of structure to them
this
one not bad it just takes longer
one not bad it just takes longer
right takes a little longer
so you do get stable learning out of
so you do get stable learning out of
this
thing it's weird that it
thing it's weird that it
doesn't quite solve it though isn't
it that is
it that is
weird let's go back to
let's go look at one of our good
runs this one
here we
go so this one
go so this one
has a very solid curve
here
here
sample we clearly
have a pretty stable
have a pretty stable
stable gamma range isn't
it I'd like to know the cost of
these so I can just filter this by hang
these so I can just filter this by hang
on how would I do this
filter by cost less than 100
this freaking query Builder never works
this freaking query Builder never works
what features I mean I asked him for
what features I mean I asked him for
stuff like the heat
stuff like the heat
map um I just gave him General feedback
map um I just gave him General feedback
on some stuff that uh could be you know
on some stuff that uh could be you know
cleaner with Neptune
and the API as
well
e e
okay so here are our
okay so here are our
points this is how we're going to have
points this is how we're going to have
to do
to do
this see this tells a little bit of a
this see this tells a little bit of a
different story doesn't
different story doesn't
it you can actually now
it you can actually now
see that the best ones are clustered up
see that the best ones are clustered up
at around
975 Lambda doesn't really matter at all
0.01 maybe we get something out of this
0.01 maybe we get something out of this
right
and then the learning
and then the learning
rate 03 to
rate 03 to
01 very high learning rate
01 very high learning rate
potentially very high learning rate what
potentially very high learning rate what
did we get in
RS yeah ours was a lot different right
RS yeah ours was a lot different right
we got this specific learn right
here different valve coefficient
here different valve coefficient
different gradient
different gradient
Norms
slightly a little bit of drift
20 48 M with 8192 mini batch
right G6
8192 three update EPO
8192 three update EPO
though there's some tradeoff it looks
though there's some tradeoff it looks
like
long was this
Run 100
Run 100
seconds so there is some tradeoff
here so I think what you want to
do e
it's a very clean return at
least what's this train at about a
least what's this train at about a
million
two update
EPO 8192 mini
batch this one got 501 right
see e
mys whose work have you been most
mys whose work have you been most
impressed with over the last month oh
impressed with over the last month oh
man you know stuff doesn't happen in RL
man you know stuff doesn't happen in RL
on the scale of there's something every
on the scale of there's something every
month there really isn't something every
month there was a cool result from uh
month there was a cool result from uh
Eugene was on
Eugene was on
um a lot of the stuff eugen's been
um a lot of the stuff eugen's been
involved in has been pretty good
involved in has been pretty good
there was a fun paper that basically
there was a fun paper that basically
showed that PO kind of Beats all the
showed that PO kind of Beats all the
fancy algorithms that were designed over
fancy algorithms that were designed over
the last decade to do better that's a
the last decade to do better that's a
fun
fun
one the uh the Apple paper on um driving
one the uh the Apple paper on um driving
was really
good it's not um to be clear
though you show this
this
one this is not like a Tesla competitor
one this is not like a Tesla competitor
thing at all I mean it you can tell
thing at all I mean it you can tell
because they kind of killed their self
because they kind of killed their self
driving uh but it is like a really
driving uh but it is like a really
clean it's like a really clean somewhat
clean it's like a really clean somewhat
smaller scale
approach e
see how fast this runs
about the same
about the same
900k and uh what was this one running at
before up a little early today picking
bread almost same
speed no not
speed no not
really I used to would Grill uh once in
really I used to would Grill uh once in
a while that's
a while that's
it company secured a 250 mil contract
it company secured a 250 mil contract
very
very
good well that tells you there's a
good well that tells you there's a
market for it
well then do it better right get the
contract okay so that is kind of
contract okay so that is kind of
interesting that I can uh just fiddle
interesting that I can uh just fiddle
with Hyper parameters and end up with
with Hyper parameters and end up with
something
better maybe not
better maybe not
better let see
I just kind of want to fiddle with this
I just kind of want to fiddle with this
for a little bit before we do it
for a little bit before we do it
automated
it's kind of funny with
um how it's like there are companies
um how it's like there are companies
that are purely like they purely purely
that are purely like they purely purely
exist for um government contract
right that does
oh yeah I'm sure I just wish the process
oh yeah I'm sure I just wish the process
were more
efficient e
well this does seem remarkably quite
well this does seem remarkably quite
stable but um it's not really getting
stable but um it's not really getting
better so presumably this is the scaling
better so presumably this is the scaling
of the discounts right
evaluate design test
simulation oh yeah well RL has to be
simulation oh yeah well RL has to be
more stable and consistent right to do
more stable and consistent right to do
that stuff quickly which is what I'm
that stuff quickly which is what I'm
working
on I have no opposition to defense Tech
on I have no opposition to defense Tech
I have no idea why it's like it's
I have no idea why it's like it's
considered Taboo in a lot of academic
considered Taboo in a lot of academic
circles but it's like would you like
circles but it's like would you like
there not to be
there not to be
defense right doesn't really make much
defense right doesn't really make much
sense to
me there's definitely something up with
me there's definitely something up with
the learning rate here
71 then what was the learning rate that
71 then what was the learning rate that
we used in this other one it was even
we used in this other one it was even
higher wasn't
it earier than now well some of them are
it earier than now well some of them are
right but some of them are just like I
right but some of them are just like I
don't know they're also just like a
don't know they're also just like a
bunch of really unassuming people in uh
bunch of really unassuming people in uh
Academia who just like don't want to
Academia who just like don't want to
think about Conflict at all you
think about Conflict at all you
know it's like
it seems kind of silly to me
well or strength is necessary to deter
well or strength is necessary to deter
conflict
I'm interested to see how much this
I'm interested to see how much this
spikes up at the end because that will
spikes up at the end because that will
tell me that there's a learning rate
tell me that there's a learning rate
thing going on though that will be a
thing going on though that will be a
separate consideration here
I will say this thing is remarkably
I will say this thing is remarkably
stable
okay no that one's just
okay no that one's just
worse but the thing is it's not even
worse but the thing is it's not even
like horribly worse it's not like the
like horribly worse it's not like the
curve
curve
crashes or anything
okay so let me now think
about
about
okay oh I didn't need to do that
that's way easier
right
okay so that's what a normal discount
okay so that's what a normal discount
Factor looks
like
e e
okay so this is what we
okay so this is what we
have it's a really sharp fall off
have it's a really sharp fall off
followed
followed
by a gradual fall
off I don't know why it should be that
off I don't know why it should be that
sharp
let's see if it changes over time
doesn't really change very much does
doesn't really change very much does
it it maybe it got a little bit
it it maybe it got a little bit
higher but then it got lower in places
higher but then it got lower in places
as well
Ah that's better right it does go up
hopefully we get one more sample in here
about the
same hopefully we get that last
sample perfect
yeah it went back up uh up even a little
yeah it went back up uh up even a little
bit more okay
bit more okay
so if we compare
here this portion feels reasonable to
me got an undergrad told me' work to
me got an undergrad told me' work to
free yeah got to be careful with that
free yeah got to be careful with that
that gets you in trouble if you have a
that gets you in trouble if you have a
company
Google labor labor laws or anything it
Google labor labor laws or anything it
like it is actually illegal to have
like it is actually illegal to have
people work for free so you have to be a
people work for free so you have to be a
little careful
I'm not saying it's not done all the
I'm not saying it's not done all the
time but got to be a little careful
yeah you got to be careful with those
yeah you got to be careful with those
ones in particular because it's the um
ones in particular because it's the um
they're like the easiest lawsuits ever
they're like the easiest lawsuits ever
to win um if you are wanting to be paid
to win um if you are wanting to be paid
and you get uh I think it might be State
and you get uh I think it might be State
dependent but I think you get like
dependent but I think you get like
triple damages in many
cases so you end up getting somebody
cases so you end up getting somebody
working for free and then they sue you
working for free and then they sue you
for three times the
for three times the
amount that you would that that you
amount that you would that that you
would have paid him or
whatever and based on
performance I mean I'm not a lawyer I
performance I mean I'm not a lawyer I
think it's something like you have
think it's something like you have
to the thing is this is not not that
to the thing is this is not not that
difficult to the problem to solve when
difficult to the problem to solve when
you have any amount of money to be
you have any amount of money to be
paying people because it you don't have
paying people because it you don't have
to be paying people at market rate so
to be paying people at market rate so
you literally like it is valid to pay
you literally like it is valid to pay
people like a minimum wage a minimum W
people like a minimum wage a minimum W
wage plus bonuses that is
wage plus bonuses that is
valid but anyways I'm not a lawyer go
valid but anyways I'm not a lawyer go
look that stuff
up I do think it is valuable for anybody
up I do think it is valuable for anybody
who wants to start a company to take one
who wants to start a company to take one
business law course that's what I did um
business law course that's what I did um
um it just is like it's not going to let
um it just is like it's not going to let
you know the answer to everything but
you know the answer to everything but
it's going to let you go ah okay maybe
it's going to let you go ah okay maybe
there's a problem that's going to get me
there's a problem that's going to get me
in trouble there
later just do just do your homework
later just do just do your homework
right
the thing is for an undergrad that
the thing is for an undergrad that
actually might be nice because like
actually might be nice because like
undergrads are very happy to have 600
undergrads are very happy to have 600
bucks a
month it depends on
month it depends on
um yeah well careful because using
um yeah well careful because using
Claude for legal advice
right also generally keeps up to 20
right also generally keeps up to 20
hours a week or whatever because
hours a week or whatever because
part-time you do not owe benefits
at least on paper
right that's fun go enjoy
I used to be a really good
I used to be a really good
skier um but that was when I was like I
skier um but that was when I was like I
used to weigh about 140 PBS for most of
used to weigh about 140 PBS for most of
my adult life I was really skinny um and
my adult life I was really skinny um and
it turns out skiing is really easy when
it turns out skiing is really easy when
you're just very light
even going from 140 to
even going from 140 to
180 just the 40 pounds and it's a whole
180 just the 40 pounds and it's a whole
different
world it's freaking
hard I never understood how people got
hard I never understood how people got
hurt skiing either and then it's like
hurt skiing either and then it's like
oh
oh
320 yeah that's hard that's a hard sport
you said you were doing rugby before
you said you were doing rugby before
though yeah I think you'll do pretty
though yeah I think you'll do pretty
well
well
there freaking mow people
down hey what's up not too much we're
down hey what's up not too much we're
currently looking at the results of uh
currently looking at the results of uh
the new RL algorithm I've been working
the new RL algorithm I've been working
on
on
we're looking
we're looking
at this is the discount factor that
at this is the discount factor that
would be used in po to wait the
would be used in po to wait the
importance of samples the new algorithm
importance of samples the new algorithm
learns an importance
learns an importance
factor and this is what it's learned
factor and this is what it's learned
it's not working quite as well as po
it's not working quite as well as po
yet but uh that's what we're looking
yet but uh that's what we're looking
at first thing I'd like to know is why
at first thing I'd like to know is why
there's such a massive gap between the
there's such a massive gap between the
first sample and the the second
sample
right I guess
it's
it's
entropy is it because you have a
entropy is it because you have a
stochastic
policy
policy
no that wouldn't make sense you should
no that wouldn't make sense you should
still be able to predict this
so there's this massive Gap and I don't
so there's this massive Gap and I don't
know
why is there anything special about the
why is there anything special about the
first time
step oh yeah I got the Cuda kernel for
step oh yeah I got the Cuda kernel for
this working um reasonably well
this working um reasonably well
yesterday uh as
yesterday uh as
well so this is it it's not very long
V standard
deviation gamma over oh we can do
this yeah I mean so this shows you right
this yeah I mean so this shows you right
here that the Gap comes from the value
here that the Gap comes from the value
standard
standard
deviation but then y y does it right
why the fall off is pretty smooth
why the fall off is pretty smooth
everywhere
else pretty smooth
kind of unrelated how do you manage your
kind of unrelated how do you manage your
time I really don't to be honest every
time I really don't to be honest every
time I try to do something very
time I try to do something very
structured I lose productivity so
structured I lose productivity so
basically all I do is if I have things
basically all I do is if I have things
that need to be done immediately I do
that need to be done immediately I do
them otherwise I just take the top five
them otherwise I just take the top five
Mo most important things right and I do
Mo most important things right and I do
whichever one is interesting me on this
whichever one is interesting me on this
particular
particular
day that's
all I don't really keep a calendar other
all I don't really keep a calendar other
than like making sure I don't miss
than like making sure I don't miss
meetings
meetings
um and in fact I wish I had even less
um and in fact I wish I had even less
structure than this right I think it
structure than this right I think it
would be even more productive for me if
would be even more productive for me if
I had just absolutely no obligations
I had just absolutely no obligations
with the company uh I think I even do
with the company uh I think I even do
better there because I would be like
better there because I would be like
even more just willing to like that's an
even more just willing to like that's an
interesting idea maybe I'll just do that
interesting idea maybe I'll just do that
today right and that's honestly where a
today right and that's honestly where a
lot of the breakthroughs come from is
lot of the breakthroughs come from is
just like people having time like if you
just like people having time like if you
actually care about what you're doing
actually care about what you're doing
right and you just have time to say h
right and you just have time to say h
you know there's a thread there I want
you know there's a thread there I want
to spend some time just pulling on that
to spend some time just pulling on that
thread well that's really the ideal if
thread well that's really the ideal if
you're a mo if you are motivated in
you're a mo if you are motivated in
research that's the ideal schedule right
research that's the ideal schedule right
and this is why I think a lot of this a
and this is why I think a lot of this a
lot of people like me don't really do
lot of people like me don't really do
well in um big company environments or
well in um big company environments or
whatnot because it's like there's no
whatnot because it's like there's no
bandwidth for me to do anything right
bandwidth for me to do anything right
it's like okay do a and then B and then
it's like okay do a and then B and then
C it's like
okay you didn't need to do a b or c you
okay you didn't need to do a b or c you
just needed to think a little bit and
just needed to think a little bit and
just jump straight to d
right that is all I
do I mean things will change depending
do I mean things will change depending
on what I'm working on right at the
on what I'm working on right at the
moment I'm in a research cycle so I'm
moment I'm in a research cycle so I'm
like I'm trying to make some
like I'm trying to make some
breakthroughs on this stuff and I'm kind
breakthroughs on this stuff and I'm kind
of just thinking about all this stuff in
of just thinking about all this stuff in
the back of my head all the time you
the back of my head all the time you
know I come up with stuff while I'm
know I come up with stuff while I'm
running I come up with stuff in between
running I come up with stuff in between
doing other things to try um later
doing other things to try um later
things will change a little bit right if
things will change a little bit right if
I'm doing like business stuff or puffer
I'm doing like business stuff or puffer
that's going to be more scheduled
that's going to be more scheduled
because it can be if I'm doing
because it can be if I'm doing
engineering stuff then it's a lot more
engineering stuff then it's a lot more
clearcut where it's just like yeah just
clearcut where it's just like yeah just
clear schedule sit down and do it for
clear schedule sit down and do it for
you know a week at a time or however
you know a week at a time or however
much I can do
but
but
um no the stuff that I've built does not
um no the stuff that I've built does not
come from time management
I know I was always sort of confused
I know I was always sort of confused
with that stuff
with that stuff
like very often I like I remember when I
like very often I like I remember when I
got to University I like oh you need to
got to University I like oh you need to
man your time you need to manage this
man your time you need to manage this
and that it's like well if I just like
and that it's like well if I just like
get the assignment or get the thing that
get the assignment or get the thing that
I have to do and I immediately go home
I have to do and I immediately go home
and work on it for eight
and work on it for eight
hours then I'm not going to have a time
hours then I'm not going to have a time
management problem in a week because
management problem in a week because
it's going to be done
it's going to be done
right so it's kind of if you're just
right so it's kind of if you're just
constantly working on stuff you make
constantly working on stuff you make
progress
the one thing is I do try to avoid
the one thing is I do try to avoid
forcing it like forcing in intellectual
forcing it like forcing in intellectual
work just doesn't
work just doesn't
work right like if I'm not in the mood
work right like if I'm not in the mood
to be doing something it's like okay
to be doing something it's like okay
I've got to get myself in the mood to do
I've got to get myself in the mood to do
something I can't just push through it
something I can't just push through it
so whether that's I got to go just take
so whether that's I got to go just take
some time to get some exercise in I need
some time to get some exercise in I need
to get some rest or
to get some rest or
whatever you want to be in a good Focus
whatever you want to be in a good Focus
state
money off of people people make money
money off of people people make money
off of all types of stupid [ __ ]
off of all types of stupid [ __ ]
right who
cares I do actually want to solve this
cares I do actually want to solve this
today so I'm trying to figure out why
why is there such a big difference
why is there such a big difference
between the standard deviation of the
between the standard deviation of the
first term and the second
first term and the second
term all this is supposed to be is a
term all this is supposed to be is a
prediction
prediction
of uh a prediction of how well it's a
of uh a prediction of how well it's a
prediction of how often you're going to
prediction of how often you're going to
get a
get a
reward here values mean
reward here values mean
zero oh okay well the mean is totally
different wait is this really really
noisy is this like really
noisy wait does it miss it
confused
confused
here did it get it wrong by a couple
here did it get it wrong by a couple
places or
something looks like it
where's reward blocks
at right here
we should make sure this is
correct and we need to make sure this is
correct and we need to make sure this is
correct
I think it is because the way that we
I think it is because the way that we
log stuff we log observation and then
log stuff we log observation and then
the reward at that time step together so
the reward at that time step together so
you do need to go ahead by
you do need to go ahead by
one
one
okay
okay
and why is this prediction so far off
and why is this prediction so far off
then is this the same
then is this the same
for here's the standard D of the second
for here's the standard D of the second
sample it's going to be the same because
sample it's going to be the same because
this one is uh only learned as a fixed
this one is uh only learned as a fixed
value here's value means for
value here's value means for
the sample one you see it went up a
the sample one you see it went up a
ton right the first one went up
Aon interesting so
it wasn't able no it didn't go up a ton
it wasn't able no it didn't go up a ton
wait
wait
what that's so weird
the value function just really
bad the value lost really bad
I mean there's clearly something wrong
I mean there's clearly something wrong
here
right how about values mean of two this
right how about values mean of two this
one will be interesting because there's
one will be interesting because there's
no longer any reward to get
right okay so to its credit it does drop
right okay so to its credit it does drop
by a
ton so it has some understanding
hey how are things going today they're
hey how are things going today they're
going we uh we have initial results on
going we uh we have initial results on
this they they're passable they're not
this they they're passable they're not
quite what uh we get out of Po yet but I
quite what uh we get out of Po yet but I
think we're getting
think we're getting
closer we're definitely getting
closer values mean is very weird okay
closer values mean is very weird okay
what if we do a three does it then it
what if we do a three does it then it
just know for sure ah it does fall okay
just know for sure ah it does fall okay
so I think what's happening
so I think what's happening
here try
here try
four yeah so what I think is happening
four yeah so what I think is happening
here is it knows roughly when it's going
here is it knows roughly when it's going
to get a reward it just doesn't know
to get a reward it just doesn't know
exactly when right because if you look
exactly when right because if you look
at
at
this okay this
this okay this
is this is actually kind of cool so
is this is actually kind of cool so
you're going to get a reward uh The Next
you're going to get a reward uh The Next
Step
so you can see that there's a high value
so you can see that there's a high value
here it's one step
here it's one step
early then there's a high value when you
early then there's a high value when you
get the reward it actually Peaks
get the reward it actually Peaks
here and then it drops quite a bit one
here and then it drops quite a bit one
step after and then it's drops like
step after and then it's drops like
basically all the way
basically all the way
down uh one step even after that
down uh one step even after that
so it knows it's going to get a reward
so it knows it's going to get a reward
somewhere in there but it doesn't know
somewhere in there but it doesn't know
exactly
when that's probably just why there's so
when that's probably just why there's so
much
much
uncertainty um
yeah that's probably just why there is
yeah that's probably just why there is
so much uncertainty right is
that it doesn't even know when it's
that it doesn't even know when it's
going to get a reward at the
going to get a reward at the
moment so yeah it's going to be even
moment so yeah it's going to be even
more uncertain about reward one step in
more uncertain about reward one step in
the
future though they the difference is
future though they the difference is
quite extreme here
it's a cool qualitative result but we
it's a cool qualitative result but we
have to figure out how to make this
have to figure out how to make this
thing now actually work
maybe that's an objective on the value
function I'll be back in a few and do a
function I'll be back in a few and do a
couple quick things I'll be right back 5
couple quick things I'll be right back 5
10 minutes
is
e
e
e
e
e
e
e
e
e
e
e
e e
okay is disadvantage function what it
okay is disadvantage function what it
should
be is this Advantage function what it
be is this Advantage function what it
should be so
I guess there was kind of
I guess there was kind of
something before to predicting
SS if you predict the sum of the rewards
SS if you predict the sum of the rewards
instead of the rewards
if the S moves by a place it's still
fine
fine
but that came with a ton of
but that came with a ton of
problems predicting
sums hang on we still get this in the
sums hang on we still get this in the
advantage estimation don't
we yeah we still get this in the
we yeah we still get this in the
advantage estimation okay the advantage
advantage estimation okay the advantage
estimation itself is uh is fairly robust
so it's probably the learning of the
so it's probably the learning of the
value function that's
bad
yeah it's probably this
because you can see it's
like this distribution that is learned
like this distribution that is learned
is controlled by the value function I
is controlled by the value function I
mean is controlled by the uh the value
mean is controlled by the uh the value
loss and the value loss of the moment is
loss and the value loss of the moment is
required to predict
each individual
term is there a better way to do this
it is kind of tricky
yeah you still want to be predicting you
yeah you still want to be predicting you
you're predicting the right
you're predicting the right
thing it's just very high variance
thing it's just very high variance
so let me explain what's happening
so let me explain what's happening
here
here
okay so do I
okay so do I
have I kind of have this up here so you
have I kind of have this up here so you
get you get this value prediction at
get you get this value prediction at
each time step and you get this Sigma at
each time step and you get this Sigma at
each time step right and what happens
each time step right and what happens
though is like your reward function is
though is like your reward function is
going to look something like
this so this is where your reward is and
this so this is where your reward is and
then the value function
then the value function
it has to guess where this is so like if
it has to guess where this is so like if
the value function guess is
this then this looks just as wrong as
this then this looks just as wrong as
guessing over here okay so like the
guessing over here okay so like the
value function has to figure out how to
value function has to figure out how to
put Mass around where it thinks the
put Mass around where it thinks the
reward is but you're not capturing this
reward is but you're not capturing this
locality
written agreement of unpaid
written agreement of unpaid
work
interesting I don't think that's a valid
contract there's no consideration
contract there's no consideration
I was pretty sure a valid contract both
I was pretty sure a valid contract both
parties need to receive something of
parties need to receive something of
value not equal value but something of
value not equal value but something of
value so I don't think it's a valid
value so I don't think it's a valid
contract
contract
um but I don't
know uh if it's a training program that
know uh if it's a training program that
sometimes can be but I don't
sometimes can be but I don't
know in order for it to qualify
know in order for it to qualify
I mean there are like specific training
I mean there are like specific training
programs I don't know if in general it
programs I don't know if in general it
just works though like you can just do
just works though like you can just do
that if there's a clear-cut mentorship
that if there's a clear-cut mentorship
relationship maybe but I don't know I'm
relationship maybe but I don't know I'm
not a
not a
lawyer like I say all I know is I can
lawyer like I say all I know is I can
like look at stuff and go there's
like look at stuff and go there's
something you should probably double
something you should probably double
check there I can't give you the answer
check there I can't give you the answer
straight
out lawyer friend says it's fine then
out lawyer friend says it's fine then
maybe
let we write this
loss see It's tricky because we still
loss see It's tricky because we still
need to be predicting the mean
value e
I think you do still end up with the
I think you do still end up with the
same value even if you sum right
what's the
actual standard deviation of rewards
actual standard deviation of rewards
here
so this is the actual standard
deviation so like there is it is
deviation so like there is it is
substantially more confident than the
substantially more confident than the
actual underlying standard
actual underlying standard
deviation and you can see it decays back
deviation and you can see it decays back
up to that underlying standard
deviation e
it is still weird though that there is
it is still weird though that there is
that much of a gap from the first to the
that much of a gap from the first to the
second there really shouldn't
be otherwise you'd expect to be sort of
be otherwise you'd expect to be sort of
similar
thereafter there's not something I'm
thereafter there's not something I'm
screwing up specifically with the first
screwing up specifically with the first
element that's the only thing I'm
element that's the only thing I'm
worried with worried about
here e
would only be able to be in the
would only be able to be in the
reward reward block
right mask gets set to
one e
okay the other option is what allows it
okay the other option is what allows it
to be more confident
to be more confident
here than uh in the
here than uh in the
previous the previous
ones I don't see
ones I don't see
anything really don't
value loss is just computed
as new value
mean reward block new value variance
what application are you most excited to
what application are you most excited to
see RL applied
see RL applied
to on a wide scale
the thing is it's not really one
the thing is it's not really one
application as much as it's I'm excited
application as much as it's I'm excited
to see RL RL fill in a whole bunch of
to see RL RL fill in a whole bunch of
gaps where people are like trying to
gaps where people are like trying to
hammer llms in and they make absolutely
hammer llms in and they make absolutely
no
sense like probably a whole bunch of
sense like probably a whole bunch of
industrial processes just like random
industrial processes just like random
industrial processes that are behind a
industrial processes that are behind a
lot of of the production of
goods um I think you can make there are
goods um I think you can make there are
like just a lot of random unintuitive
like just a lot of random unintuitive
processes that you can make much much
processes that you can make much much
more
efficient that's something I'm going to
efficient that's something I'm going to
be excited for but at the moment this is
be excited for but at the moment this is
really just like how do we get this
really just like how do we get this
field stable enough that we can actually
field stable enough that we can actually
do all of
do all of
that this the core stability of RL is
that this the core stability of RL is
still the main main issue here Control
still the main main issue here Control
Systems yeah I it's just like the
Systems yeah I it's just like the
problem with RL is that it works but it
problem with RL is that it works but it
only works if you have uh PhD and RL
only works if you have uh PhD and RL
fiddle with it for a few months and it
fiddle with it for a few months and it
needs to kind of just work if you have
needs to kind of just work if you have
know a decently qualified person with
know a decently qualified person with
some sort of background whatsoever in AI
some sort of background whatsoever in AI
fiddle with it for like a
day so that's what we're trying to get
day so that's what we're trying to get
to and I think it is pretty close I need
to and I think it is pretty close I need
to get this algorithm to work
to get this algorithm to work
um I need to really refine the hyper
um I need to really refine the hyper
parameter sweep stuff I need to run
parameter sweep stuff I need to run
benchmarks on all of our M there are a
benchmarks on all of our M there are a
couple small other things and we be
couple small other things and we be
pretty well
pretty well
there so much science will be done we
there so much science will be done we
are going to get there this year that's
are going to get there this year that's
the exciting thing like it's it's very
the exciting thing like it's it's very
clearly inside at this point this is not
clearly inside at this point this is not
just like some long-term
just like some long-term
goal but there are some tricky things to
goal but there are some tricky things to
figure out
yeah so I don't see
yeah so I don't see
where I don't see where this would be
where I don't see where this would be
going wrong
that's what I'm experiencing now yep
that's what I'm experiencing now yep
well I mean you're in the right spot
well I mean you're in the right spot
then right this is the goal of puffer is
then right this is the goal of puffer is
to fix reinforcement
learning implying that it's broken
learning implying that it's broken
because it absolutely
because it absolutely
is doesn't mean the tech doesn't work it
is doesn't mean the tech doesn't work it
works fantastically it's just too fiddly
works fantastically it's just too fiddly
to actually get it there for any given
to actually get it there for any given
problem
so this new function here this new loss
so this new function here this new loss
function um it is directly trying to
function um it is directly trying to
predict the reward at the next end time
predict the reward at the next end time
steps that's the idea and it has both a
steps that's the idea and it has both a
mean and a variance associated with it
I don't see anything that would
I don't see anything that would
make the next sample be way more
confident because
four students getting their masters
awesome so reward
awesome so reward
block gets rewards of t+
one
and you know it is actually really weird
and you know it is actually really weird
to me
to me
it's still not putting a big value on
it's still not putting a big value on
the value mean
the value mean
right because it doesn't know exactly
right because it doesn't know exactly
where the reward is going to
be so maybe this is just me trying to
be so maybe this is just me trying to
debug a very noisy
system but then why is the noisy system
system but then why is the noisy system
still substantially more confident in
still substantially more confident in
the first noisy prediction than the
the first noisy prediction than the
second noisy prediction
it's difficult to know if this is
it's difficult to know if this is
actually like a sign of a problem that I
actually like a sign of a problem that I
can track or this is a
distraction v+
equals gamma time values mean
index now this looks all this definitely
index now this looks all this definitely
looks correct to
me is there some like weird Edge case
me is there some like weird Edge case
it's screwing it up
like if
um maybe we go back to the the other
um maybe we go back to the the other
test real
test real
quick I wonder if we have this
quick I wonder if we have this
anywhere doesn't look like it
what's the Cuda compile command
what's the Cuda compile command
I get
this oh it is just nbcc cool
we get the Cuda test welcome YouTube
we get the Cuda test welcome YouTube
folks welcome twitch
folks welcome twitch
folks popular uh Wednesday or whatever
folks popular uh Wednesday or whatever
it
it
is um quick overview of what we're doing
is um quick overview of what we're doing
at the moment this is a new
at the moment this is a new
reinforcement learning algorithm it is
reinforcement learning algorithm it is
uh effectively an Improvement on
uh effectively an Improvement on
generalized Advantage
generalized Advantage
estimation which is probably one of the
estimation which is probably one of the
most po fundamental things because it's
most po fundamental things because it's
the main component of Po which is the
the main component of Po which is the
most commonly used
most commonly used
algorithm uh it has not been improved
algorithm uh it has not been improved
upon since it was originally published
upon since it was originally published
in 2017 and there really haven't been
in 2017 and there really haven't been
any general algorithm uh enhancements
any general algorithm uh enhancements
since then right now it's at least 10 um
since then right now it's at least 10 um
Captain so what we're trying to do at
Captain so what we're trying to do at
the moment is we are trying to learn the
the moment is we are trying to learn the
discount factors essentially we're
discount factors essentially we're
trying to learn the waiting that you
trying to learn the waiting that you
should assign to the reward to come over
should assign to the reward to come over
the next end points uh and the Hope in
the next end points uh and the Hope in
doing that is we'll be able to remove
doing that is we'll be able to remove
the hyper parameters gamma and Lambda
the hyper parameters gamma and Lambda
which are very difficult to tune and
which are very difficult to tune and
cause a bunch of problems and also that
cause a bunch of problems and also that
the agent will be able to learn uh
the agent will be able to learn uh
credit assignment over different time
credit assignment over different time
Horizons depending on where it is in the
Horizons depending on where it is in the
environment so environments that have
environment so environments that have
like short-term medium-term long-term
like short-term medium-term long-term
credit assignment problems it should be
credit assignment problems it should be
able to adaptively learn all of these
able to adaptively learn all of these
this is the
goal it's just like a very flexible
goal it's just like a very flexible
General algorithm if we can get it
General algorithm if we can get it
working
working
correctly uh I didn't that wasn't the J
correctly uh I didn't that wasn't the J
paper so
oops I
oops I
currently we have these learn discount
currently we have these learn discount
factors where are
they uh yeah here are the learn discount
they uh yeah here are the learn discount
factors and these ones actually look
factors and these ones actually look
pretty good up to here but then there's
pretty good up to here but then there's
a big gap here and I don't know why and
a big gap here and I don't know why and
also since there are a bunch of folks
also since there are a bunch of folks
live I will just
live I will just
mention all the stuff here this is all
mention all the stuff here this is all
open source at puff. you can go check it
open source at puff. you can go check it
out on the GitHub star the repo to help
out on the GitHub star the repo to help
us out and we've also got a Discord
us out and we've also got a Discord
where there's all sorts of live open
where there's all sorts of live open
source Dev you can get involved with you
source Dev you can get involved with you
can follow on X for more as well back to
code okay
so I want to first
so I want to first
try what happens if I do
this okay this still works right and if
this okay this still works right and if
I
I
do this it should not work
uh
uh
oh wait maybe is that
correct no that is wrong
right well it depends
it actually kind of depends on how
it actually kind of depends on how
you're Computing observations doesn't
it oh wait maybe this is the issue
it actually this could actually be I
it actually this could actually be I
have a theory here
have a theory here
so there's this little detail um where
so there's this little detail um where
you get a done signal right and then
you get a done signal right and then
there's this little detail of whether
there's this little detail of whether
you
you
observe like a done state or whether you
observe like a done state or whether you
reset the en and get the next
reset the en and get the next
observation
but what I'm thinking is that
but what I'm thinking is that
um if you get the next
um if you get the next
observation uh after the reset then
observation uh after the reset then
you're very clearly going to be able to
you're very clearly going to be able to
tell that the environment changed
tell that the environment changed
completely because like the state's
completely because like the state's
going to hop right it's going to hop
going to hop right it's going to hop
back to the reset
state that could screw it
up is there
up is there
a specific way I should be handling
this let me
this let me
see I want to keep that
window I think I've tried to tried to go
window I think I've tried to tried to go
through this several times as the
thing so you get
oops get OBS
one OBS
one OBS
n and then the duns are like
zero you get
zero you get
one then what do you do here
well it's a little bit more complicated
well it's a little bit more complicated
than this isn't
than this isn't
it because actually what happens is you
it because actually what happens is you
get like this
get like this
o02
03 and you actually get like
two
r r
four I think that the correct thing to
four I think that the correct thing to
do here technically right
would you do
would you do
OT terminal
I Sor to be flip-flopping for in a few
I Sor to be flip-flopping for in a few
hours yeah that's
hours yeah that's
fine oh three four a few hours
fine oh three four a few hours
okay um yeah I can do that let
okay um yeah I can do that let
me let me finish my thoughts on this
me let me finish my thoughts on this
real quick and then we will do
real quick and then we will do
that
that
um I probably should at least take a
um I probably should at least take a
little break and grab breakfast though
little break and grab breakfast though
the stream's doing well so we might have
the stream's doing well so we might have
to just start on it and then I'm going
to just start on it and then I'm going
to see how I'm feeling and if you know I
to see how I'm feeling and if you know I
have to take a break halfway through we
have to take a break halfway through we
might have to take a break halfway
might have to take a break halfway
through does this thing that I have on
through does this thing that I have on
screen make sense
though the thing is I don't know if this
though the thing is I don't know if this
is actually the
is actually the
problem it would actually seem kind of
problem it would actually seem kind of
unlikely that this is the problem
unlikely that this is the problem
right actually maybe
not because you do get a negative reward
not because you do get a negative reward
reward for dying don't
you so you would be able to
you so you would be able to
predict you'd probably be able to
predict you'd probably be able to
predict the reward for dying perfectly
predict the reward for dying perfectly
wouldn't
you e
how's this implemented in breakout right
now okay so resets
and it gives you the reward so right now
and it gives you the reward so right now
what happens is you
get how does this make
sense eating so wait you get o
hard
class oh because this is not hang on
yeah because there is no RT
right this is
right this is
zero so the way that we have it right
zero so the way that we have it right
now is one
this get shifted
is there a problem with
this I don't think there is right
yeah because you're using
the last observation to predict the next
the last observation to predict the next
reward
I mean we could test this to be fair
I mean we could test this to be fair
real
real
quick just you know real real quick
here oh is there no is there no negative
here oh is there no is there no negative
reward for losing a life
I don't think there's a negative reward
I don't think there's a negative reward
for losing a
for losing a
life so it's
moot yeah there's no negative reward for
moot yeah there's no negative reward for
losing a life okay so this is
n it's kind of good I'd rather not have
n it's kind of good I'd rather not have
to mess with that thing so we still
to mess with that thing so we still
don't know what this is then
don't know what this is then
unfortunately we still don't know why
unfortunately we still don't know why
this is screwing
this is screwing
um this is going to get boring rather
um this is going to get boring rather
quickly so here's what I'm going to
quickly so here's what I'm going to
propose since Captain is here uh Captain
propose since Captain is here uh Captain
has been working on this awesome new
has been working on this awesome new
environment for quite a long time it's a
environment for quite a long time it's a
big chunk of
big chunk of
code um and it looks like we're finally
code um and it looks like we're finally
going to review it and maybe PR it so
going to review it and maybe PR it so
I'm going to take just a couple minutes
I'm going to take just a couple minutes
grab a new cup of tea uh and then we
grab a new cup of tea uh and then we
will do that code review live on stream
will do that code review live on stream
so this will be like a pretty long form
so this will be like a pretty long form
you know long form go through a big
you know long form go through a big
project big chunk of code and uh yeah
project big chunk of code and uh yeah
there should be a lot of fun insights
here so um I think Captain if you go
here so um I think Captain if you go
ahead and get that ready I'll be back in
ahead and get that ready I'll be back in
a couple minutes and then I think this
a couple minutes and then I think this
will be a fun thing to do on stream
will be a fun thing to do on stream
and I'll try not to be too much of a
dick be right
back
e
e
e
e
e
e
e
e e
okay is it open source yet everything's
okay is it open source yet everything's
open
source let me tweet this out that we're
source let me tweet this out that we're
going to do this since this is uh kind
going to do this since this is uh kind
of a fun thing can I have a screenshot
of a fun thing can I have a screenshot
for the uh the Tweet captain or would
for the uh the Tweet captain or would
you rather I not do that until we
you rather I not do that until we
actually have it
integrated see if we get
integrated see if we get
a some people looking at
stuff sure
we have
one
Mega all
right for
yeah let me know if you got one and then
yeah let me know if you got one and then
we'll tweet this and we'll start this
we'll tweet this and we'll start this
review
Linux wants to update my colel
boom whole thing crashes no longer works
boom whole thing crashes no longer works
with this version of Linux
with this version of Linux
GG I get a screen in then as soon as
GG I get a screen in then as soon as
you're ready we'll start this I think
you're ready we'll start this I think
this will be good for people looking to
this will be good for people looking to
get into RL stuff this is like massively
get into RL stuff this is like massively
more of a contribution than you need
more of a contribution than you need
just to get started with puffer um but
just to get started with puffer um but
still I think this is going to be the
still I think this is going to be the
longest line count and in puffer um
longest line count and in puffer um
longer than neural MMO 3 we'll see
longer than neural MMO 3 we'll see
whether I agree that it needs to be
whether I agree that it needs to be
longer than neural MMO
hello can you hear me yeah okay
hello can you hear me yeah okay
cool you good are you good doing this
cool you good are you good doing this
live I figured it would be fun for
live I figured it would be fun for
people because this is like super
people because this is like super
educational
educational
yeah no that's great
awesome GPU driv review too so we have
awesome GPU driv review too so we have
like thousands upon thousands of lines
like thousands upon thousands of lines
of code review to do oh he's made good
of code review to do oh he's made good
progress that already dang yeah he
progress that already dang yeah he
worked
worked
quick guess so okay do you mean to show
quick guess so okay do you mean to show
you the link yeah just so I can get uh
you the link yeah just so I can get uh
maybe we get a couple more people
maybe we get a couple more people
looking at this right cool uh where do
looking at this right cool uh where do
you want me to play in twitch or Discord
you want me to play in twitch or Discord
doesn't matter all right I'll just send
doesn't matter all right I'll just send
it on
it on
Twitch it actually lets you send a link
Twitch it actually lets you send a link
that's
that's
cool yeah I've done it a couple times
cool yeah I've done it a couple times
it's never really gave me trouble and
it's never really gave me trouble and
anywhere we can get a screeny from
anywhere we can get a screeny from
this uh probably if you just like build
this uh probably if you just like build
it and just run the game or I can just
it and just run the game or I can just
send you one if you want can you just
send you one if you want can you just
send me one real quick so that uh we can
send me one real quick so that uh we can
yeah I can tweet it and then we can get
yeah I can tweet it and then we can get
this thing started properly
okay [ __ ] I do need a controller still
okay [ __ ] I do need a controller still
um my bad on that it's fine I kind of
um my bad on that it's fine I kind of
spring this on
you um the problem is if I uh if I get a
you um the problem is if I uh if I get a
controller then I tend to redownload
controller then I tend to redownload
Dark Souls or elen ring
Dark Souls or elen ring
so all right let me try and get a good
so all right let me try and get a good
action shot the scripted Bots are just
action shot the scripted Bots are just
doing their thing so that's
good uh so I did want to let you know
good uh so I did want to let you know
though I haven't had time to fully get
though I haven't had time to fully get
the uh the neuronet working and C but I
the uh the neuronet working and C but I
figured it still take a while to go
figured it still take a while to go
through all the M code so cool as long
through all the M code so cool as long
as you actually have stuff training on
as you actually have stuff training on
it what you do
yep all right uh let me send this in
yep all right uh let me send this in
Discord I mean we'll do way more promo
Discord I mean we'll do way more promo
for you and if you have uh an XL I can
for you and if you have uh an XL I can
add you on there as well um I do but I
add you on there as well um I do but I
haven't logged in in a while to you if
haven't logged in in a while to you if
you want me
you want me
to uh too because I am happy to do that
to uh too because I am happy to do that
it's generally like if you are in Ai and
it's generally like if you are in Ai and
you are you know looking to get your
you are you know looking to get your
work out there it is
work out there it is
mandatory yeah fair
mandatory yeah fair
enough do you have a app a handle for
enough do you have a app a handle for
this uh should just be at cap and space
hook there you go
yeah
thanks this is
thanks this is
awesome folks yeah there we go so
awesome folks yeah there we go so
um let me see what the best way to start
um let me see what the best way to start
this is because this one is so large
this is because this one is so large
that it's like it doesn't make sense to
that it's like it doesn't make sense to
just be going through it on GitHub even
just be going through it on GitHub even
does it I should probably like build
does it I should probably like build
this and play with it yeah I would I
this and play with it yeah I would I
would that's what I was going to
would that's what I was going to
recommend I would recommend honestly
recommend I would recommend honestly
like playing around in the game because
like playing around in the game because
if you don't have a sense for some of
if you don't have a sense for some of
the ways different things interact like
the ways different things interact like
some of the code will be like I don't
some of the code will be like I don't
know not making much sense or you're
know not making much sense or you're
just going to be like okay why is there
just going to be like okay why is there
so much code for this and um it it'll
so much code for this and um it it'll
make more sense when you play basically
make more sense when you play basically
okay and you can get away with mouse and
okay and you can get away with mouse and
keyboard for now I've actually gotten
keyboard for now I've actually gotten
halfway decent a mouse and keyboard it's
halfway decent a mouse and keyboard it's
just a little bit trickier but it's
just a little bit trickier but it's
doable
doable
when I'm too lazyy to like connect my
when I'm too lazyy to like connect my
controller sometimes I briefly hit
controller sometimes I briefly hit
golden OverWatch over the weekend so now
golden OverWatch over the weekend so now
I'm officially only a slightly below
I'm officially only a slightly below
average gamer oh
average gamer oh
nice uh what how high up is that in rank
nice uh what how high up is that in rank
is gold pretty low then or is it like
is gold pretty low then or is it like
medium I think it's like average okay
medium I think it's like average okay
all right
all right
uh
uh
oops and this is going to be Dev Branch
oops and this is going to be Dev Branch
right or or what branch you what what
right or or what branch you what what
did you have this built off of oh so
did you have this built off of oh so
like I said I haven't started working on
like I said I haven't started working on
the build yet um what puffer Li Branch
the build yet um what puffer Li Branch
were you working off
were you working off
of so I'm not forked puffer Li yet but
of so I'm not forked puffer Li yet but
I'll I don't
I'll I don't
know yeah I just trained it like I just
know yeah I just trained it like I just
copied clean
copied clean
RL like clean RL not even clean puffer
RL like clean RL not even clean puffer
yeah yeah yeah sorry I copied clean
yeah yeah yeah sorry I copied clean
puffer and then I just import puffer I
puffer and then I just import puffer I
basic we have like my own minimal demo
basic we have like my own minimal demo
so and you got that from 20 probably yes
so and you got that from 20 probably yes
okay that's fine so we'll be on
okay that's fine so we'll be on
2 oh I guess I don't even need it then I
2 oh I guess I don't even need it then I
I see CU you have it
I see CU you have it
self-contained yeah so if you just here
self-contained yeah so if you just here
yeah and building should be pretty
yeah and building should be pretty
simple yeah yeah you got a building
simple yeah yeah you got a building
before when it was even when it was
before when it was even when it was
still in its infancy so it should be
still in its infancy so it should be
really simple now as long as yeah you
really simple now as long as yeah you
should be fine is uh for folks watching
should be fine is uh for folks watching
audio is working well for Discord call
audio is working well for Discord call
and everything because I I'd like this
and everything because I I'd like this
to be a fun like educational thing and
to be a fun like educational thing and
hopefully some people will get inspired
hopefully some people will get inspired
to try to build some of their own M's
to try to build some of their own M's
off of this you don't have to make
off of this you don't have to make
anything remotely as complex as this but
anything remotely as complex as this but
uh it's a fun way to get involved yeah
uh it's a fun way to get involved yeah
working okay
working okay
great yeah I just really like the
great yeah I just really like the
original game and thought it'd be cool
original game and thought it'd be cool
to train AI on it and
to train AI on it and
I got somebody to introduce you to as
I got somebody to introduce you to as
well since you've been doing physics
well since you've been doing physics
stuff in puffer I had a chat yesterday
stuff in puffer I had a chat yesterday
with the uh the creator of Madrona who's
with the uh the creator of Madrona who's
just defended his P his uh his thesis
just defended his P his uh his thesis
and he's got like an awesome uh like
and he's got like an awesome uh like
actual FPS that we're look at
actual FPS that we're look at
integrating with puffer if you want to
integrating with puffer if you want to
get involved in that afterwards he's a
get involved in that afterwards he's a
little loud though
little loud though
okay usually like literally loud when he
okay usually like literally loud when he
talks or just like a loud person I'll
talks or just like a loud person I'll
just no no no I was reading that was I
just no no no I was reading that was I
was reading the the YouTube comment on
was reading the the YouTube comment on
the audio levels tell me if that's okay
the audio levels tell me if that's okay
I'm a little loud I see I was talking
I'm a little loud I see I was talking
with the m it's a little loud no yeah I
with the m it's a little loud no yeah I
was like what do you mean by that okay
was like what do you mean by that okay
uh or what uh so just do make well wait
uh or what uh so just do make well wait
so if you just want to play it do
so if you just want to play it do
uh um sh you don't okay let me see make
uh um sh you don't okay let me see make
um release demo yeah make release hyphen
demo yeah so this is
demo yeah so this is
gonna download a pinned commit of reopen
gonna download a pinned commit of reopen
my box 2D fork and then just build it
my box 2D fork and then just build it
we'll save the whole cmake discussion
we'll save the whole cmake discussion
until we actually see what it would look
until we actually see what it would look
like cake era could not find X11 the
like cake era could not find X11 the
heck there's definitely
heck there's definitely
X11
X11
huh uh does not work through
huh uh does not work through
Docker I thought I no I I built it on
Docker I thought I no I I built it on
box two and I've used
box two and I've used
it could not I don't think I ran into
it could not I don't think I ran into
this
this
either 3.
either 3.
22.1 yeah no cake the cake is fine uh
22.1 yeah no cake the cake is fine uh
that you just have to apt install
that you just have to apt install
something I remember running to this
something I remember running to this
like once and like chat just gave me the
like once and like chat just gave me the
package I think
package I think
okay yeah this this happened like one
okay yeah this this happened like one
time I can't remember
time I can't remember
when yeah pretty rare though it's a it's
when yeah pretty rare though it's a it's
a packaging issue I
a packaging issue I
guess liex love Dev yeah something like
guess liex love Dev yeah something like
that
y I'm confused as to why that's needed
y I'm confused as to why that's needed
specifically for this but
specifically for this but
sure I guess Raab needs it lib X
randar oh wait I actually might have a
randar oh wait I actually might have a
list of this in the docker container I
list of this in the docker container I
buil at one point this might save you
buil at one point this might save you
some
time I'm so the question is why these
time I'm so the question is why these
things are needed like if you're just
things are needed like if you're just
using RB but uh the X cursor
jez I swear a dog container at one point
jez I swear a dog container at one point
maybe that's
maybe that's
weird
okay yeah maybe I just installed this
okay yeah maybe I just installed this
there we go on box two I don't know and
there we go on box two I don't know and
like now I don't have this problem I'm
like now I don't have this problem I'm
not sure do you have it rendering over
not sure do you have it rendering over
SSH too no I don't have it rendering I
SSH too no I don't have it rendering I
just train it on box two okay um okay so
just train it on box two okay um okay so
we
have following variables are no set to
have following variables are no set to
not found open gel include
D yeah I haven't seen this either
D yeah I haven't seen this either
um I guess okay I guess it means it's
um I guess okay I guess it means it's
trying to find open GL and can't you
trying to find open GL and can't you
probably need toall another
probably need toall another
package is it just open GL open GL Dev
package is it just open GL open GL Dev
something yeah just that's another LM
something yeah just that's another LM
question I think because it's not like a
question I think because it's not like a
simple name one
sec I hope this doesn't break NVIDIA
drivers okay
M
M
there not
there not
farther there's definitely some set up
farther there's definitely some set up
stuff to fix here
stuff to fix here
yeah I've run a multiple it I don't know
yeah I've run a multiple it I don't know
it so yeah I guess you have to have
it so yeah I guess you have to have
certain things installed but there
certain things installed but there
should be like our nice new snazzy
should be like our nice new snazzy
container as well uh what is wrong here
container as well uh what is wrong here
hang on I don't remember having this jar
hang on I don't remember having this jar
mod load file what so so run it
mod load file what so so run it
again and it should just give you only
again and it should just give you only
the necessary yeah it should like slim
the necessary yeah it should like slim
down okay where's the actual eror
unrecognized warning that's just a
unrecognized warning that's just a
that's just the warning wait all
that's just the warning wait all
warnings being treated as
warnings being treated as
errors oh interesting okay I haven't
errors oh interesting okay I haven't
compiled with this old of a GCC in a
compiled with this old of a GCC in a
while
GCC I just have whatever default GCC is
GCC I just have whatever default GCC is
on here I do have I've got updated make
on here I do have I've got updated make
you need like a new GCC or a new CL or
you need like a new GCC or a new CL or
something you shouldn't
something you shouldn't
um I mean
um I mean
it's clang 14 it's probably old
it's clang 14 it's probably old
right uh I don't know I don't know if
right uh I don't know I don't know if
it's using GCC or CL it's using GCC I
it's using GCC or CL it's using GCC I
saw at the beginning it's like gcc1
saw at the beginning it's like gcc1
which is
which is
ancient I mean it might work to
ancient I mean it might work to
update
update
uh kind of well it yeah I'm wondering if
uh kind of well it yeah I'm wondering if
something might honestly I find it
something might honestly I find it
easier to update clang but whatever you
easier to update clang but whatever you
want to do because um there's just like
want to do because um there's just like
an app package you can
an app package you can
install or
install or
clang yeah let me send you the link
clang yeah let me send you the link
thank
thank
you so I you know we'll just get this
you so I you know we'll just get this
set up for now because I want to focus
set up for now because I want to focus
on the code today but then the question
on the code today but then the question
mainly is going to be if you're just
mainly is going to be if you're just
using I mean assumedly all this
using I mean assumedly all this
rendering stuff is not dependency for
rendering stuff is not dependency for
box 2D so know why are there all these
box 2D so know why are there all these
additional dependencies if we're both
additional dependencies if we're both
just using rayb
just using rayb
right I'm pretty sure these are just all
right I'm pretty sure these are just all
the stuff you installed are Raa
the stuff you installed are Raa
dependency like Raab uses X11 opengl all
dependency like Raab uses X11 opengl all
that stuff okay so the setup is just not
that stuff okay so the setup is just not
like the setup file should I have to
like the setup file should I have to
like I I'm confused because I have like
like I I'm confused because I have like
this is a ra valid container that I have
this is a ra valid container that I have
here right yeah I'm not sure about that
here right yeah I'm not sure about that
to be
to be
honest you just need to yeah you need
honest you just need to yeah you need
install white W get for some reason
install white W get for some reason
that's just not on the container I think
that's just not on the container I think
I have Pearl on the container not W get
I have Pearl on the container not W get
yeah it's nice to have both because a
yeah it's nice to have both because a
lot of random stuff uses both okay okay
lot of random stuff uses both okay okay
yeah CL 18 is
fine import out no module oh jeez this
fine import out no module oh jeez this
is like annoying python thing isn't it
is like annoying python thing isn't it
yeah this is a weird thing that happens
yeah this is a weird thing that happens
in your
in your
[Music]
[Music]
container that's right all right it
container that's right all right it
might be easier to do to do GCC because
might be easier to do to do GCC because
I don't know this like script wants to
I don't know this like script wants to
use like app to app repository that's
use like app to app repository that's
right did get it working I did get GCC
right did get it working I did get GCC
actually you know what if you just want
actually you know what if you just want
to hop on box two I'm not using it and
to hop on box two I'm not using it and
it just works on there okay I can do
it just works on there okay I can do
that as well well obviously we'll want
that as well well obviously we'll want
to get the setup stuff yeah fix but in
to get the setup stuff yeah fix but in
the I outside of the container it's
the I outside of the container it's
pretty seamless cuz like on my laptop
pretty seamless cuz like on my laptop
and on my desktop like I don't remember
and on my desktop like I don't remember
really having any issues and on my Mac
really having any issues and on my Mac
so I've tried on three different
so I've tried on three different
environments and I don't really think I
environments and I don't really think I
had to install any packages I just kind
had to install any packages I just kind
of like it just it just worked but this
of like it just it just worked but this
type of thing is going to be really nice
type of thing is going to be really nice
when we have the new boxes we're just
when we have the new boxes we're just
going to be able to give like any
going to be able to give like any
contributors like one or multiple boxes
contributors like one or multiple boxes
like
like
this yeah be nice all right I
this yeah be nice all right I
see it's in go back so it's in get um
see it's in go back so it's in get um
impulse
Wars just go back one directory and then
Wars just go back one directory and then
it's and get an Impulse
it's and get an Impulse
worse yeah okay so now we have this set
worse yeah okay so now we have this set
up and I can't play it through box two
up and I can't play it through box two
right oh you're right um never mind then
right oh you're right um never mind then
I forgot about that that's the main
I forgot about that that's the main
thing we want to
thing we want to
do
do
um how hard is it to Sol GC
yeah we really got to get these
yeah we really got to get these
compilers upd like it it could I can but
compilers upd like it it could I can but
the thing is like you realize that I
the thing is like you realize that I
have the default compilers that ship
have the default compilers that ship
with like not ancient versions of auntu
with like not ancient versions of auntu
right no I know like I I just broke
right no I know like I I just broke
building with gcc1 like pretty recently
building with gcc1 like pretty recently
like it should be able to build fine but
like it should be able to build fine but
I'm just saying for Speed like I got
I'm just saying for Speed like I got
like 10% or something speed gains by
like 10% or something speed gains by
updating my compiler like it's not
updating my compiler like it's not
insignificant well we can put it on the
insignificant well we can put it on the
container but it shouldn't break right
container but it shouldn't break right
yeah yeah no I agree I
yeah yeah no I agree I
agree um
agree um
4.9 pretty easily this is 2015 this is
4.9 pretty easily this is 2015 this is
ancient
yeah upgrading your OS ah very good
yeah upgrading your OS ah very good
great
suggestion you have to add a PPA I
suggestion you have to add a PPA I
freaking hate ppas
apparently here this might work let me
apparently here this might work let me
see have something and then hopefully we
see have something and then hopefully we
can just get started on the code because
can just get started on the code because
there's a whole bunch to go through here
there's a whole bunch to go through here
yeah you send
yeah you send
something yeah I sent it in uh General
something yeah I sent it in uh General
in Discord
in Discord
are you
are you
sure oh
development so
development so
um yeah I'm pretty sure something that I
um yeah I'm pretty sure something that I
installed just now broke
installed just now broke
out no that I've seen that like um
out no that I've seen that like um
yeah that just happens on your boxes
yeah that just happens on your boxes
like on the container for some
like on the container for some
reason oh see that's what was failing in
reason oh see that's what was failing in
the lvm script add after repository it's
the lvm script add after repository it's
because your python stuff's so weird I
because your python stuff's so weird I
don't know
don't know
why so like if
why so like if
you yeah but then like for some reason I
you yeah but then like for some reason I
can only train using the python 3.11
can only train using the python 3.11
command there's no app package in Python
command there's no app package in Python
312 yeah
312 yeah
but then I'm pretty sure the normal
but then I'm pretty sure the normal
python also doesn't have Pip it's it's
python also doesn't have Pip it's it's
like
like
weird oh you don't even have python 311
weird oh you don't even have python 311
on the new
on the new
ones okay yeah I guess I haven't been
ones okay yeah I guess I haven't been
updated mine uh yeah just try pip
updated mine uh yeah just try pip
installing app
package if that works then cool this
package if that works then cool this
stuff has gotten better does not
stuff has gotten better does not
I hate dealing with ppas almost lost the
I hate dealing with ppas almost lost the
OS yeah
OS yeah
it's it's really gross isn't
it's it's really gross isn't
it I bet it's a system package like for
it I bet it's a system package like for
some reason python like I don't know why
some reason python like I don't know why
they distribute like that
but yeah this type of stuff is just
but yeah this type of stuff is just
gross and it's like I don't know why
gross and it's like I don't know why
this stuff depends on python anyways
this stuff depends on python anyways
like why do you need why do p
like why do you need why do p
used for installing
used for installing
GCC like
GCC like
what Python 3
what Python 3
AP yeah that's what I saw
AP yeah that's what I saw
too already
too already
there
there
what someone said if
what someone said if
you reinstall it it might go away
but that's kind of wishful thinking
oh well that's gross I would like to be
oh well that's gross I would like to be
able to play the
able to play the
M yeah um okay let me see I'm not in the
M yeah um okay let me see I'm not in the
VM all right
VM all right
so let's try this let's try just getting
so let's try this let's try just getting
it building on whatever super old
it building on whatever super old
version you have of
version you have of
GCC
GCC
um so edit we're just going to move like
um so edit we're just going to move like
the offending thing and see if that
the offending thing and see if that
works so just run the make Command again
works so just run the make Command again
yeah just to make sure everything
yeah just to make sure everything
like explodes in the way I expect it to
like explodes in the way I expect it to
at least yeah okay so just edit the cake
at least yeah okay so just edit the cake
file really
file really
quick just cake list n it's just it's no
quick just cake list n it's just it's no
not
not
that one yeah no no no no yeah it's just
that one yeah no no no no yeah it's just
yeah that one go to line uh
104 and the very last thing yeah the
104 and the very last thing yeah the
very last like no gnu statement
very last like no gnu statement
expression remove
expression remove
that I don't think that'll fix it by
that I don't think that'll fix it by
itself
but okay yeah let's just remove wear and
but okay yeah let's just remove wear and
then I might build
then I might build
move what I have uh wear
on oh I yeah that one annoys the hell
on oh I yeah that one annoys the hell
out of me I missed warnings otherwise I
out of me I missed warnings otherwise I
don't get any warnings okay now it
don't get any warnings okay now it
should work okay
should work okay
cool so yeah now run release demo
cool so yeah now run release demo
demo oh holy this is
demo oh holy this is
cool let's see I'm red yep you can see
cool let's see I'm red yep you can see
it says drone one is red then you're
it says drone one is red then you're
human everything else is
scripted oops
okay
okay
okay yeah so I finally added a lot of
okay yeah so I finally added a lot of
stuff it tells you like what weapon you
stuff it tells you like what weapon you
have what team you're on there's lives
have what team you're on there's lives
and when you respawn you have like a
and when you respawn you have like a
shield briefly so you can't just get
shield briefly so you can't just get
spawn
spawn
killed ah okay this takes it this takes
killed ah okay this takes it this takes
some getting used
some getting used
wait hold on okay yeah you need to click
wait hold on okay yeah you need to click
behind okay to
go you added some nice like the triangle
go you added some nice like the triangle
breakup animation and stuff it's
breakup animation and stuff it's
good do try picking up some different
good do try picking up some different
weapons and getting a feel for them cuz
weapons and getting a feel for them cuz
right now you haven't picked up anything
right now you haven't picked up anything
I don't think unless I I think that they
I don't think unless I I think that they
they got all the weapons before I could
they got all the weapons before I could
yeah
yeah
potentially
yep
yep
okay oh um you can break using the space
okay oh um you can break using the space
bar and you have a limited number of
bar and you have a limited number of
like pool of energy that's represented
like pool of energy that's represented
by like the the ring in the middle bre I
by like the the ring in the middle bre I
see that's probably
see that's probably
useful yeah especially when they hit you
useful yeah especially when they hit you
or stuff
yeah also I have it set up to be teams
yeah also I have it set up to be teams
by default so Green's on your team I see
by default so Green's on your team I see
there is friendly fire but they won't
there is friendly fire but they won't
like indirectly attack you they won't
like indirectly attack you they won't
attempt to yeah oh
late yeah in this map everyone spawns
late yeah in this map everyone spawns
with a rail gun so
with a rail gun so
yeah the movement in this is like
yeah the movement in this is like
crazy it's very unintuitive right well
crazy it's very unintuitive right well
it it is the start but again that's
it it is the start but again that's
something it's not bad it's not bad to
something it's not bad it's not bad to
have like it's fine it's it's fine to
have like it's fine it's it's fine to
have a game that just has like just the
have a game that just has like just the
skill issue right well what I mean is
skill issue right well what I mean is
it's much more intuitive on a controller
it's much more intuitive on a controller
oh I see it's it's very unintuitive on a
oh I see it's it's very unintuitive on a
keyboard I will agree with that okay
keyboard I will agree with that okay
and that is because but you still have
and that is because but you still have
to shoot in the opposite direction
to shoot in the opposite direction
you're looking at you do but it's it's a
you're looking at you do but it's it's a
lot easier to like wrap your print
lot easier to like wrap your print
around at least for me like with the
around at least for me like with the
controller
controller
interesting like I don't know it's hard
interesting like I don't know it's hard
to describe but once you use a
to describe but once you use a
controller then it's like oh okay this
controller then it's like oh okay this
makes
sense so yeah that weapon you have to
sense so yeah that weapon you have to
charge there was a little charge meter
charge there was a little charge meter
under you
okay if you really don't want wait for
okay if you really don't want wait for
him you can just restart
him you can just restart
it
it
yeah I mean you've cleaned this up
yeah I mean you've cleaned this up
nicely though yeah
nicely though yeah
thanks just like all the little
thanks just like all the little
animations and
animations and
stuff yeah it's all like really simple
stuff yeah it's all like really simple
RB stuff yeah well but it like it makes
RB stuff yeah well but it like it makes
a big difference is the thing right it
a big difference is the thing right it
does yeah gosh um so the one last thing
does yeah gosh um so the one last thing
if you press the uh if you right click
if you press the uh if you right click
you can like basically push stuff away
you can like basically push stuff away
from you it's called a burst you can
from you it's called a burst you can
hold it to like make it
hold it to like make it
larger yeah huh so it'll you don't even
larger yeah huh so it'll you don't even
need any guns is what you're saying
need any guns is what you're saying
because I can just do I can just do well
because I can just do I can just do well
not if they shoot me first yeah so you
not if they shoot me first yeah so you
can but it's highrisk h reward because
can but it's highrisk h reward because
if it uses energy and if you run out of
if it uses energy and if you run out of
energy like breaking is pretty big so
energy like breaking is pretty big so
yeah you can do that
yeah you can do that
you can also deflect shots or you can
you can also deflect shots or you can
power up by Shots by bursting right
power up by Shots by bursting right
after you fire or you can use it to push
after you fire or you can use it to push
yourself away from walls so it's like
yourself away from walls so it's like
really
really
multi-purpose
oh yeah what's cool is too so web is
oh yeah what's cool is too so web is
weird it doesn't run at a stable FPS but
weird it doesn't run at a stable FPS but
it runs I think like at or above 60 FPS
it runs I think like at or above 60 FPS
on all the browsers I've tested in the
on all the browsers I've tested in the
web which is pretty cool so it looks
web which is pretty cool so it looks
pretty smooth in web we can get it
pretty smooth in web we can get it
running faster than 60 right it's
running faster than 60 right it's
running at 120 right now but like that's
running at 120 right now but like that's
the thing with the web it it doesn't run
the thing with the web it it doesn't run
at a steady FPS it just kind of runs
at a steady FPS it just kind of runs
whenever the browser wants to so it's
whenever the browser wants to so it's
like weird I had to count for that as
like weird I had to count for that as
you'll see
you'll see
web is just stupid yeah it's annoying
web is just stupid yeah it's annoying
but it's cool it works yeah it's very
but it's cool it works yeah it's very
difficult to control the uh The Recoil
difficult to control the uh The Recoil
on stuff I guess I'm not using the
on stuff I guess I'm not using the
braking though at all yeah no braking
braking though at all yeah no braking
helps a lot I
helps a lot I
see but you got to be careful though
see but you got to be careful though
because it burns up energy fast
yeah recoil management is kind of in
yeah recoil management is kind of in
positioning are kind of like the two
positioning are kind of like the two
main things so like like these scripted
main things so like like these scripted
agents like they're very they aim like
agents like they're very they aim like
perfectly but they are idiots when it
perfectly but they are idiots when it
comes like positioning and yeah it's
comes like positioning and yeah it's
just mechanically it's freaking hard
just mechanically it's freaking hard
yeah it is so I think there's a lot of
yeah it is so I think there's a lot of
potential for AI agents to just dominate
potential for AI agents to just dominate
because they could get really the
because they could get really the
mechanics are like I mean it's a good
mechanics are like I mean it's a good
example though where it's like the
example though where it's like the
mechanics make sense they're just
mechanics make sense they're just
hard
yeah I I mean I've played this game in
yeah I I mean I've played this game in
the original quite a bit obviously this
the original quite a bit obviously this
it's like it's easier to just do
it's like it's easier to just do
this yeah in the beginning it can be but
this yeah in the beginning it can be but
you leave yourself pretty open because
you leave yourself pretty open because
now you can't
now you can't
break well if I could figure out how to
break well if I could figure out how to
do that correctly in the first place
do that correctly in the first place
maybe it would matter
maybe it would matter
more are these walls not killing us no
more are these walls not killing us no
so you you just missed hitting it
so yeah you're G to if you use the
so yeah you're G to if you use the
shooting to like Propel yourself you can
shooting to like Propel yourself you can
go a lot faster when you're charging up
go a lot faster when you're charging up
your person
stuff oh it actually bounces you off the
stuff oh it actually bounces you off the
wall as well yeah yeah I I mentioned you
wall as well yeah yeah I I mentioned you
might have missed that yeah so it you
might have missed that yeah so it you
can actually use that as a last second
can actually use that as a last second
like say
like say
to save yourself like if you're about to
to save yourself like if you're about to
hit a wall you can burst off the wall
hit a wall you can burst off the wall
and push yourself
away if you're quick enough PR review
away if you're quick enough PR review
yeah this is going to be a PR review you
yeah this is going to be a PR review you
got to actually get a sense of what the
got to actually get a sense of what the
end is first though like how do I review
end is first though like how do I review
something without knowing so you do
something without knowing so you do
actually have to play the end it's one
actually have to play the end it's one
of the main reasons we use games they
of the main reasons we use games they
are interpretable enough for us to do
are interpretable enough for us to do
that and I got hit by the flying jeez
that and I got hit by the flying jeez
okay yeah is there
okay yeah is there
um does this thing do collisions only
um does this thing do collisions only
with it's with rexs only it's not with
with it's with rexs only it's not with
polygons or
polygons or
whatever uh what do you mean like yeah
whatever uh what do you mean like yeah
like these objects they have to be
like these objects they have to be
boxes um I mean like pretty much
boxes um I mean like pretty much
everything coll I'm not sure what you
everything coll I'm not sure what you
mean exactly like only the boxes collide
mean exactly like only the boxes collide
with certain things I mean like does box
with certain things I mean like does box
2D give you you can do like triangle
2D give you you can do like triangle
collisions oh yeah you can do pogon
collisions oh yeah you can do pogon
capsules circles all right chain shapes
capsules circles all right chain shapes
I'm just using
like ah circles I do actually have
like ah circles I do actually have
triangles when you die but they're only
triangles when you die but they're only
like an effect yeah they're just I okay
like an effect yeah they're just I okay
so I mean I think I get I get a sense of
so I mean I think I get I get a sense of
it for the most part um I don't know if
it for the most part um I don't know if
I what do you need to have do you need
I what do you need to have do you need
to like be a specific ELO in order to
to like be a specific ELO in order to
review it I
review it I
wonder I mean seriously like it helps
wonder I mean seriously like it helps
yeah but um I don't want to also be
yeah but um I don't want to also be
playing it all
playing it all
day even though it is
day even though it is
fun yeah the one thing AI agents get
fun yeah the one thing AI agents get
good at like immediately is they learn
good at like immediately is they learn
to be like nasty at bursting off walls
to be like nasty at bursting off walls
so they get really hard to kill oh
so they get really hard to kill oh
that's funny I mean it makes sense it's
that's funny I mean it makes sense it's
like a really short Horizon mechanics
like a really short Horizon mechanics
thing
yeah um if you want to make one if you
yeah um if you want to make one if you
want to make one small change I'll show
want to make one small change I'll show
you something quick um just so you can
you something quick um just so you can
get a sense of something that took me a
get a sense of something that took me a
long time like you can so exit out
long time like you can so exit out
really
really
fast
fast
yep and edit um SRC demo.
C okay so at the very end of the NIT
C okay so at the very end of the NIT
M
M
um yeah it's just lagging a bit twitch
um yeah it's just lagging a bit twitch
yeah so at the very end of that like
yeah so at the very end of that like
line there's going to be like yeah three
line there's going to be like yeah three
booleans set the second to last bullion
booleans set the second to last bullion
to
to
true that's just going to make them all
true that's just going to make them all
sitting ducks I just want to show you
sitting ducks I just want to show you
something it would be easier yeah
okay so yeah just go ahead and run it
okay so yeah just go ahead and run it
again okay and try and pick up yeah
again okay and try and pick up yeah
there's a mine at the bottom if you also
there's a mine at the bottom if you also
press PR three just the number three you
press PR three just the number three you
could take control of the the blue drone
could take control of the the blue drone
which is
which is
closer if you
closer if you
want yeah so go pick up that mine
want yeah so go pick up that mine
quick okay so one thing that was
quick okay so one thing that was
actually really tricky was getting
actually really tricky was getting
chained explosions so if you place two
chained explosions so if you place two
of those close together like far away
of those close together like far away
from
from
you not on a player yeah on a on like a
you not on a player yeah on a on like a
r wall yeah Place another one like close
r wall yeah Place another one like close
to that
okay and then shoot one of
okay and then shoot one of
those I
those I
see so that actually took me like
see so that actually took me like
multiple days which seems really simple
multiple days which seems really simple
because like yeah there was a lot of
because like yeah there was a lot of
like I have to iterate through all these
like I have to iterate through all these
box 2D objects to see if they're
box 2D objects to see if they're
touching but then like I can't destroy
touching but then like I can't destroy
the Box through the objects while I'm
the Box through the objects while I'm
iterating through them so I have to mark
iterating through them so I have to mark
them for removal later and it got really
them for removal later and it got really
challenging because like there's
challenging because like there's
multiple things that could destroy
multiple things that could destroy
projectile so I need to make sure like
projectile so I need to make sure like
yeah it there was a lot of edge cases so
yeah it there was a lot of edge cases so
so we'll look then I'll look at the
so we'll look then I'll look at the
structure stuff and then I'll see if I
structure stuff and then I'll see if I
can
can
find basically anywhere where I have
find basically anywhere where I have
ideas on that but um sure yeah okay are
ideas on that but um sure yeah okay are
we uh anything else you want to show me
we uh anything else you want to show me
or should I start looking at the code
or should I start looking at the code
here um the imploder right this is gonna
here um the imploder right this is gonna
us I'm sure if you're that close it
us I'm sure if you're that close it
might
might
yeah oh he hit you into the wall
yeah oh he hit you into the wall
yeah oh and there like a battle royale
yeah oh and there like a battle royale
thing here going on as well right yeah
thing here going on as well right yeah
so once timers out the walls start
so once timers out the walls start
closing in that's cool I did that
closing in that's cool I did that
actually in neural MMO in one of the
actually in neural MMO in one of the
early versions oh really yeah that's
cool yeah so I gotta give credit where
cool yeah so I gotta give credit where
credits do 90% 99 or probably I say like
credits do 90% 99 or probably I say like
90% of this is from the original game
90% of this is from the original game
mhm the only stuff I added I added the
mhm the only stuff I added I added the
mine launcher weapon I added the first
mine launcher weapon I added the first
thing
thing
BRAC oh yeah first thing breaking and
BRAC oh yeah first thing breaking and
energy mechanics I added this map and
energy mechanics I added this map and
one other but everything else is like
one other but everything else is like
pretty straight from the original
pretty straight from the original
game it's cool okay so like it have to
game it's cool okay so like it have to
go far enough before it'll explode on
go far enough before it'll explode on
something yeah so after after it goes a
something yeah so after after it goes a
certain
certain
distance if you want to see something
distance if you want to see something
really cool so let me see ra as well
really cool so let me see ra as well
this takes a long time to charge only
this takes a long time to charge only
but it's good yeah um so I'll show you
but it's good yeah um so I'll show you
one more thing pick up the uh machine
one more thing pick up the uh machine
gun quick
gun quick
actually uh machine gun will work okay I
actually uh machine gun will work okay I
guess all
right um and just shoot like one shot so
right um and just shoot like one shot so
you can get a sense of how fast it goes
you can get a sense of how fast it goes
it's a lot
it's a lot
yeah yeah if you burst and then let go
yeah yeah if you burst and then let go
of the burst at the same time as you
of the burst at the same time as you
shoot you can basically like supercharge
shoot you can basically like supercharge
your
your
shot oh that's so
funny so you Bas
funny so you Bas
yeah it's hard with the machine gun the
yeah it's hard with the machine gun the
flat can is honestly the best one
flat can is honestly the best one
because they go slow so there's Tech
because they go slow so there's Tech
basically yeah and that one I
basically yeah and that one I
accidentally I actually accidentally
accidentally I actually accidentally
discovered I didn't even intend for it
discovered I didn't even intend for it
but I it's really cool yeah I I had the
but I it's really cool yeah I I had the
exact same thing happen like in neural
exact same thing happen like in neural
MMO where there was was like
MMO where there was was like
unintentional Tech
unintentional Tech
um what there like there was this really
um what there like there was this really
there's like there's basically there's
there's like there's basically there's
like scraping Tech you can do there's
like scraping Tech you can do there's
likeing te you can do with a bow and
likeing te you can do with a bow and
with the
with the
sword um and then there's also like
sword um and then there's also like
enemy AI abuse you can
enemy AI abuse you can
do yeah it's really cool when you find
do yeah it's really cool when you find
like I don't know emergent behaviors
like I don't know emergent behaviors
around but like unintentional features I
around but like unintentional features I
guess I mean this is just the thing is
guess I mean this is just the thing is
this should be true of any like
this should be true of any like
sufficiently complex game and you leave
sufficiently complex game and you leave
in the ones that are interesting and you
in the ones that are interesting and you
take out the ones that aren't
true so yeah um I'm sure where you want
true so yeah um I'm sure where you want
to start let start the review
to start let start the review
see
see
yeah what
this I'll look at that later
um well let's just take a quick look at
um well let's just take a quick look at
the structure so it's all in
the structure so it's all in
Source yeah pretty much um the python
Source yeah pretty much um the python
stuff is not but all like the actual M
stuff is not but all like the actual M
code is in
code is in
there and you've taken a look at the
there and you've taken a look at the
policy before so you kind of know what
policy before so you kind of know what
to expect there but yeah feel free I did
to expect there but yeah feel free I did
do the uh scatter scatter thing so the
do the uh scatter scatter thing so the
policy a little cleaner it also makes a
policy a little cleaner it also makes a
compile it does yeah yeah I tested that
compile it does yeah yeah I tested that
I got the like end to end I now have end
I got the like end to end I now have end
to end comp including the lstm for eal
to end comp including the lstm for eal
working in puffer wait really CU I
working in puffer wait really CU I
thought I read something somewhere where
thought I read something somewhere where
like the lstm can't really be
like the lstm can't really be
compiled like they like I use there two
compiled like they like I use there two
separate lstms that are being used
separate lstms that are being used
there's a different lstm being used for
there's a different lstm being used for
the forward pass than the training pass
the forward pass than the training pass
but the weights are
but the weights are
synchronized oh nice that's smart yeah
synchronized oh nice that's smart yeah
and it's an lstm cell this also makes it
and it's an lstm cell this also makes it
like 30% faster that's that's awesome
like 30% faster that's that's awesome
yeah so did some work um this is I like
yeah so did some work um this is I like
I got remember how I got everything
I got remember how I got everything
training really fast yeah so that was
training really fast yeah so that was
part of it so
part of it so
anyways yeah with my recent changes with
anyways yeah with my recent changes with
my policy my policy doesn't have any
my policy my policy doesn't have any
graph bakes in in it specifically which
graph bakes in in it specifically which
is nice
is nice
so so what do you want to start on um
so so what do you want to start on um
game. has like all the game
game. has like all the game
logic um and M is just like you know the
logic um and M is just like you know the
more r specific
more r specific
stuff we have I'm looking at this first
stuff we have I'm looking at this first
we
we
have 7,000 lines okay yeah it's
big okay let me just I'm trying to get a
big okay let me just I'm trying to get a
sense of what what stuff is where so
sense of what what stuff is where so
there's this massive settings
file yeah a lot of that is like weapon
file yeah a lot of that is like weapon
stuff
Okay and like observation stuff
yeah so some of this is a little longer
yeah so some of this is a little longer
than it needs to be because I also like
than it needs to be because I also like
assigned the stuff below but I tried to
assigned the stuff below but I tried to
like make it smaller and I ended up
like make it smaller and I ended up
needing a lot of these things multiple
needing a lot of these things multiple
time so it actually just makes sense to
time so it actually just makes sense to
kind of do it the way I'm doing it it we
kind of do it the way I'm doing it it we
in my
opinion yeah there's like a lot of
opinion yeah there's like a lot of
different settings per weapon and some
different settings per weapon and some
of like the stuff is like calculated so
of like the stuff is like calculated so
I had I was it was getting weird in
I had I was it was getting weird in
certain I think like an older compiler
certain I think like an older compiler
versions it doesn't like when you're
versions it doesn't like when you're
doing like math in constant so I had to
doing like math in constant so I had to
use
use
macros which is kind of stupid because
macros which is kind of stupid because
it should be able I don't know just you
it should be able I don't know just you
it should be that's funny yeah that's
it should be that's funny yeah that's
that's actually really
that's actually really
weird but to be honest I'm pretty sure
weird but to be honest I'm pretty sure
it was just my LSP like yelling at me
it was just my LSP like yelling at me
and the compiler as actually fine I
and the compiler as actually fine I
discovered that recently where the LSP
discovered that recently where the LSP
will be like hey you can't do this and
will be like hey you can't do this and
then it compiles fine with no warnings
then it compiles fine with no warnings
I'm like okay shut up you know um you
I'm like okay shut up you know um you
know how you cannot have LSP
know how you cannot have LSP
warnings yeah using B if you don't use
warnings yeah using B if you don't use
an
an
LSP yeah but a lot of the LSP features
LSP yeah but a lot of the LSP features
are very nice in my op I'm aware
but it's
but it's
funny uh weapon of
fire I mean these are just all
fire I mean these are just all
like this is just
like this is just
tea if I have coffee coffee is just
tea if I have coffee coffee is just
black so most of these weapon like uh I
black so most of these weapon like uh I
used to have a function for everything
used to have a function for everything
but now the only weapons functions they
but now the only weapons functions they
have is are when some of the parameters
have is are when some of the parameters
are like very specific per weapon like
are like very specific per weapon like
random or something like that because
random or something like that because
like the machine gun and the shotgun
like the machine gun and the shotgun
they apply like some random aiming and
they apply like some random aiming and
velocity changes to uh projectiles and
velocity changes to uh projectiles and
then like yeah so stuff like that most
then like yeah so stuff like that most
the other stuff is just taken from the
the other stuff is just taken from the
weapon
weapon
struct insertion short is just placed
struct insertion short is just placed
here
here
because if I plac in certain other files
because if I plac in certain other files
they would be like circular including
they would be like circular including
stuff like it was getting weird but very
stuff like it was getting weird but very
small fire
okay so I had to see how this
is yeah settings is just a lot of like
is yeah settings is just a lot of like
settings and boiler plate and stuff
settings and boiler plate and stuff
types are pretty much like all the types
types are pretty much like all the types
where they live you know I'm an entity
where they live you know I'm an entity
type
rounds wall
entity for
R CLI is in there as
well okay we're doing we're going to
well okay we're doing we're going to
kind of do like forer granular
kind of do like forer granular
here sure where I need to get um a sense
here sure where I need to get um a sense
of like what generally is here
of like what generally is here
first and then I can go through line by
first and then I can go through line by
line it be a
line it be a
lot I don't know if I'd recommend going
lot I don't know if I'd recommend going
through script to agent first honestly
through script to agent first honestly
because trying to get a sense of what's
because trying to get a sense of what's
here sure you can go through it but
here sure you can go through it but
there's just a lot of calculations and
there's just a lot of calculations and
physics stuff going on because like yeah
physics stuff going on because like yeah
the the scripted agents are very like
the the scripted agents are very like
mid but even to get them to that level
mid but even to get them to that level
is really actually kind of
annoying it is really tough to get them
annoying it is really tough to get them
to not kill themselves by
accident yeah that was the safe stuff
accident yeah that was the safe stuff
okay
I think this file will be important
I think this file will be important
because this will be like how you're
because this will be like how you're
thinking about how the game needs to be
thinking about how the game needs to be
played in here or at least not needs to
played in here or at least not needs to
be played but as close as you can do
be played but as close as you can do
just by a rule based
just by a rule based
system yeah
system yeah
it can still be improved a lot but yeah
it can still be improved a lot but yeah
render is probably not if probably it's
render is probably not if probably it's
it's fine it's not bad but it's probably
it's fine it's not bad but it's probably
among the lower quality code just
among the lower quality code just
because like I this is the first
because like I this is the first
Graphics program I've done
Graphics program I've done
ever so well what what fancy graphic
ever so well what what fancy graphic
stuff is there in you I mean not a lot
stuff is there in you I mean not a lot
it's just I'm I don't know everything
it's just I'm I don't know everything
else is like I don't know I'm Graphics
else is like I don't know I'm Graphics
is generally like basic graphics is only
is generally like basic graphics is only
generally hard because most libraries
generally hard because most libraries
suck true ra is nice I tried to cut down
suck true ra is nice I tried to cut down
the amount of magic numbers and stuff
the amount of magic numbers and stuff
but at certain point there's just like I
but at certain point there's just like I
don't know I kind of just played this
don't know I kind of just played this
stuff until it looked the way I wanted
stuff until it looked the way I wanted
it I don't really care about I don't
it I don't really care about I don't
care too much about magic numbers um if
care too much about magic numbers um if
they're being used
they're being used
once yeah I don't care that much yeah if
once yeah I don't care that much yeah if
it if it was anything else I tried to
it if it was anything else I tried to
make it like a con or something I care a
make it like a con or something I care a
lot more about General logic flow and
lot more about General logic flow and
like whether there is more code than
like whether there is more code than
there needs to be
yeah you're clearly a more you know a
yeah you're clearly a more you know a
more comfortable um low-level programmer
more comfortable um low-level programmer
so I'm not going to like enforce things
so I'm not going to like enforce things
that are just purely style preference on
that are just purely style preference on
you um I'm not going to bother with that
you um I'm not going to bother with that
like I see you like your like uh the U
like I see you like your like uh the U
like the U into whatever form over short
like the U into whatever form over short
or long or like that's fine I see you
or long or like that's fine I see you
like your case statements that's fine
like your case statements that's fine
it's preference yeah I'm not going to
it's preference yeah I'm not going to
like that's a waste of both of our time
like that's a waste of both of our time
so I'm not going to do
so I'm not going to do
that the only style stuff I will talk
that the only style stuff I will talk
about is if there's something that's
about is if there's something that's
just like straight up wrong but I'm not
just like straight up wrong but I'm not
seeing well to be fair I haven't looked
seeing well to be fair I haven't looked
super super closely yet at any
super super closely yet at any
individual thing but I'm not seeing like
individual thing but I'm not seeing like
any
any
obvious right like at like obvious like
obvious right like at like obvious like
this line or like the way this
this line or like the way this
particular thing is done is is bad I'm
particular thing is done is is bad I'm
not seeing any of that right I'm seeing
not seeing any of that right I'm seeing
like I'm seeing like yep you know what
like I'm seeing like yep you know what
an early return is
an early return is
um I don't see like massive duplicated
um I don't see like massive duplicated
things where they should be like aemp
things where they should be like aemp
variable I don't
see okay you like your con correctness
see okay you like your con correctness
sure it doesn't matter that
sure it doesn't matter that
much that's that's preference I I think
much that's that's preference I I think
it's kind of not I don't think it's
it's kind of not I don't think it's
particularly useful but who cares
particularly useful but who cares
cares yeah I am just kind of paranoid
cares yeah I am just kind of paranoid
that like one day I'll modify something
that like one day I'll modify something
I didn't mean to and it like because
I didn't mean to and it like because
I've been down there in other languages
I've been down there in other languages
that don't have this like can go where I
that don't have this like can go where I
something is essentially constant but I
something is essentially constant but I
can't force it and then something
can't force it and then something
modifies it down the line and I'm you
modifies it down the line and I'm you
know operate under assumption that's not
know operate under assumption that's not
modified and it's a whole can of worms I
modified and it's a whole can of worms I
could see that with box 2D maybe being a
could see that with box 2D maybe being a
thing cuz you have like this engine in
thing cuz you have like this engine in
the picture yeah I can't really say I've
the picture yeah I can't really say I've
ever had that be a problem with
ever had that be a problem with
um with any of my stuff interesting it's
um with any of my stuff interesting it's
more a paranoid thing like also I don't
more a paranoid thing like also I don't
totally trust my future self to like
totally trust my future self to like
remember not to change something so if I
remember not to change something so if I
make it Con then it compy will just tell
make it Con then it compy will just tell
me I can't change
me I can't change
it well but then there I guess it
it well but then there I guess it
depends what flags you have enabled
depends what flags you have enabled
because then you end up needing the
because then you end up needing the
signatures to be constant stuff so if
signatures to be constant stuff so if
you something that's not const like I
you something that's not const like I
don't know I generally find const
don't know I generally find const
correctness to be a total pain in the
correctness to be a total pain in the
ass because of that because it like it
ass because of that because it like it
tries to enforce it's not just you tried
tries to enforce it's not just you tried
to change something that wasn't constant
to change something that wasn't constant
it's this function doesn't take a const
it's this function doesn't take a const
version or whatever maybe they compile
version or whatever maybe they compile
flags for that um um as far as I know
flags for that um um as far as I know
that's that's more of like an error
that's that's more of like an error
that's not even a warning but if you
that's not even a warning but if you
just do that from the
just do that from the
start but I also understand why some
start but I also understand why some
people wouldn't want to bother with it
people wouldn't want to bother with it
when if you don't have like because all
when if you don't have like because all
the other ocean so it's like it's not a
the other ocean so it's like it's not a
big deal but I'm more I was really
big deal but I'm more I was really
paranoid about like some of like the map
paranoid about like some of like the map
entries and like the weapon info entries
entries and like the weapon info entries
like I made the individual stru field to
like I made the individual stru field to
const and I signed them to const Global
const and I signed them to const Global
just to ensure I could never change
just to ensure I could never change
something because I didn't want it to be
something because I didn't want it to be
like yeah you know I'm more fine with
like yeah you know I'm more fine with
um it's fine like it's fine kind of
um it's fine like it's fine kind of
having the variables being const I just
having the variables being const I just
I don't like the way that they end up
I don't like the way that they end up
propagating through function signatures
propagating through function signatures
more than anything CU then like if I
more than anything CU then like if I
want to apply a function to a version
want to apply a function to a version
that isn't constant now I need a new
that isn't constant now I need a new
function or I need to do a const cast
function or I need to do a const cast
right and in that case I usually just
right and in that case I usually just
end up removing the cons from the
end up removing the cons from the
function if I have if there's a good
function if I have if there's a good
reason like I can't pass into cons like
reason like I can't pass into cons like
it's it hasn't really been a big deal to
it's it hasn't really been a big deal to
me like it's it's cost me I haven't
me like it's it's cost me I haven't
played with this since I was literally
played with this since I was literally
like brand brand new to like literally
like brand brand new to like literally
first like time using C++ or whatever
first like time using C++ or whatever
but I don't know it's you know it's not
but I don't know it's you know it's not
a big deal also it can help readability
a big deal also it can help readability
in my opinion because if you're just
in my opinion because if you're just
reading it you know like okay this will
reading it you know like okay this will
not change past this point unless
not change past this point unless
they're like casting it or like H's
they're like casting it or like H's
cting it or something so you kind of
cting it or something so you kind of
know like okay you're he's passing in
know like okay you're he's passing in
this parameter but this parameter is
this parameter but this parameter is
like not changed this pointer is not
like not changed this pointer is not
changing this function so you can that
changing this function so you can that
is fair that is fair um you can make
is fair that is fair um you can make
some safe assumptions
mhm and I don't how much actually helps
mhm and I don't how much actually helps
I like I wish it worked differently that
I like I wish it worked differently that
like you know you could strip const from
like you know you could strip const from
a signature and still pass it a const
a signature and still pass it a const
version and you'd still get an error if
version and you'd still get an error if
it changed or something maybe I don't
it changed or something maybe I don't
know
know
yeah I don't know i' have to think about
yeah I don't know i' have to think about
that the other thing I didn't do it for
that the other thing I didn't do it for
this reason but I'm pretty sure it does
this reason but I'm pretty sure it does
help compilers to know that like hey
help compilers to know that like hey
this thing isn't going to change like I
this thing isn't going to change like I
think it can help in optimization
think it can help in optimization
sometimes
sometimes
but it's a lot of like if you just look
but it's a lot of like if you just look
at the red here right on the screen like
at the red here right on the screen like
there's a lot of const all over the
there's a lot of const all over the
place yeah it's like actually a
place yeah it's like actually a
non-trivial amount of extra stuff to
non-trivial amount of extra stuff to
keep track of I mean you don't really
keep track of I mean you don't really
need to like mentally PR it you can just
need to like mentally PR it you can just
ignore cons if you want
ignore cons if you want
to that I that I won't take you could
to that I that I won't take you could
say the same thing of like typing your
say the same thing of like typing your
python
python
code yeah I would agree with that though
code yeah I would agree with that though
like for a m for just a readability like
like for a m for just a readability like
I don't think if anything I think const
I don't think if anything I think const
and typing in Python help readability
and typing in Python help readability
maintainability writeability I could see
maintainability writeability I could see
your point like yeah it makes it harder
your point like yeah it makes it harder
to like change but readability it's only
to like change but readability it's only
a plus in my
a plus in my
opinion well the python On's a different
opinion well the python On's a different
story because then I'd just rather be
story because then I'd just rather be
writing in a language where the types
writing in a language where the types
actually give you perf benefit but sure
actually give you perf benefit but sure
um I don't disagree with that but yeah
um I don't disagree with that but yeah
it's nice sometimes knowing what these
it's nice sometimes knowing what these
ambiguous objects are are in
ambiguous objects are are in
Python okay I should actually start
Python okay I should actually start
going through some of this properly I
going through some of this properly I
still need to get a sense though of
still need to get a sense though of
there are a few things so helpers what
there are a few things so helpers what
type of
type of
okay um I knew you'd love this I do
okay um I knew you'd love this I do
these are not like macros but I see that
these are not like macros but I see that
some of these are debugs at the very
some of these are debugs at the very
least most of them are debugs
least most of them are debugs
fast
fast
Malik yeah so I'm using DL Malik and
Malik yeah so I'm using DL Malik and
that basically means when I use the bug
that basically means when I use the bug
or in scripton yeah I have a comment
or in scripton yeah I have a comment
there actually explains
there actually explains
it a dress sanitizer
it a dress sanitizer
confined
okay jeez okay I do not like I do not
okay jeez okay I do not like I do not
like heavy
like heavy
macros um I also don't like what is the
macros um I also don't like what is the
point can you just explain to me what is
point can you just explain to me what is
the even the point of having this stuff
the even the point of having this stuff
in macros instead of in in function
in macros instead of in in function
calls the Asser and debug stuff yeah
calls the Asser and debug stuff yeah
yeah so um it allows you to do things
yeah so um it allows you to do things
you can't otherwise do because the file
you can't otherwise do because the file
and line macros like C doesn't have a
and line macros like C doesn't have a
way so like in go for example or other
way so like in go for example or other
languages with like a heftier runtime
languages with like a heftier runtime
you can get the file and line number
you can get the file and line number
that you're on through the run time but
that you're on through the run time but
you can't Inc I see so macro you know
you can't Inc I see so macro you know
their substitution so they can
their substitution so they can
substitute in like where you're at um
substitute in like where you're at um
also I got this idea from boxd so you
also I got this idea from boxd so you
can see like the on error thing in
can see like the on error thing in
assert that's really nice so basically
assert that's really nice so basically
like normally in an assertion it'll just
like normally in an assertion it'll just
you know like like uh send a signal like
you know like like uh send a signal like
sigill or something but I can actually
sigill or something but I can actually
change what happens when I hit an assert
change what happens when I hit an assert
so like I can make it do a debug break I
so like I can make it do a debug break I
can make it like sleep forever if I'm
can make it like sleep forever if I'm
rendering so I can like basically pause
rendering so I can like basically pause
like I can basically change what happens
like I can basically change what happens
when something you know happens that I
when something you know happens that I
don't want like don't expect it makes it
don't want like don't expect it makes it
way easier to bug so I don't I don't
way easier to bug so I don't I don't
completely hate this for debugging
completely hate this for debugging
only
um I'm seeing actually the vast majority
um I'm seeing actually the vast majority
of these are pretty bugging and you said
of these are pretty bugging and you said
there was something weird why you had to
there was something weird why you had to
do
do
this um no I don't that's just like a
this um no I don't that's just like a
help oh yeah again I don't know if this
help oh yeah again I don't know if this
is actually a LSB thing actual C thing
is actually a LSB thing actual C thing
but I remember before I was like
but I remember before I was like
calculating that um
calculating that um
using uh yeah like so you can't make
using uh yeah like so you can't make
that a function and assign it to a
that a function and assign it to a
constant or C will get mad because it's
constant or C will get mad because it's
like oh I can't figure out what this is
like oh I can't figure out what this is
a compile time so you have to make it a
a compile time so you have to make it a
macro you can't make what
macro you can't make what
a if I made mass and inverse Mass
a if I made mass and inverse Mass
functions and I tried to assign the
functions and I tried to assign the
result of those to constant like globals
result of those to constant like globals
then it would like scream at me because
then it would like scream at me because
oh I can't evaluate functions at compile
oh I can't evaluate functions at compile
time you can't make those constant
time you can't make those constant
globals that's
globals that's
weird I mean it kind of makes sense
weird I mean it kind of makes sense
because C has no um like they don't have
because C has no um like they don't have
constant expressions like con exper
constant expressions like con exper
stuff like C++ does so they're just
stuff like C++ does so they're just
trying to keep the language simple which
trying to keep the language simple which
makes sense but
makes sense but
yeah yeah it makes sense if you think
yeah yeah it makes sense if you think
about it but I mean of course this only
about it but I mean of course this only
becomes a problem if you actually want
becomes a problem if you actually want
to have the thing be assigned comp right
to have the thing be assigned comp right
but fine uh I don't think it works with
but fine uh I don't think it works with
a global I actually yeah I don't think
a global I actually yeah I don't think
it works with the global either right
it works with the global either right
yeah you can't do like uh in like you
yeah you can't do like uh in like you
can't do float Mass equals
can't do float Mass equals
this as a global uh you can't like if
this as a global uh you can't like if
you made Mass a
function I think you still can
function I think you still can
even if it's a function can't
even if it's a function can't
you uh no but I'm just saying at the
you uh no but I'm just saying at the
global weather's conent or not I have to
global weather's conent or not I have to
look at it I'm
look at it I'm
not it seems weird that there would be a
not it seems weird that there would be a
limitation for this type of stuff to
limitation for this type of stuff to
motivate additional macroing but
motivate additional macroing but
whatever I think that's about as much
whatever I think that's about as much
style stuff as I want to bother with um
style stuff as I want to bother with um
because it's like it's it's largely a
because it's like it's it's largely a
waste
waste
for I this stuff is more productive with
for I this stuff is more productive with
people who are like brand new to either
people who are like brand new to either
lowlevel programming or are newer
lowlevel programming or are newer
programmers in general so this is all
programmers in general so this is all
the macro Stu though so you've seen
the macro Stu though so you've seen
pretty much all of it yeah and it's
pretty much all of it yeah and it's
mostly debug so I'm fine with that so
mostly debug so I'm fine with that so
this is the game
this is the game
logic yeah like 99% of the game logic is
logic yeah like 99% of the game logic is
in this Mass this is the biggest file
in this Mass this is the biggest file
so I assume we only have prototypes for
so I assume we only have prototypes for
a few things
a few things
here yeah they're actually defined in
here yeah they're actually defined in
this file but but there's so much stuff
this file but but there's so much stuff
that calls each other and calls
that calls each other and calls
themselves like I had to make them
themselves like I had to make them
prototypes at the top
prototypes at the top
well I generally do try if I can to just
well I generally do try if I can to just
Define things in order use to force
Define things in order use to force
myself um because if you're going to you
myself um because if you're going to you
know once you start like screw it I'm
know once you start like screw it I'm
not caring about the order then it's
not caring about the order then it's
like you actually do separate C andh but
like you actually do separate C andh but
then you also get harder to read files
then you also get harder to read files
because it's like you know if you have a
because it's like you know if you have a
giant file but things are not actually
giant file but things are not actually
defined in the order they're used it's
defined in the order they're used it's
really hard to read them top to
really hard to read them top to
bottom no they are pretty much order of
bottom no they are pretty much order of
use for the most part just a few edge
use for the most part just a few edge
cases fine yeah yeah that's fine okay I
cases fine yeah yeah that's fine okay I
do the same
thing
what
what
okay I'm seeing a lot of like little
okay I'm seeing a lot of like little
tiny structs is there a reason there's
tiny structs is there a reason there's
like a stru with one
like a stru with one
wall yeah so so if you look at the
wall yeah so so if you look at the
function below is overlapping AABB that
function below is overlapping AABB that
stands for access to line bounding box
stands for access to line bounding box
so um box 2D it wants a call back in a
so um box 2D it wants a call back in a
context and that's a void pointer so
context and that's a void pointer so
yeah
yeah
actually I realized I could probably
actually I realized I could probably
just make that a bull now that I think
just make that a bull now that I think
about it instead of a struck with a bull
about it instead of a struck with a bull
but I think what it was before the
but I think what it was before the
struct used to have multiple members so
struct used to have multiple members so
okay I'm not going to get on you for the
okay I'm not going to get on you for the
like this is okay box 2D uses callbacks
like this is okay box 2D uses callbacks
lovely JavaScript great um no I mean for
lovely JavaScript great um no I mean for
this it makes sense like it's not crazy
this it makes sense like it's not crazy
into callbacks it uses callbacks where
into callbacks it uses callbacks where
it makes sense like I'm honestly fine
it makes sense like I'm honestly fine
with
with
it yeah don't compared to JavaScript
it yeah don't compared to JavaScript
that's like call back hell this is not
that's like call back hell this is not
that it's
sane I mean this is like large enough
sane I mean this is like large enough
that it's going to be tough to scroll
that it's going to be tough to scroll
through this until I'm really ready to
through this until I'm really ready to
yeah I just want to get a sense of
this there's a couple of callbacks but a
this there's a couple of callbacks but a
lot of it is just well
lot of it is just well
actually yeah I also want to get a sense
of okay I mean honestly the way that you
of okay I mean honestly the way that you
have this stuff
have this stuff
defined this
defined this
is I think that this will be pretty easy
is I think that this will be pretty easy
to review
to review
the the end
the the end
file right because you have let me see
file right because you have let me see
what this foot looks
like where is
Step going first step
there no step function in here there is
there no step function in here there is
it's towards the bottom though okay CU a
it's towards the bottom though okay CU a
lot of stuff calls it or a couple things
lot of stuff calls it or a couple things
call it yeah there you go so yeah this
call it yeah there you go so yeah this
is where some of the inscript and stuff
is where some of the inscript and stuff
gets weird I can talk tell you explain
gets weird I can talk tell you explain
that now or later
yeah my yeah my uh my intent was not to
yeah my yeah my uh my intent was not to
inflict this upon
inflict this upon
you so it's necessary because of because
you so it's necessary because of because
I'm doing
I'm doing
physics and in scripton is not like Raab
physics and in scripton is not like Raab
where it it will just pretty much
where it it will just pretty much
guarantee like oh you tell it like I
guarantee like oh you tell it like I
want 100 like X FPS and it will do its
want 100 like X FPS and it will do its
best to you know call like whatever
best to you know call like whatever
it'll just you know sleep in between
it'll just you know sleep in between
render calls or whatever so you're
render calls or whatever so you're
consistently stepping but the way it
consistently stepping but the way it
works in the web I the browser just kind
works in the web I the browser just kind
of like calls your function whenever it
of like calls your function whenever it
feels like it yeah I okay so and I need
feels like it yeah I okay so and I need
to run my physics at like um the same
to run my physics at like um the same
like time step so I basically oh if it's
like time step so I basically oh if it's
like if there's been too long of a gap I
like if there's been too long of a gap I
run the physics multiple times in one
run the physics multiple times in one
step
step
and it's it's like a standard thing in
and it's it's like a standard thing in
like games physics when you're running
like games physics when you're running
games with physics that like a variable
games with physics that like a variable
FPS it's like a standard thing but it's
FPS it's like a standard thing but it's
like a little bit
like a little bit
weird I see because there isn't actually
weird I see because there isn't actually
a time that has passed uh when you're
a time that has passed uh when you're
running this thing for training it's
running this thing for training it's
just like you're assuming that it's
just like you're assuming that it's
running at whatever You'
running at whatever You'
specified yeah for training yeah I'm
specified yeah for training yeah I'm
just running it as fast I can and I just
just running it as fast I can and I just
yeah so no matter what I'm doing I'm
yeah so no matter what I'm doing I'm
stepping the physics like by a set
stepping the physics like by a set
amount of like a set amount of time
amount of like a set amount of time
every time it's it's like yeah a fixed
every time it's it's like yeah a fixed
time step so step
actions not named amazing that's the one
actions not named amazing that's the one
there's so that's kind of like um I
there's so that's kind of like um I
because I have like frame skips and
because I have like frame skips and
stuff I get like what the actions are
stuff I get like what the actions are
for the step and then I just do them
for the step and then I just do them
multiple times over the frame skip
and then the step world is the thing
and then the step world is the thing
that I'm assuming has all the chunky
that I'm assuming has all the chunky
physics yeah box 2D step world just
physics yeah box 2D step world just
basically collides everything moves
basically collides everything moves
everything handles all the stuff and
everything handles all the stuff and
there's no callbacks they they have an
there's no callbacks they they have an
event system so you saw like the move
event system so you saw like the move
events and Collide events so you
events and Collide events so you
basically step the word you tell it like
basically step the word you tell it like
okay I'm defining these bodies and
okay I'm defining these bodies and
shapes I am setting like certain
shapes I am setting like certain
properties of them I set like maybe set
properties of them I set like maybe set
their initial velocities whatever and
their initial velocities whatever and
then after that like it will just
then after that like it will just
compute stuff and then you can ask it
compute stuff and then you can ask it
okay what are the new positions of stuff
okay what are the new positions of stuff
okay are have things collided okay have
okay are have things collided okay have
like sensors triggered stuff like that
like sensors triggered stuff like that
this type of a thing is
this type of a thing is
like is there a reason to stick these in
like is there a reason to stick these in
a
a
pre-processor so that was just because
pre-processor so that was just because
um uh I'm trying to oh yeah so so the
um uh I'm trying to oh yeah so so the
debug raw whatever like debug log um
debug raw whatever like debug log um
macros they evaluate to basically just
macros they evaluate to basically just
like nothing on release build but that
like nothing on release build but that
whole block I'm still doing stuff so
whole block I'm still doing stuff so
basically I have because I have wear on
basically I have because I have wear on
like you know warning says errors and I
like you know warning says errors and I
have like all the strict warnings if I
have like all the strict warnings if I
ever Define something and don't use it I
ever Define something and don't use it I
get an error so and also I can basically
get an error so and also I can basically
just no it would work still like
just no it would work still like
couldn't you just
do I no because this were just a debug
do I no because this were just a debug
pool couldn't you like why can't you
pool couldn't you like why can't you
just put this in a conditional instead
just put this in a conditional instead
of a
of a
pre-processor uh well I don't have a
pre-processor uh well I don't have a
conditional for debug it's just a build
thing so depending you can't get this as
thing so depending you can't get this as
a
a
bu H you can't just get this as a
bu H you can't just get this as a
bull yeah it's only known at compile
bull yeah it's only known at compile
time it's it's like a it's like yeah
time it's it's like a it's like yeah
something that's just well it's it's
something that's just well it's it's
just if it's defined or not that's a
just if it's defined or not that's a
yeah n debug is I understand how I
yeah n debug is I understand how I
understand how these flags work I just
understand how these flags work I just
don't necessarily see the point of using
don't necessarily see the point of using
them whatever I I think it's more
them whatever I I think it's more
important that we review the actual code
important that we review the actual code
um yeah but I I could have like you know
um yeah but I I could have like you know
a bull at run time but I was also like
a bull at run time but I was also like
all I mean at this point I can guarantee
all I mean at this point I can guarantee
that none of this code is going to
that none of this code is going to
execute it run time which I don't want
execute it run time which I don't want
it to anyway so or release time so it's
it to anyway so or release time so it's
fine by me like the one time I do that
fine by me like the one time I do that
outside of helpers
outside of helpers
so okay
so let's
so let's
see this that yeah super basic mostly
see this that yeah super basic mostly
just
just
steps like sets things up in
steps like sets things up in
steps yeah they're having to thread M
steps yeah they're having to thread M
script and macros through everything is
script and macros through everything is
not fun yeah I agree but
not fun yeah I agree but
I didn't really know what the
I didn't really know what the
alternative well I'll tell you what what
alternative well I'll tell you what what
we'll do is since I tend to get
we'll do is since I tend to get
sidetracked by like things I don't I
sidetracked by like things I don't I
like to nitpick on uh I'm going to do my
like to nitpick on uh I'm going to do my
best to not nitpick on stuff and instead
best to not nitpick on stuff and instead
we're actually going to go through I
we're actually going to go through I
think
think
probably it makes sense to do EnV
probably it makes sense to do EnV
first
first
um to see how stuff is set
um to see how stuff is set
up and then we do game
branching off into whatever dependencies
branching off into whatever dependencies
we
we
encounter and then probably
encounter and then probably
render I think that's probably because
render I think that's probably because
those are the that's the main stuff in
those are the that's the main stuff in
here right it's the en is the like the
here right it's the en is the like the
RL like the wrapper over how this
RL like the wrapper over how this
actually works as like the RL interface
actually works as like the RL interface
the observations is most of it plus the
the observations is most of it plus the
game like the calling of the high level
game like the calling of the high level
stuff in the game Loop and the game is
stuff in the game Loop and the game is
going to include it's kind of like a
going to include it's kind of like a
library of stuff that the game needs um
library of stuff that the game needs um
so I think that's that's how we'll go
so I think that's that's how we'll go
through that maybe I'll Branch into the
through that maybe I'll Branch into the
game as I do end we'll see depends to
game as I do end we'll see depends to
what makes sense and then we'll go
what makes sense and then we'll go
through the rendering I think those are
through the rendering I think those are
the three things and this probably will
the three things and this probably will
take us multiple days if you're not just
take us multiple days if you're not just
going to sit here with me all day um but
going to sit here with me all day um but
we will go through everything and the
we will go through everything and the
hope is going to be that uh when I'm
hope is going to be that uh when I'm
doing the en and the game portion maybe
doing the en and the game portion maybe
I find stuff on the RL side if there's
I find stuff on the RL side if there's
anything to improve so I'm going to pay
anything to improve so I'm going to pay
special attention to the observations
special attention to the observations
when we do that um but then also I I do
when we do that um but then also I I do
want to go through the game logic
want to go through the game logic
because one I might find stuff for you
because one I might find stuff for you
that'll be useful but also I think it's
that'll be useful but also I think it's
going to be productive uh as we look to
going to be productive uh as we look to
how we're going to build more Ms going
how we're going to build more Ms going
forward um because you've done a lot of
forward um because you've done a lot of
stuff now with like Loi 2D physics and I
stuff now with like Loi 2D physics and I
want to know going forward like what we
want to know going forward like what we
can get out of this type of stuff right
can get out of this type of stuff right
and how
or
or
Sim physic Stacks I'm use rest real
Sim physic Stacks I'm use rest real
quick I'll be back in a minute and then
quick I'll be back in a minute and then
we'll start on uh N.H right
we'll start on uh N.H right
back take
two
e
e e
all right we're waiting
all right we're waiting
on bread dough at the
moment and we get started on this
some DMs
soon as Captain's back we will do the
soon as Captain's back we will do the
end file we'll go from here and we'll
end file we'll go from here and we'll
see how much we get through
see how much we get through
today a 7,000 line
PR we're going to see if I find any
PR we're going to see if I find any
redundancy I mean I I think um Captain's
redundancy I mean I I think um Captain's
code looks pretty
code looks pretty
good but at the same
good but at the same
time should this thing be two and a half
time should this thing be two and a half
times longer than neural
MMO that's going to be the
MMO that's going to be the
question maybe there legitimately is
question maybe there legitimately is
that much stuff maybe box 2D just adds a
that much stuff maybe box 2D just adds a
lot of boiler plate I don't
lot of boiler plate I don't
know but uh we will see
I'm kind of happy with either result you
I'm kind of happy with either result you
know if there is a bunch of redundant
know if there is a bunch of redundant
code then yay you know we get a much
code then yay you know we get a much
shorter implementation and it's actually
shorter implementation and it's actually
pretty easy to build these things going
pretty easy to build these things going
forward uh if it's not redundant then
forward uh if it's not redundant then
yay Captain's pretty good at doing this
yay Captain's pretty good at doing this
stuff and you know we've got a very good
stuff and you know we've got a very good
contributor for building midsize uh you
contributor for building midsize uh you
know pretty like sizable
projects so either result will be good
from what I've seen so far I don't think
from what I've seen so far I don't think
I'm going to find a ton of
I'm going to find a ton of
like redundancy in the terms of like um
like redundancy in the terms of like um
a few lines here a few lines there I
a few lines here a few lines there I
think it's going to be bigger structural
think it's going to be bigger structural
stuff if
anything we will see
for the folks that are still watching
for the folks that are still watching
here this is a great way to get into
here this is a great way to get into
reinforcement learning you don't have to
reinforcement learning you don't have to
make a 7,000 line PR you know you can
make a 7,000 line PR you know you can
make a 400 line
make a 400 line
PR um that's enough to build a basic RL
PR um that's enough to build a basic RL
environment that's actually useful
environment that's actually useful
that's about how long like the
that's about how long like the
multi-agent snake demo I have on the
multi-agent snake demo I have on the
website is right so that's kind of
website is right so that's kind of
enough if you're clever to make a cool
enough if you're clever to make a cool
environment that can be used to test RL
environment that can be used to test RL
algorithms you use it to learn a little
algorithms you use it to learn a little
bit on how these are built and also as a
bit on how these are built and also as a
a benchmark right to get your own
a benchmark right to get your own
environment up and running and like get
environment up and running and like get
RL working on a new problem it's the
RL working on a new problem it's the
best way to learn it's kind of how I get
best way to learn it's kind of how I get
all of the all the new contributors who
all of the all the new contributors who
don't have prior RL experience this is
don't have prior RL experience this is
how I suggest people start and uh if you
how I suggest people start and uh if you
either if you repeat this a few times
either if you repeat this a few times
you will very quickly get to the point
you will very quickly get to the point
that you're able to contribute uh at a
that you're able to contribute uh at a
level that is at or better than the
level that is at or better than the
majority of RL
majority of RL
phds because the majority of RL phds
phds because the majority of RL phds
will have more science side experience
will have more science side experience
but they don't have the engineering
but they don't have the engineering
experience to execute on
experience to execute on
it science side background is important
it science side background is important
as well but that just takes a while
as well but that just takes a while
right it's just like intuition from
right it's just like intuition from
having seen a lot a lot of problems
having seen a lot a lot of problems
that's about it
hopefully Captain has not fallen into
hopefully Captain has not fallen into
the red dough
is this paper actually
good e
I wonder if any of these experiments are
I wonder if any of these experiments are
actually
actually
correct I wouldn't be surprised that
correct I wouldn't be surprised that
this is a negative result with
this is a negative result with
completely bogus and wrong experiments
completely bogus and wrong experiments
that just passes peer review because
that just passes peer review because
peer review is
stupid to be fair all
stupid to be fair all
also the peer review process kind of
also the peer review process kind of
assumes that you don't just make up your
assumes that you don't just make up your
experiment data because that's just
experiment data because that's just
fraud right so if you write like these
fraud right so if you write like these
are the experiments that we did and we
are the experiments that we did and we
got these
got these
results but you didn't actually do those
results but you didn't actually do those
experiments and get those results the
experiments and get those results the
way you say that you did them then
way you say that you did them then
that's not even a problem with pure
that's not even a problem with pure
review that's just like LMS are great at
review that's just like LMS are great at
fraud right
now if it actually produced anything
now if it actually produced anything
interesting that would be a totally
interesting that would be a totally
different
different
story what's
story what's
this oh um uh AI generated paper got
this oh um uh AI generated paper got
accepted to
accepted to
ICL wait you know it's AI generated or
ICL wait you know it's AI generated or
you just yeah no they they said they got
you just yeah no they they said they got
permission to submit an AI generated
permission to submit an AI generated
paper oh my gosh yeah but they didn't
paper oh my gosh yeah but they didn't
tell the review a past review
the AI scientists is the dumbest thing
the AI scientists is the dumbest thing
to be fair like David hod people like
to be fair like David hod people like
they're actually cool they have a good
they're actually cool they have a good
track record of producing interesting
track record of producing interesting
stuff um I don't really think this is it
stuff um I don't really think this is it
but I think some of the methods that
but I think some of the methods that
they're looking at are kind of
they're looking at are kind of
cool like they do a bunch of stuff with
cool like they do a bunch of stuff with
evolutionary methods um David hod did
evolutionary methods um David hod did
like original World modeling work and a
like original World modeling work and a
lot of early RL stuff so
lot of early RL stuff so
yeah
yeah
anyways code review time we good to
anyways code review time we good to
start here yeah all right
so reprocessor crap game map scripted
so reprocessor crap game map scripted
agent settings types Auto pxd
agent settings types Auto pxd
crap why let me see cannot par rip
headers for some reason we have
just declare necessary functions we need
just declare necessary functions we need
to declare client stuff up
here for some reason yeah so if you um
here for some reason yeah so if you um
include if I included rener Doh there
include if I included rener Doh there
that would also by a proxy include rib
that would also by a proxy include rib
which autop pxd like can't process Raab
which autop pxd like can't process Raab
I guess like RB is too complex for it so
I guess like RB is too complex for it so
because there are like only those things
because there are like only those things
it needs from Raab and my code I just
it needs from Raab and my code I just
find them here when Auto pxd is being
find them here when Auto pxd is being
used so we'll look at autop pxd
used so we'll look at autop pxd
separately that's fine 3 bit mask 4 bit
separately that's fine 3 bit mask 4 bit
mask cool this my logging stuff replace
mask cool this my logging stuff replace
calic with fast calic you said this is M
calic with fast calic you said this is M
scripton thing or no so um basically I
scripton thing or no so um basically I
use DL Malik which is a well-known like
use DL Malik which is a well-known like
alternative malic Library um and fast
alternative malic Library um and fast
Malik or fast Malik calic free what it
Malik or fast Malik calic free what it
does
does
in debug mode it just uses normal like
in debug mode it just uses normal like
standard C or lib C Malik cic whatever
standard C or lib C Malik cic whatever
because that way the address sanitizer
because that way the address sanitizer
can hook into it and find stuff if we're
can hook into it and find stuff if we're
building a release it uses DL Malik
building a release it uses DL Malik
because it does fun things like cashes
because it does fun things like cashes
stuff for you so you basically get um
stuff for you so you basically get um
that was one thing I want to tell you so
that was one thing I want to tell you so
one thing you are not going to like in
one thing you are not going to like in
the game logic is I don't um I don't
the game logic is I don't um I don't
allocate all memory up front I do
allocate all memory up front I do
allocate some memory like as the game is
allocate some memory like as the game is
going on but I get away with that
going on but I get away with that
because DL Malik essentially acts like a
because DL Malik essentially acts like a
caching well is a caching allocator so I
caching well is a caching allocator so I
when I use like uh perf and GPR and
when I use like uh perf and GPR and
stuff like that like Malik and calic and
stuff like that like Malik and calic and
free and friends are like less than 1%
free and friends are like less than 1%
of the total time so it's by allocating
of the total time so it's by allocating
up front I would wouldn't really gain
up front I would wouldn't really gain
anything because I assume that's also
anything because I assume that's also
because the game logic's a bit heavier
because the game logic's a bit heavier
right
right
yeah so relative to it it's less yeah
yeah so relative to it it's less yeah
exactly and I can't really like I've
exactly and I can't really like I've
I've done all the optimizations I can
I've done all the optimizations I can
like the way I'm calling box I not to
like the way I'm calling box I not to
say it's perfect but like I've optimized
say it's perfect but like I've optimized
this pretty heavily um I'm sure there's
this pretty heavily um I'm sure there's
still see if there's a way that I can
still see if there's a way that I can
see to do well like when we get to the
see to do well like when we get to the
points where you're doing dynamic memory
points where you're doing dynamic memory
we'll look at it and we'll see if I see
we'll look at it and we'll see if I see
an obvious and easy way that it could
an obvious and easy way that it could
just be done
just be done
static um because then you wouldn't need
static um because then you wouldn't need
the library right you wouldn't need you
the library right you wouldn't need you
wouldn't need this because the Malo
wouldn't need this because the Malo
would just be The Upfront Malo right I
would just be The Upfront Malo right I
mean again yeah but doing it this way is
mean again yeah but doing it this way is
actually less complex and less to manage
actually less complex and less to manage
about reason about and also DL Malo is
about reason about and also DL Malo is
just like use everywhere I think it's
just like use everywhere I think it's
actually like FreeBSD and other stuff
actually like FreeBSD and other stuff
like use it by default and scripton
like use it by default and scripton
actually uses DL Malik by default so
actually uses DL Malik by default so
that's why I don't use it when I build
that's why I don't use it when I build
in scripton because when I call just
in scripton because when I call just
standard Malo it uses DL Malik under the
standard Malo it uses DL Malik under the
hood because it's that good
hood because it's that good
okay well I will see if it's actually
okay well I will see if it's actually
more complicated to do static or not as
more complicated to do static or not as
well right because that's yeah that's a
well right because that's yeah that's a
sep question take a look CU if there is
sep question take a look CU if there is
a simp if there's if it is just as
a simp if there's if it is just as
simple to do static it's kind of nice to
simple to do static it's kind of nice to
just do stuff static but
just do stuff static but
um yeah
um yeah
anyways I'll see if there we'll see
anyways I'll see if there we'll see
we'll see when we get there yeah okay
we'll see when we get there yeah okay
destroy log
buffer this is pretty similar to what I
buffer this is pretty similar to what I
had before or oh wait you did something
had before or oh wait you did something
different here did I did you wait log I
different here did I did you wait log I
think I just changed the names of things
think I just changed the names of things
no you didn't this is the same I just
no you didn't this is the same I just
like capacity over it was just very
like capacity over it was just very
minor
changes one thing that bit me early on I
changes one thing that bit me early on I
can't remember if I pulled this from
can't remember if I pulled this from
yours or I think it was just me being
yours or I think it was just me being
stupid actually so in my like log stats
stupid actually so in my like log stats
I defined things as integers but and
I defined things as integers but and
then which meant I was doing integer
then which meant I was doing integer
division which meant I was getting a lot
division which meant I was getting a lot
of like zeros or ones or whatever and I
of like zeros or ones or whatever and I
it took me a while to figure out all I
it took me a while to figure out all I
had to do was make uh the log
had to do was make uh the log
stat issue I don't don't think that was
stat issue I don't don't think that was
I don't think that was a me issue I
I don't think that was a me issue I
changed them to be integers because I'm
changed them to be integers because I'm
like oh yeah these doesn't make sense to
like oh yeah these doesn't make sense to
be floats but then I'm like okay when
be floats but then I'm like okay when
I'm dividing yeah it actually does um
I'm dividing yeah it actually does um
see hang
see hang
on what do you know where that was was
on what do you know where that was was
the
the
index uh I thought divided by
index uh I thought divided by
integer you no so what I but it was
integer you no so what I but it was
being assigned to an integer because I
being assigned to an integer because I
set the log like buffer stuff to be ins
set the log like buffer stuff to be ins
in my code so I'm pretty sure it's my
in my code so I'm pretty sure it's my
mistake okay I have these as floats and
mistake okay I have these as floats and
Nur yep yeah you do so that was just me
Nur yep yeah you do so that was just me
not realizing I need to make them floats
not realizing I need to make them floats
as well yeah you do because it's the
as well yeah you do because it's the
well it depends the problem is cuz when
well it depends the problem is cuz when
you aggregate you also get a log back so
you aggregate you also get a log back so
even though you use a log each
even though you use a log each
individual log will be in but when you
individual log will be in but when you
aggregate you still need to have yeah
aggregate you still need to have yeah
exactly right yeah and that's what I
exactly right yeah and that's what I
didn't realize at first
yeah it worked out though because I
yeah it worked out though because I
think I help bet solve the same I can't
think I help bet solve the same I can't
remember if that was actually his
remember if that was actually his
problem or not but I think he was having
problem or not but I think he was having
the same problem with like blast r or
the same problem with like blast r or
something did you go over the numb
something did you go over the numb
drones and each drone has stats for
drones and each drone has stats for
firing each
firing each
weapon yeah so I aggregated this the um
weapon yeah so I aggregated this the um
stats per weapon just in case in the
stats per weapon just in case in the
future I want to have like per weapon
future I want to have like per weapon
stats right now in the python I just sum
stats right now in the python I just sum
them to be per drone but I left it open
them to be per drone but I left it open
to be like I could get detailed like
to be like I could get detailed like
stats per weapon if I want like weapon
stats per weapon if I want like weapon
accuracy weapon whatever you
know and you have this K as an index
know and you have this K as an index
okay
okay
yeah that's fine and then presumably you
yeah that's fine and then presumably you
have an enum for each of these you can
have an enum for each of these you can
just
just
un yeah I think num numb weapons is a
un yeah I think num numb weapons is a
constant I
constant I
think find nearest cell cell index
think find nearest cell cell index
that's closest is cell so this thing is
that's closest is cell so this thing is
is this thing split into cells is that
is this thing split into cells is that
what you did
what you did
internally
internally
yeah yes well so yes and no so you can
yeah yes well so yes and no so you can
see like in that picture all like the
see like in that picture all like the
boxes are on the grid kind of um but
boxes are on the grid kind of um but
when you're playing like everything's
when you're playing like everything's
continuous but um I do ass W huh I did
continuous but um I do ass W huh I did
that in MOA as well didn't I yeah yeah
that in MOA as well didn't I yeah yeah
yeah so it's continuous but yeah I I
yeah so it's continuous but yeah I I
like discretize things to certain points
like discretize things to certain points
yep like weapon pickups and walls are
yep like weapon pickups and walls are
all in the
all in the
grid yeah and I just conver that like
grid yeah and I just conver that like
yeah yeah yeah you know what I'm talking
yeah yeah yeah you know what I'm talking
about
about
mhm so this function specifically he's
mhm so this function specifically he's
only use one place this is when I am
only use one place this is when I am
calculating basically like uh the
calculating basically like uh the
observation of like uh if there are any
observation of like uh if there are any
drones like in the 11 by1 square or
drones like in the 11 by1 square or
whatever it's super rare but sometimes
whatever it's super rare but sometimes
there can be two drones in the same like
there can be two drones in the same like
cell so I basically figure out like
cell so I basically figure out like
what's the cell the other drone that's
what's the cell the other drone that's
not you is closest to to move them into
not you is closest to to move them into
there for the observation because
there for the observation because
otherwise they'd like you know like
otherwise they'd like you know like
quber each other yeah so what I do for
quber each other yeah so what I do for
that is uh I just don't let them be in
that is uh I just don't let them be in
the same cell I'm pretty
the same cell I'm pretty
sure it barely ever happens so I just
sure it barely ever happens so I just
wrote this function it's like almost
wrote this function it's like almost
never actually called well it it happens
never actually called well it it happens
anytime you like go Ram anybody right no
anytime you like go Ram anybody right no
even then it's it's like you have to be
even then it's it's like you have to be
very specific because most of the time
very specific because most of the time
if you're ramming someone you're you're
if you're ramming someone you're you're
still in two different
still in two different
cells yeah you can always like fiddle
cells yeah you can always like fiddle
with the grid size and stuff like the
with the grid size and stuff like the
grid doesn't have to be the size of an
grid doesn't have to be the size of an
object um anyways it's fine yeah it
object um anyways it's fine yeah it
makes the code really a lot to
makes the code really a lot to
make size of like each wall Square so
make size of like each wall Square so
that's just what I ended up doing
that's just what I ended up doing
yeah okay
yeah okay
so row
column yeah so this I have the same type
column yeah so this I have the same type
of a function you're just looking around
of a function you're just looking around
uh the eight adjacent
yeah sell off says it's defined in game.
yeah sell off says it's defined in game.
actually so I I had it in here up until
actually so I I had it in here up until
recently but I needed it in game so this
recently but I needed it in game so this
is your bounce
is your bounce
check this
is is there any reason to be
is is there any reason to be
using do you have a reason to be using
using do you have a reason to be using
like like
like like
chars and THS
here uh what do you
mean oh like make it um un you make it
mean oh like make it um un you make it
you mean why have some be unsigned to
you mean why have some be unsigned to
some signed no why they're different
some signed no why they're different
size
size
types oh so the columns and rows like
types oh so the columns and rows like
they're going to be well beyond the size
they're going to be well beyond the size
or well within the size of an in8
or well within the size of an in8
honestly but yeah the sale indexes they
honestly but yeah the sale indexes they
can get up into like the multiple
can get up into like the multiple
hundreds like four or five hundreds so
hundreds like four or five hundreds so
you need to make them bigger well I mean
you need to make them bigger well I mean
is there a reason not to just make
is there a reason not to just make
everything in inch is it actually
everything in inch is it actually
faster I don't know it just makes it
faster I don't know it just makes it
easier in my head because like I I
easier in my head because like I I
didn't think it was I didn't think it
didn't think it was I didn't think it
was faster because I don't
was faster because I don't
think I don't do it for performance
think I don't do it for performance
reasons I don't know I it's you could
reasons I don't know I it's you could
just make everything in it I just like
just make everything in it I just like
to be precise it's just a style thing
to be precise it's just a style thing
personally I just um yeah because I
personally I just um yeah because I
think I've read too that in 6 modern
think I've read too that in 6 modern
64-bit systems the compiler will pretty
64-bit systems the compiler will pretty
much make everything like 64 bits anyway
much make everything like 64 bits anyway
um 64 I don't I don't know how that is I
um 64 I don't I don't know how that is I
haven't looked to it but like I don't
haven't looked to it but like I don't
really think you're like really saving
really think you're like really saving
too much stuff yeah it's just the only
too much stuff yeah it's just the only
time I pretty much will exclusively use
time I pretty much will exclusively use
ins and floats unless I have like here
ins and floats unless I have like here
if I have a giant map of stuff that fits
if I have a giant map of stuff that fits
in chars right then I'll put it in
in chars right then I'll put it in
chars if there's like act clear reason
chars if there's like act clear reason
to but uh
okay M distance is not
fmin F Min
distance
distance
okay that's
funny I see that fine yeah so one thing
funny I see that fine yeah so one thing
you'll see you probably understand but
you'll see you probably understand but
one thing you'll see me do a lot is
one thing you'll see me do a lot is
instead of just using the distance I use
instead of just using the distance I use
the distance squared because you know
the distance squared because you know
normally it's like the square root of
normally it's like the square root of
the two like square whatever take square
the two like square whatever take square
root that doesn't matter yeah yeah you
root that doesn't matter yeah yeah you
can just not do that and and you can
can just not do that and and you can
save the operation sometimes yeah it's
save the operation sometimes yeah it's
the
the
same you do need to square it right but
same you do need to square it right but
yeah and I do that in there B2 isn't
yeah and I do that in there B2 isn't
squared anything this is pretty obvious
squared anything this is pretty obvious
but anything with the B2 prefix is a box
but anything with the B2 prefix is a box
2D
function ammo count
infinite ammo no ammo yeah I just
infinite ammo no ammo yeah I just
special I have to special case it
special I have to special case it
because of the infinite ammo like
because of the infinite ammo like
whatever weapon you start with you have
whatever weapon you start with you have
infinite
of and internally I set infinite to
of and internally I set infinite to
negative one but I'm scaling between one
negative one but I'm scaling between one
and zero so or zero and one so it
and zero so or zero and one so it
doesn't make sense okay so I special
doesn't make sense okay so I special
case it
now we get to the we start to get to
observations so yeah this the 2D grid
observations so yeah this the 2D grid
Ops this is the thing I told you
Ops this is the thing I told you
um yeah this makes sense for this type
um yeah this makes sense for this type
of an m and it's much easier to process
of an m and it's much easier to process
because otherwise you end up with entity
because otherwise you end up with entity
based observations right which are you
based observations right which are you
can do but it gets to be a little
can do but it gets to be a little
tricky yeah this this seems to work
tricky yeah this this seems to work
pretty well and like you said it's nice
pretty well and like you said it's nice
because it scales to like whatever Map
because it scales to like whatever Map
size yes yes it does um the only thing
size yes yes it does um the only thing
it doesn't scale particularly the well
it doesn't scale particularly the well
with a larger window around your agent
with a larger window around your agent
so like the uh the stuff Brenan was
so like the uh the stuff Brenan was
showing me yesterday they had like giant
showing me yesterday they had like giant
Maps right uh but you had to be able to
Maps right uh but you had to be able to
see the whole distance of the map cuz
see the whole distance of the map cuz
like there's an FPS and you can
like there's an FPS and you can
snipe uh Spencer it depends how much
snipe uh Spencer it depends how much
time Captain has because this is
time Captain has because this is
probably going to take us multiple days
probably going to take us multiple days
but if Captain has to go at some point
but if Captain has to go at some point
and then I just take my lunch break or
and then I just take my lunch break or
whatever then yeah I can I can do GPU
whatever then yeah I can I can do GPU
drive today as well we can just do code
drive today as well we can just do code
reviews
um map Ops
agent
agent
index OB start
offset the agent I'm pretty sure that's
offset the agent I'm pretty sure that's
just like what yeah yeah it's what drone
just like what yeah yeah it's what drone
it is like drone 0123
whatever yeah see if you wanted to make
whatever yeah see if you wanted to make
a really big version of this you'd get
a really big version of this you'd get
annoyed because you'd have to go change
annoyed because you'd have to go change
all of
all of
these yeah but I mean that's if I had
these yeah but I mean that's if I had
over like 250 5 agents which that's
over like 250 5 agents which that's
ridiculous are you sure we do it in earo
ridiculous are you sure we do it in earo
you could do
you could do
it yeah that I couldn't see myself doing
it yeah that I couldn't see myself doing
this type of game like dude that would
this type of game like dude that would
run so slow it's already running like
run so slow it's already running like
two huh why would it run slow well think
two huh why would it run slow well think
of how many more physics objects box
of how many more physics objects box
2D's got to process okay should scale
2D's got to process okay should scale
log n
log n
right I don't know how it will scale it
right I don't know how it will scale it
should be log
should be log
log in
right I don't know I think it would work
right I don't know I think it would work
and I think that you could have like a
and I think that you could have like a
giant ass map where you just have like
giant ass map where you just have like
all these localized
all these localized
battles it would look really cool if you
battles it would look really cool if you
think about
think about
it yeah no I could do it without like
it yeah no I could do it without like
too much changing I
too much changing I
do yeah I would probably B whenever they
do yeah I would probably B whenever they
die randomly you just basically like the
die randomly you just basically like the
multi-agent snake but impulse Force
multi-agent snake but impulse Force
yeah it' be sweet it' look really
yeah it' be sweet it' look really
freaking cool I can tell
freaking cool I can tell
you and you got to remember as well like
you and you got to remember as well like
how slow it is we count steps per second
how slow it is we count steps per second
in terms of number like it's per agent
in terms of number like it's per agent
step per second right true
step per second right true
true yeah that's a good point oh one
true yeah that's a good point oh one
quick thing you mentioned before safe
quick thing you mentioned before safe
array get at the only safe part of it is
array get at the only safe part of it is
it's only like debug time it does some
it's only like debug time it does some
assertion checks at run time it's
assertion checks at run time it's
basically just like um in a or release
basically just like um in a or release
build it's basically just like an array
build it's basically just like an array
um just normal array
um just normal array
operation yep that's fine I'm and that's
operation yep that's fine I'm and that's
kind of funny that you even need that
kind of funny that you even need that
because like don't you just get out of
because like don't you just get out of
bounds errors without
bounds errors without
sanitize uh kind of so I'm using like a
sanitize uh kind of so I'm using like a
a nor another library for dynamic um
a nor another library for dynamic um
like a dynamic array that's also why I
like a dynamic array that's also why I
have this because um some of their a
have this because um some of their a
most their API but one of the main
most their API but one of the main
reasons I have this is they do your
reasons I have this is they do your
favorite thing which I saw you
favorite thing which I saw you
complaining about yesterday to get
complaining about yesterday to get
something out of the array you have to
something out of the array you have to
like pass a double pointer in and get it
like pass a double pointer in and get it
out so I made this rapper so you don't
out so I made this rapper so you don't
have to do that damn it that's another
have to do that damn it that's another
reason I the rapper I it's the thing
reason I the rapper I it's the thing
where it's like okay if you don't need
where it's like okay if you don't need
the dynamic array and that sanitized
the dynamic array and that sanitized
ases your M checks you don't need the
ases your M checks you don't need the
safe get up and you don't need the
safe get up and you don't need the
asserts so like I don't know it's very
asserts so like I don't know it's very
quickly when you get one you want when
quickly when you get one you want when
you need a convenient thing you end up
you need a convenient thing you end up
having a whole bunch of un inconvenient
having a whole bunch of un inconvenient
things so you better make sure you
things so you better make sure you
really need the convenient thing there's
really need the convenient thing there's
a lot of like unknown quantities of
a lot of like unknown quantities of
things in this game like projectiles and
things in this game like projectiles and
all sorts of things so having Dynamic
all sorts of things so having Dynamic
array is very helpful okay well we will
array is very helpful okay well we will
see spots at which you have that um
see spots at which you have that um
because my strategy and all the other Ms
because my strategy and all the other Ms
has just been pre-allocate big enough
has just been pre-allocate big enough
call a
call a
day yeah I could do that but whenever I
day yeah I could do that but whenever I
try to make assumptions like that
try to make assumptions like that
eventually some Edge case happens during
eventually some Edge case happens during
training or something where it like
training or something where it like
blows up
blows up
so well I make it I make the degenerate
so well I make it I make the degenerate
Behavior not blowing up right I make the
Behavior not blowing up right I make the
degenerate Behavior being like
degenerate Behavior being like
overwrites an existing projectile or
overwrites an existing projectile or
whatever yeah know I know it's just this
whatever yeah know I know it's just this
is nice because there's little to no
is nice because there's little to no
overhead because the way like these
overhead because the way like these
arrays work like once they basically
arrays work like once they basically
like their capacity never changes only
like their capacity never changes only
their size does so after it plays like a
their size does so after it plays like a
couple of games the array is going to be
couple of games the array is going to be
like you know say 100 long and all it's
like you know say 100 long and all it's
like and it's going to keep that size
like and it's going to keep that size
forever it's never going to need to
forever it's never going to need to
allocate more you have a vector yeah
allocate more you have a vector yeah
basically okay I don't I don't think
basically okay I don't I don't think
that you actually need vectors and I
that you actually need vectors and I
think that you'd actually probably
think that you'd actually probably
simplify some stuff without it but we
simplify some stuff without it but we
will see when we get to
will see when we get to
there um
okay this is your
window call M okay yeah this is the
window call M okay yeah this is the
index into the
window this is some weird Ed
window this is some weird Ed
Case yeah I can honestly I should have
Case yeah I can honestly I should have
probably put a comment there
probably put a comment there
do you like make
it is it like not centered on the agent
it is it like not centered on the agent
when you're too close to the edge of the
when you're too close to the edge of the
screen or something no I I always have
screen or something no I I always have
it centered on the edge of the
it centered on the edge of the
agent so yeah the agent's always in the
agent so yeah the agent's always in the
center it should be at
center it should be at
least OBS call
zero yeah there's some uh oh this is
zero yeah there's some uh oh this is
padding I think
padding I think
yeah that's what it
is yeah so I pre-compute a lot of stuff
is yeah so I pre-compute a lot of stuff
so yeah I
don't yeah okay because you you copied
don't yeah okay because you you copied
the
static into
this how much time does compute
this how much time does compute
observations taking at the
observations taking at the
moment uh I haven't looked in a while
moment uh I haven't looked in a while
but I pre-computed a lot of stuff which
but I pre-computed a lot of stuff which
sped it up by a decent amount is it
sped it up by a decent amount is it
still a decent chunk of the M
time yeah it's not most of it is still
time yeah it's not most of it is still
like game logic but it's it's still yeah
like game logic but it's it's still yeah
it's above it's like 10% or not that's
it's above it's like 10% or not that's
not worth the time then because I I have
not worth the time then because I I have
ways I could fiddle with this but like
ways I could fiddle with this but like
if the map is static this can just stay
if the map is static this can just stay
in the OBS until it changes it's being
in the OBS until it changes it's being
copied every
time well the thing is it's centered on
time well the thing is it's centered on
the agent right
the agent right
so like that'll change oh I see because
so like that'll change oh I see because
it's the map pack layout okay it's not
it's the map pack layout okay it's not
glow okay sure
glow okay sure
yeah but I don't I don't like
yeah but I don't I don't like
pre-compute the packed layout for every
pre-compute the packed layout for every
sudden wall or sudden death like wall
sudden wall or sudden death like wall
place so when sudden death walls are out
place so when sudden death walls are out
which shouldn't be like that often
which shouldn't be like that often
because if it happens it's right at the
because if it happens it's right at the
end of the match then I just like
end of the match then I just like
compute everything on the Fly otherwise
compute everything on the Fly otherwise
I pre us to use the precomputed
stuff I could like like I said
stuff I could like like I said
pre-compute like every combination like
pre-compute like every combination like
okay here's the map here's the map with
okay here's the map here's the map with
one layer sudden but like it sudden
one layer sudden but like it sudden
death wall like even if sudden death
death wall like even if sudden death
happened every round it's only going to
happened every round it's only going to
be for a small part at the end so it
be for a small part at the end so it
shouldn't really affect uh observation
shouldn't really affect uh observation
time that much I didn't figure it was
time that much I didn't figure it was
worth it location of
weapon so this is going
weapon so this is going
[Music]
[Music]
through all the
through all the
pickups mhm and then if they're in the
pickups mhm and then if they're in the
grid then you put them
grid then you put them
yep I
yep I
see yeah and I I use this is a little
see yeah and I I use this is a little
this is a little bit
this is a little bit
odd
um you're not fully using the grid
um you're not fully using the grid
effectively in a way that would make it
effectively in a way that would make it
trivial to uh expand this to as big Maps
trivial to uh expand this to as big Maps
as you wanted because what you would
as you wanted because what you would
want to do here right is You' actually
want to do here right is You' actually
want to have the pickups already in a
want to have the pickups already in a
grid so that you can just like querry
grid so that you can just like querry
over the window instead of going through
over the window instead of going through
the whole list of pickups because that
the whole list of pickups because that
would get really big
would get really big
um but it's fine for what you're doing
um but it's fine for what you're doing
now cuz this is
now cuz this is
Tiny oh I see what you mean I yes that
Tiny oh I see what you mean I yes that
wouldn't be too hard to make a change
wouldn't be too hard to make a change
that wouldn't be too hard to change
that wouldn't be too hard to change
though so it's we're going to leave this
though so it's we're going to leave this
for if you want to make a really big
for if you want to make a really big
version of this to show
version of this to show
off
off
right then then it would make
sense so because I don't have this in
sense so because I don't have this in
get do you mind just like I don't know
get do you mind just like I don't know
like making comments when you have like
like making comments when you have like
legitimate things and then we can just
legitimate things and then we can just
like I don't know Commit This to your
like I don't know Commit This to your
fork or
fork or
something this is a clone so I might I
something this is a clone so I might I
re n you can just you can just change
re n you can just you can just change
the remote like later
the remote like later
okay so then here we'll do since there a
okay so then here we'll do since there a
legitimate
the always thinks yeah this is a hack it
the always thinks yeah this is a hack it
always thinks it's a
always thinks it's a
hack um
actually doesn't make it easier to do
actually doesn't make it easier to do
Dynamic pickups it's easy either way but
Dynamic pickups it's easy either way but
if you wanted them to float around right
if you wanted them to float around right
they basically just become entities like
they basically just become entities like
the agents that move around pickups move
the agents that move around pickups move
around and you just update their grid
around and you just update their grid
position
position
mhm you can even have move
continuously I'm not going to bother
continuously I'm not going to bother
with like if if this is not that much of
with like if if this is not that much of
the time a lot of M like it's 90% in
the time a lot of M like it's 90% in
compute OBS but if it's 10 I'm not going
compute OBS but if it's 10 I'm not going
to
to
bother yeah it's at most it's probably
bother yeah it's at most it's probably
like 20 something but I again I haven't
like 20 something but I again I haven't
looked in a
while same thing here
while same thing here
right
yeah and same thing with drones yeah I
yeah and same thing with drones yeah I
just kind of assume because it's a safe
just kind of assume because it's a safe
Assumption of this game like there's a
Assumption of this game like there's a
small amount of mostly everything so I
small amount of mostly everything so I
just l y but that's like the it's like
just l y but that's like the it's like
if you want to do like massively
if you want to do like massively
multi-agent
multi-agent
RL this is the design choice on uh the
RL this is the design choice on uh the
data structure is that you preut
data structure is that you preut
everything on the grid yeah that makes
everything on the grid yeah that makes
and you don't even need to it doesn't
and you don't even need to it doesn't
even have to be a grid right a grid is
even have to be a grid right a grid is
like the easy data structure that I use
like the easy data structure that I use
because it's constant time um it's like
because it's constant time um it's like
if there's only one thing right it's
if there's only one thing right it's
like a very small constant time because
like a very small constant time because
you just look in adjacent cells or
you just look in adjacent cells or
whatever or window of cells
whatever or window of cells
yeah you can also do uh bounding volume
yeah you can also do uh bounding volume
hierarchy or like quad tree or whatever
hierarchy or like quad tree or whatever
yeah and then it will be n log in
yeah and then it will be n log in
um but it scales to
um but it scales to
bigger well it can scale to bigger Maps
bigger well it can scale to bigger Maps
depending if you that's better if you
depending if you that's better if you
have like a big map with not that many
have like a big map with not that many
entities relative to the map size right
entities relative to the map size right
because like if you have 10,000 by
because like if you have 10,000 by
10,000 meters you don't want a 10,000 x
10,000 meters you don't want a 10,000 x
10,000 grid necessarily if there's only
10,000 grid necessarily if there's only
like you know a th objects in it
like you know a th objects in it
so there are choices to be made there
so there are choices to be made there
yeah discretize location yeah so this is
yeah discretize location yeah so this is
the same thing and I should probably
the same thing and I should probably
make sure that you're doing
this so what is actually being stored in
this so what is actually being stored in
in here new drone index and three bit
in here new drone index and three bit
mask so this is you're just getting like
mask so this is you're just getting like
a one hot of like which drone is there
a one hot of like which drone is there
yeah so um and the same with the walls
yeah so um and the same with the walls
the like color of the wall that's
the like color of the wall that's
there yeah so basically everything all
there yeah so basically everything all
the OBS you've seen so far yeah it's a
the OBS you've seen so far yeah it's a
window around your drone and all this is
window around your drone and all this is
stored in one bite it's just like yeah
stored in one bite it's just like yeah
what type of wall is there is there a
what type of wall is there is there a
weapon pickup and then like what drone
weapon pickup and then like what drone
is where okay that makes
is where okay that makes
sense nearest
sense nearest
walls so yeah I you and then I also give
walls so yeah I you and then I also give
like the actual like location of the
like the actual like location of the
couple nearest wall so that helps it if
couple nearest wall so that helps it if
the Asian's like about you know because
the Asian's like about you know because
in the grid you know you could be like
in the grid you know you could be like
six MERS or you could be like 2 meters
six MERS or you could be like 2 meters
or something away from a red wall and
or something away from a red wall and
that makes a big difference so this
that makes a big difference so this
tells so this is the fine grain
tells so this is the fine grain
observation yes these are all
continuous how do you find the closest
continuous how do you find the closest
walls I guess we find your walls up
walls I guess we find your walls up
there it's up it's in this
there it's up it's in this
file uh I don't remember where it is it
file uh I don't remember where it is it
might be in game you have to search for
might be in game you have to search for
it see I could just control F12 on it
it see I could just control F12 on it
and just compare me to definition so I
and just compare me to definition so I
don't really need to know where it is
don't really need to know where it is
but I'm pretty sure it's in
but I'm pretty sure it's in
game is this fast or is this like
game is this fast or is this like
looping through everything again no it's
looping through everything again no it's
it's optimized somewhat I'm pretty sure
it's optimized somewhat I'm pretty sure
it's in game if you want go take a look
it's in game if you want go take a look
at it
game.
yeah oh wait because you pass walls to
it near
it near
walls oh no this is the output array
walls oh no this is the output array
yeah
yeah
yeah so because I use it here and I also
yeah so because I use it here and I also
use it for scripted agents and I like
use it for scripted agents and I like
want different amounts of walls
want different amounts of walls
sometimes so this is the way I can make
sometimes so this is the way I can make
it like Dynamic Max nearest
walls oh you have to PR
walls oh you have to PR
computed yeah that's right I forgot yeah
computed yeah that's right I forgot yeah
I pre computed that yeah and uh they
are insertion sorted
are insertion sorted
whatever it's a really small number like
whatever it's a really small number like
usually I only want like two to four
usually I only want like two to four
walls so insertion starts really fast in
walls so insertion starts really fast in
that
case I tried using a Max Heap but that
case I tried using a Max Heap but that
ended up being slower like just get use
ended up being slower like just get use
a Max Heap that sorts as it goes but
a Max Heap that sorts as it goes but
yeah it was way more complex more code
yeah it was way more complex more code
and it wasn't even faster so
and it wasn't even faster so
i' be surprised if this is even the
i' be surprised if this is even the
thing that needs optimizing
so actually a lot of this would get
so actually a lot of this would get
shorter if you did it the way that I
shorter if you did it the way that I
suggested as well um because and and it
suggested as well um because and and it
would get faster I think because you
would get faster I think because you
have one
have one
Loop over the window right you just Loop
Loop over the window right you just Loop
over the window and then you would just
over the window and then you would just
go pick up you know the pickup at that
go pick up you know the pickup at that
index the agent at that index and
index the agent at that index and
whatever so this would get com like the
whatever so this would get com like the
loop order would flip and you would
loop order would flip and you would
replace a lot of these like like
replace a lot of these like like
duplicate checks H so this this section
duplicate checks H so this this section
of the code here this would get
of the code here this would get
compressed
compressed
substantially yeah that's good to know
then this is kind of what I expected as
then this is kind of what I expected as
well that like with you I'm not going to
well that like with you I'm not going to
find like redundant three line chunks
find like redundant three line chunks
right that's kind of like a newer
right that's kind of like a newer
programmer thing I would find like ways
programmer thing I would find like ways
to restructure things that could be
to restructure things that could be
faster and shorter
but that's the only one I found so
far and in this case it also
far and in this case it also
specifically relies on knowing the um
specifically relies on knowing the um
you know knowing good data structure for
you know knowing good data structure for
RL specifically right yeah so you would
RL specifically right yeah so you would
know that
yeah it's good to keep in mind but if I
yeah it's good to keep in mind but if I
ever do make this like a huge like I
ever do make this like a huge like I
don't know
don't know
like four rather than four like 50 plus
like four rather than four like 50 plus
agent thing that wouldn't be for a while
agent thing that wouldn't be for a while
probably if I do that but well I mean
probably if I do that but well I mean
it's it's the way that you implement
it's it's the way that you implement
stuff right like the way I implemented
stuff right like the way I implemented
neural MMO or snake or whatever I could
neural MMO or snake or whatever I could
test the thing with like four agents and
test the thing with like four agents and
just immediately scale it to 4,000 if I
just immediately scale it to 4,000 if I
wanted to same code same code like no
wanted to same code same code like no
more complex very
more complex very
simple right
simple right
yeah but you have to kind of know those
yeah but you have to kind of know those
data structures up front a little bit
data structures up front a little bit
yeah so my bad I should have I should
yeah so my bad I should have I should
have told you I should have been more
have told you I should have been more
clear on how you discretize stuff like
clear on how you discretize stuff like
that because that would have made that
that because that would have made that
type of thing
type of thing
easier it's fine um I mean yeah I mean
easier it's fine um I mean yeah I mean
it was 256 before you even have to start
it was 256 before you even have to start
changing types yeah that's like tons of
changing types yeah that's like tons of
stuff yeah well I also just wouldn't use
stuff yeah well I also just wouldn't use
uh I also just wouldn't use the shorter
uh I also just wouldn't use the shorter
types for the indices in the first place
types for the indices in the first place
right yeah you don't have to change it
right yeah you don't have to change it
though I mean to be fair if you're in
though I mean to be fair if you're in
any editor and not like just trolling in
any editor and not like just trolling in
no plugins Vim um you should just be
no plugins Vim um you should just be
able to find replace a lot of that yeah
able to find replace a lot of that yeah
it's it's not difficult
okay
okay
so near OBS we've done
so near OBS we've done
this floating walls near floating walls
this floating walls near floating walls
this is going to be the same thing right
this is going to be the same thing right
yeah yeah there's insertion
for I think again like a lot of these
for I think again like a lot of these
Loops would be
like if this were on a tille grid or
like if this were on a tille grid or
whatever like you could just
whatever like you could just
get well let me think you just look in
get well let me think you just look in
the cells around you and just get the
the cells around you and just get the
position of whatever is there like the
position of whatever is there like the
like the fine grein position of whatever
like the fine grein position of whatever
is in the adjacent
is in the adjacent
cells wouldn't you these things can't be
cells wouldn't you these things can't be
in the same tile can they can you have
in the same tile can they can you have
like a floating wall and a pick up in
like a floating wall and a pick up in
the same
the same
tile uh
tile uh
uh technically yes but the pickup's like
uh technically yes but the pickup's like
basically like temp like when a when a
basically like temp like when a when a
floating wall goes over pickup the
floating wall goes over pickup the
pickup kind of will like disappear and
pickup kind of will like disappear and
you can't interact with it until the
you can't interact with it until the
floating wall like P like stops
floating wall like P like stops
colliding with it
colliding with it
basically so not
really yeah so I mean I would kind of
really yeah so I mean I would kind of
just do the I just do the full grid
just do the I just do the full grid
discritization if I were going to do
discritization if I were going to do
this and then you BAS basically like
this and then you BAS basically like
instead of having all these Loops where
instead of having all these Loops where
you have to like basically do similar
you have to like basically do similar
Logic for all these different types of
Logic for all these different types of
things you would just have a bunch of
things you would just have a bunch of
things you know each grid cell can have
things you know each grid cell can have
a thing right and then you just get the
a thing right and then you just get the
type and the position of that thing and
type and the position of that thing and
that goes into the OBS right well so how
that goes into the OBS right well so how
would you handle something like
would you handle something like
projectiles because there could be
projectiles because there could be
depending if they're like smaller
depending if they're like smaller
projectiles you could have like multiple
projectiles you could have like multiple
different projectiles and a floating
different projectiles and a floating
wall saying like one cell or
wall saying like one cell or
something um then I probably just
something um then I probably just
wouldn't put the projectiles in the uh
wouldn't put the projectiles in the uh
in the grid with everything else CU
in the grid with everything else CU
those are small like everything else
those are small like everything else
would go on the grid and then the
would go on the grid and then the
projectiles would be the only thing that
projectiles would be the only thing that
aren't on the grid I see okay and then
aren't on the grid I see okay and then
the projectiles would just be a straight
the projectiles would just be a straight
up I mean that would just be a straight
up I mean that would just be a straight
up
um I don't even know if it makes sense
um I don't even know if it makes sense
to put those into a quadry or whatever
to put those into a quadry or whatever
because
H you'd probably use like some sort of
H you'd probably use like some sort of
very coarse sort of a tree I would think
very coarse sort of a tree I would think
so maybe you just like you make really
so maybe you just like you make really
big grid cells or
big grid cells or
something you'd have to play with that
something you'd have to play with that
because they move fast so you have to
because they move fast so you have to
keep updating them to new cells yeah so
keep updating them to new cells yeah so
it would probably be like a much coarser
it would probably be like a much coarser
sort of a quad tree type thing or a much
sort of a quad tree type thing or a much
coarser grid
coarser grid
thing um where you know maybe you only
thing um where you know maybe you only
split it into you know you split the
split it into you know you split the
screen into
screen into
like8 by eight chunks or something so it
like8 by eight chunks or something so it
would be like chunks instead of cells
would be like chunks instead of cells
that's the way to to say it and then
that's the way to to say it and then
each chunk has a max number of
each chunk has a max number of
projectiles or something like that and
projectiles or something like that and
then you only have to Loop and then you
then you only have to Loop and then you
only Loop through projectiles like in
only Loop through projectiles like in
more chunk or
more chunk or
something probably something like
something probably something like
that maybe there's a better way of doing
that maybe there's a better way of doing
it I don't
it I don't
know well at least for projectiles this
know well at least for projectiles this
is the one thing where not even
is the one thing where not even
Computing the observations like how I do
Computing the observations like how I do
the observations I don't think it's
the observations I don't think it's
optimal but I'm not sure how to improve
optimal but I'm not sure how to improve
it I Bas we
it I Bas we
just yeah it's a little below that I
just yeah it's a little below that I
think
okay type angle I'm actually going to
okay type angle I'm actually going to
put a comment in
here
yep e
so the same
thing and this is
thing and this is
pickups yeah I was talking about
pickups yeah I was talking about
projectiles but it's larger the same
projectiles but it's larger the same
thing well no pickups are different from
thing well no pickups are different from
projectiles cuz they're large and there
projectiles cuz they're large and there
are not that many of them so we don't
are not that many of them so we don't
care as much yeah what I meant about
care as much yeah what I meant about
projectiles is like I'm not I'm not sure
projectiles is like I'm not I'm not sure
how to efficiently put them in the
how to efficiently put them in the
observation find here it is right yeah
observation find here it is right yeah
so right now I just set projectile OBS
so right now I just set projectile OBS
like the max number of them and I think
like the max number of them and I think
it's like 30 or something and then if
it's like 30 or something and then if
they're ever exceed that amount I just
they're ever exceed that amount I just
don't put them in the observation but
don't put them in the observation but
like and then how do you get how do you
like and then how do you get how do you
get well how do you pick which
get well how do you pick which
projectiles you get to see so
projectiles you get to see so
essentially the I guess the way I I do
essentially the I guess the way I I do
it it's it's essentially like stacker
it it's it's essentially like stacker
Cube uh I guess it's like a stack or
Cube uh I guess it's like a stack or
something like whatever projectiles
something like whatever projectiles
created first is in like the front of
created first is in like the front of
the array and I just start from the
the array and I just start from the
front of the array oh so they're not
front of the array oh so they're not
sorted no um because I was thinking then
sorted no um because I was thinking then
how do you know which ones are
how do you know which ones are
nearby
nearby
uh just based on the like the position I
uh just based on the like the position I
give you I guess I I'm not so this is
give you I guess I I'm not so this is
all the
all the
projectiles and
then so the thing is though I was
then so the thing is though I was
thinking
thinking
like is what Global this is a global
like is what Global this is a global
Loop over
Loop over
projectiles you
projectiles you
yeah yeah it's not
yeah yeah it's not
great okay I to rest from again I've
great okay I to rest from again I've
been drinking too much tea give me a
been drinking too much tea give me a
second and then I'll think about how to
second and then I'll think about how to
this okay one sec no
problem
e
e e
you
you
there uh oh yep I'm here okay I'm going
there uh oh yep I'm here okay I'm going
to give you a general purpose
to give you a general purpose
architecture that would handle this and
architecture that would handle this and
everything else above I'm not saying
everything else above I'm not saying
this is the best but like this will at
this is the best but like this will at
least give you something okay and this
least give you something okay and this
scales perfectly as
well I came up with this in the last 30
well I came up with this in the last 30
seconds but it's like a very simple
seconds but it's like a very simple
generalization of stuff I've done before
generalization of stuff I've done before
so like you'll see why it's kind of
so like you'll see why it's kind of
obvious um here's your
obvious um here's your
drone here's your grid each of these is
drone here's your grid each of these is
a cell like projectiles right you've got
a cell like projectiles right you've got
like pickups right you've got like walls
like pickups right you've got like walls
you have stuff right uh and each of
you have stuff right uh and each of
these is just an entity
MH okay so then this
MH okay so then this
grid uh so you just have like
tile
oops okay and then you have like
struct and then this just has
n and then this
has so yeah basically an array of
has so yeah basically an array of
entities in each tile
right okay so you have like this is just
right okay so you have like this is just
fixed static right this is static in
memory and then what you do is when you
memory and then what you do is when you
Loop over this okay so when you like
Loop over this okay so when you like
when you do each Loop you just write the
when you do each Loop you just write the
entities into the tile one at a
entities into the tile one at a
time see so if we look at like this
time see so if we look at like this
structure here
here you have each
here you have each
entity then you just
entity then you just
do this one goes
do this one goes
here this one goes
here this one goes
here this one goes
here so on and so forth
here so on and so forth
right well I guess I did it yeah so this
right well I guess I did it yeah so this
would be like this and then I'd have to
would be like this and then I'd have to
make another one
right because you don't want projectiles
right because you don't want projectiles
in this in the grid well no I this is
in this in the grid well no I this is
even putting projectiles in the grid I
even putting projectiles in the grid I
came up with something that works for
came up with something that works for
everything
everything
so this you have this grided
so this you have this grided
piles right oh actually did I do that
piles right oh actually did I do that
right yeah I'm drawing it forly but um
right yeah I'm drawing it forly but um
to
to
explain you have a grid of tiles you can
explain you have a grid of tiles you can
have this a 1D array or two like a 1D
have this a 1D array or two like a 1D
array that's just like flat indexing to
array that's just like flat indexing to
2D or 2D array doesn't matter right and
2D or 2D array doesn't matter right and
uh this has
uh this has
destructive tiles each tile is just a
destructive tiles each tile is just a
fixed size array of
fixed size array of
entities right so technically you could
entities right so technically you could
even just make this like a flat index 3D
even just make this like a flat index 3D
array of tiles if you want but I think
array of tiles if you want but I think
it's easier like I think it's easier to
it's easier like I think it's easier to
do this because you do need this extra n
do this because you do need this extra n
right for each of these and just tells
right for each of these and just tells
you how many entities you have in it at
you how many entities you have in it at
the moment yeah yeah um so every time
the moment yeah yeah um so every time
you at every step right when you move
you at every step right when you move
all the entities you're just going to
all the entities you're just going to
reset this this end to zero and then you
reset this this end to zero and then you
uh you just write over right starting
uh you just write over right starting
from zero so you don't even have to
from zero so you don't even have to
clear
clear
it so yeah that makes sense you just
it so yeah that makes sense you just
write this in write this and write this
write this in write this and write this
in and then when you go to compute
in and then when you go to compute
observations what do you do you go
observations what do you do you go
through each cell you Loop up to n and
through each cell you Loop up to n and
you add it to your OBS and you're done
you add it to your OBS and you're done
and that gives you constant
and that gives you constant
time um constant time everything
so okay I do need to re like set the N
so okay I do need to re like set the N
to zero in every tile of the grid every
to zero in every tile of the grid every
step that right you don't need to reset
step that right you don't need to reset
anything to zero no you the size of each
anything to zero no you the size of each
of n entities in each tile you I have to
of n entities in each tile you I have to
do that every step though right you said
do that every step though right you said
that uh yeah n has to go to zero yeah
that uh yeah n has to go to zero yeah
now if you wanted to not Loop over this
now if you wanted to not Loop over this
okay you want this to be faster so just
okay you want this to be faster so just
like me set but I don't know that if you
like me set but I don't know that if you
want this to be faster then here you
want this to be faster then here you
could do this
could do this
so we have
so we have
tile hang
tile hang
on so you just have was an
entity probably make a 3D helper index
entity probably make a 3D helper index
function all right and then you just
function all right and then you just
have
have
um what was
um what was
it uh
Char
Char
n was it Char
n was it Char
Max or is it capacity no
sizes all you have to do is memet this
sizes all you have to do is memet this
one every step right
H yeah I
H yeah I
see no
Loop so I guess the way it'd be stored
Loop so I guess the way it'd be stored
in memory is let me see if you can even
in memory is let me see if you can even
do it without doing this so you don't
do it without doing this so you don't
have to do anything over the whole map
have to do anything over the whole map
let me think
oh wait yeah you totally can right
oh wait yeah you totally can right
you just store
you just store
um here if you want to not do
um here if you want to not do
this okay what if we
this okay what if we
do
pile and this
pile and this
has uh what's it
has uh what's it
int
n
n
step and then we have with
entity okay so you just do set step and
entity okay so you just do set step and
then you do
then you do
if
if
I
step
n step
right then n equal
right then n equal
Z
step
step
step so you could do that and now you
step so you could do that and now you
don't have to mset at every step there
don't have to mset at every step there
truly constant
truly constant
time okay so
time okay so
basically okay so when I first start
basically okay so when I first start
like you know 's going to be zero steps
like you know 's going to be zero steps
going to be zero and then when I'm
going to be zero and then when I'm
moving entities every step so after I do
moving entities every step so after I do
the physics thing I have the new
the physics thing I have the new
positions of everything I go into the
positions of everything I go into the
tiles and I I know where on the grid
tiles and I I know where on the grid
these entities are so I go into this
these entities are so I go into this
array I say okay this step here are the
array I say okay this step here are the
entities in here and then I I you know
entities in here and then I I you know
do my observations and the next step I
do my observations and the next step I
go in and say okay they've moved if
go in and say okay they've moved if
they're in a new tile um I just set them
they're in a new tile um I just set them
so basically this this I only like treat
so basically this this I only like treat
the stuff in the tile is valid if it
the stuff in the tile is valid if it
lines up with the current step and if
lines up with the current step and if
it's not the current step I just don't I
it's not the current step I just don't I
just ignore it when doing observations
just ignore it when doing observations
right because I know it's not active
right because I know it's not active
accurate the step you don't need to deal
accurate the step you don't need to deal
with step at all in compute observations
with step at all in compute observations
the way I have it you deal with this in
the way I have it you deal with this in
when you're actually updating your
when you're actually updating your
environment so when you're doing when
environment so when you're doing when
you are moving entities around right in
you are moving entities around right in
the environment itself you go through
the environment itself you go through
all the entities
all the entities
you put them on the tiles okay and then
you put them on the tiles okay and then
when you're putting them on the
when you're putting them on the
tiles um n starts at zero originally you
tiles um n starts at zero originally you
put all the things in N grows to however
put all the things in N grows to however
many entities there are per step and
many entities there are per step and
then when you get to the next step right
then when you get to the next step right
you're going to check and you're going
you're going to check and you're going
to see that your current step doesn't
to see that your current step doesn't
match this step so you reset
match this step so you reset
n and you start writing from the
n and you start writing from the
beginning again but then when you
beginning again but then when you
compute observations all you have to do
compute observations all you have to do
literally all you have to do is you Loop
literally all you have to do is you Loop
over your adjacent tiles okay in each
over your adjacent tiles okay in each
tile you Loop up to that tile's end and
tile you Loop up to that tile's end and
you copy the data
over okay so how would this work though
over okay so how would this work though
if say for
if say for
example there's just to simplify it
example there's just to simplify it
we're only caring about like one player
we're only caring about like one player
so the first drone he's in tile zero
so the first drone he's in tile zero
okay cool we put that in tile zero We
okay cool we put that in tile zero We
Set n to one we set step to zero the
Set n to one we set step to zero the
next observation okay the Drone moves to
next observation okay the Drone moves to
tile five and we set tile five to be you
tile five and we set tile five to be you
know that drone we update the step to be
know that drone we update the step to be
one so now tile zero still has the Drone
one so now tile zero still has the Drone
in it set to Step Zero okay fair you're
in it set to Step Zero okay fair you're
right that you you do actually have to
right that you you do actually have to
check the Step at OBS time you're right
check the Step at OBS time you're right
yeah that's what I thought you have to
yeah that's what I thought you have to
check time it's one check yeah that's
check time it's one check yeah that's
that's that's not expensive yeah it's
that's that's not expensive yeah it's
nothing yeah yeah yeah that's pretty
nothing yeah yeah yeah that's pretty
smart Okay so I mean this is this does
smart Okay so I mean this is this does
give you constant time everything right
give you constant time everything right
mhm the only thing that's not constant
mhm the only thing that's not constant
is some you you need memory for the
is some you you need memory for the
whole grid so if you try to put a city
whole grid so if you try to put a city
into impulse
into impulse
Wars
Wars
um
um
right you laugh but actually we're like
right you laugh but actually we're like
uh that's something we're looking at
uh that's something we're looking at
with GPU drive and like this
with GPU drive and like this
architecture right it's like okay what
architecture right it's like okay what
if we wanted to put a whole city
if we wanted to put a whole city
in but actually it might not even be bad
in but actually it might not even be bad
because as long as it's not a city with
because as long as it's not a city with
like three players in it right if it's
like three players in it right if it's
actually a densely populated city it
actually a densely populated city it
takes a lot of memory but that's
takes a lot of memory but that's
amortized over a lot of
amortized over a lot of
players right so this architecture might
players right so this architecture might
just
just
work the thing I was um discovering
work the thing I was um discovering
though with the way we do things um in
though with the way we do things um in
puffer you know like have this isn't
puffer you know like have this isn't
really specific to puffer but you know
really specific to puffer but you know
you have like multiple workers so
you have like multiple workers so
basically you know we have multiple work
basically you know we have multiple work
like vectorized workers each has their
like vectorized workers each has their
own process and in each process of
own process and in each process of
running multiple environments right
running multiple environments right
mhm um
mhm um
each process each worker all the
each process each worker all the
environments in that process are going
environments in that process are going
to be sharing like whatever like static
to be sharing like whatever like static
memory like not this per se but like say
memory like not this per se but like say
I pre-compute some stuff they're all
I pre-compute some stuff they're all
going to share that but if I say have
going to share that but if I say have
like 16 workers there's like 16 copies
like 16 workers there's like 16 copies
of all that pre-computed stuff in Ram
of all that pre-computed stuff in Ram
and in this case that' be like workers
and in this case that' be like workers
times M that'd be a lot so it's not
times M that'd be a lot so it's not
workers times and it's just
workers times and it's just
workers well it depends if this if it
workers well it depends if this if it
depends if this would be Global or not
depends if this would be Global or not
but this couldn't be
but this couldn't be
Global well yeah this is this is per n
Global well yeah this is this is per n
but the thing is okay if you have a
but the thing is okay if you have a
massive M right that m is going to have
massive M right that m is going to have
like a thousand players in it so you
like a thousand players in it so you
only need one of those Ms per core
only need one of those Ms per core
anyways yeah yeah that's what I do with
anyways yeah yeah that's what I do with
Nur Mo but like you only have one yeah
Nur Mo but like you only have one yeah
you one per court because you have all
you one per court because you have all
the players in there right you only want
the players in there right you only want
like 4,000 or 8,000 total agents right
like 4,000 or 8,000 total agents right
yeah yeah okay and then for Moa I
yeah yeah okay and then for Moa I
actually do have like shared resources
actually do have like shared resources
in MOA um but you only get one copy per
in MOA um but you only get one copy per
core cuz MOA only has like it's a decent
core cuz MOA only has like it's a decent
sized map right it's a decently big map
sized map right it's a decently big map
yeah yeah but it only has 10 players so
yeah yeah but it only has 10 players so
you still need a bunch of copies of it
you still need a bunch of copies of it
well fine the static assets get shared
well fine the static assets get shared
per core at least be on and off stream
per core at least be on and off stream
today ping me on dis when you're ready
today ping me on dis when you're ready
all right Spencer yeah whenever uh we're
all right Spencer yeah whenever uh we're
done with Captain here I will do some
done with Captain here I will do some
stuff for you so a lot of stuff to here
stuff for you so a lot of stuff to here
though it's a 7,000 line
PR is this like a reasonable
PR is this like a reasonable
architecture though the way you're that
architecture though the way you're that
I've I've gone through
I've I've gone through
this I I think so especially now I think
this I I think so especially now I think
so but I'm thinking like if we were to
so but I'm thinking like if we were to
scale up I'd probably have to
scale up I'd probably have to
change I'd have to change a decent bit
change I'd have to change a decent bit
of code I think
of code I think
because the way everything set up nicely
because the way everything set up nicely
just to work like each grid size is the
just to work like each grid size is the
size of like a normal wall but I think
size of like a normal wall but I think
that'd be way too small if we got like
that'd be way too small if we got like
really huge because right now I already
really huge because right now I already
have how big do you want to go with this
have how big do you want to go with this
we do like up to 4096 was it 2048 by
we do like up to 4096 was it 2048 by
2048 Maps I think I've done in
2048 Maps I think I've done in
neuro oh really uhuh now I don't have
neuro oh really uhuh now I don't have
this entity Max thing right I have one
this entity Max thing right I have one
entity per tile so you'd probably want
entity per tile so you'd probably want
to keep this small especially if your
to keep this small especially if your
entities have a ton of
properties well they be pointers
properties well they be pointers
entities not like but yeah I know you
entities not like but yeah I know you
mean
mean
um yeah well I didn't even make this
um yeah well I didn't even make this
list Dynamic see this is a static yeah
list Dynamic see this is a static yeah
no I see that um what was I going to say
no I see that um what was I going to say
you could also if you really wanted to
you could also if you really wanted to
save memory on this um you could make
save memory on this um you could make
this a link
this a link
list yeah right nah you you lose like
list yeah right nah you you lose like
you know the memory being contiguous and
you know the memory being contiguous and
all that so that's why I don't think
all that so that's why I don't think
it's worth it because like it it would
it's worth it because like it it would
make it slower uh it's still L then but
make it slower uh it's still L then but
it's yeah you lose there's annoying
it's yeah you lose there's annoying
pointer stuff yeah so iory being uous is
pointer stuff yeah so iory being uous is
really cash friendly and really nice
really cash friendly and really nice
generally so I like to do that when I
generally so I like to do that when I
can if you just keep this probably
can if you just keep this probably
doesn't need to be more than like four
doesn't need to be more than like four
right yeah I'd have to probably like do
right yeah I'd have to probably like do
a training run and just see like how big
a training run and just see like how big
it got in like billion steps or
it got in like billion steps or
something and then just put a little
something and then just put a little
past that just to be safe but yeah
past that just to be safe but yeah
probably gets an abil oh like the max
probably gets an abil oh like the max
that it ever gets yeah oh I wouldn't
that it ever gets yeah oh I wouldn't
even go that high
even go that high
I would just see like most of the time
I would just see like most of the time
you know if you cut a projectile off
you know if you cut a projectile off
once in a while who
cares yeah I guess I could get like the
cares yeah I guess I could get like the
average standard deviation then like Max
average standard deviation then like Max
and just make an educated
decision so yeah I mean this is like the
decision so yeah I mean this is like the
type of thing that you would look at and
type of thing that you would look at and
by the way this would compress all the
by the way this would compress all the
OBS code a ton as well wouldn't it yeah
OBS code a ton as well wouldn't it yeah
it would it would yeah my OBS code is
it would it would yeah my OBS code is
yeah there is a decent bit of duplicated
yeah there is a decent bit of duplicated
code cuz I I wasn't sure how to do it
code cuz I I wasn't sure how to do it
differently but yeah this is this makes
differently but yeah this is this makes
sense this so this is like the type of
sense this so this is like the type of
thing that you know it's if you think
thing that you know it's if you think
about this can make it more scalable and
about this can make it more scalable and
and simplify the code and make it faster
and simplify the code and make it faster
all at the same
all at the same
time I'd be interested to see if it
time I'd be interested to see if it
makes it faster with the amount of
makes it faster with the amount of
entities I have now it might still but I
entities I have now it might still but I
think it' be marginal yeah it wouldn't
think it' be marginal yeah it wouldn't
be a lot if it if it did it might make a
be a lot if it if it did it might make a
little faster but you'd really see a
little faster but you'd really see a
huge gain once you start scaling up like
huge gain once you start scaling up like
you said for sure
you said for sure
yeah I mean it depends if you want to do
yeah I mean it depends if you want to do
that as well right now the one thing I
that as well right now the one thing I
will say the one major major limitation
will say the one major major limitation
of um this type of an
of um this type of an
architecture is the uh local observation
architecture is the uh local observation
size so you can't see very far if you do
this uh what do you mean you have to
this uh what do you mean you have to
Loop over because you're doing cell
Loop over because you're doing cell
based right right so you have to Loop
based right right so you have to Loop
over a window yep um
over a window yep um
yeah my window right now is 11 by 11
yeah my window right now is 11 by 11
which is worked worked well in small
which is worked worked well in small
Maps I don't know how to scale to Big
Maps I don't know how to scale to Big
Maps but seems like I don't know is that
Maps but seems like I don't know is that
reasonable size yeah that's what we use
reasonable size yeah that's what we use
for a lot of our stuff as well um okay
for a lot of our stuff as well um okay
it's a it's a really great architecture
it's a it's a really great architecture
for like very local OBS if you really
for like very local OBS if you really
wanted something to see way farther
wanted something to see way farther
that's where we'd have to go to
that's where we'd have to go to
something else and actually I'm chatting
something else and actually I'm chatting
with um Brennon again probably next week
with um Brennon again probably next week
on the FPS stuff to see how he's done
on the FPS stuff to see how he's done
things with bounding value hierarchies
things with bounding value hierarchies
because you need to be able to see far
because you need to be able to see far
there it's like sniper maps and stuff
there it's like sniper maps and stuff
right yeah well the way I handle this in
right yeah well the way I handle this in
impulse Wars is I give you like very
impulse Wars is I give you like very
limited stuff in your window like but
limited stuff in your window like but
then I also give you like actual um
then I also give you like actual um
continuous like finer grain observations
continuous like finer grain observations
for a select amount of like near things
for a select amount of like near things
but you don't see far yeah yeah you're
but you don't see far yeah yeah you're
right yeah yeah so if you wanted to
right yeah yeah so if you wanted to
actually make this Fair you'd have to
actually make this Fair you'd have to
like fog of War what you can see to a
like fog of War what you can see to a
pretty small window around you and then
pretty small window around you and then
it would be like borderline impossible
it would be like borderline impossible
to play as a human
to play as a human
right it be really
right it be really
hard yeah stray bullets stray bullets
hard yeah stray bullets stray bullets
would probably or stray projectiles
would probably or stray projectiles
would probably kill you like all the
would probably kill you like all the
time it' probably be very unfun they
time it' probably be very unfun they
have instant reaction at the least
have instant reaction at the least
but yeah still but yeah as as a human
but yeah still but yeah as as a human
that's that's kind of why I never really
that's that's kind of why I never really
thought about doing a big like MOA type
thought about doing a big like MOA type
or not MOA like MMO type thing because
or not MOA like MMO type thing because
just don't think it would be that
just don't think it would be that
fun like there's already so much chaos
fun like there's already so much chaos
with four players if you had a huge map
with four players if you had a huge map
and a lot of people and I made like the
and a lot of people and I made like the
projectile distances before they like
projectile distances before they like
despawn like larger you'd get like
despawn like larger you'd get like
accident like killed by someone who
accident like killed by someone who
didn't even know they killed you like
didn't even know they killed you like
all the time yeah don't make the life
all the time yeah don't make the life
just don't make the projectile lifetime
just don't make the projectile lifetime
crazy yeah I don't know I it I think it
crazy yeah I don't know I it I think it
changed
changed
like for a lack of better phrase the
like for a lack of better phrase the
spirit of the game a lot I don't know if
spirit of the game a lot I don't know if
it's still being
it's still being
it depends how many like obstacles and
it depends how many like obstacles and
blocking off things there are like so
blocking off things there are like so
here imagine it this way right so
here imagine it this way right so
imagine that you're playing this on a
imagine that you're playing this on a
full screen okay and you have a few
full screen okay and you have a few
players on your screen right that you're
players on your screen right that you're
playing against but you can just keep
playing against but you can just keep
going in either direction for 10 minutes
going in either direction for 10 minutes
and you'll keep finding more
and you'll keep finding more
players yeah that's pretty
players yeah that's pretty
cool
cool
right that's pretty cool like here it's
right that's pretty cool like here it's
it's the way that it works with like the
it's the way that it works with like the
MMO right and I I actually rendered it
MMO right and I I actually rendered it
roughly the way that you the agent sees
roughly the way that you the agent sees
it in the game this is how far the agent
it in the game this is how far the agent
sees in the game but oh okay look right
sees in the game but oh okay look right
yeah yeah yeah this and this isn't even
yeah yeah yeah this and this isn't even
the full siiz map this is the web map oh
the full siiz map this is the web map oh
the fulls size map is even bigger than
the fulls size map is even bigger than
oh yeah you can go way bigger than this
oh yeah you can go way bigger than this
oh wow okay I thought this was a full
oh wow okay I thought this was a full
size you can go even bigger than this
size you can go even bigger than this
and uh they're only like a few like a
and uh they're only like a few like a
few neural agents in here as well there
few neural agents in here as well there
would be like way more agents than this
would be like way more agents than this
cuz the uh the G
cuz the uh the G
the policy is too big to run fast on CPU
the policy is too big to run fast on CPU
so I can only run a few of these guys um
so I can only run a few of these guys um
but yeah You' run into all sorts of
but yeah You' run into all sorts of
other players all sorts of other enemies
other players all sorts of other enemies
like it's pretty cool so you just keep
like it's pretty cool so you just keep
going pretty much wherever it's kind of
fun so that's if you want to do
fun so that's if you want to do
massively multi-agent but you know it's
massively multi-agent but you know it's
nice either way because the architecture
nice either way because the architecture
I'm describing if you don't have uh
I'm describing if you don't have uh
large OBS Windows needed it kind of just
large OBS Windows needed it kind of just
scales to what whatever and uh you know
scales to what whatever and uh you know
figuring out stuff that scills better to
figuring out stuff that scills better to
longer range Ops will be on the agenda
longer range Ops will be on the agenda
cuz that's what you need for like first
cuz that's what you need for like first
person right when you're looking in a
person right when you're looking in a
direction yeah yeah yeah but I'll work
direction yeah yeah yeah but I'll work
on that and I think the stuff Spencer's
on that and I think the stuff Spencer's
doing and then my chat with Bren and I
doing and then my chat with Bren and I
think we'll get that figured out in the
think we'll get that figured out in the
next few
next few
weeks okay but yeah you don't need to go
weeks okay but yeah you don't need to go
recode a bunch of stuff right now from
recode a bunch of stuff right now from
this I'm just giving you stuff that you
this I'm just giving you stuff that you
could like you can look at here for like
could like you can look at here for like
okay these are directions you could take
okay these are directions you could take
this project these are directions that
this project these are directions that
you can go with other projects right
you can go with other projects right
this
this
info but here go back up through yeah
info but here go back up through yeah
just on the projectile stuff
just on the projectile stuff
though I did kind of wonder what you
though I did kind of wonder what you
thought about this because yeah we kind
thought about this because yeah we kind
of started talking about this so
of started talking about this so
basically I want be able to see is these
basically I want be able to see is these
are at least relativized right yeah okay
are at least relativized right yeah okay
um I mean the fact that they do you have
um I mean the fact that they do you have
like an entity encoder or is it just
like an entity encoder or is it just
like into a flat encoder in the network
like into a flat encoder in the network
well what do you mean entity encoder oh
well what do you mean entity encoder oh
oh in the neural in the no it's uh I can
oh in the neural in the no it's uh I can
catenate like all the continuous OBS
catenate like all the continuous OBS
together and then just pass them into
together and then just pass them into
the the main one yeah yeah so that's not
the the main one yeah yeah so that's not
going to be it just can't see those is
going to be it just can't see those is
my guest really yeah just can't see
my guest really yeah just can't see
those so it's playing without being able
those so it's playing without being able
to it's hard to dodge anyways so it's
to it's hard to dodge anyways so it's
not
not
huge but like the way that you do this
huge but like the way that you do this
is an entity I think I've showed you
is an entity I think I've showed you
this right
so entity encoder works like this you
so entity encoder works like this you
have like X Y X Y X Y these are your
have like X Y X Y X Y these are your
points okay and what you're doing is
points okay and what you're doing is
you're doing like XY
you're doing like XY
XY XY and then you're putting this into
XY XY and then you're putting this into
a
a
network right mhm okay you just put this
network right mhm okay you just put this
into a
into a
network and then you Max
and then that kind of tells it like
and then that kind of tells it like
what's closest well it's you're applying
what's closest well it's you're applying
the same layer to each of
the same layer to each of
these
these
right so this doesn't know what the
right so this doesn't know what the
order of the points is right this has to
order of the points is right this has to
learn the same representation at each
learn the same representation at each
point
point
explicitly so it's like it's a totally
explicitly so it's like it's a totally
different problem if you swap 0.1 and
different problem if you swap 0.1 and
point two which is not what you intend
point two which is not what you intend
because they're not sorted
because they're not sorted
M whereas if you do this it's just
M whereas if you do this it's just
learning an encoder over points and what
learning an encoder over points and what
it'll do is it'll just learn to ignore
it'll do is it'll just learn to ignore
anything where the X and Y are too
big right so basically to make this to
big right so basically to make this to
make this bigger you think I should just
make this bigger you think I should just
max over the projectiles and then feed
max over the projectiles and then feed
that back in to the network yeah if you
that back in to the network yeah if you
wanted to make this is just a purely
wanted to make this is just a purely
encoder side change as well yeah yeah
encoder side change as well yeah yeah
right like the the policy
right like the the policy
this is pretty much anytime that you
this is pretty much anytime that you
have a number of things that are the
have a number of things that are the
same like a number of different objects
same like a number of different objects
where the order doesn't matter you have
where the order doesn't matter you have
to express that the order doesn't matter
to express that the order doesn't matter
to the
to the
policy and you do that by maxing it you
policy and you do that by maxing it you
do this by feeding the data each point
do this by feeding the data each point
into the network identically and then
into the network identically and then
you can Max you can do a tension right
you can Max you can do a tension right
this is a good thing for a Transformer
this is a good thing for a Transformer
you can do any operation that doesn't
you can do any operation that doesn't
depend on the
depend on the
position you can Max you can mean
position you can Max you can mean
usually Max is a good one though like
usually Max is a good one though like
you could do FC re FC Re Max if you
you could do FC re FC Re Max if you
wanted
wanted
to that seems pretty deep though like
to that seems pretty deep though like
okay then just do FC Re Max or just FC
okay then just do FC Re Max or just FC
Max there okay
Max there okay
right so encode it and then Max that
right so encode it and then Max that
okay and the encoding should not be two
okay and the encoding should not be two
dimensional right so this goes to like
dimensional right so this goes to like
64 dim or something so it can actually
64 dim or something so it can actually
store data for multiple points if it
store data for multiple points if it
wants yeah right and it can decide like
wants yeah right and it can decide like
okay I'm going to use this part of this
okay I'm going to use this part of this
space for stuff that's really nearby I'm
space for stuff that's really nearby I'm
going to use this part of this space for
going to use this part of this space for
stuff that's like kind of nearby right
stuff that's like kind of nearby right
it can learn all that it can't learn
it can learn all that it can't learn
that from the representation you have
that from the representation you have
now it's really hard okay so that's just
now it's really hard okay so that's just
a pure architecture thing you don't have
a pure architecture thing you don't have
to change your code at all for that the
to change your code at all for that the
N
N
code um that's worth playing with this
code um that's worth playing with this
is in GPU Drive policy as well can you
is in GPU Drive policy as well can you
make a comment in policy just so I kind
make a comment in policy just so I kind
of remember what you're
of remember what you're
saying where's the encoder
saying where's the encoder
just impul yeah where's the
just impul yeah where's the
projectile it's it's all the way at the
projectile it's it's all the way at the
bottom it's just it's just bundled into
bottom it's just it's just bundled into
continuous
OBS I could yeah remove it from that and
OBS I could yeah remove it from that and
then do something different with it
and you said I'll off to play around
and you said I'll off to play around
like should I should it be like FC reu
like should I should it be like FC reu
Max or FC Max probably probably just FC
Max or FC Max probably probably just FC
Max is good enough okay FC Max and then
Max is good enough okay FC Max and then
C and then pass them into the file
C and then pass them into the file
encoder yep and it'll be shorter as well
encoder yep and it'll be shorter as well
because now it's only like 128 dim or
because now it's only like 128 dim or
whatever instead of
whatever instead of
um well it depends how many points you
um well it depends how many points you
have right
have right
but so
but so
right now I give it like the max number
right now I give it like the max number
of projectiles I will give it is like 30
of projectiles I will give it is like 30
um give it like a 64 dim embedding then
um give it like a 64 dim embedding then
it'll be about the same yeah wait
it'll be about the same yeah wait
embedding I thought oh well because is
embedding I thought oh well because is
embedding Oh I thought FC was just fully
embedding Oh I thought FC was just fully
connected later yeah that's fine you
connected later yeah that's fine you
that it's for continuous values it's the
that it's for continuous values it's the
same
thing literally just yes a linear
thing literally just yes a linear
layer okay so CU I is that layer what's
layer okay so CU I is that layer what's
that layer doing right it's projecting
that layer doing right it's projecting
two Dimensions to 64
two Dimensions to 64
Dimensions
Dimensions
continue okay same
continue okay same
thing so it wouldn't really make a
thing so it wouldn't really make a
difference if I used uh a linear layer
difference if I used uh a linear layer
or an embedding layer well embedding
or an embedding layer well embedding
layers are for discrete data so no you
layers are for discrete data so no you
use a linear layer that is the embedding
use a linear layer that is the embedding
yeah I see I see what you're saying it's
yeah I see I see what you're saying it's
the same like concept over continuous
the same like concept over continuous
exactly it's getting your data to a
exactly it's getting your data to a
larger number of dimensions that's an
larger number of dimensions that's an
embedding okay got larger or smaller
embedding okay got larger or smaller
right either way it's embedding
right either way it's embedding
um compute enemy drone
observations yeah enemy drone is a
observations yeah enemy drone is a
little misleading now that once I added
little misleading now that once I added
teams but I don't know you don't have
teams but I don't know you don't have
entity encodings over this either right
entity encodings over this either right
uh no yeah so that's going to screw you
uh no yeah so that's going to screw you
as
as
[Music]
[Music]
well that makes a lot of sense yeah of
well that makes a lot of sense yeah of
course your I'm surprised you get your
course your I'm surprised you get your
policy doing that much
policy doing that much
right I didn't I didn't look at this
right I didn't I didn't look at this
closely enough when I was reviewing CU
closely enough when I was reviewing CU
like this is kind of complicated so I
like this is kind of complicated so I
didn't really realize that you weren't
didn't really realize that you weren't
uh cuz it's literally the difference of
uh cuz it's literally the difference of
a reshape before doing your Ops right
a reshape before doing your Ops right
it's like a very small code change to
it's like a very small code change to
miss oh this is also in continuous
miss oh this is also in continuous
observations
observations
projectiles um enemy drones and then the
projectiles um enemy drones and then the
agent drone is all in there
there I mean this is the same concept of
there I mean this is the same concept of
a con if you think about it right why do
a con if you think about it right why do
we not just pass images into linear
we not just pass images into linear
layers versus cons right it's because we
layers versus cons right it's because we
reuse those patches across the whole
reuse those patches across the whole
image right it's literally the same
image right it's literally the same
thing so what you're doing now is the
thing so what you're doing now is the
equivalent of trying to feed an image
equivalent of trying to feed an image
into a linear layer like pixel by
into a linear layer like pixel by
pixel oh to be fair though I don't know
pixel oh to be fair though I don't know
if this changes anything but the for
if this changes anything but the for
this like enemy drone observation the
this like enemy drone observation the
ordering will always be the same because
ordering will always be the same because
I do it based off the Drone index which
I do it based off the Drone index which
never changes so you're the
never changes so you're the
huh that would only make a difference if
huh that would only make a difference if
like you had the four drones playing
like you had the four drones playing
differently and you wanted to learn
differently and you wanted to learn
specifically different behaviors for
specifically different behaviors for
each of
them okay it could potentially be the
them okay it could potentially be the
case because they're if you're doing
case because they're if you're doing
teams there might be some that's on your
teams there might be some that's on your
team some not yeah you should have a
team some not yeah you should have a
value that's whether it's on your same
value that's whether it's on your same
team for the encoding I do yeah and then
team for the encoding I do yeah and then
it should learn that okay so but I still
it should learn that okay so but I still
need to do what you're talking about
need to do what you're talking about
like right okay yeah makeing sure yeah
like right okay yeah makeing sure yeah
but that's fine like that's not a data
but that's fine like that's not a data
side problem it's just architecture side
side problem it's just architecture side
you'll have like one reshape to make
you'll have like one reshape to make
sure that you do correctly but other
sure that you do correctly but other
than that you're fine yeah and I don't I
than that you're fine yeah and I don't I
shouldn't need to do anything with the
shouldn't need to do anything with the
agent with what like I do want it to
agent with what like I do want it to
learn the ordering of
that there's only one agent yeah exactly
that there's only one agent yeah exactly
so yeah that should be fine
so yeah that should be fine
yeah right yeah okay well like you don't
yeah right yeah okay well like you don't
need to you you're not going to encode
need to you you're not going to encode
each of these values separately right
each of these values separately right
yeah yeah that's what I'm just making
yeah yeah that's what I'm just making
sure it's for when you have like it's
sure it's for when you have like it's
it's an entity encoder right so it's
it's an entity encoder right so it's
when you have data that has multiple
when you have data that has multiple
channels or whatever that's going to be
channels or whatever that's going to be
presented in a specific
presented in a specific
order but order doesn't really matter
order but order doesn't really matter
yeah exactly that's the thing like if
yeah exactly that's the thing like if
you want if here if you want two things
you want if here if you want two things
if you want if you think that your
if you want if you think that your
observation is going to come in a
observation is going to come in a
different order depending on when you
different order depending on when you
get it but you the order shouldn't
get it but you the order shouldn't
matter then you use an entity encoder
matter then you use an entity encoder
okay what about the OBS when I give it
okay what about the OBS when I give it
like the N nearest walls like say the
like the N nearest walls like say the
four nearest walls and it's actually
four nearest walls and it's actually
sorted by like which order of closeness
sorted by like which order of closeness
should I do the same for that or that's
should I do the same for that or that's
fine because like no if you have it
fine because like no if you have it
sorted by order of closeness then that's
sorted by order of closeness then that's
the alternative to doing this that's
the alternative to doing this that's
what I thought you either sort it or you
what I thought you either sort it or you
do entity encoder okay right and I don't
do entity encoder okay right and I don't
know which one is going to be better by
know which one is going to be better by
the way I think in theory The Entity
the way I think in theory The Entity
encoder should be better but it might be
encoder should be better but it might be
kind of difficult to get it working
kind of difficult to get it working
quickly and
quickly and
efficiently yeah I do the n nearest
efficiently yeah I do the n nearest
walls because there's just too many
walls because there's just too many
walls in the map so I don't want to pass
walls in the map so I don't want to pass
those in observations it is mind you it
those in observations it is mind you it
is a very clean architecture if you have
is a very clean architecture if you have
everything expressible it's the same
everything expressible it's the same
entity type kind of um but the thing is
entity type kind of um but the thing is
if you get too many entities then you
if you get too many entities then you
kind of have to project into a pretty
kind of have to project into a pretty
high dimension so that you have enough
high dimension so that you have enough
room right to store all the information
room right to store all the information
and that can get slow so there are
and that can get slow so there are
reasons to do it there reasons to not do
reasons to do it there reasons to not do
it makes
it makes
sense
sense
okay um
okay um
next so I mean that's the review of the
next so I mean that's the review of the
OBS it looks
OBS it looks
like set up n
so yeah I have the option to basically
so yeah I have the option to basically
like pin one environment to always use
like pin one environment to always use
one map so you don't have to like deal
one map so you don't have to like deal
with tearing it down and setting it back
up I don't know why you have rendering
up I don't know why you have rendering
in
in
here rendering a separate API separate
here rendering a separate API separate
API call right what do you mean
API call right what do you mean
the way we usually do our MS is that
the way we usually do our MS is that
this n file has a render function that
this n file has a render function that
you can call separately to render the
you can call separately to render the
M oh okay well for some reason I thought
M oh okay well for some reason I thought
I saw some ocean ends that like the
I saw some ocean ends that like the
render wasn't being called or something
render wasn't being called or something
should be let me see well yeah it's not
should be let me see well yeah it's not
called from it's only called from the
called from it's only called from the
C python right render doesn't that's the
C python right render doesn't that's the
point it's that it's an it's an API that
point it's that it's an it's an API that
you call so here
go here's your policy yada yada
go here's your policy yada yada
demo look allocate reset make client
demo look allocate reset make client
separately it's not part of the M right
separately it's not part of the M right
client is not in the
client is not in the
m and then here's your
m and then here's your
step here's your render render is
step here's your render render is
separate from
separate from
Step oh I think the reason I did that
Step oh I think the reason I did that
kind of separately is because um there's
kind of separately is because um there's
certain things I I do when I know I'm
certain things I I do when I know I'm
rendering like there's certain like um
rendering like there's certain like um
those like triangles that get created
those like triangles that get created
those are physics objects but I
those are physics objects but I
obviously don't create them when
obviously don't create them when
training I only create them when I'm
training I only create them when I'm
rendering stuff like there's other
rendering stuff like there's other
things I do like handling you can't do
things I do like handling you can't do
it from the render
it from the render
Stu I just want to keep my rendering
Stu I just want to keep my rendering
code only render code oh see I want to
code only render code oh see I want to
have a clean separation like in the
have a clean separation like in the
render file it's only rendering that's
render file it's only rendering that's
all it does yeah okay that's a little
all it does yeah okay that's a little
trickier then because you're actually
trickier then because you're actually
adding physics objects it's annoying
adding physics objects it's annoying
yeah okay but yeah that is how we
yeah okay but yeah that is how we
usually have stuff set up um and by the
usually have stuff set up um and by the
way you do need to have the render and
way you do need to have the render and
step calls be separate because that's
step calls be separate because that's
just like that standard rla API stuff I
just like that standard rla API stuff I
mean you could call them um separately I
mean you could call them um separately I
guess it just right now just double
guess it just right now just double
render which you can't have a double
render which you can't have a double
render though the thing you need to be
render though the thing you need to be
able to have render mode enabled and
able to have render mode enabled and
then like step it and render when you
then like step it and render when you
want to um normally so but like you can
want to um normally so but like you can
still pass like a flag or whatever so
still pass like a flag or whatever so
that you can do do the things that you
that you can do do the things that you
need in step right you can still have
need in step right you can still have
like you can take render mode or
like you can take render mode or
something
something
um but yeah it does it needs to it that
um but yeah it does it needs to it that
does need to be
does need to be
separable
separable
anyways
anyways
so why does it need to be separable
so why does it need to be separable
though because like why do you need to
though because like why do you need to
be able to call it
be able to call it
separately because M's export step and
separately because M's export step and
render separately it's just the API that
render separately it's just the API that
everyone uses an
everyone uses an
RL like this is not just puffer this is
RL like this is not just puffer this is
like gymnasium it's it's everything I
like gymnasium it's it's everything I
know but I don't really understand like
know but I don't really understand like
why it's super
why it's super
necessary well there isn't there isn't a
necessary well there isn't there isn't a
reason for it right like you could have
reason for it right like you could have
equally well had it be that it like the
equally well had it be that it like the
API is that if you pass render mode true
API is that if you pass render mode true
then it always renders on step right
then it always renders on step right
yeah but that's not how they I do yeah
yeah but that's not how they I do yeah
that's not how they have it
that's not how they have it
um at the moment cuz like some render
um at the moment cuz like some render
functions right you can have it like
functions right you can have it like
return the pixel values or whatever and
return the pixel values or whatever and
you want to be able to get those at
you want to be able to get those at
certain times we don't do that but it's
certain times we don't do that but it's
still the same
still the same
API okay I mean I don't know I could
API okay I mean I don't know I could
restructure it to be like that but I'm
restructure it to be like that but I'm
not gonna I'm not going to block you on
not gonna I'm not going to block you on
merging for that but I think that it'll
merging for that but I think that it'll
probably cause some small things down
probably cause some small things down
the
the
line well I think what I do right now is
line well I think what I do right now is
if I render is true like I have a render
if I render is true like I have a render
function in Python but I'm
function in Python but I'm
Prett I can't remember either does
Prett I can't remember either does
nothing or does I don't know but I just
nothing or does I don't know but I just
don't really use it oh all
right yeah this is where I basically set
right yeah this is where I basically set
things like okay for training I'm going
things like okay for training I'm going
to lower like the Fidelity the physics
to lower like the Fidelity the physics
and the Brain Skip and if we're if we're
and the Brain Skip and if we're if we're
um yeah that kind of stuff
yeah I had to do some aligning because
yeah I had to do some aligning because
I'm doing like mixed um bites and floats
I'm doing like mixed um bites and floats
so if things aren't aligned like some
so if things aren't aligned like some
stuff freaks out
I thought size of struck gives you the
I thought size of struck gives you the
Align size does it
Align size does it
not uh size of just gives you the size
not uh size of just gives you the size
but that I need it to be aligned to the
but that I need it to be aligned to the
size of float which is normally four
size of float which is normally four
byes and it may or may not
be and some of well spef
be and some of well spef
are do stred memory well no I okay yeah
are do stred memory well no I okay yeah
I think strs do but I just have an array
I think strs do but I just have an array
of bites essentially for obser this is
of bites essentially for obser this is
for observations cool yeah yeah I
for observations cool yeah yeah I
actually I hit that before where like
actually I hit that before where like
sometimes the OBS itself is not aligned
sometimes the OBS itself is not aligned
you can run into issues exactly yeah you
you can run into issues exactly yeah you
can run into issues with that because
can run into issues with that because
when you put it to numpy stuff gets
when you put it to numpy stuff gets
offset weird yeah
offset weird yeah
exactly um specifically that's actually
exactly um specifically that's actually
a good point that might be an error that
a good point that might be an error that
we have in some puffer amps because I
we have in some puffer amps because I
didn't realize that until relatively
didn't realize that until relatively
recently well at least Le in my
recently well at least Le in my
experience if you if you don't have it
experience if you if you don't have it
aligned and stuff needs to be aligned
aligned and stuff needs to be aligned
then when you try to compile it'll like
then when you try to compile it'll like
scream at you huh okay so you should
scream at you huh okay so you should
probably know
probably know
okay in my case it's because when I was
okay in my case it's because when I was
using like nativized tensor to like
using like nativized tensor to like
convert like oh okay yeah yeah that's
convert like oh okay yeah yeah that's
exactly where I was hitting stuff yeah
exactly where I was hitting stuff yeah
some of the OBS are bites some of them
some of the OBS are bites some of them
are treated as floats and then it was
are treated as floats and then it was
like Hey this isn't aligned so yeah yeah
like Hey this isn't aligned so yeah yeah
it's a nightmare
yeah I use your map pathing stuff from
yeah I use your map pathing stuff from
uh MOA for the scripted agents which
uh MOA for the scripted agents which
it's pretty nifty right it's cool the
it's pretty nifty right it's cool the
way you did it it's not the best
way you did it it's not the best
pathfind for
pathfind for
environment but I don't I don't really
environment but I don't I don't really
want to implement like a star or
want to implement like a star or
something
something
so um well
so um well
it's the reason that I didn't do a star
it's the reason that I didn't do a star
is because you're Computing all paths
is because you're Computing all paths
anyways yeah no I'm just saying like
anyways yeah no I'm just saying like
it's not the best slower no I agree and
it's not the best slower no I agree and
that's why I took this compromise yes I
that's why I took this compromise yes I
it's not the best for like actual like
it's not the best for like actual like
uh competitiveness because they're locks
uh competitiveness because they're locks
to like tile base movements which isn't
to like tile base movements which isn't
like always optimal but um it's like
like always optimal but um it's like
good
good
enough
oh yeah fair I mean if you have um I
oh yeah fair I mean if you have um I
don't know if there's acceleration and
don't know if there's acceleration and
stuff it'll kind of curve the
stuff it'll kind of curve the
paths which is like kind of cool yeah
paths which is like kind of cool yeah
one thing I do need to figure out I just
one thing I do need to figure out I just
haven't yet right now my scripted agents
haven't yet right now my scripted agents
like don't take it to floating walls the
like don't take it to floating walls the
pathfinding and I haven't really thought
pathfinding and I haven't really thought
too much about how but they can't move
too much about how but they can't move
that's the
that's the
problem
problem
H you'd have to you have to special case
H you'd have to you have to special case
like if the path goes through a floating
like if the path goes through a floating
wall then you like do something simple
wall then you like do something simple
to get out of the way or something
to get out of the way or something
because at the moment yeah like the
because at the moment yeah like the
static pathfinding only yeah exactly oh
static pathfinding only yeah exactly oh
and that one also does not scale by the
and that one also does not scale by the
way that pathfinding algorithm does not
way that pathfinding algorithm does not
scale to um yeah BFS yeah yeah it does
scale to um yeah BFS yeah yeah it does
but but it only matters if you're like
but but it only matters if you're like
you could probably still do something
you could probably still do something
over like
over like
chunks I mean how big is your map and M
chunks I mean how big is your map and M
because that's pretty big and you do I
because that's pretty big and you do I
think it's one it's uh I think it's
think it's one it's uh I think it's
128 or
128 or
256 I think it's 12 but the thing is the
256 I think it's 12 but the thing is the
size is 128 * 128 * 12 * 128 I think
size is 128 * 128 * 12 * 128 I think
it's like a couple 100 Megs
it's like a couple 100 Megs
yeah yeah it was just the right Map size
yeah yeah it was just the right Map size
that we could do it yeah my my the
that we could do it yeah my my the
biggest map is right now is like 25 by
biggest map is right now is like 25 by
26 or something yeah okay so
why are these allocated
why are these allocated
separately
separately
H
H
what he Dr
what
what
see what are you talking about oh this
see what are you talking about oh this
is your vector thing mhm because it
is your vector thing mhm because it
allocates these dynamically you have to
allocates these dynamically you have to
destroy them
destroy them
individually mhm so if these were static
individually mhm so if these were static
it would just be free drone or free E
it would just be free drone or free E
drones what I'm doing when I'm
drones what I'm doing when I'm
destroying I'm I'm taking care of the
destroying I'm I'm taking care of the
Box 2D
Box 2D
stuff ah I see so I'm destroying the
stuff ah I see so I'm destroying the
physics objects and cleaning that up I
physics objects and cleaning that up I
see knowing that that actually has stuff
see knowing that that actually has stuff
that you deal okay that makes sense then
that you deal okay that makes sense then
so one thing what so I didn't H use to
so one thing what so I didn't H use to
do this you can just like destroy the
do this you can just like destroy the
whole world and if you destroy the world
whole world and if you destroy the world
it destroys everything in the world M
it destroys everything in the world M
but
but
one major optimization I had was um if
one major optimization I had was um if
I'm on the same map between rounds I
I'm on the same map between rounds I
like don't recreate the map and that
like don't recreate the map and that
required not destroying the world and
required not destroying the world and
then that required like destroying
then that required like destroying
everything and re you know what I mean
everything and re you know what I mean
so
yeah because it was it was slower to
yeah because it was it was slower to
destroy the entire world then like
destroy the entire world then like
recreate some stuff versus like
recreate some stuff versus like
destroying only what I don't what I need
destroying only what I don't what I need
to destroy I don't know I maybe I would
to destroy I don't know I maybe I would
do something like have this be in
do something like have this be in
entities or
entities or
something just make like entity array
something just make like entity array
that has all the entities and then e
that has all the entities and then e
cells is just like an offset into that
cells is just like an offset into that
or something I don't
knows well it makes it nice because like
knows well it makes it nice because like
I render each of these differently like
I render each of these differently like
I render projectiles drones whatever so
I render projectiles drones whatever so
when I'm like in the rendering
when I'm like in the rendering
I yeah well I would Pro well if you
I yeah well I would Pro well if you
wanted to do this so that you could have
wanted to do this so that you could have
the option of iterating over the whole
the option of iterating over the whole
like all the entities or over a specific
like all the entities or over a specific
type um you would have a big entities
type um you would have a big entities
array right and then you would have like
array right and then you would have like
e cells would just be a little struct
e cells would just be a little struct
that has the pointer to wherever cell
that has the pointer to wherever cell
starts in that entity array and then the
starts in that entity array and then the
number of cells that you actually
number of cells that you actually
have right yeah so I guess what I could
have right yeah so I guess what I could
do
do
too it's I don't really think it's worth
too it's I don't really think it's worth
doing but if I wanted to shrink like
doing but if I wanted to shrink like
clear m i could make another array of
clear m i could make another array of
all the entities because I have one like
all the entities because I have one like
generic entity struct that has like the
generic entity struct that has like the
type of the ENT entity and then like a
type of the ENT entity and then like a
void pointer to The Entity itself well
void pointer to The Entity itself well
that's what I saying yeah I could Loop
that's what I saying yeah I could Loop
over all of them and then switch over
over all of them and then switch over
like which destroy function I call but
like which destroy function I call but
like but if this is a dynamic array then
like but if this is a dynamic array then
it's not going to
it's not going to
work this would work with static
work this would work with static
arrays well what I was saying would work
arrays well what I was saying would work
with Dynamic I just don't really know if
with Dynamic I just don't really know if
it's worth doing
it's worth doing
would
would
it I don't know if it
would I don't see how that does I'm not
would I don't see how that does I'm not
sure we're talking about the same thing
okay okay here your actual freeze I
okay okay here your actual freeze I
see yeah I'm just that's actually
see yeah I'm just that's actually
deallocating the memory of the array
deallocating the memory of the array
when I'm removing I'm just basically
when I'm removing I'm just basically
setting the size to zero
above yeah so you end up with this
above yeah so you end up with this
either way the only thing that is that
either way the only thing that is that
if you had entities it would just be for
if you had entities it would just be for
entity and entities or whatever
yeah some reward shaping
weapon
weapon
force times weapon
force weapon Force
force weapon Force
squared
squared
yeah is that impulse or something like
yeah is that impulse or something like
what is weapon Force squ well weapon
what is weapon Force squ well weapon
force is right above it's the magnitude
force is right above it's the magnitude
that it's fired at first times this
that it's fired at first times this
inverse
inverse
Mass so what does this give
Mass so what does this give
you um
that basically gives you like the
that basically gives you like the
roughly like the impulse okay so it is
roughly like the impulse okay so it is
had yeah is impulse for is impulse for
had yeah is impulse for is impulse for
squared uh I mean multiplied by the shot
squared uh I mean multiplied by the shot
hit reward coefficient which I think
hit reward coefficient which I think
like scales it
like scales it
down newon
down newon
seconds so isn't this supposed to be
time Del a te or
time Del a te or
something I don't know the way like I
something I don't know the way like I
handle impulses in here is just I don't
handle impulses in here is just I don't
know I don't really think about like
know I don't really think about like
units or whatever it's just like well I
units or whatever it's just like well I
just don't know what squaring it getes
just don't know what squaring it getes
you like if this is a reasonable way to
you like if this is a reasonable way to
to scale this
to scale this
reward I don't I don't remember I was
reward I don't I don't remember I was
playing around with it until it seemed
playing around with it until it seemed
like decent
yeah and the compute hit strength gives
yeah and the compute hit strength gives
me so that's basically like scaling it
me so that's basically like scaling it
um I think what the idea was anyway so
um I think what the idea was anyway so
fire magnitude is like the impulse that
fire magnitude is like the impulse that
I or the magnitude of the impulse that I
I or the magnitude of the impulse that I
apply to it when I spawn the projectile
apply to it when I spawn the projectile
and then I'm multiplying it by its
and then I'm multiplying it by its
inverse Mass because I don't know that
inverse Mass because I don't know that
you know takes its mass into account and
you know takes its mass into account and
then um scaled force is like okay like
then um scaled force is like okay like
what's the I don't know I forget why I
what's the I don't know I forget why I
scaled it that way but I did like the
scaled it that way but I did like the
actual like initial force of the weapon
actual like initial force of the weapon
versus the amount the Dr like what
versus the amount the Dr like what
compute hit strength does is gives you
compute hit strength does is gives you
like it um I think if I remember
like it um I think if I remember
correctly gives you a float from zero to
correctly gives you a float from zero to
one and it's scaled um based on how far
one and it's scaled um based on how far
the Drone moved in the last step so like
the Drone moved in the last step so like
if you because you could hit a drone
if you because you could hit a drone
with a sniper and if you barely graze it
with a sniper and if you barely graze it
it's not going to move very much but if
it's not going to move very much but if
you H It Center Mass it's going to
you H It Center Mass it's going to
really move it so I reward them more if
really move it so I reward them more if
they move them more basically I see yeah
they move them more basically I see yeah
definitely checking to make sure that
definitely checking to make sure that
these are Saye as like one of the if
these are Saye as like one of the if
assuming that you have the data correct
assuming that you have the data correct
right like the M data and stuff is
right like the M data and stuff is
correct the next most important thing is
correct the next most important thing is
having the rewards be saying
yeah so here's a compute reward
yeah so here's a compute reward
function let's see how many components
function let's see how many components
you have
is there like a longer cool down if you
is there like a longer cool down if you
deplete all your energy
deplete all your energy
Yeah so basically I check that's like an
Yeah so basically I check that's like an
overheat mechanic type thing yeah
overheat mechanic type thing yeah
basically okay so they get rewarded for
basically okay so they get rewarded for
not fully depleting
not fully depleting
okay punished yeah I mean yeah okay
okay punished yeah I mean yeah okay
uh pick up
uh pick up
weapon they get a reward for picking up
weapon they get a reward for picking up
a
weapon yeah if they already held like a
weapon yeah if they already held like a
non
non
yeah okay normal shots and
yeah okay normal shots and
explosions
explosions
yep and then wait my
yep and then wait my
agents what's
agents what's
this so if I have like if all the
this so if I have like if all the
players our agents then I'll do like
players our agents then I'll do like
specific stuff for
specific stuff for
teams oh you're trying to like subtract
teams oh you're trying to like subtract
out
out
team well no like I was basically
team well no like I was basically
punishing them if they hit a teammate oh
punishing them if they hit a teammate oh
so there is friendly
so there is friendly
fire yeah okay because you can actually
fire yeah okay because you can actually
hit yourself and sometimes it's
hit yourself and sometimes it's
advantageous to hit yourself or yeah it
advantageous to hit yourself or yeah it
could be advantageous to hit a teammate
could be advantageous to hit a teammate
in very very rare circumstances like
in very very rare circumstances like
yeah but those mechanics always suck
yeah but those mechanics always suck
because people freaking control with
because people freaking control with
them so
them so
badly yeah but I mean if you just had
badly yeah but I mean if you just had
your shots pass through the player that
your shots pass through the player that
that'd be like totally different
that'd be like totally different
game man allowing
game man allowing
you it's kind of funny I guess it really
you it's kind of funny I guess it really
depends on the game but like allowing
depends on the game but like allowing
you to interact with your teammates is
you to interact with your teammates is
just one of the most tilting things ever
just one of the most tilting things ever
um yeah I like I know this from
um yeah I like I know this from
OverWatch it's like please delete life
OverWatch it's like please delete life
Weaver cuz he can pull you from he the
Weaver cuz he can pull you from he the
idea that he can pull you out of danger
idea that he can pull you out of danger
but he can also pull you out of a good
but he can also pull you out of a good
position into a really stupid position
position into a really stupid position
yeah and it's like why am I fighting my
yeah and it's like why am I fighting my
team it's like every single game that
team it's like every single game that
has this
has this
so yeah I mean I don't know that's yeah
so yeah I mean I don't know that's yeah
that's part of the game my opinion like
that's part of the game my opinion like
there's just shots flying on everywhere
there's just shots flying on everywhere
and sometimes you didn't mean for it to
and sometimes you didn't mean for it to
go to that place and it just happens
go to that place and it just happens
because you know you're shooting to move
because you know you're shooting to move
so you're not actually like aiming at
so you're not actually like aiming at
things a lot of times like so yeah part
things a lot of times like so yeah part
of the chaos yeah but this is how you
of the chaos yeah but this is how you
really like the one v9 mechanic
really like the one v9 mechanic
though yeah one v9 I just I just didn't
though yeah one v9 I just I just didn't
want agents like just mercilessly
want agents like just mercilessly
killing off their teammates any chance
killing off their teammates any chance
they got though
so what I might do no this is a good
so what I might do no this is a good
reward I'm not I'm not questioning the
reward I'm not I'm not questioning the
reward it's funny to have friendly F
reward it's funny to have friendly F
fire enabled at all but you can hit
fire enabled at all but you can hit
yourself anyway so I guess it makes
yourself anyway so I guess it makes
sense then yeah and I don't if you hit
sense then yeah and I don't if you hit
yourself I just don't do anything
yourself I just don't do anything
there's no reward
yeah I mean you could technically
yeah I mean you could technically
disable friendly fire if you wanted to
disable friendly fire if you wanted to
make it slightly less chaotic um and
make it slightly less chaotic um and
then you would color the
projectiles well see right now I color
projectiles well see right now I color
the projectiles based on the weapon
the projectiles based on the weapon
they're from so that' get
they're from so that' get
tricky because they have you give them
tricky because they have you give them
different you would give the weapons
different you would give the weapons
different projectile Sprites and then
different projectile Sprites and then
you would color those
you would color those
H yeah I could do that but the teams
H yeah I could do that but the teams
also should have more uniform coloration
also should have more uniform coloration
I would think I don't know if they need
I would think I don't know if they need
to be the same color well like it's like
to be the same color well like it's like
it's not like like green and blue versus
it's not like like green and blue versus
like red and purple or whatever is not
like red and purple or whatever is not
intuitive yeah I don't know I like the I
intuitive yeah I don't know I like the I
mean red versus blue is kind of a
mean red versus blue is kind of a
classic and we do it we do it for the
classic and we do it we do it for the
puffer Ms anyways
puffer Ms anyways
um so that's I that might be good for cl
um so that's I that might be good for cl
we can get to the renderer
we can get to the renderer
after that's I was thinking about that I
after that's I was thinking about that I
know like yeah we talk about the one
know like yeah we talk about the one
thing I do need want to add because I
thing I do need want to add because I
have not got teams training to work very
have not got teams training to work very
well and I think I know what so
well and I think I know what so
basically I don't have a reliable way to
basically I don't have a reliable way to
track kills yet when there are more than
track kills yet when there are more than
two players because it actually gets
two players because it actually gets
very challenging because it's not just
very challenging because it's not just
like oh who fired the shot that like got
like oh who fired the shot that like got
their heal to zero it was what for like
their heal to zero it was what for like
who was the owner or the parent that
who was the owner or the parent that
applied the force that most contributed
applied the force that most contributed
to their death you don't have because
to their death you don't have because
you don't even have health do you
you don't even have health do you
nope so yeah I gets it gets really
nope so yeah I gets it gets really
complicated because like I could shoot
complicated because like I could shoot
you with a sniper and then you could
you with a sniper and then you could
bounce off a wall and then die but then
bounce off a wall and then die but then
it's like okay but you're also moving
it's like okay but you're also moving
and you're also having recoil so I need
and you're also having recoil so I need
to track like okay at because there's
to track like okay at because there's
also like essentially FR friction but
also like essentially FR friction but
it's like top down so it's damping so
it's like top down so it's damping so
it's like okay I S do last projectile
it's like okay I S do last projectile
that hit you yeah but that can get
that hit you yeah but that can get
really cheap like that yeah no it's like
really cheap like that yeah no it's like
you just tickle somebody who's about to
you just tickle somebody who's about to
die yeah but it's
die yeah but it's
funny right yeah but I don't think it
funny right yeah but I don't think it
work well for learning is what I'm
work well for learning is what I'm
saying I mean do you think not because
saying I mean do you think not because
like yes technically if your teammate
like yes technically if your teammate
hits a good shot you're incentivized to
hits a good shot you're incentivized to
try to like tickle the opponent but
try to like tickle the opponent but
you're also incentivized to try to kill
you're also incentivized to try to kill
the enemy anyways so I don't know yeah
the enemy anyways so I don't know yeah
but sometimes it's pretty clear um for
but sometimes it's pretty clear um for
example like I could barely touch you
example like I could barely touch you
like really far from the red wall and
like really far from the red wall and
then you could kill yourself by like
then you could kill yourself by like
using the shotgun into the red wall and
using the shotgun into the red wall and
then I'd get rewarded for like not
then I'd get rewarded for like not
really doing anything
really doing anything
useful yeah there would have to be a
useful yeah there would have to be a
time delay so yeah it basic basically I
time delay so yeah it basic basically I
know what I need to do I just haven't
know what I need to do I just haven't
done it yet because I was also like
done it yet because I was also like
needing the box who the author to change
needing the box who the author to change
something for me so I could get some
something for me so I could get some
stuff and
yeah I mean the most of this is you get
yeah I mean the most of this is you get
a reward of one for
a reward of one for
winning yeah that's what I
winning yeah that's what I
do and in two Agent M which is normally
do and in two Agent M which is normally
what I do like we're one agent actually
what I do like we're one agent actually
One agent two players it's just if the
One agent two players it's just if the
other person dies you get rewarded like
other person dies you get rewarded like
I don't care if they kill themselves
I don't care if they kill themselves
like it's still good but yeah
like it's still good but yeah
well because you had to survive for that
well because you had to survive for that
long right
long right
exactly what I might do though once I
exactly what I might do though once I
can actually track kills is like give
can actually track kills is like give
you like partial award if they kill
you like partial award if they kill
themselves because like maybe you
themselves because like maybe you
contributed to like Mind Games to making
contributed to like Mind Games to making
them or you put them in a situation
them or you put them in a situation
where they like it was hard for them not
where they like it was hard for them not
to kill them themselves but like I give
to kill them themselves but like I give
you a better reward if you directly kill
you a better reward if you directly kill
them you can also just give your you can
them you can also just give your you can
just get a negative one reward for dying
just get a negative one reward for dying
and I think that handles
and I think that handles
everything yeah I've actually had i'
everything yeah I've actually had i'
I've given it like I've played around
I've given it like I've played around
with dying rewards and or punishments
with dying rewards and or punishments
and it's been I don't know they learn
and it's been I don't know they learn
it's been difficult for them to learn
it's been difficult for them to learn
from that from some
from that from some
reason
reason
interesting yeah I don't know
f i yeah I think right now I have death
f i yeah I think right now I have death
punishment set to like zero so I do add
punishment set to like zero so I do add
it but like doesn't do
it but like doesn't do
anything I I have to play around with it
anything I I have to play around with it
more
basically manual actions are going to be
basically manual actions are going to be
like uh either I think from the scripted
like uh either I think from the scripted
agent
agent
or um from like the human player compute
or um from like the human player compute
actions is basically just getting like
actions is basically just getting like
the neural network actions or like
the neural network actions or like
normalizing some stuff for everyone for
normalizing some stuff for everyone for
all the actions basically
is this supposed to be aim
is this supposed to be aim
yeah
yeah
oh yeah that's supposed to be
oh yeah that's supposed to be
aim I told you we're reviewing line by
line if I don't at least catch a couple
line if I don't at least catch a couple
you know single line bugs what am I
you know single line bugs what am I
doing IO the predicted um comment like
doing IO the predicted um comment like
this is a hack every time it just thinks
this is a hack every time it just thinks
it's a
hack this is super
hack this is super
Maven
yeah so it's
yeah so it's
move
aim binary shoot break and burst that's
aim binary shoot break and burst that's
a very reasonable little action space
yeah you could even combine them
yeah you could even combine them
you could combine these I think do you
you could combine these I think do you
need to be able to do these at the same
need to be able to do these at the same
time oh you do right yeah yeah okay you
time oh you do right yeah yeah okay you
need to be able to do this at the same
need to be able to do this at the same
time this is right click left click and
time this is right click left click and
yeah okay that's fine
then tan
then tan
HF yeah so that actually helped a ton
HF yeah so that actually helped a ton
with continuous continuous still wasn't
with continuous continuous still wasn't
great like as far as it learns but when
great like as far as it learns but when
I bound them by that instead of clipping
I bound them by that instead of clipping
it helped a
it helped a
lot is there a reason to not just do
lot is there a reason to not just do
this in the
this in the
policy
policy
uh something about like I can't
uh something about like I can't
remember um this is negative one was
remember um this is negative one was
Tage negative 1 to one or is it
Tage negative 1 to one or is it
unbounded no it's negative 1 to one yeah
unbounded no it's negative 1 to one yeah
okay so I could do it in the policy I
okay so I could do it in the policy I
just ended up doing it here oh I think
just ended up doing it here oh I think
because I also
because I also
hang on this is I'm confused because
hang on this is I'm confused because
isn't move aren't these discrete or are
isn't move aren't these discrete or are
these continuous no these are continuous
these continuous no these are continuous
you aim and move continuously but then
you aim and move continuously but then
these are oh no no so
these are oh no no so
above yeah that's that's if I'm doing
above yeah that's that's if I'm doing
multi uh like uh what's it called not
multi uh like uh what's it called not
multi hot yeah that's if I'm doing
multi hot yeah that's if I'm doing
multi- discreet but if I'm doing
multi- discreet but if I'm doing
continuous oh yeah then you just convert
continuous oh yeah then you just convert
them to um continuous anyways
them to um continuous anyways
right you should just if they're
right you should just if they're
multi-hot what you do is you should just
multi-hot what you do is you should just
convert them to be
continuous I think I have code for this
continuous I think I have code for this
in the Maze anth as well
in the Maze anth as well
okay I think I had this here because I
okay I think I had this here because I
also I treat um agent continuous actions
also I treat um agent continuous actions
the same as I treat controller actions
the same as I treat controller actions
because you know I just get continuous
because you know I just get continuous
inputs from the joysticks so it just
inputs from the joysticks so it just
lets me share some code basically okay
lets me share some code basically okay
you might want to just make the policy
you might want to just make the policy
had on continuous have a tan H and see
had on continuous have a tan H and see
if that
if that
helps um no so I was reading about that
helps um no so I was reading about that
if you do Tage like right after you get
if you do Tage like right after you get
the action that and i' I've tested not
the action that and i' I've tested not
extensively but I have tested it hurts
extensively but I have tested it hurts
Le because then what's going into the
Le because then what's going into the
experience buffer like altered whereas
experience buffer like altered whereas
like now I don't know we could do some
like now I don't know we could do some
research on or something but like the
research on or something but like the
reasoning I gave was like oh if you're
reasoning I gave was like oh if you're
kind of like modifying like you know
kind of like modifying like you know
what the policy's outputting and then
what the policy's outputting and then
it's kind of getting confused because
it's kind of getting confused because
it's training like not want it actually
it's training like not want it actually
outputed the thing is that likewise
outputed the thing is that likewise
right if it's outputting stuff outside
right if it's outputting stuff outside
of the range it's getting just it's
of the range it's getting just it's
getting like soft Clips down right now
getting like soft Clips down right now
MH so I mean the the what it would do is
MH so I mean the the what it would do is
if you did it in the policy yes it
if you did it in the policy yes it
changes learning Dynamics but then at
changes learning Dynamics but then at
least it would be uh it would be
least it would be uh it would be
outputting the actions that it's
outputting the actions that it's
actually
actually
taking so possible either way yeah okay
it just copied my previous
comment very
smart yeah I C movement to one just so
smart yeah I C movement to one just so
like someone can't cheat and tell me
like someone can't cheat and tell me
like I don't know I'm gonna like move
like I don't know I'm gonna like move
does have like X and
does have like X and
Y yeah it's just a v it say like a 2d
Y yeah it's just a v it say like a 2d
Vector
uh
um
um
consider doing heading and
consider doing heading and
magnitude X Y I think heading in
magnitude X Y I think heading in
magnitude might be easier to learn
magnitude might be easier to learn
it kind of
it kind of
depends so like heading right you can
depends so like heading right you can
turn in whatever direction oh I think I
turn in whatever direction oh I think I
tried
tried
that I think I actually tried that once
that I think I actually tried that once
and I have to try it again but I think I
and I have to try it again but I think I
Tri and it like learn at all interesting
Tri and it like learn at all interesting
yeah I'd have to try it again but
yeah I'd have to try it again but
yeah yeah well I I actually tried doing
yeah yeah well I I actually tried doing
that I think with aiming or something
that I think with aiming or something
actually let me think
actually let me think
yeah instead of just having output two
yeah instead of just having output two
values I think I just tried to have it
values I think I just tried to have it
output one value no that's what I did
output one value no that's what I did
for aiming instead of having it X output
for aiming instead of having it X output
like an X and A Y for aiming I tried to
like an X and A Y for aiming I tried to
have it output like one float which is
have it output like one float which is
basically like you know the angle like
basically like you know the angle like
zero say would be like straight up and
zero say would be like straight up and
then like 90 would be like to the right
then like 90 would be like to the right
or something like 180 be down but like
or something like 180 be down but like
it couldn't learn to aim like that at
it couldn't learn to aim like that at
all so I just kept it at XY
all so I just kept it at XY
I thought that'd be easier because
I thought that'd be easier because
that's one less thing to think about but
that's one less thing to think about but
not yeah but I've changed a lot since
not yeah but I've changed a lot since
then so maybe I'd redo
it nice
simple
simple
W that's good
is this the thing where like if you put
is this the thing where like if you put
the controller down the policy takes
the controller down the policy takes
over uh yeah right now I just I have it
over uh yeah right now I just I have it
like I think neurl and mo is the same
like I think neurl and mo is the same
way if you you can toggle control with
way if you you can toggle control with
control yeah that's the way that you do
control yeah that's the way that you do
it for M's where it's like obnoxious if
it for M's where it's like obnoxious if
you if it takes over immediately when
you if it takes over immediately when
you stop pressing something yeah because
you stop pressing something yeah because
holding shift while you're trying to do
holding shift while you're trying to do
all stuff would be annoying no no no
all stuff would be annoying no no no
that's it's that's for simpler Ms where
that's it's that's for simpler Ms where
you're just trying to test them yeah
yeah for
okay here's the big bad step
function how is the while loop part of
function how is the while loop part of
the if and
the if and
Def so that's jez wait and then is the
Def so that's jez wait and then is the
clothes gonna be part of it the clothes
clothes gonna be part of it the clothes
oh the closing
oh the closing
yeah
yeah
[Music]
[Music]
dude holy hell tell me how to do it
dude holy hell tell me how to do it
differently man because I don't normally
differently man because I don't normally
I can handle it sanely but if it's in
I can handle it sanely but if it's in
script and like I don't know how often
script and like I don't know how often
I'm being called so I have to like yeah
I'm being called so I have to like yeah
I have to if you go to that link it kind
I have to if you go to that link it kind
of explains hold
of explains hold
on hold on
then so basically yeah the way I
then so basically yeah the way I
understand it like normally I'm stepping
understand it like normally I'm stepping
the physics with a set time step like
the physics with a set time step like
say to make it simple like every half
say to make it simple like every half
second I'm stepping the physics and
second I'm stepping the physics and
telling the physics like you know
telling the physics like you know
simulate half a second in you know into
simulate half a second in you know into
the future or whatever but like um with
the future or whatever but like um with
inscrip in the like the browser is just
inscrip in the like the browser is just
calling the step function whenever it
calling the step function whenever it
feels like not on a set amount of time
feels like not on a set amount of time
like R will so you just you just need
like R will so you just you just need
this variable to not be a pre like be a
this variable to not be a pre like be a
pre-processor variable you need to have
pre-processor variable you need to have
this as a
this as a
variable um and then you'd be able to do
variable um and then you'd be able to do
it well because then all you would do is
it well because then all you would do is
then you would just say you know if M
then you would just say you know if M
Delta so you just have uh you know
Delta so you just have uh you know
double Delta time equals o.5 seconds or
double Delta time equals o.5 seconds or
whatever the default is if M scripton
whatever the default is if M scripton
Delta time equals this thing while
Delta time equals this thing while
accumulator is greater than equal Delta
accumulator is greater than equal Delta
time you do all your logic you know you
time you do all your logic you know you
just have the Y Loop it'll run once if
just have the Y Loop it'll run once if
you're not using M script in right and
you're not using M script in right and
then you don't need to have this crazy M
then you don't need to have this crazy M
scripton on a closing bracket as well I
scripton on a closing bracket as well I
mean the thing is though I need to call
mean the thing is though I need to call
like the inscript in specific like time
like the inscript in specific like time
functions which won't work normally so I
functions which won't work normally so I
have to like do something which aren't
have to like do something which aren't
defined
defined
normally yeah that that doesn't make
normally yeah that that doesn't make
sense if you're using GCC and script and
sense if you're using GCC and script and
get
get
now my God that is so yeah it's kind of
now my God that is so yeah it's kind of
necessary it's not that bad like
necessary it's not that bad like
functions that don't exist until
functions that don't exist until
you compile them like that well I mean
you compile them like that well I mean
it kind of makes sense right you're
it kind of makes sense right you're
using a different runtime and like Lipsy
using a different runtime and like Lipsy
doesn't have inscript and stuff but the
doesn't have inscript and stuff but the
script and runtime is inscript and stuff
script and runtime is inscript and stuff
like it's not ideal but I mean it is
like it's not ideal but I mean it is
what it is okay to be fair if you wanted
what it is okay to be fair if you wanted
to get rid of these you could still get
to get rid of these you could still get
rid of these macros it would be slightly
rid of these macros it would be slightly
more annoying all You' do is you'd have
more annoying all You' do is you'd have
you'd actually you'd have an M script in
you'd actually you'd have an M script in
[ __ ] file where it's just you do
[ __ ] file where it's just you do
this right and if it's not if end def M
this right and if it's not if end def M
scripton then you define these just you
scripton then you define these just you
just do like a like a header for these
just do like a like a header for these
right because they're not going to
right because they're not going to
actually get
actually get
called so you just Define them then you
called so you just Define them then you
could still do
it I guess but do you know what I'm
it I guess but do you know what I'm
saying kind of I I I know this is an
saying kind of I I I know this is an
ideal but I like this because this keeps
ideal but I like this because this keeps
like this this is all like like it's not
like this this is all like like it's not
a lot of logic and it keeps it all in
a lot of logic and it keeps it all in
the same place so it's easier to reason
the same place so it's easier to reason
about okay I'm scripting kind of
about okay I'm scripting kind of
gross normally you don't have to deal
gross normally you don't have to deal
with this but why do you need the M
with this but why do you need the M
script and get time instead of like you
script and get time instead of like you
can't use a system function I
can't use a system function I
guess yeah I don't think it's like
guess yeah I don't think it's like
defined or something it might be but I
defined or something it might be but I
just saw like all the script and stuff
just saw like all the script and stuff
recommending and using that so I just
recommending and using that so I just
was but Man web stuff is just answer I
was but Man web stuff is just answer I
think that's the conclusion I mean hey
think that's the conclusion I mean hey
this is a lot less cancer than writing
this is a lot less cancer than writing
this in JavaScript though yeah but like
this in JavaScript though yeah but like
can we just blame web web programmers
can we just blame web web programmers
for making their whole like causing all
for making their whole like causing all
their own problems and misery yeah fair
their own problems and misery yeah fair
enough just blame
them I mean like nothing that's like
them I mean like nothing that's like
nothing that nothing designed in the web
nothing that nothing designed in the web
makes any sense like at all it's like oh
makes any sense like at all it's like oh
web is so hard yeah it's hard because
web is so hard yeah it's hard because
you are all terrible programmers and you
you are all terrible programmers and you
made it hard yeah I'm not gonna argue
made it hard yeah I'm not gonna argue
with you there freaking just look at any
with you there freaking just look at any
modern web code and tell me that these
modern web code and tell me that these
are good
are good
programmers all
right but I try not to let their crap
right but I try not to let their crap
pollute you know just it bothers me
pollute you know just it bothers me
because it's like I hate when it's like
because it's like I hate when it's like
you have to pollute your nice code with
you have to pollute your nice code with
like their garbage
like their garbage
right to be fair it's it's like what
right to be fair it's it's like what
like 10 lines in like 1200 so it's
like 10 lines in like 1200 so it's
really not that bad is this not threaded
really not that bad is this not threaded
throughout a bunch of other
throughout a bunch of other
places no it's it's pretty much only
places no it's it's pretty much only
here there's a tiny bit in the render
here there's a tiny bit in the render
and there's like a tiny bit in the demo
and there's like a tiny bit in the demo
file because you know it's not in the
file because you know it's not in the
game file no okay that's probably
game file no okay that's probably
okayish
okayish
yeah nothing in the game logic is web
yeah nothing in the game logic is web
specific it's just the way like how
specific it's just the way like how
often I call physics and how I render
often I call physics and how I render
well yeah kind of specific to how I
well yeah kind of specific to how I
render
what is this
what is this
thing oh so you need um because of like
thing oh so you need um because of like
U well you don't need it but like uh it
U well you don't need it but like uh it
just makes like Auto pxd a little faster
just makes like Auto pxd a little faster
because they don't I was using um pragna
because they don't I was using um pragna
once pragma once but I guess autop pxd
once pragma once but I guess autop pxd
like doesn't support that so I just use
like doesn't support that so I just use
the classic header
the classic header
guards yeah you know what header guards
guards yeah you know what header guards
are right well this wouldn't be needed
are right well this wouldn't be needed
if it weren't also doing box 2D right
if it weren't also doing box 2D right
because it would just be fast
because it would just be fast
regardless are you talking about the
regardless are you talking about the
header guards at the
header guards at the
top yeah I mean if you just recompile
top yeah I mean if you just recompile
the whole thing every time it's what
the whole thing every time it's what
that's slow because of box 2D right this
that's slow because of box 2D right this
is like 7,000 lines of code it should be
is like 7,000 lines of code it should be
fast no well no no so the reason you
fast no well no no so the reason you
need you need something here you need
need you need something here you need
header guards or you need pragma once
header guards or you need pragma once
when you have multiple header files
when you have multiple header files
because they're getting included
because they're getting included
multiple places and when you include
multiple places and when you include
them they're getting expanded exped You
them they're getting expanded exped You
Know
Know
M huh yeah they're getting included
M huh yeah they're getting included
multiple yeah times so these this just
multiple yeah times so these this just
just ensures that they're only expanded
just ensures that they're only expanded
once you that you won't have
once you that you won't have
redefinitions why why are these even
redefinitions why why are these even
getting included multiple times like
getting included multiple times like
what game.
what game.
H so where wait so include n wait game
H so where wait so include n wait game
shouldn't include m m should include
shouldn't include m m should include
game
game
right I'm confused yeah when I had
right I'm confused yeah when I had
that you shouldn't need the you
that you shouldn't need the you
shouldn't need the header guard I
shouldn't need the header guard I
wouldn't think because each file should
wouldn't think because each file should
only get in be unless you have like
only get in be unless you have like
utils no I do kind of have like a utils
utils no I do kind of have like a utils
thing like types and like uh settings
thing like types and like uh settings
and what's this include game map
and what's this include game map
scripted agent settings and types I'm
scripted agent settings and types I'm
actually for the longest time I didn't
actually for the longest time I didn't
include m in game I don't remember why I
include m in game I don't remember why I
did that
see I get I get around this by I just
see I get I get around this by I just
have all this like game includes stuff
have all this like game includes stuff
right and then other thing includes game
right and then other thing includes game
and it's done yeah actually doesn't that
and it's done yeah actually doesn't that
still work here
still work here
what if you just include game. from m.h
what if you just include game. from m.h
doesn't it just
doesn't it just
work well I do that what do you mean
work well I do that what do you mean
without the
without the
guard cuz all this stuff is included in
guard cuz all this stuff is included in
game
game
right and they don't you don't need to
right and they don't you don't need to
include this this map or setting or type
include this this map or setting or type
here again because it's already in game
here again because it's already in game
yeah no you're right I just it just well
yeah no you're right I just it just well
you still need the guard just because I
you still need the guard just because I
don't know it gets tedious it's only if
don't know it gets tedious it's only if
there's stuff that's duplicated in the
there's stuff that's duplicated in the
includes yeah but it's just safer to
includes yeah but it's just safer to
always have the guard cuz it's like
always have the guard cuz it's like
three lines and then you don't have to
three lines and then you don't have to
worry about like things blowing up when
worry about like things blowing up when
you include multiple times it's just
you include multiple times it's just
good
practice I end up writing stuff in like
practice I end up writing stuff in like
two files or whatever so there's no
two files or whatever so there's no
guards because things can't be included
guards because things can't be included
in multiple places but sure yeah but I
in multiple places but sure yeah but I
mean like with the end of this like with
mean like with the end of this like with
a project of this size I wanted to
a project of this size I wanted to
separate things in separate files like
separate things in separate files like
could you imagine you can still you can
could you imagine you can still you can
still separate things into a separate
still separate things into a separate
file as long as they're not being
file as long as they're not being
included multiple like if you just have
included multiple like if you just have
game needs some like there's some stuff
game needs some like there's some stuff
you want to split out of game that is
you want to split out of game that is
only used by game you can still put that
only used by game you can still put that
in a separate file it won't get included
in a separate file it won't get included
multiple times right yeah but there are
multiple times right yeah but there are
multiple files that are included by
multiple files that are included by
multiple other files like yeah it's when
multiple other files like yeah it's when
you start having like library and utils
you start having like library and utils
and stuff like that and if you're trying
and stuff like that and if you're trying
to have shared stuff like that then yes
to have shared stuff like that then yes
right
right
um I tend to just not do
um I tend to just not do
that uh it's
that uh it's
fine it's it's totally fine it's I don't
fine it's it's totally fine it's I don't
know I just
know I just
like yeah doesn't doesn't matter matter
like yeah doesn't doesn't matter matter
it's like a minor point
it's like a minor point
of
preference to be fair this file is
preference to be fair this file is
already about the length of neural
already about the length of neural
MMO well there's a lot going
on okay
on okay
so couple prototypes
is it entity pause to cell
is it entity pause to cell
index so that's basically the main
index so that's basically the main
function discretizes like a continuous
function discretizes like a continuous
um position to like a
cell I could have multiplied by a half
cell I could have multiplied by a half
there I might change that I don't know
there I might change that I don't know
if the compiler would output anything
if the compiler would output anything
different but divides are slow I try to
different but divides are slow I try to
avoid dividing when I can I created that
avoid dividing when I can I created that
like really
like really
early the compiler is probably already
early the compiler is probably already
smart enough to do that though I
smart enough to do that though I
imagine most
likely yeah some sometimes things can
likely yeah some sometimes things can
get out of bounds like out of the map
get out of bounds like out of the map
pretty rar
pretty rar
um because like if something hits a
um because like if something hits a
drone and the Drone is going like
drone and the Drone is going like
incredibly fast it can like phase
incredibly fast it can like phase
through like tunnel through a wall
through like tunnel through a wall
because I don't set well wait this is a
because I don't set well wait this is a
funny way of doing bounce checks though
funny way of doing bounce checks though
well because box box 2D is basically
well because box box 2D is basically
handling the B it should be handling the
handling the B it should be handling the
bounds so if I ever get a cell that's
bounds so if I ever get a cell that's
like less than zero or like above the
like less than zero or like above the
max cell index I know it's out of bounds
this work for everything it does doesn't
this work for everything it does doesn't
it uh that's
cool I can only do this because box is
cool I can only do this because box is
handling everything else though this why
handling everything else though this why
doesn't this work
doesn't this work
otherwise well what do you well I mean
otherwise well what do you well I mean
no this could work I'm just saying you'd
no this could work I'm just saying you'd
have to do additional stuff if I wasn't
have to do additional stuff if I wasn't
using box CD I mean I think it normally
using box CD I mean I think it normally
the balance check is like you know z z
the balance check is like you know z z
and then like width and height
and then like width and height
right oh yeah yeah
right oh yeah yeah
cool way doing the bounce check okay
cool way doing the bounce check okay
yeah thanks yeah I don't mean collisions
yeah thanks yeah I don't mean collisions
I mean the map bounce check yeah yeah
I mean the map bounce check yeah yeah
this is a kind of a cool way of doing
this is a kind of a cool way of doing
the bounce check if you're already going
the bounce check if you're already going
to do
to do
thish I like
thish I like
that yeah this is just a little sanity
that yeah this is just a little sanity
check if like a drone goes out of bounds
check if like a drone goes out of bounds
I just kill it if other stuff goes out
I just kill it if other stuff goes out
of bounds I just despawn
of bounds I just despawn
it but I've never seen it h well I've
it but I've never seen it h well I've
almost never seen it happen in like
almost never seen it happen in like
regular play it only happens like in
regular play it only happens like in
training like
training like
randomly and it's not very
often it is actually a bug in box CD but
often it is actually a bug in box CD but
I haven't really been able to reproduce
I haven't really been able to reproduce
it enough for them to fix
it all right I'm be right back I'm going
it all right I'm be right back I'm going
to grab some more water uh in that case
to grab some more water uh in that case
give let's take a couple minutes I'd
give let's take a couple minutes I'd
like to heat up some oatmeal I haven't
like to heat up some oatmeal I haven't
eaten today just going to bring it back
eaten today just going to bring it back
up
up
here be right
back
e
e
e
e
e e
oops camera
froze
okay there
Captain apparently not
oatmeals not eating yet
today how the folks on YouTube and
today how the folks on YouTube and
twitch
doing we are
doing we are
through this depends how you count we
through this depends how you count we
did preliminary review of stuff and then
did preliminary review of stuff and then
we went through the main end file game
we went through the main end file game
file is larger but I think a lot of the
file is larger but I think a lot of the
parts of it will be quicker
parts of it will be quicker
probably be thorough
still Mike should not pick up me uh
still Mike should not pick up me uh
eating do let me know if it does so I
eating do let me know if it does so I
fix it I don't think it
should going be such a cool
should going be such a cool
environment and I have to do some of my
environment and I have to do some of my
own work on probably just the render
own work on probably just the render
Captain's done a great job with the way
Captain's done a great job with the way
it plays and
stuff now there's data architecture
stuff now there's data architecture
things to make it a lot bigger we'll see
things to make it a lot bigger we'll see
if I can find anything with the speed as
if I can find anything with the speed as
well but
well but
overall pretty darn good
the one thing we haven't seen
the one thing we haven't seen
yet is um the dynamic memory allocations
yet is um the dynamic memory allocations
and whether those are actually
needed my opinion thus far is that
needed my opinion thus far is that
they're probably just a
they're probably just a
crutch captain and
go he's still
go he's still
here just want to do
whatever good to take five anyways oh
whatever good to take five anyways oh
yeah by the way if anybody's looking for
yeah by the way if anybody's looking for
a project um this is Nathan's en it's
a project um this is Nathan's en it's
based on a popular MMO it's a really
based on a popular MMO it's a really
cool EnV it just needs to be cleaned up
cool EnV it just needs to be cleaned up
a little and uh have baselines thrown on
a little and uh have baselines thrown on
it cuz this is the only M that doesn't
it cuz this is the only M that doesn't
have um
have um
training and stuff going on it really
training and stuff going on it really
nice
ad there's also room to do stuff with
ad there's also room to do stuff with
like scripted AI in it as well for
opponents it's based
opponents it's based
on it's based on this
MMO up
well that kind of shows
well that kind of shows
you see it's like a tactical
game man I honestly shouldn't even be on
game man I honestly shouldn't even be on
this site
this site
because they have like full new graphics
because they have like full new graphics
and stuff and I have so many hours in
and stuff and I have so many hours in
that game uh from when I was younger
that game uh from when I was younger
that thing is like straight up heroin
that thing is like straight up heroin
cannot download that
cannot download that
ever but uh we can still do our out
ever but uh we can still do our out
based on
based on
today
e e
if anyone's looking for um ourl post dos
if anyone's looking for um ourl post dos
this
this
is you know probably one of the top
is you know probably one of the top
three places you could possibly
go okay get just grab some food as well
go okay get just grab some food as well
yeah ity get long I haven't I don't know
yeah ity get long I haven't I don't know
about you I haven't had time to eat
about you I haven't had time to eat
anything yet today so yeah I just a
anything yet today so yeah I just a
small
small
breakfast
breakfast
um yeah not too
much man my uh my wife is making a uh
much man my uh my wife is making a uh
something in the crock
something in the crock
poot and it is so completely full I uh
poot and it is so completely full I uh
didn't realize it I could tell the lid
didn't realize it I could tell the lid
was kind of like hovering off the
was kind of like hovering off the
crockpot a tiny bit so I try to push it
crockpot a tiny bit so I try to push it
down to make it just like sit like a
down to make it just like sit like a
couple millimeters and then it like and
couple millimeters and then it like and
then it spilled out a little bit CU it's
then it spilled out a little bit CU it's
so incredibly
so incredibly
full she has like a massive pork Putt in
full she has like a massive pork Putt in
there good food I'm here eating oatmeal
there good food I'm here eating oatmeal
with a dried blueberries thank you very
with a dried blueberries thank you very
much hey not
much hey not
bad it
bad it
works um okay
works um okay
lot of code der rival
lot of code der rival
so I think the two main things I'm going
so I think the two main things I'm going
to be looking for architecturally here
to be looking for architecturally here
is how you're using box 2D for the
is how you're using box 2D for the
physics du and then the smaller thing is
physics du and then the smaller thing is
why on Earth there are Dynamic arrays
why on Earth there are Dynamic arrays
and whether those are actually useful
and whether those are actually useful
um obviously the first one's way
bigger I think you could do without the
bigger I think you could do without the
dynamic arrays but well just about with
dynamic arrays but well just about with
can you do it and have it be just about
can you do it and have it be just about
as easy is my question I don't know I
as easy is my question I don't know I
know they give me a lot of developer
know they give me a lot of developer
economics and I don't really think
economics and I don't really think
there's much cost there's hardly any
there's much cost there's hardly any
cost performance-wise
cost performance-wise
and um as terms of like readability I
and um as terms of like readability I
don't really think It suffers hardly at
don't really think It suffers hardly at
all because everyone knows what vectors
all because everyone knows what vectors
are so personally I don't really see any
are so personally I don't really see any
downsides like I could do it but it
downsides like I could do it but it
would have made my life more difficult
would have made my life more difficult
we couldn't just paste the whole source
we couldn't just paste the whole source
of this onto the GPU anyways oh I asked
of this onto the GPU anyways oh I asked
Brennan about that by the way and he
Brennan about that by the way and he
said uh yes that does actually work and
said uh yes that does actually work and
he tried it for madona and yeah it's a
he tried it for madona and yeah it's a
good
good
Baseline oh like just compiling it into
Baseline oh like just compiling it into
a Kudo kernel or whatever literally just
a Kudo kernel or whatever literally just
past your code new Cuda Colonel it does
past your code new Cuda Colonel it does
work that's so cool yeah so I think we
work that's so cool yeah so I think we
might do that and we'll call it
might do that and we'll call it
Barracuda Baro yeah that's funny yeah
I also like how the um tentative names
I also like how the um tentative names
for puffer stuff there's no Rhyme or
for puffer stuff there's no Rhyme or
Reason like protein P30 like I don't
Reason like protein P30 like I don't
know it's just funny just protein is is
know it's just funny just protein is is
based on
based on
carbs um oh I guess that makes sense
carbs um oh I guess that makes sense
yeah yeah yeah P30 it's puffer proximal
yeah yeah yeah P30 it's puffer proximal
policy optimization we could also do I
mean okay what I'm saying is there's a
mean okay what I'm saying is there's a
reasoning for the name but they don't
reasoning for the name but they don't
fit it theme is what I meant a lot of
fit it theme is what I meant a lot of
stuff trying to theme everything around
stuff trying to theme everything around
like I don't know one thing I don't
like I don't know one thing I don't
think you need to I just think it's
think you need to I just think it's
funny that you're not that was fun uh
funny that you're not that was fun uh
you could also do ggae instead of GAE I
you could also do ggae instead of GAE I
heard that yeah that'd be fun well
heard that yeah that'd be fun well
technically our Contracting uh we
technically our Contracting uh we
puffer's technically two companies and
puffer's technically two companies and
the Contracting one is called puffer
the Contracting one is called puffer
GG yeah why is it called GG because I
GG yeah why is it called GG because I
was originally going to start it in just
was originally going to start it in just
doing games and then I decided to make
doing games and then I decided to make
it broader
it broader
[Music]
[Music]
you mean just do reinforcement for game
you mean just do reinforcement for game
devs or like what oh
devs or like what oh
okay
okay
gotcha yeah that's probably a good
call turns out
call turns out
um games industry is really hard to work
um games industry is really hard to work
with and there really not that many
with and there really not that many
companies that have money that want to
companies that have money that want to
do this stuff so you can do some stuff
do this stuff so you can do some stuff
with game companies but kind of dumb to
with game companies but kind of dumb to
make it the whole thing
make it the whole thing
yeah okay so this is just a back oh no
yeah okay so this is just a back oh no
this is not the call back this is the
this is not the call back this is the
call back here's the
bounds yeah AABB is basically a fancy
bounds yeah AABB is basically a fancy
word for like a box it's like you you
word for like a box it's like you you
pick like you make a box and then like
pick like you make a box and then like
what's in that box
what's in that box
basically there's more to it than that
basically there's more to it than that
if you're physics Savvy I imagine but
if you're physics Savvy I imagine but
that's the lamman terms it's stands for
that's the lamman terms it's stands for
axis aligned bounding
axis aligned bounding
box yeah I don't know
box yeah I don't know
okay yeah so this doesn't need to be a
okay yeah so this doesn't need to be a
struck but that's minor
struck but that's minor
whatever yeah I could I might change
whatever yeah I could I might change
that I know I had multiple I used to
that I know I had multiple I used to
have multiple stuff in this truck
so it's weird that it needs a call back
so it's weird that it needs a call back
just to do a bounce check
just to do a bounce check
well because you're doing a balance
well because you're doing a balance
check but then a lot of times you have
check but then a lot of times you have
custom logic as like okay this overlaps
custom logic as like okay this overlaps
but maybe I only want it to be true if
but maybe I only want it to be true if
like this or that thing is you know what
like this or that thing is you know what
I mean yeah it seems like should just be
I mean yeah it seems like should just be
a default but I guess you don't really
a default but I guess you don't really
have defaults see um well they do have
have defaults see um well they do have
like one or two of those because they
like one or two of those because they
have like you can do a ray cast and you
have like you can do a ray cast and you
they have like a ray cast with a call
they have like a ray cast with a call
back but they also have like just
back but they also have like just
raycast closest which I use which is
raycast closest which I use which is
just no call back so they do have a
just no call back so they do have a
little bit of
little bit of
that make distance proxy from
that make distance proxy from
tight yeah so that's that's a box 3D
tight yeah so that's that's a box 3D
thing when you are um doing like a shape
thing when you are um doing like a shape
distance check so like you can
distance check so like you can
get uh okay one sec my wife is call
me
for
for e
okay I'm gonna go and eat lunch my wife
okay I'm gonna go and eat lunch my wife
in a couple minutes but um we can review
in a couple minutes but um we can review
for a bit
for a bit
umay totally up to you we can yeah you
umay totally up to you we can yeah you
can hit up Spencer if you want I will
can hit up Spencer if you want I will
have some time like after but if you
have some time like after but if you
just want to do take the rest of day for
just want to do take the rest of day for
Spencer whatever right I don't think he
Spencer whatever right I don't think he
has that much to review it's a pretty
has that much to review it's a pretty
small
small
prototype okay so yeah I can do later in
prototype okay so yeah I can do later in
the day as well um I might do his review
the day as well um I might do his review
and then if you're back I'll just
and then if you're back I'll just
continue and if not then I'll probably
continue and if not then I'll probably
go to the gym and then I'll come back
go to the gym and then I'll come back
and
and
reval and I have my own gym so it's
reval and I have my own gym so it's
right here
right here
yeah that's
nice yeah I definitely need to be to
nice yeah I definitely need to be to
spend way more time on that it's tough
spend way more time on that it's tough
to get back um the amount of Fitness
to get back um the amount of Fitness
I've lost it's like it's tough to get it
I've lost it's like it's tough to get it
back but working on it
back but working on it
yeah
okay so yeah um when you do shape checks
okay so yeah um when you do shape checks
and or shape distance checks in box CD
and or shape distance checks in box CD
so normally you can take like so when
so normally you can take like so when
you have positions of entities that's
you have positions of entities that's
the position of their Center of mass but
the position of their Center of mass but
sometimes I want the position of the two
sometimes I want the position of the two
closest points you know like and that
closest points you know like and that
could be I don't know a couple different
could be I don't know a couple different
places so they have a function where it
places so they have a function where it
finds the two closest points but it
finds the two closest points but it
needs like this distance proxy type as
needs like this distance proxy type as
input so I just created this thing I
input so I just created this thing I
pass in like What entity type it is and
pass in like What entity type it is and
then like um you know
yeah it's very weird to me that this is
yeah it's very weird to me that this is
also a
also a
square the pickup
square the pickup
type I would think it would just be you
type I would think it would just be you
pass a radius so it's like you know this
pass a radius so it's like you know this
is a rough
is a rough
bounding no but it could be like a
bounding no but it could be like a
rectangle or
something well so box box CD has circles
something well so box box CD has circles
capsules polygons and other stuff so oh
capsules polygons and other stuff so oh
so this is how far you are to the
so this is how far you are to the
nearest point on this or what uh I don't
nearest point on this or what uh I don't
really know too much I just saw some
really know too much I just saw some
examples set it up correctly you don't
examples set it up correctly you don't
really have to worry about it too much I
really have to worry about it too much I
think it's something like that
think it's something like that
yeah yeah you give it a center then you
yeah yeah you give it a center then you
give it like your vertices basically I
give it like your vertices basically I
think that's what that
is and then that's just another helper
is and then that's just another helper
like you can either pass in the entity
like you can either pass in the entity
type or sometimes I have the entity but
type or sometimes I have the entity but
not the type so it's just actually get
not the type so it's just actually get
this gets used though
this gets used though
yeah they both get
used I don't know in this file but
used I don't know in this file but
somewhere used them both oh okay so this
somewhere used them both oh okay so this
function is not here just to get used by
function is not here just to get used by
this function no okay you don't use I
this function no okay you don't use I
don't see you doing stuff like that
don't see you doing stuff like that
generally either right yeah okay because
generally either right yeah okay because
that would be like over over
that would be like over over
functioning yeah no there's no reason
functioning yeah no there's no reason
yeah I think we're pretty much on the
yeah I think we're pretty much on the
same page with like a lot of the core
same page with like a lot of the core
stuff like the other stuff is like
stuff like the other stuff is like
smaller
smaller
nits
nits
um no I'm I'm generally pretty darn
um no I'm I'm generally pretty darn
happy with the how all this is
happy with the how all this is
um ultimately the differences in how I
um ultimately the differences in how I
would have done this are pretty darn
would have done this are pretty darn
minor other than like the core like RL
minor other than like the core like RL
data structures yeah and like how that's
data structures yeah and like how that's
informed
um I don't know static memory can be
um I don't know static memory can be
nice but whatever I think box 2D is
nice but whatever I think box 2D is
probably doing allocations under the
probably doing allocations under the
hood any anyways so it is but they have
hood any anyways so it is but they have
it pretty well optimized um they like
it pretty well optimized um they like
I'm trying to I bet you I could figure
I'm trying to I bet you I could figure
out how to do it without the static
out how to do it without the static
memory without the M memory allocations
memory without the M memory allocations
which would be cool but yeah like I said
which would be cool but yeah like I said
though profiling like it is like less
though profiling like it is like less
than 1% or maybe 1% so I didn't
than 1% or maybe 1% so I didn't
including their memory
including their memory
allocations uh their memory allocations
allocations uh their memory allocations
are less than mine and it's
are less than mine and it's
like they they pull memory so when you
like they they pull memory so when you
free and like yeah yeah and again like
free and like yeah yeah and again like
um DL Malik also pulls under the hood I
um DL Malik also pulls under the hood I
just don't have to worry about it which
just don't have to worry about it which
is
nice oh it's good that we get we should
nice oh it's good that we get we should
just make sure we finish this this week
just make sure we finish this this week
um I'm probably going to end up having
um I'm probably going to end up having
to take a little bit of time off off
to take a little bit of time off off
next week with the [ __ ] yeah that
next week with the [ __ ] yeah that
makes sense yeah I mean I'll be free
makes sense yeah I mean I'll be free
some of I'll be free some of tomorrow
some of I'll be free some of tomorrow
and probably also Friday so like right
and probably also Friday so like right
we can probably you can probably get
we can probably you can probably get
through it because I mean I'm GNA want
through it because I mean I'm GNA want
to start like I'm at least going to play
to start like I'm at least going to play
with the renderer uh and I'm going to
with the renderer uh and I'm going to
want to start doing some experiments on
want to start doing some experiments on
this thing as well because I mean
this thing as well because I mean
directly after this we're going to
directly after this we're going to
onboard you to science side stuff um I
onboard you to science side stuff um I
don't know if I want to give you like a
don't know if I want to give you like a
simple initial research task
simple initial research task
or I want to like get you doing research
or I want to like get you doing research
around this end first we'll see but
around this end first we'll see but
either way I do want to get you on
either way I do want to get you on
boarded to that yeah I'm excited to
boarded to that yeah I'm excited to
start doing that yeah this is this is a
start doing that yeah this is this is a
big enough contribution um that like I'm
big enough contribution um that like I'm
pretty much comfortable putting you on
pretty much comfortable putting you on
whatever
cool yeah behind the wall is something I
cool yeah behind the wall is something I
did recently that wasn't like too tricky
did recently that wasn't like too tricky
but it used a couple different like box
but it used a couple different like box
2D
things because originally for the
things because originally for the
longest time I had like explosions
longest time I had like explosions
affect you like no matter where you were
affect you like no matter where you were
which didn't make sense if like someone
which didn't make sense if like someone
hit you know one side of like a static
hit you know one side of like a static
wall and then you were exploded behind
wall and then you were exploded behind
it so I have to do like a combination of
it so I have to do like a combination of
like bounding checks and also like Ray
like bounding checks and also like Ray
cast to make sure it's actually in line
cast to make sure it's actually in line
of sight and do you get when you profile
of sight and do you get when you profile
do you get like time spent in this
do you get like time spent in this
function or do you just get time in box
function or do you just get time in box
2D uh I get both but to be honest I
2D uh I get both but to be honest I
haven't profiled in a decent bit I need
haven't profiled in a decent bit I need
to profile again I would like if you
to profile again I would like if you
could because it would really it's
could because it would really it's
really tough for me to make comments on
really tough for me to make comments on
like the efficiency like it's worthless
like the efficiency like it's worthless
for me to say oh this could be slow if
for me to say oh this could be slow if
it's like
it's like
0.1% so I would like to have the table
0.1% so I would like to have the table
that says how much time is spent in each
that says how much time is spent in each
of these functions like in this file
of these functions like in this file
okay um so I can get a sense of like is
okay um so I can get a sense of like is
it the time is spent in box 2D or is it
it the time is spent in box 2D or is it
the way in which you're using box
the way in which you're using box
2D yeah right yeah I can rerun that
2D yeah right yeah I can rerun that
again like today it's not difficult I
again like today it's not difficult I
would like that would be good if so we
would like that would be good if so we
next time we chat so when I finish this
next time we chat so when I finish this
file we can do we can go through that
file we can do we can go through that
that makes sense because like I don't
that makes sense because like I don't
know you know this closest point thing
know you know this closest point thing
like do we need this point or can I just
like do we need this point or can I just
say like I don't know when this gets
say like I don't know when this gets
called if you actually need this this
called if you actually need this this
point or you can just do like L2 of like
point or you can just do like L2 of like
this enters
this enters
right um I'm trying to think I it
right um I'm trying to think I it
depends how you call this right I'm not
depends how you call this right I'm not
asking you like where do you call this
asking you like where do you call this
now I'm just saying in general right
now I'm just saying in general right
yeah like if this were a lot of the comp
yeah like if this were a lot of the comp
then I would look to how you use it yeah
then I would look to how you use it yeah
yeah that makes
yeah that makes
sense yeah I'll get you that to answer
sense yeah I'll get you that to answer
your question about that though I don't
your question about that though I don't
call closest point like a ton pretty
call closest point like a ton pretty
sure
sure
yeah I mean I like I believe that you
yeah I mean I like I believe that you
are that you are good at optimizing
are that you are good at optimizing
stuff right but you've also been working
stuff right but you've also been working
on a 7,000 line code base for a while
on a 7,000 line code base for a while
and fresh eyes are useful no 100% right
and fresh eyes are useful no 100% right
like the neural MMO 3 code is not
like the neural MMO 3 code is not
optimal by any means I guarantee you
optimal by any means I guarantee you
it's still what the difference is it's
it's still what the difference is it's
1.9 million steps per second already
1.9 million steps per second already
right it's not like
borderline it trains at 500k though
borderline it trains at 500k though
right uh yeah it trains around 500k
right uh yeah it trains around 500k
bottleneck by policy it's about a
bottleneck by policy it's about a
million parameter
million parameter
policy I don't know how big yours
policy I don't know how big yours
is uh I think it's almost a million I
is uh I think it's almost a million I
can't remember if it's 700 or 900k but
can't remember if it's 700 or 900k but
it's
close pause behind wall
is this if there's a wall in the
is this if there's a wall in the
way yeah so yeah so basically um this is
way yeah so yeah so basically um this is
like
like
a yeah exactly but I use I use like yeah
a yeah exactly but I use I use like yeah
if you go down you'll see like where if
if you go down you'll see like where if
you go down to the bottom of behind wall
you go down to the bottom of behind wall
yeah you'll see like where I do actually
yeah you'll see like where I do actually
do the ray cast yeah cast
Ray yeah the whole translation thing is
Ray yeah the whole translation thing is
kind of weird there's some math in there
kind of weird there's some math in there
I don't really totally understand but
I don't really totally understand but
there was enough examples that I figured
there was enough examples that I figured
out how to call it I'm not sure why you
out how to call it I'm not sure why you
need like a I mean I guess it makes
need like a I mean I guess it makes
sense it's like you give it the start
sense it's like you give it the start
and then like the vector of where the
and then like the vector of where the
ray being cast or something if I recall
ray being cast or something if I recall
when I was trying to get box and it was
when I was trying to get box and it was
driving me insane it wasn't necessarily
driving me insane it wasn't necessarily
core box 2D as much as it was trying to
core box 2D as much as it was trying to
figure out joints in box 2D that was
figure out joints in box 2D that was
just
just
[ __ ] um The Joint
[ __ ] um The Joint
sucked yeah so I used joints once so you
sucked yeah so I used joints once so you
didn't really see it too much but when I
didn't really see it too much but when I
you have mines and you know you attach
you have mines and you know you attach
them to walls or stuff they like stick
them to walls or stuff they like stick
so yeah I create a joint there to stick
so yeah I create a joint there to stick
them and yeah
them and yeah
that I don't know for whatever reason it
that I don't know for whatever reason it
took me like a really long time to
took me like a really long time to
figure out to need there I would have
figure out to need there I would have
just when it gets when it gets there
just when it gets when it gets there
it's it's locked in place when it
it's it's locked in place when it
hits yeah but I don't know I also want
hits yeah but I don't know I also want
it to attach to moving walls so like the
it to attach to moving walls so like the
floating walls so it just like you know
floating walls so it just like you know
yeah it's like yeah that's
yeah it's like yeah that's
funny um but yeah it ended up being
funny um but yeah it ended up being
weird like I'm pretty sure I found a bug
weird like I'm pretty sure I found a bug
but I kept like asking um Aaron C the
but I kept like asking um Aaron C the
Box 2D guy like I'm like am I insane
Box 2D guy like I'm like am I insane
like because I was setting like one like
like because I was setting like one like
ID to like shape a and then something
ID to like shape a and then something
the position like it's kind of hard to
the position like it's kind of hard to
explain unless I show you basically but
explain unless I show you basically but
I was like mismatching things and that's
I was like mismatching things and that's
how it was working and I'm like this
how it was working and I'm like this
does not make sense to me and he was
does not make sense to me and he was
like kind of not answering my questions
like kind of not answering my questions
I I don't know I kind of just got the
I I don't know I kind of just got the
sense that he was just kind of like done
sense that he was just kind of like done
because I I kept asking him tons of
because I I kept asking him tons of
stuff because I was not understanding
stuff because I was not understanding
why it wasn't working but I don't know
why it wasn't working but I don't know
I'll bring it up again at some point
I'll bring it up again at some point
though because I don't understand these
though because I don't understand these
are valid questions and like this is a
are valid questions and like this is a
big use case for this Pro for this um
big use case for this Pro for this um
yeah this code right I don't know I got
yeah this code right I don't know I got
the feeling he didn't really understand
the feeling he didn't really understand
like what I was saying I don't know if I
like what I was saying I don't know if I
was not understanding explaining myself
was not understanding explaining myself
correct like well enough but yeah
correct like well enough but yeah
something seems weird to me
something seems weird to me
like doing the wrong thing is what's
like doing the wrong thing is what's
working which is like really confusing
working which is like really confusing
so I don't know it works now though but
so I don't know it works now though but
yeah I'm still kind of confused why it
yeah I'm still kind of confused why it
works that's like the one case that I've
works that's like the one case that I've
actually been
actually been
like kind of is box D has actually given
like kind of is box D has actually given
me kind of trouble like yeah it's giving
me kind of trouble like yeah it's giving
trouble here and there joints are
trouble here and there joints are
very but like there's been other times
very but like there's been other times
where giv me trouble but it's like I
where giv me trouble but it's like I
just need to learn boxy learn physics
just need to learn boxy learn physics
learn whatever but this has been like
learn whatever but this has been like
legitimately just confusing but luckily
legitimately just confusing but luckily
it's a small thing I just let it be a
it's a small thing I just let it be a
bug for a long time because it wasn't a
bug for a long time because it wasn't a
big deal but yeah glad I finally fixed
big deal but yeah glad I finally fixed
that
that
thing I mean they don't even necessarily
thing I mean they don't even necessarily
have to Anchor to the floating things so
have to Anchor to the floating things so
it is cool yeah it that's that's the
it is cool yeah it that's that's the
thing like it was fine for a while but
thing like it was fine for a while but
now that I have working it is cool yeah
now that I have working it is cool yeah
cuz you can like you could so easily
cuz you can like you could so easily
just make it something slightly
just make it something slightly
different like for instance you can
different like for instance you can
easily add
easily add
um you could add a pseudo third axis to
um you could add a pseudo third axis to
the environment so easily just by making
the environment so easily just by making
it like expand and then like shrink as
it like expand and then like shrink as
it's flying so it's like it's coming up
it's flying so it's like it's coming up
and then coming down and just anchors in
and then coming down and just anchors in
place well I I get what you mean by the
place well I I get what you mean by the
pseudo third axis but I'm not sure what
pseudo third axis but I'm not sure what
you mean by well if you wanted it to
you mean by well if you wanted it to
make sense of like the thing just
make sense of like the thing just
sticking somewhere instead of sticking
sticking somewhere instead of sticking
to to a shape like having it anchored to
to to a shape like having it anchored to
the ground instead of anchor to a
shape yeah no you could do that yeah
shape yeah no you could do that yeah
yeah no you could do that but then like
yeah no you could do that but then like
would you lose then like I said like
would you lose then like I said like
sticking to floating walls and them
sticking to floating walls and them
spinning around and sticking to
it I it's still it is cool if it it
it I it's still it is cool if it it
works like that yeah it does
works like that yeah it does
now which you can do cool stuff with it
now which you can do cool stuff with it
cuz like you know if a mine hits a
cuz like you know if a mine hits a
player without it being stuck to
player without it being stuck to
something it basically does nothing it's
something it basically does nothing it's
like super weak but if it's stuck to a
like super weak but if it's stuck to a
wall then it goes off it's you know it's
wall then it goes off it's you know it's
it's
it's
explosive so you could like stick it to
explosive so you could like stick it to
a wall shoot the wall someone and then
a wall shoot the wall someone and then
you could I don't know you could do cool
you could I don't know you could do cool
stuff with it I love the
stuff with it I love the
mine there's so many easy weapons you
mine there's so many easy weapons you
could add as well like a pretty power
could add as well like a pretty power
like a pretty powerful weapon would just
like a pretty powerful weapon would just
be a thing that pushes stuff without
be a thing that pushes stuff without
pushing
pushing
you oh like a shock wave thing just push
you oh like a shock wave thing just push
PES stuff but doesn't push
PES stuff but doesn't push
you oh so like a no recoil weapon yeah
you oh so like a no recoil weapon yeah
well like it doesn't even have to shoot
well like it doesn't even have to shoot
anything right can just push whatever's
anything right can just push whatever's
in front of you but not push you
in front of you but not push you
back that sounds kind of op to be honest
back that sounds kind of op to be honest
yeah you get uh telekinesis
yeah you get uh telekinesis
right because the main the main thing
right because the main the main thing
about this game is like the stronger the
about this game is like the stronger the
weapon is usually the higher recoil it
weapon is usually the higher recoil it
has to like bounce it out yeah well this
has to like bounce it out yeah well this
doesn't shoot a projectile so the
doesn't shoot a projectile so the
trade-off is that you have to go find
trade-off is that you have to go find
something else to shoot back
something else to shoot back
right yeah but that's in a way that's
right yeah but that's in a way that's
even more op because normally if say you
even more op because normally if say you
have the sniper and I have a shotgun and
have the sniper and I have a shotgun and
you're far away normally I'd be screwed
you're far away normally I'd be screwed
right but I can if I time my shot very
right but I can if I time my shot very
well I
can yeah but still but I'm just saying
can yeah but still but I'm just saying
like there's no real counterplay there
like there's no real counterplay there
so here's what you do though right this
so here's what you do though right this
is how you do this okay so you run
is how you do this okay so you run
training you log win rates with
training you log win rates with
different weapons and then you see what
different weapons and then you see what
weapons people are winning with yeah
weapons people are winning with yeah
yeah and that's how you
yeah and that's how you
balance yeah that's how you Auto balance
balance yeah that's how you Auto balance
a game with RF I have I thought about
a game with RF I have I thought about
doing that like I said that's why I have
doing that like I said that's why I have
the stats per weapon I just haven't
the stats per weapon I just haven't
actually looked at the stats that
actually looked at the stats that
closely can that stuff I literally did
closely can that stuff I literally did
this while I was depping the Moa the Moa
this while I was depping the Moa the Moa
that's cool I was using that to Auto
that's cool I was using that to Auto
balance the Moa I was looking at you
balance the Moa I was looking at you
know how much damage each different
know how much damage each different
character was inflicting and how often
character was inflicting and how often
they were using different abilities and
they were using different abilities and
if they weren't using an ability it was
if they weren't using an ability it was
really bad and if they were spamming an
really bad and if they were spamming an
ability it was really good yeah no I
ability it was really good yeah no I
definitely do want to get into that
definitely do want to get into that
because that would be fascinating to me
because that would be fascinating to me
it's very cool yeah science side I have
it's very cool yeah science side I have
I have used that to some degree because
I have used that to some degree because
in the be well halfway through the
in the be well halfway through the
project when I added breaking I
project when I added breaking I
initially added like light and hard
initially added like light and hard
breaking and it's you know pretty
breaking and it's you know pretty
self-explanatory like you know Light
self-explanatory like you know Light
breaking didn't break as much used less
breaking didn't break as much used less
energy hard the opposite and then the
energy hard the opposite and then the
agents were always heartbreaking and I I
agents were always heartbreaking and I I
cranked I kept cranking up like the
cranked I kept cranking up like the
energy drain so it you could barely
energy drain so it you could barely
heart break but they kept still doing it
heart break but they kept still doing it
so I'm like okay there's no point to
so I'm like okay there's no point to
doing both if it's always better to just
doing both if it's always better to just
heartbreak so I just removed it yeah
heartbreak so I just removed it yeah
Power yeah so that was kind of
interesting CU like me playing I was
interesting CU like me playing I was
like oh I'm gonna like reserve
like oh I'm gonna like reserve
heartbreaking for when I really need it
heartbreaking for when I really need it
but they would just hard break like tap
but they would just hard break like tap
it but it was still good because it was
it but it was still good because it was
so strong so yeah
so strong so yeah
anyway all
right overlapping
right overlapping
Circle yeah this one's specific it's
Circle yeah this one's specific it's
like is this overlapping in a circle and
like is this overlapping in a circle and
is it in line of
site I use I think I only use this in
site I use I think I only use this in
one place I use this when I place a mine
one place I use this when I place a mine
when it's being placed is a drone
when it's being placed is a drone
already in its like explosion radius and
already in its like explosion radius and
if it is I just set it off because the
if it is I just set it off because the
way like sensors work in boxd because I
way like sensors work in boxd because I
use I use like a sensor to detect
use I use like a sensor to detect
normally if a drone gets into like its
normally if a drone gets into like its
range if 2D yeah they have sensors huh
range if 2D yeah they have sensors huh
doesn't seem like a thing that needs to
doesn't seem like a thing that needs to
be in a physics engine but sure it's
be in a physics engine but sure it's
useful um because anyway the way sensors
useful um because anyway the way sensors
work
work
um if you create a sensor and there's
um if you create a sensor and there's
already stuff that would set it off it
already stuff that would set it off it
doesn't create like an event so I have
doesn't create like an event so I have
to like do a check when I created like
to like do a check when I created like
okay is there already something here um
okay is there already something here um
okay yeah because otherwise I'd have to
okay yeah because otherwise I'd have to
do a world step which then it could go
do a world step which then it could go
out of range and it makes sense anyway
out of range and it makes sense anyway
to it's Avent okay I've never been a fan
to it's Avent okay I've never been a fan
of aventra well H for box 2D I think it
of aventra well H for box 2D I think it
makes sense well it always makes sense
makes sense well it always makes sense
right event Ren always makes sense the
right event Ren always makes sense the
question is is it
question is is it
good I don't know I like the way box to
good I don't know I like the way box to
does it hey how's it going oh hey
does it hey how's it going oh hey
Spencer how's it going um so you're G to
Spencer how's it going um so you're G to
go get lunch um I'm G to chat with
go get lunch um I'm G to chat with
Spencer and then uh depending on if
Spencer and then uh depending on if
you're back and I'm still chatting with
you're back and I'm still chatting with
Spencer or done or whatever or if I go
Spencer or done or whatever or if I go
to the gym we'll finish this or we'll
to the gym we'll finish this or we'll
keep going on this today and then we'll
keep going on this today and then we'll
see how far we get and I'll be around
see how far we get and I'll be around
you know rest of the week as well cool
you know rest of the week as well cool
yeah thanks for the stuff so far man
yeah thanks for the stuff so far man
it's been useful awesome hey no thanks
it's been useful awesome hey no thanks
this is a massive PR this is going to be
this is a massive PR this is going to be
an awesome new end and it's goingon to
an awesome new end and it's goingon to
open up the doors for some low five
open up the doors for some low five
physics stuff as well and I think we're
physics stuff as well and I think we're
g get some good research out of it as
g get some good research out of it as
well so it'll be fun yeah I'm looking
well so it'll be fun yeah I'm looking
forward that we're doing research on it
forward that we're doing research on it
for sure yeah we'll get you on boarded
for sure yeah we'll get you on boarded
as soon as we have that merged all right
as soon as we have that merged all right
thanks Captain cool yep see you bye all
thanks Captain cool yep see you bye all
right Spencer so we are still on stream
right Spencer so we are still on stream
by the way that's um okay yeah that's
by the way that's um okay yeah that's
fine want to look at the GPU Drive code
fine want to look at the GPU Drive code
or I guess it's I don't know buffer
or I guess it's I don't know buffer
Drive G CPU Drive yeah we can take a
Drive G CPU Drive yeah we can take a
look at the GPU puffer Drive puffer
look at the GPU puffer Drive puffer
Tokyo puffer Tokyo
Tokyo puffer Tokyo
puff let me just I'll link it in the in
puff let me just I'll link it in the in
the chat really
the chat really
one thing that I what I was trying to do
one thing that I what I was trying to do
is just kind of get a a training Loop
is just kind of get a a training Loop
going of you know some imaginary OBS of
going of you know some imaginary OBS of
what I think would be like roughly the
what I think would be like roughly the
size so I can get a good performance
size so I can get a good performance
check right mhm and for some reason man
check right mhm and for some reason man
like I
like I
am really having a hard time getting
am really having a hard time getting
this this I can't debug this one thing
this this I can't debug this one thing
it all right it's being very very weird
it all right it's being very very weird
it's like I'm passing all the OBS and I
it's like I'm passing all the OBS and I
see the actions are going
see the actions are going
through the log is coming through like
through the log is coming through like
everything is coming through I and I'm
everything is coming through I and I'm
just at this point I don't really
just at this point I don't really
understand why it's not going ahead and
understand why it's not going ahead and
going through training it like it's
going through training it like it's
stuck at the first one
stuck at the first one
and it seems like it's like taking like
and it seems like it's like taking like
forever either to get through the
forever either to get through the
network
network
or it it just stays stuck at like the
or it it just stays stuck at like the
first EPO it stays stuck at the first
first EPO it stays stuck at the first
Epoch yeah and it takes a while just to
Epoch yeah and it takes a while just to
even get there
too but what's weird is when I go inside
too but what's weird is when I go inside
the EnV and I like print out like things
the EnV and I like print out like things
inside of Step it's blasting through
inside of Step it's blasting through
stuff and like crunching and making test
stuff and like crunching and making test
on the
on the
end I've run test on the actual end and
end I've run test on the actual end and
we're in the million multi-million steps
we're in the million multi-million steps
per
second
second
okay um let's see what you have
okay um let's see what you have
here where's the
here where's the
network uh I just used I actually didn't
network uh I just used I actually didn't
even build a network for this
even build a network for this
one you use default yeah how big is
it it is
it it is
500k it's the input dimm
input dim
input dim
of I guess it' be based on total OBS so
of I guess it' be based on total OBS so
just side what's the OB size 3
3,000 when I made it 10,000 it went up
3,000 when I made it 10,000 it went up
to like 1.4 million so I just lowered it
to like 1.4 million so I just lowered it
I thinking that that was the problem but
I'm going to look at this for you then
um the latest one I have is in the GPU
um the latest one I have is in the GPU
Drive
Drive
Branch just it's gets stuck during the
Branch just it's gets stuck during the
backward path like during
backward path like during
training that's what yeah it's getting
training that's what yeah it's getting
stuck in
stuck in
training so I can if you want I can
training so I can if you want I can
share my screen and show you where it
share my screen and show you where it
stops I want to look at that but I also
stops I want to look at that but I also
want to look
at this is fine
all right let me just get rid of my
all right let me just get rid of my
break
break
point yeah I mean that's why I'm like
point yeah I mean that's why I'm like
tripping out as to like what's
tripping out as to like what's
happening okay let me on this as
well
okay where's the conf oh is this
okay where's the conf oh is this
conflicting with the config that we have
conflicting with the config that we have
no it is you have puffer GPU Drive
good okay I just my well we're gonna see
good okay I just my well we're gonna see
it first but I'm guessing it's going to
it first but I'm guessing it's going to
be lower
be lower
this oh I'm not looking at what's on
this oh I'm not looking at what's on
your screen let me pull up the stream I
your screen let me pull up the stream I
guess it's about to be your screen but
guess it's about to be your screen but
the mini bat size is probably too big
the mini bat size is probably too big
it's my
it's my
guess all right all right I just muted
guess all right all right I just muted
you on yours okay yeah
you on yours okay yeah
[Music]
so it gets here and then it takes like
so it gets here and then it takes like
30 seconds for it to get to the first
30 seconds for it to get to the first
one but if you print out things in Step
one but if you print out things in Step
it's like blasting through and and
it's like blasting through and and
sending
sending
things or you can how long does it take
things or you can how long does it take
to get through
to get through
eal I guess we'll see when we get
eal I guess we'll see when we get
through the first step we'll see when we
through the first step we'll see when we
get through the first one but I so far I
get through the first one but I so far I
have not I have never gotten it to
have not I have never gotten it to
actually show a step per second it just
actually show a step per second it just
shows the agent steps up to the first
shows the agent steps up to the first
batch which is the 130k it prints out
batch which is the 130k it prints out
the log of you know the returns and
the log of you know the returns and
lengths but it doesn't ever get to the
lengths but it doesn't ever get to the
next one I mean I've waited for like 30
minutes I'll us fix your problems
can you just change mini bat SI to
can you just change mini bat SI to
1024 1024 okay
mini batch 1024 or doesn't batch side
mini batch 1024 or doesn't batch side
leave it as
leave it as
is
okay also just check your system Ram
still slow
huh yeah I mean and then just it stays
huh yeah I mean and then just it stays
here for okay
5 oh it's killed it so you're not going
5 oh it's killed it so you're not going
to get
to get
anything oh okay yeah true it's
anything oh okay yeah true it's
fine that
fine that
20 that's fine okay
20 that's fine okay
so um let's go to
so um let's go to
eval just open up well yeah open up the
eval just open up well yeah open up the
file uh that one is in clean RL Yeah
file uh that one is in clean RL Yeah
clean puff
clean puff
RL okay I think that's in puffer and
RL okay I think that's in puffer and
then clean no it isn't clean puffer l
then clean no it isn't clean puffer l
oh just clean puff all
right what's a call
cleancore there we
go where
go where
EV
EV
well
e well here roll out no it's at the top
e well here roll out no it's at the top
at the top all right you can
at the top all right you can
just you can just like if you just slash
just you can just like if you just slash
and start typing it's
fine okay SL dep space eval and you'll
fine okay SL dep space eval and you'll
get to the
get to the
definition
definition
death there you go there we
death there you go there we
go so I just put a break point right
after I would just put like a break
after I would just put like a break
point um let say before the
point um let say before the
policy no no no not that not before the
policy no no no not that not before the
policy's called on the forward
policy's called on the forward
pass go down oh on the
Flor right
Flor right
there H is not
there H is not
none okay you want another break point
none okay you want another break point
somewhere else no it's fine all right I
somewhere else no it's fine all right I
will direct you
will direct you
here part of the goal of this is that
here part of the goal of this is that
you learn how to do this as
well okay so n is new line or next
line okay
line okay
again okay keep
again okay keep
going keep going
okay so so
okay so so
far
far
um that's probably enough okay that's
um that's probably enough okay that's
enough now let's go to the end of V
enough now let's go to the end of V
Val okay so pop out of this so just Q
Val okay so pop out of this so just Q
yeah
yeah
okay so move that break point to the top
okay so move that break point to the top
of EV and put another at the end of EV
of EV and put another at the end of EV
Val top of the function end of the
Val top of the function end of the
function likewise you could have just
function likewise you could have just
put it in the the train
put it in the the train
file you can put this here as
file you can put this here as
well okay go the end of evl you could
well okay go the end of evl you could
have likewise you know done it from
have likewise you know done it from
where it's called but doesn't
where it's called but doesn't
matter y before return
yep okay continue pop C or n this time
yep okay continue pop C or n this time
so c yeah
so c yeah
looks like it's getting stuck
okay now hit
C okay so train is
C okay so train is
instant uh it is bottom neck by the M it
instant uh it is bottom neck by the M it
seems we can just double
seems we can just double
check let's go put the break
check let's go put the break
point um right before step instead of
point um right before step instead of
before the
model all right pop these out
where it's before receive is
where it's before receive is
um is where the data is
um is where the data is
synced in this file yeah right there
synced in this file yeah right there
you're looking at it it's right
you're looking at it it's right
underneath the with profile that end
underneath the with profile that end
while not experienced at full data VM
while not experienced at full data VM
receive up up there right one line up oh
receive up up there right one line up oh
this okay so put a break
this okay so put a break
point one after
point one after
it doesn't need
it let's run
this okay hit
this okay hit
n Okay
n Okay
C oh [ __ ] all fine just press C yep see
C oh [ __ ] all fine just press C yep see
Okay
Okay
C see
keep
keep
going um what's o
shape why do you have five
shape why do you have five
agents because we're doing multiple
agents because we're doing multiple
cars why do you only have five
cars why do you only have five
agents because there's only five cars in
agents because there's only five cars in
the scene can you not make a bunch of
the scene can you not make a bunch of
and right now I only have one
and right now I only have one
end well what's going to happen if you
end well what's going to happen if you
only have one end
only one's going to get past and the
only one's going to get past and the
other four are not going to get do
other four are not going to get do
anything because I thought all five are
anything because I thought all five are
in that's fine it's not one and it's
in that's fine it's not one and it's
five is too small of a number you're
five is too small of a number you're
passing five things through a neural
passing five things through a neural
network okay at a time so in order to
network okay at a time so in order to
collect one batch of data you need to do
collect one batch of data you need to do
20 some odd thousand
20 some odd thousand
eval 20 some thousand
eval 20 some thousand
Loops this is not how gpus
work so you're basically you're spending
work so you're basically you're spending
all the time on Cuda cronel
all the time on Cuda cronel
launch there because it's just what
launch there because it's just what
waiting to collect right now effectively
waiting to collect right now effectively
no it's that you're well I mean unless
no it's that you're well I mean unless
we're wrong and all the time is in Step
we're wrong and all the time is in Step
probably what's happening is all the
probably what's happening is all the
time is in the policy because you're
time is in the policy because you're
running the policy on a tiny little
running the policy on a tiny little
batch of data MH
batch of data MH
so so if I just increase the number of M
so so if I just increase the number of M
can you make 100 m on the same just
can you make 100 m on the same just
process yeah I don't see any reason why
process yeah I don't see any reason why
I couldn't m
I couldn't m
m no that's separate oh that's that's
m no that's separate oh that's that's
going to do that's like the outside of
going to do that's like the outside of
all right this one yeah you can do it
all right this one yeah you can do it
there right you have it coded so that
there right you have it coded so that
you can do
you can do
that hopefully uh I believe so yeah I
that hopefully uh I believe so yeah I
can double check
can double check
but let's run this
but let's run this
yeah I have it in there okay so let's
yeah I have it in there okay so let's
run
this okay
this okay
continue
continue
continue okay it's fast cool so remove
continue okay it's fast cool so remove
that break point and let's run
training I don't know why it would be
training I don't know why it would be
slower by the way it would take half an
slower by the way it would take half an
hour that's
hour that's
weird well that was me just saying a
weird well that was me just saying a
number I've never actually seen it print
number I've never actually seen it print
out a steps per second like it never got
out a steps per second like it never got
there
there
mhm that was just me like that was the
mhm that was just me like that was the
max period I was willing to
wait okay was that the only break I
wait okay was that the only break I
don't think I had any other break points
all
oh well it got there quicker this time
oh well it got there quicker this time
yeah so now there's a separate bug it's
yeah so now there's a separate bug it's
hanging on receive would be my
guess would there be something that it
guess would there be something that it
could get stuck on in the
end
end
um I mean right now it's just all it's
um I mean right now it's just all it's
doing is just replaying trajectories and
doing is just replaying trajectories and
resetting every 91
steps so I mean does the very quickly I
steps so I mean does the very quickly I
mean we can quickly find out if it's
mean we can quickly find out if it's
going through everything by just
going through everything by just
printing the time stab
mhm well that's not going to tell you if
mhm well that's not going to tell you if
it's hanging on the policy or hanging on
it's hanging on the policy or hanging on
the
the
end well it'll tell us that if it if the
end well it'll tell us that if it if the
end is getting through all the way now
end is getting through all the way now
okay go for
it stuck in the e talk
too on what on wait do you have an M
too on what on wait do you have an M
where you're stuck as
where you're stuck as
well I just saw that
message go ahead and run it no okay
message go ahead and run it no okay
you're just making a joke
you're just making a joke
cool I mean it's it's blasting through
cool I mean it's it's blasting through
and getting to 90 let's see well I don't
and getting to 90 let's see well I don't
think you're getting the actual print
out is it stuck there or is that no I
out is it stuck there or is that no I
mean it just goes It goes back to one as
mean it just goes It goes back to one as
it's supposed
it's supposed
to because it just it resets the
to because it just it resets the
trajectory spawn point back to the
trajectory spawn point back to the
beginning is it still
beginning is it still
running no I I turned it off I mean this
running no I I turned it off I mean this
thing did like a
thing did like a
ton you printed too much to see where
ton you printed too much to see where
it's getting stuck
though well that's because it's doing it
though well that's because it's doing it
100 100
100 100
copies okay
copies okay
well print in the python or something
well print in the python or something
like you need to figure out if it's
like you need to figure out if it's
getting stuck in the end if it's getting
getting stuck in the end if it's getting
stuck in the
stuck in the
policy you just need to figure out where
policy you just need to figure out where
it's
hanging I mean take your choice right
hanging I mean take your choice right
this could be Pi piy this could be you
this could be Pi piy this could be you
know a couple print
know a couple print
statements take your
statements take your
choice oh it's python
now I mean at least now it won't be
now I mean at least now it won't be
blasting a trillion times we'll only see
blasting a trillion times we'll only see
it
it
y oh hold on I have to recompile
that's not useful information yeah it
is why is that not useful
is why is that not useful
information well to me it just shows
information well to me it just shows
that it's just like the en is it's
that it's just like the en is it's
continuously ticking it's not getting
continuously ticking it's not getting
hung anywhere on
hung anywhere on
stepping so it's continuously ticking
stepping so it's continuously ticking
but um we're not getting any
but um we're not getting any
data do you set
data do you set
mask well I only I only printed I didn't
mask well I only I only printed I didn't
like print anything else do you set mask
like print anything else do you set mask
do I set mask
do I set mask
M I don't believe I set mask
M I don't believe I set mask
anywhere you don't use mask at all in
here okay well something is weird
here okay well something is weird
because it's not getting any
because it's not getting any
data because if one thing I'd noticed
data because if one thing I'd noticed
whenever I put the break point in here
whenever I put the break point in here
it is getting to the
log so like this populates
it gets like it does the 91 steps where
it gets like it does the 91 steps where
it's supposed to and then adds its log
it's supposed to and then adds its log
at the end of
at the end of
it my suspicion is that for some
it my suspicion is that for some
reason I think you're looping this
reason I think you're looping this
you're continuing to Loop the step
you're continuing to Loop the step
function but you're not adding any data
function but you're not adding any data
to the
buffer let me go check but wouldn't it
buffer let me go check but wouldn't it
get added every time that this runs
get added every time that this runs
through
through
CU like this you're not because I mean
CU like this you're not because I mean
it's continuously increasing and
it's continuously increasing and
then you can print out um self agent
then you can print out um self agent
step or whatever you can print out like
step or whatever you can print out like
data. agent steps or whatever that the
data. agent steps or whatever that the
pram is called do that do that real
pram is called do that do that real
quick to see if that gets
quick to see if that gets
stuck all right what is it under CMS
stuck all right what is it under CMS
right no it's in uh it's include
right no it's in uh it's include
buffel data. experience do I think step
buffel data. experience do I think step
or agent steps
something
okay what branch is this off
okay what branch is this off
of
that oh I might have messed something up
that oh I might have messed something up
for you then hang on but is this this is
for you then hang on but is this this is
on One Core
on One Core
right this is on One Core I shouldn't be
right this is on One Core I shouldn't be
messed up
then defense date is set for May 29th
then defense date is set for May 29th
good luck
good luck
man that's
awesome yeah put in the time to prepare
awesome yeah put in the time to prepare
talk maybe the dev the time that I
talk maybe the dev the time that I
pulled this Dev is behind it was that a
pulled this Dev is behind it was that a
weird at Dev it could
weird at Dev it could
be because but I know it doesn't break
be because but I know it doesn't break
on the other multi um agent
MS so I think it has to be
MS so I think it has to be
mine so the indices
here does our rware runs fine
me just see what I what I do
here config m b do we have M batch
size what is this
size what is this
ocean we have n batch size of one
good let's go to the puffer uh clean
good let's go to the puffer uh clean
puffer L
code do you have agent steps or oh you
code do you have agent steps or oh you
have data Global step
have data Global step
right so let's just print data Global
right so let's just print data Global
step somewhere in the
step somewhere in the
eval okay let me go to the eval I just
eval okay let me go to the eval I just
want you to print Global step I want to
want you to print Global step I want to
see if that could stu oh hold up I just
see if that could stu oh hold up I just
deleted like a bunch of
[ __ ] all
[ __ ] all
[Music]
[Music]
right you say the what is the data
right you say the what is the data
Global step
okay moove my other break
what happened gum Ms
what happened gum Ms
gum I must have made a typo
gum I must have made a typo
somewhere up here
keep
keep
going keep going wait let me see global
going keep going wait let me see global
St is 600 what does that say it said
St is 600 what does that say it said
like 600,000 now
like 600,000 now
seven what's the Delta of
this it's what 131,000 each right
M trying to see where that one printed
M trying to see where that one printed
but I think I pressed C too many times
but I think I pressed C too many times
too quickly all see
too quickly all see
657 500
okay is it not printing out training
data what is that under data experience
data what is that under data experience
data Epoch I
think okay well that's
think okay well that's
weird uh hang on
can you print
experience. it's the same thing I
experience. it's the same thing I
guess
false and where did you put this you put
false and where did you put this you put
this on line
86 I put this
86 I put this
I think I put this at literally the very
I think I put this at literally the very
top of eval so
top of eval so
line I think I did line
line I think I did line
84 okay my lines are different let meble
84 okay my lines are different let meble
check but did you put this outside the
check but did you put this outside the
loop or inside the while loop
loop or inside the while loop
where I have to find
it I put this just at the very top of
it I put this just at the very top of
evaluate so evaluate is getting called
evaluate so evaluate is getting called
multiple
times right can you get rid of the other
times right can you get rid of the other
print statement that's like spamming us
print statement that's like spamming us
and just put that print right
and just put that print right
there
yeah actually if this is on a box I
yeah actually if this is on a box I
could even help just fiddle with it from
could even help just fiddle with it from
there this I'm I'm I'm in the Box okay
there this I'm I'm I'm in the Box okay
I'm I'm in box one okay well I'll let
I'm I'm in box one okay well I'll let
you okay what did you want to here a
you okay what did you want to here a
little bit more but then I maybe I'll
little bit more but then I maybe I'll
fiddle with it with you um so okay that
fiddle with it with you um so okay that
break point get rid of that and just
break point get rid of that and just
right there put print data
right there put print data
dot
dot
um what is it data. Global step comma
um what is it data. Global step comma
data.
Epoch okay and you got rid of the other
Epoch okay and you got rid of the other
spamy print yeah I got rid of the other
spamy print yeah I got rid of the other
one okay so run that
that okay kill
that okay kill
that so it's running
that so it's running
eval
repeatedly it's not oh wait you do have
repeatedly it's not oh wait you do have
oh you don't have stats there what the
oh you don't have stats there what the
hell
hell
I not have
I not have
stats there's I don't know that's why
stats there's I don't know that's why
I'm confused
by I'm gonna let me let me get to this
by I'm gonna let me let me get to this
box and try to help
box and try to help
you otherwi we going be here all
day I mean I can try and pull in Dev
day I mean I can try and pull in Dev
again to find out if I was on an older
again to find out if I was on an older
Dev
see okay I see your print
what's the train
what's the train
command puffer GPU Drive yeah that's
command puffer GPU Drive yeah that's
puffer GP yeah puffer GPU Drive
why do I get
stats and then it never goes back so I
stats and then it never goes back so I
do get
do get
stats but you get it for like one second
stats but you get it for like one second
and then the stat doesn't exist anymore
and then the stat doesn't exist anymore
I
know I understand
what in the
what in the
hell broke my freaking terminal
oh I are you talking about it when your
oh I are you talking about it when your
your text isn't
your text isn't
appearing it literally I have that
appearing it literally I have that
happen if you don't press Q out it when
happen if you don't press Q out it when
you're inside of that and you just
you're inside of that and you just
command C you shouldn't break your
command C you shouldn't break your
terminal stupid
you
she
there you
there you
go oh
what that looks like that runs now
what that looks like that runs now
doesn't it
mhm don't set 50,000 uh steps you set it
mhm don't set 50,000 uh steps you set it
for total time steps to 50,000
for total time steps to 50,000
so it was running the post training
so it was running the post training
evaluation for a very long
time so basically it it jumped beyond
time so basically it it jumped beyond
the length of the total time steps
the length of the total time steps
needed yeah it like it finished like it
needed yeah it like it finished like it
finished instantly after the first step
finished instantly after the first step
it finished instantly and then it got
it finished instantly and then it got
stuck running an eval Loop that's
stuck running an eval Loop that's
looking for a score metric forever which
looking for a score metric forever which
you don't have
let's fix some stuff for
you okay well let's I guess now let's
you okay well let's I guess now let's
see how how good it can get so it it it
see how how good it can get so it it it
has five right now agents so if you want
has five right now agents so if you want
I guess Max it out it be like at
I guess Max it out it be like at
800 yeah something like
800 yeah something like
this and then what num workers to and
this and then what num workers to and
then no we're not doing that yet there's
then no we're not doing that yet there's
I don't think you want to play with num
I don't think you want to play with num
workers 2 in the current Branch until I
workers 2 in the current Branch until I
fix some stuff um
fix some stuff um
um
um
okay well there you go that's
okay well there you go that's
300K okay 34%
miscellaneous oh but you don't have the
miscellaneous oh but you don't have the
latest version of Dev that has um the
latest version of Dev that has um the
better breakdown and the other and the
better breakdown and the other and the
new performance enhancements for that so
new performance enhancements for that so
I'm not worried
I'm not worried
there cuz I I fixed I made that
there cuz I I fixed I made that
substantially better that Miss
so yeah there's 300K just right out the
so yeah there's 300K just right out the
gate for
gate for
you and really it may even go to like
you and really it may even go to like
5600 MH if we just add more
5600 MH if we just add more
Ms well
Ms well
okay well I don't know maybe we'll find
okay well I don't know maybe we'll find
out I I think the max if you were to do
out I I think the max if you were to do
it is be 800 because that would be close
it is be 800 because that would be close
to
4096 it's about the same say oh all
4096 it's about the same say oh all
right never mind yeah so 40 it's that's
right never mind yeah so 40 it's that's
not a hard cap it's like if you have a
not a hard cap it's like if you have a
really small
really small
policy then um you maybe need that many
policy then um you maybe need that many
but this is probably
but this is probably
good so 300K on
this um oh there's 400 well yeah it's
this um oh there's 400 well yeah it's
more okay
more okay
385 um and there's 18% M time that we
385 um and there's 18% M time that we
can get rid of and then there's a bunch
can get rid of and then there's a bunch
of myth overhead we can get rid of you
of myth overhead we can get rid of you
don't even have the latest version
don't even have the latest version
that's way FAS
that's way FAS
faster okay so let me pull in the latest
version there's still a bunch of testing
version there's still a bunch of testing
[ __ ] on actually you might you might
[ __ ] on actually you might you might
have to like remake a container if you
have to like remake a container if you
don't want to comment no you can comment
don't want to comment no you can comment
my Cuda kernel stuff out I
guess where even is your Cuda kernel
guess where even is your Cuda kernel
stuff in the latest de oh maybe it's not
stuff in the latest de oh maybe it's not
in the latest of I don't know if I've
in the latest of I don't know if I've
merged it
merged it
yet you just pull that
yet you just pull that
all right let's see what
happens oh you made some changes to demo
happens oh you made some changes to demo
up high but that's irrelevant right
up high but that's irrelevant right
because all we ever actually changed was
because all we ever actually changed was
config file pretty much all right I'm
config file pretty much all right I'm
just going to stash that
then all right let's see how old of a
then all right let's see how old of a
Dev I
Dev I
had I mean I kind of want h on
optimizing well looks like pulling quite
optimizing well looks like pulling quite
a bunch of stuff
a bunch of stuff
yep all right and I guess you were
yep all right and I guess you were
working on the same container as me
working on the same container as me
right so I can just go ahead straight to
right so I can just go ahead straight to
train yep all right let's see what
train yep all right let's see what
happens C
happens C
Advantage uh where's
that you do have C Advantage don't
you you just have to rerun
you you just have to rerun
setup Ah that's probably what it is
juston well now I feel silly that my
juston well now I feel silly that my
entire thing was really just because I
entire thing was really just because I
put the stupid
config yeah about the
same hang
same hang
on why do you not have all of my new
metrics what
thought you should have my new metrics
thought you should have my new metrics
by
by
now do is your thing not synced with the
now do is your thing not synced with the
Upstream is your fork not synced oh that
Upstream is your fork not synced oh that
might be the
might be the
case let me look let me do that let me
case let me look let me do that let me
do that right
do that right
now that's 99% chance probably would
now that's 99% chance probably would
happen yeah and you're going to have to
happen yeah and you're going to have to
comment the Cuda [ __ ] I'm sure so there
comment the Cuda [ __ ] I'm sure so there
is Cuda stuff in there
is Cuda stuff in there
now okay let me sync the fork yeah it
now okay let me sync the fork yeah it
says I'm 12 commits
says I'm 12 commits
behind it's not going to let you use the
behind it's not going to let you use the
Cuda stuff until you redo your
Cuda stuff until you redo your
container I have okay where is you don't
container I have okay where is you don't
you don't want we don't want to redo
you don't want we don't want to redo
your container now no but I'm saying
your container now no but I'm saying
where's the Cuda stuff that you uh I
where's the Cuda stuff that you uh I
need to comment out
need to comment out
C okay Cuda load the
top there's a load function at the top
top there's a load function at the top
yep right at the top of your screen oh
yep right at the top of your screen oh
at the very beginning okay yeah yeah
at the very beginning okay yeah yeah
yeah
you can just do that comment that
you can just do that comment that
function wrong
language is it what's what's the big one
language is it what's what's the big one
is it the triple yeah uh single quote
is it the triple yeah uh single quote
triple single quote triple all
triple single quote triple all
right I haven't done that in a little I
right I haven't done that in a little I
feel like I've been writing in straight
feel like I've been writing in straight
C for so long C is good hey be glad
C for so long C is good hey be glad
you're not writing for
you're not writing for
Cuda fair enough all right so that's off
Cuda fair enough all right so that's off
let's reset
let's reset
up just paste your entire end indic Cuda
up just paste your entire end indic Cuda
and see if it
runs
okay by the way are we ever are we going
okay by the way are we ever are we going
to put a tower climb up on the web at
to put a tower climb up on the web at
some point or is that going to be with
some point or is that going to be with
all the other changes oh of course um we
all the other changes oh of course um we
can do it early if you want I was just
can do it early if you want I was just
gonna I was like I've been busy doing
gonna I was like I've been busy doing
the algorithm stuff I was just thinking
the algorithm stuff I was just thinking
like puffer 2.5 will include Tower climb
like puffer 2.5 will include Tower climb
impulse Wars sure that was what I was
impulse Wars sure that was what I was
thinking you were doing it didn't make a
thinking you were doing it didn't make a
big difference to me on timing I was
big difference to me on timing I was
just that was
just that was
confirming all right looks like it got
confirming all right looks like it got
another
60k 39%
copy is that how many M copies I'm doing
copy is that how many M copies I'm doing
did you kill it or something why is it
stuck did I kill it I don't think I
stuck did I kill it I don't think I
killed
it oh now it's at
500 does it get
stuck did you set the cap to just 5
stuck did you set the cap to just 5
million maybe I did just set it to 5
million maybe I did just set it to 5
million
maybe it gets stuck let's see it's at
maybe it gets stuck let's see it's at
five million okay so yeah just make that
five million okay so yeah just make that
larger you need to define a score or
larger you need to define a score or
something or you need to set the target
something or you need to set the target
metric to episode
metric to episode
return so
return so
500k and uh you can see right there
500k and uh you can see right there
you're missing most of your Computing
you're missing most of your Computing
copy what does that mean like that just
copy what does that mean like that just
means it's doing M copies or what so
means it's doing M copies or what so
you're okay so you can kill this okay
you're okay so you can kill this okay
all right now go to
all right now go to
uh open up Clint
puffero
puffero
and do not you also have VI on this box
and do not you also have VI on this box
I'm pretty sure by way but uh let's see
I'm pretty sure by way but uh let's see
then there's eval copy yeah right
then there's eval copy yeah right
there so there are a couple places where
there so there are a couple places where
that's
used there
where's evil cop
where's evil cop
called that's one right
there it's probably the main one right
there it's probably just copying the
there it's probably just copying the
OBS is but I don't know if we have
OBS is but I don't know if we have
really much control to speed that up no
really much control to speed that up no
I mean I mean Beyond if we just reduce
I mean I mean Beyond if we just reduce
the total size of them
I mean 3K is pretty damn
I mean 3K is pretty damn
big I think if we were to do purely off
big I think if we were to do purely off
of the total
of the total
entities I'm curious what it'll be
entities I'm curious what it'll be
because what I did is I just I just
because what I did is I just I just
populated fake data one time yeah so
populated fake data one time yeah so
play with that let's see let's see what
play with that let's see let's see what
happens if you just reduce
happens if you just reduce
that all right I have to make a change I
that all right I have to make a change I
think four times somewhere in here XS 3K
think four times somewhere in here XS 3K
all right so that's let's find out where
all right so that's let's find out where
the other 3K is populate fake data
the other 3K is populate fake data
where's the other
where's the other
3K yeah cuz that's how
3K yeah cuz that's how
many total entities are in the thing so
many total entities are in the thing so
you're making it larger yeah just to see
you're making it larger yeah just to see
okay yeah it'll be
okay yeah it'll be
slower and we can we can reduce it for
slower and we can we can reduce it for
the next experiment but I'm just curious
the next experiment but I'm just curious
because this would be like if we
because this would be like if we
literally looked at every single Road
literally looked at every single Road
segment yeah it's going to be way too
segment yeah it's going to be way too
much
all right then the other place I got to
all right then the other place I got to
do it
here and we can try and lower it to like
here and we can try and lower it to like
300 and see how that goes I will point
300 and see how that goes I will point
out though that it did get faster just
out though that it did get faster just
by bringing the the new branch in didn't
by bringing the the new branch in didn't
it yes it
it yes it
did by like 1.5 arguably not bad
it's nice to see immediate speed UPS
it's nice to see immediate speed UPS
from the puffer all right if we do
from the puffer all right if we do
10,000 entities in a 1.4 million model
10,000 entities in a 1.4 million model
it becomes
it becomes
140 yep and 45% copy 31% the end no time
140 yep and 45% copy 31% the end no time
spent actually learning
spent actually learning
anything and I guarantee you that end is
anything and I guarantee you that end is
really just m copying
really just m copying
10,000 times five times 50,000 times so
10,000 times five times 50,000 times so
make it 1,000 see what
make it 1,000 see what
happens any particular reason why you
happens any particular reason why you
didn't choose
didn't choose
Triton for what the why
Triton for what the why
didn't are you talking to okay yeah uh
didn't are you talking to okay yeah uh
for what this like one tiny little
for what this like one tiny little
kernel that I have what's the
kernel that I have what's the
point it's
point it's
like 50 lines of C
did I already do it does Tron take care
did I already do it does Tron take care
of giving you a CPU kernel as well that
of giving you a CPU kernel as well that
doesn't need
doesn't need
Cuda that's the one thing I'd have to
Cuda that's the one thing I'd have to
check though actually it's kind of
check though actually it's kind of
trivial to do CPU and Cuda versions
trivial to do CPU and Cuda versions
because uh you just share the core logic
because uh you just share the core logic
as a c function so you just make a c
as a c function so you just make a c
wrapper and a CA wrapper probably what
wrapper and a CA wrapper probably what
we'll do 650 now at a th000 you're still
we'll do 650 now at a th000 you're still
in 34%
in 34%
copy so the copy is still really high
copy so the copy is still really high
regardless of the size well no take it
regardless of the size well no take it
down to 100 and see what
down to 100 and see what
happens and if it's still slow then
happens and if it's still slow then
we'll ask
questions oh [ __ ] all
right yes I know this probably should be
right yes I know this probably should be
a constant but I just wasn't [ __ ]
a constant but I just wasn't [ __ ]
with it fine you missed one in
allocate all right did I get all of
them
yeah so do you really hate my uh my Vim
yeah so do you really hate my uh my Vim
color scheme or do you just really like
color scheme or do you just really like
your lead junglers
are you talking to me
are you talking to me
yeah I just haven't changed it man I
yeah I just haven't changed it man I
just haven't even used why so much it's
just haven't even used why so much it's
like you really like your league
like you really like your league
junglers or you just hate the color I
junglers or you just hate the color I
just like playing on hard
man
15% up to 900
15% up to 900
yeah so at least at the moment data size
yeah so at least at the moment data size
really does matter a
really does matter a
lot
lot
yeah
yeah
okay I didn't test to see
okay I didn't test to see
um you know what
um you know what
precisely that looks like
precisely that looks like
um I'm trying to think how we do
that you know techn Tech I think that
um well if it becomes a bottleneck right
um well if it becomes a bottleneck right
I think technically what I could do and
I think technically what I could do and
I think I would need to make a different
I think I would need to make a different
back end for this
back end for this
actually um but I think what I could do
actually um but I think what I could do
is I could have let's say you have this
is I could have let's say you have this
thing multiprocess right so have two
thing multiprocess right so have two
different M copies what I can do is
different M copies what I can do is
instead of having it uh put the tensor
instead of having it uh put the tensor
into the shared memory and numpy
into the shared memory and numpy
right and then just wait until you need
right and then just wait until you need
it it can put it asynchronously into GPU
it it can put it asynchronously into GPU
memory so it's already there when you
memory so it's already there when you
need
need
it I think I could do
that just like one time as just like as
that just like one time as just like as
it's happening or yeah so like if you
it's happening or yeah so like if you
have two different blocks of M's right
have two different blocks of M's right
two cors so basically in you wouldn't
two cors so basically in you wouldn't
need to do torch T like you wouldn't
need to do torch T like you wouldn't
need to call torch tensor on it at all
need to call torch tensor on it at all
because it would already be a tensor and
because it would already be a tensor and
the it would be asynchronously putting
the it would be asynchronously putting
it into GPU memory instead of
it into GPU memory instead of
asynchronously putting it into the main
asynchronously putting it into the main
thread CPU
thread CPU
memory so I think technically we do have
memory so I think technically we do have
Avenues of reducing this further so I'm
Avenues of reducing this further so I'm
not too too worried that said 3 to 10K
not too too worried that said 3 to 10K
is still I mean that's freaking large
is still I mean that's freaking large
regardless like your model is also going
regardless like your model is also going
to take a hit because you just have too
to take a hit because you just have too
many too much stuff in
it yeah I mean that's just what they had
it yeah I mean that's just what they had
right I mean they when they said they
right I mean they when they said they
were doing it they had 3,000 pretty much
were doing it they had 3,000 pretty much
is the average of their OB size and when
is the average of their OB size and when
they were doing their
they were doing their
runs I'd be surprised if they need that
runs I'd be surprised if they need that
much
much
data so I mean I mean regardless we
data so I mean I mean regardless we
already have it it was at 500k anyways
already have it it was at 500k anyways
yeah I mean it was at 500k what a
yeah I mean it was at 500k what a
thousand or what was it uh wasn't it
thousand or what was it uh wasn't it
3,000 it was a
3,000 it was a
500K I think it was 3,000 so I think
500K I think it was 3,000 so I think
regardless I think we still just crush
regardless I think we still just crush
it and this is the stupidest possible
it and this is the stupidest possible
implementation right
yeah I mean I mean I just have a pure
yeah I mean I mean I just have a pure
entity I mean I wouldn't say it's
entity I mean I wouldn't say it's
like put it this way it is right now
like put it this way it is right now
just basically populating entities in
just basically populating entities in
there and
there and
then it is assuming right now let's see
then it is assuming right now let's see
in compute OBS that it's mem
in compute OBS that it's mem
copying the entirety of the fake data
copying the entirety of the fake data
into for each agent in it in itself
into for each agent in it in itself
so it's running this n agent
so it's running this n agent
times well the only thing that's missing
times well the only thing that's missing
is it actually has to fill that data
is it actually has to fill that data
with something real
with something real
right yeah I only initialized it one
right yeah I only initialized it one
time in the beginning so arguably it
time in the beginning so arguably it
would need to change yeah so I mean
would need to change yeah so I mean
you'll need to get data to actually
you'll need to get data to actually
train it with
right yeah I mean I so that's that was
right yeah I mean I so that's that was
one thing that I was curious is like
one thing that I was curious is like
does do all the coordinates have to be
does do all the coordinates have to be
relative uh yes
relative uh yes
okay so that's something that would
okay so that's something that would
always have to be changed then so I mean
always have to be changed then so I mean
that
that
is no you cannot cash
is no you cannot cash
it okay so I mean if all the coordinates
it okay so I mean if all the coordinates
always have to be relative every step
always have to be relative every step
then I mean that that's going to add one
then I mean that that's going to add one
more call for however many times we need
more call for however many times we need
to do that oh yeah of
to do that oh yeah of
course the one weird memory trick I was
course the one weird memory trick I was
going to do was I was going
going to do was I was going
to well I guess does that work
it it's so that you can mem copy the
it it's so that you can mem copy the
most
possible I because once you change
possible I because once you change
the relative coordinates for the map I
the relative coordinates for the map I
was thinking you could have that
was thinking you could have that
actually be like a separate struct where
actually be like a separate struct where
they're all contiguous in
memory like something along
memory like something along
this separate from the entities array
this separate from the entities array
because entities array you run into an
because entities array you run into an
issue where
issue where
you'll um right now the values you're
you'll um right now the values you're
getting are these individuals the X
getting are these individuals the X
through
through
valid but you have all of these other
valid but you have all of these other
items in the struct that are breaking up
items in the struct that are breaking up
the contiguous
memory where if you put them
memory where if you put them
memory I mean it's it's slightly more
memory I mean it's it's slightly more
it's slightly more spread out like the
it's slightly more spread out like the
block is
block is
larger yeah the you you can get one full
larger yeah the you you can get one full
block if you if you split it out into
block if you if you split it out into
just like a map I don't know how data
just like a map I don't know how data
array I don't know how much that would
array I don't know how much that would
change it to be
change it to be
honest observation wait observation data
honest observation wait observation data
I'm confused because so this is not like
I'm confused because so this is not like
used at all this is not used this is a
used at all this is not used this is a
concept okay so let me look at this
concept okay so let me look at this
because the thing
because the thing
is you only have to compute the
is you only have to compute the
relativization when you're making the
relativization when you're making the
Ops
Ops
right you would only have to do it when
right you would only have to do it when
you're making the Ops correct so if you
you're making the Ops correct so if you
have this observation data struck then
have this observation data struck then
you have to compute it there and then
you have to compute it there and then
copy it from there to the OBS don't
you because this isn't the
OBS what I was well here's the thing
OBS what I was well here's the thing
with that right because then you have to
with that right because then you have to
assign it every single time individually
assign it every single time individually
and that's a slower operation wait wait
and that's a slower operation wait wait
I'm confused
I'm confused
so you
okay well we need to diagram some stuff
okay well we need to diagram some stuff
I guess let me think um wait how do I
I guess let me think um wait how do I
want to go through this so you
want to go through this so you
have right okay let's explain what we
have right okay let's explain what we
have right now right now it's just
have right now right now it's just
dumping fake data right like no nothing
dumping fake data right like no nothing
is actually in there let me let me get
is actually in there let me let me get
this thing open it's I've been reviewing
this thing open it's I've been reviewing
code for many hours and I need to
code for many hours and I need to
diagram this to even have any idea
diagram this to even have any idea
what's going on um so right now you have
what's going on um so right now you have
like entities right mhm
okay and they have parameters like X Y
okay and they have parameters like X Y
speed speed okay and blah blah blah you
speed speed okay and blah blah blah you
need to get OBS which is going to be a
need to get OBS which is going to be a
different size which
different size which
is like this is
is like this is
Agents
Agents
correct okay and then this is however
correct okay and then this is however
many OBS and you don't need all these
many OBS and you don't need all these
variables but you need like Delta X I
variables but you need like Delta X I
only need a perent of those variables
only need a perent of those variables
yeah Del
yeah Del
y okay but then you're proposing that
y okay but then you're proposing that
right here we put this intermediate
right here we put this intermediate
struct yeah an intermediate struct that
struct yeah an intermediate struct that
you can just mem copy directly into
OBS but you still have to compute this
OBS but you still have to compute this
every step
every step
right you have to compute it but it it
right you have to compute it but it it
will be quicker than assigning it I
will be quicker than assigning it I
think why would it how would it Poss be
think why would it how would it Poss be
quicker because you have to compute each
quicker because you have to compute each
element of this struct
separately
separately
right I don't so you're like you
right I don't so you're like you
basically doing Delta X Delta
basically doing Delta X Delta
y here and then you're copying this is
y here and then you're copying this is
just one extra copy versus doing it
just one extra copy versus doing it
directly here isn't
it I think mine only applies if you're
it I think mine only applies if you're
allowed to keep absolute coordinates yes
allowed to keep absolute coordinates yes
you definitely cannot absolute
coordinates okay then I think that idea
coordinates okay then I think that idea
falls apart because I think I was
falls apart because I think I was
assuming that the map could still be
assuming that the map could still be
absolute and then there could be some
absolute and then there could be some
small amount of relative items but I
small amount of relative items but I
didn't think everything has to be
didn't think everything has to be
relative and also the way that you have
relative and also the way that you have
it
it
here uh even if you wanted to do this
here uh even if you wanted to do this
this would not be float star this would
this would not be float star this would
have to be static
have to be static
array because then if you copied this
array because then if you copied this
you'd be copying pointers
no because you can point you can you can
no because you can point you can you can
you can mem copy to the start of that
you can mem copy to the start of that
pointer and separate M Copy right you'd
pointer and separate M Copy right you'd
have to M Copy Rel go like the size of
have to M Copy Rel go like the size of
this and then REM copy the size actually
this and then REM copy the size actually
you don't so so if you if you if you
you don't so so if you if you if you
were to mem copy observation data and
were to mem copy observation data and
you gave it the first memory Point based
you gave it the first memory Point based
on how C aligns the floats in the struct
on how C aligns the floats in the struct
it is contiguous and that as long as you
it is contiguous and that as long as you
know the size of what you're copying you
know the size of what you're copying you
could do two times the float size of how
could do two times the float size of how
many units are in there and it will get
many units are in there and it will get
you to the next one because you know all
you to the next one because you know all
of those are fixed
sizes so for example if R goal is size
sizes so for example if R goal is size
90 and R goal y was size 90 you can just
90 and R goal y was size 90 you can just
mem copy 180 and it'll get it'll get
mem copy 180 and it'll get it'll get
both I don't think that works because
both I don't think that works because
the float star that is just an 8 byte
the float star that is just an 8 byte
that's eight bytes there that's just the
that's eight bytes there that's just the
address and then real goal Y is another
address and then real goal Y is another
8 byte
address so you're copying addresses
address so you're copying addresses
you're not actually copying what's at
you're not actually copying what's at
the address
right here so in this I think you can
right here so in this I think you can
make it
make it
work what you've done here right so if
work what you've done here right so if
you do
like this is 16
like this is 16
bytes MH right you can't copy this thing
bytes MH right you can't copy this thing
this is not even and like these aren't X
this is not even and like these aren't X
and Y aren't even necessarily next to
and Y aren't even necessarily next to
each other in memory no but I think the
each other in memory no but I think the
point is in C struct land they are next
point is in C struct land they are next
to each other in memory no they aren't
to each other in memory no they aren't
this this struct is 16
bytes so if you copy this
bytes so if you copy this
struct you're just copying these
addresses what you would have to do is
addresses what you would have to do is
if you wanted it to work like this right
if you wanted it to work like this right
and there is a way that you can make
and there is a way that you can make
this work
this work
but what you'd have to do is you'd have
but what you'd have to do is you'd have
to
like you Malik these bites right and
like you Malik these bites right and
then you put this this address to here
then you put this this address to here
and this address to
and this address to
here correct correct and then then then
here correct correct and then then then
it would do it that way you still
it would do it that way you still
wouldn't be able to quite do it yet
wouldn't be able to quite do it yet
you'd also have to send this address I
believe you still couldn't copy the
believe you still couldn't copy the
struct because the struct still has
struct because the struct still has
these two 8 by addresses you have to
these two 8 by addresses you have to
copy this thing not the struct so in
copy this thing not the struct so in
that case you may as well not have a
that case you may as well not have a
struct you just have a flat
struct you just have a flat
array because the address there the well
array because the address there the well
the this this struct has its own address
the this this struct has its own address
right yeah which is not the same as so
right yeah which is not the same as so
if you copy the struct even if you do
if you copy the struct even if you do
this you're copying the addresses of
this you're copying the addresses of
this data you're not copying the
this data you're not copying the
data it doesn't like Cascade down and no
data it doesn't like Cascade down and no
to pull the data out of these pointers
to pull the data out of these pointers
M it's going to do a shallow copy
M it's going to do a shallow copy
essentially okay so the there are things
essentially okay so the there are things
that you can technically do there like
that you can technically do there like
um what I would do for instance is if
um what I would do for instance is if
you make this if you made this a static
you make this if you made this a static
let me think if you made
this I'm trying to think how I've done
this I'm trying to think how I've done
this
before I mean either way this concept
before I mean either way this concept
was only to be used if if we had
was only to be used if if we had
absolute coordinates anyways which we
absolute coordinates anyways which we
don't and it has to be relative and if
don't and it has to be relative and if
it has to be relative then we have to
it has to be relative then we have to
calculate every single time yeah we do
calculate every single time yeah we do
but I'm hoping we're not going to need
but I'm hoping we're not going to need
so many points as they
so many points as they
need yeah I mean that that the biggest
need yeah I mean that that the biggest
point right is like how many points is
point right is like how many points is
the minimum amount of observations do we
the minimum amount of observations do we
need to accomplish a reasonable
need to accomplish a reasonable
performance even with 3K it's still
performance even with 3K it's still
500 yeah I mean even with 3K we're at 00
500 yeah I mean even with 3K we're at 00
yeah and uh I mean that's obviously you
yeah and uh I mean that's obviously you
haven't added the logic to the end right
haven't added the logic to the end right
to compute that but there's also been no
to compute that but there's also been no
attempt whatsoever to optimize the end
attempt whatsoever to optimize the end
and like this um I mean I can I can do
and like this um I mean I can I can do
that a little bit like this relativized
that a little bit like this relativized
stuff like if we had to we should be
stuff like if we had to we should be
able to get this to simd as well because
able to get this to simd as well because
it's the same the relativization
it's the same the relativization
operation it's the same instruction
operation it's the same instruction
applied repeatedly to stuff in
applied repeatedly to stuff in
contiguous
contiguous
memory this may break cuz I haven't
memory this may break cuz I haven't
tested it fully but I did create I did
tested it fully but I did create I did
add the Dynamics movement for the
add the Dynamics movement for the
physics on one part is this a simulated
physics on one part is this a simulated
MMO RPG now this is GPU Drive which is a
MMO RPG now this is GPU Drive which is a
GPU accelerated driving Sim but if you
GPU accelerated driving Sim but if you
want a simulated MMO
want a simulated MMO
RPG on puffer AI there is neur mo3 which
RPG on puffer AI there is neur mo3 which
is this like big open world with economy
is this like big open world with economy
and trade and enemies and all sorts of
and trade and enemies and all sorts of
stuff um so we do have that too all
stuff um so we do have that too all
right when I add the phys one in at when
right when I add the phys one in at when
you have just 100 OBS it's still
you have just 100 OBS it's still
880 when you have 100 OBS it's
880 when you have 100 OBS it's
880 okay awesome and we still haven't
880 okay awesome and we still haven't
tried to optimize there's still like
tried to optimize there's still like
copy overhead and
copy overhead and
stuff yeah it still has the cop oh wait
stuff yeah it still has the cop oh wait
it just jumped to 1.6 million for some
it just jumped to 1.6 million for some
reason what what your di I
reason what what your di I
wonder I don't know what the front front
wonder I don't know what the front front
load dip is is it
load dip is is it
Frozen No it's it's pumping it's at 1.6
Frozen No it's it's pumping it's at 1.6
that's so weird um with uh yeah I mean
that's so weird um with uh yeah I mean
it should be you should be able to train
it should be you should be able to train
that fast well
then all right let's put it back at
then all right let's put it back at
3,000 because that number seems more
3,000 because that number seems more
possible Howes co-pilot send you to a
possible Howes co-pilot send you to a
stream it's funny somebody said that
stream it's funny somebody said that
they found me with co-pilot
I think I have it one more place oh up
I think I have it one more place oh up
here welcome YouTube folks I really need
here welcome YouTube folks I really need
to make this like an actual constant
variable I mean but like regardless this
variable I mean but like regardless this
thing you you can see like the potential
thing you you can see like the potential
here that this thing can just be made to
here that this thing can just be made to
be fast end of story right yeah I mean
be fast end of story right yeah I mean
regardless it's it's already with what
regardless it's it's already with what
I've set up so far they're currently I
I've set up so far they're currently I
think it's already a 10x Improvement yes
think it's already a 10x Improvement yes
they're currently training at like 50k
they're currently training at like 50k
tops so yeah so men we already have 10x
tops so yeah so men we already have 10x
right so I mean they're more scenes to
right so I mean they're more scenes to
load in and stuff but yeah all right so
load in and stuff but yeah all right so
I just I just put it at uh 3,000
I just I just put it at uh 3,000
again still let's see if
again still let's see if
itum
optimed I me I think that if we really
optimed I me I think that if we really
had to I could come up with some
had to I could come up with some
fancy fancy copy
stuff yeah for reason I don't know why
stuff yeah for reason I don't know why
it lowers but who
it lowers but who
knows anyways 400 to 500 with the
knows anyways 400 to 500 with the
Dynamics calculation in there I think is
Dynamics calculation in there I think is
pretty good Benchmark to
start yeah that's I jumped
start yeah that's I jumped
again I don't know why it would do that
again I don't know why it would do that
it shouldn't really be that variable but
yeah so how much work do you think there
yeah so how much work do you think there
is to get like something that kind of
is to get like something that kind of
looks like an agent that drives not like
looks like an agent that drives not like
know hacking whatever you need to do
know hacking whatever you need to do
like how much do you how much work do
like how much do you how much work do
you think it takes to like put some
you think it takes to like put some
observations in that makes it even if
observations in that makes it even if
it's there's no Collision checks and it
it's there's no Collision checks and it
just like go okay so like what if it
just like go okay so like what if it
what if I just do like the simplest
what if I just do like the simplest
observation on Earth where I'm like I
observation on Earth where I'm like I
only give it its relative coordinate to
only give it its relative coordinate to
the goal
the goal
yeah that's what I mean that and then we
yeah that's what I mean that and then we
have OBS five yeah do that well I can do
have OBS five yeah do that well I can do
that I mean and I can see if it learns
that I mean and I can see if it learns
something and then yeah that's super
something and then yeah that's super
easy I can do that probably this evening
easy I can do that probably this evening
yeah so do that see if it learns and
yeah so do that see if it learns and
then if that learns right then the next
then if that learns right then the next
thing will be to like get Collision
thing will be to like get Collision
checks and actually get some Road points
checks and actually get some Road points
in and like again do it in the stupidest
in and like again do it in the stupidest
way possible and then that should be
way possible and then that should be
enough to get you cars that stay in Lane
enough to get you cars that stay in Lane
and go to Target and then that's already
and go to Target and then that's already
like something that looks kind of like
like something that looks kind of like
GPU drive and it's like wow okay we can
GPU drive and it's like wow okay we can
improve on this right
improve on this right
yeah and I mean at that point we'd be in
yeah and I mean at that point we'd be in
multi-million steps per we probably at
multi-million steps per we probably at
like at least one million steps per
like at least one million steps per
second easy if I'm doing it that small
second easy if I'm doing it that small
scale
scale
yeah I mean I think we can even optimize
yeah I mean I think we can even optimize
this stuff more like it goes up to 2.5
this stuff more like it goes up to 2.5
mil a lot of our train runs I will say
mil a lot of our train runs I will say
that uh you need really big like back
that uh you need really big like back
sizes and stuff to get that and async
sizes and stuff to get that and async
and whatever but I think that it is
and whatever but I think that it is
realistic to get a million or so for
realistic to get a million or so for
like good training parameters
okay well this sounds good then I'll let
okay well this sounds good then I'll let
you know if I get something visually
you know if I get something visually
decent um later tonight have multi GPU
decent um later tonight have multi GPU
now so um you know when they run this on
now so um you know when they run this on
their boxes with
their boxes with
multi-gpu uh they could be training this
multi-gpu uh they could be training this
at five million steps per second easily
at five million steps per second easily
yeah and then then at that point we just
yeah and then then at that point we just
like 100x their yeah their lab yes and
like 100x their yeah their lab yes and
at that point they 100ex the lab and we
at that point they 100ex the lab and we
loaded all of Tokyo or whatever and
loaded all of Tokyo or whatever and
Tokyo puff yeah Tokyo Puff incoming soon
Tokyo puff yeah Tokyo Puff incoming soon
to incoming soon uh yeah the renderer
to incoming soon uh yeah the renderer
still looks like it used to look right
still looks like it used to look right
yeah the render render is sick dude let
yeah the render render is sick dude let
meet you show the render the Rend was
meet you show the render the Rend was
like one of the easiest
like one of the easiest
Parts yeah I'll pull up I'll pull up the
Parts yeah I'll pull up I'll pull up the
render if somebody wants to see on
render if somebody wants to see on
stream well it's just it's cool I don't
stream well it's just it's cool I don't
know today's been a stream a good stream
know today's been a stream a good stream
day we've had nine or 10 people most of
day we've had nine or 10 people most of
the day oh kind of fun I didn't put the
the day oh kind of fun I didn't put the
actual thing for the massive code review
actual thing for the massive code review
day
day
oh let me um let me swap out my screen I
oh let me um let me swap out my screen I
think it's only going to show
uh anger why is it Angry what happened
uh anger why is it Angry what happened
address
address
sanitizer address sanitizer is mad did I
sanitizer address sanitizer is mad did I
forget to add memory to
forget to add memory to
somewhere 439 I can pull up the video if
somewhere 439 I can pull up the video if
it doesn't work right
now let's find out and see if it was
now let's find out and see if it was
something simple or something I have to
something simple or something I have to
investigate
investigate
439 what's
439 what's
happening
happening
439 is a it's because I'm using the
439 is a it's because I'm using the
physics model let me just change it from
physics model let me just change it from
trajectories to the
trajectories to the
expert okay and then we'll see
expert okay and then we'll see
that be
sweet this is good progress lately a lot
sweet this is good progress lately a lot
of good
of good
progress all right now it's still pissed
progress all right now it's still pissed
off for some reason all right you can
off for some reason all right you can
pull the
video
video
okay you go find it
okay you go find it
without I think I put it in the dev chat
without I think I put it in the dev chat
somewhere oh okay let me just get that
somewhere oh okay let me just get that
then Dev
then Dev
chat so this is impulse Wars that we
chat so this is impulse Wars that we
were reviewing earlier
were reviewing earlier
today and
today and
then
then
set where's the GPU Drive
set where's the GPU Drive
GI let me uh I I can link again as well
GI let me uh I I can link again as well
if I can
if I can
find I don't see
find I don't see
it where did I put this thing that I put
it where did I put this thing that I put
in general let's find
it now the one thing that's a little
it now the one thing that's a little
tricky I think with
tricky I think with
um we're going to have to think when we
um we're going to have to think when we
if we load in a whole city if we're like
if we load in a whole city if we're like
if we have to rethink the way that we do
if we have to rethink the way that we do
observations at all or if that still
observations at all or if that still
just works but but um I don't know CPUs
just works but but um I don't know CPUs
are kind of
fast I was chatting with Brandon
fast I was chatting with Brandon
yesterday and um the one I put it back
yesterday and um the one I put it back
in the one thing I think that we would
in the one thing I think that we would
legitimately have a hard time for is
legitimately have a hard time for is
they're doing like they have like an FPS
they're doing like they have like an FPS
where they're doing raycast versus the
where they're doing raycast versus the
actual geometry of like a Call of Duty
actual geometry of like a Call of Duty
map that's hard okay yeah here's the
map that's hard okay yeah here's the
renderer this thing's sweet
yeah rendering is super easy when you
yeah rendering is super easy when you
have all the trajectories already given
have all the trajectories already given
to you you just load in data
to you you just load in data
yeah they did with that I mean there's
yeah they did with that I mean there's
some funky stuff in there but and then I
some funky stuff in there but and then I
don't know what how you did all the
don't know what how you did all the
curves as well I haven't seen the r for
curves as well I haven't seen the r for
that um these are all just line segments
that um these are all just line segments
man okay so you just manually draw all
man okay so you just manually draw all
the yeah I I just manually Drew every
the yeah I I just manually Drew every
line segment from A to B 10,000 times
line segment from A to B 10,000 times
yeah all really shorts the line segments
yeah all really shorts the line segments
okay so probably there's like a draw
okay so probably there's like a draw
curve or something function that would
curve or something function that would
take all the points and be faster but
take all the points and be faster but
for now this is good I mean that's for
for now this is good I mean that's for
render I mean the thing still runs
render I mean the thing still runs
pretty clearly and smoothly well when we
pretty clearly and smoothly well when we
load a whole city in oh okay fair
load a whole city in oh okay fair
enough yeah
enough yeah
um but okay I gotta go and thanks for
um but okay I gotta go and thanks for
the help on this good luck with that let
the help on this good luck with that let
me know if you get a basic model running
me know if you get a basic model running
and then I'll go through and we can
and then I'll go through and we can
actually start to keep going on this
actually start to keep going on this
all right sounds good y see you Spencer
later that's good progress isn't
later that's good progress isn't
it um I think Captain will probably be
it um I think Captain will probably be
back in a little bit here um and we will
back in a little bit here um and we will
continue looking at the impulse Wars
continue looking at the impulse Wars
code lots and lots of code review
code lots and lots of code review
today but in the
today but in the
meantime I think we might go back to uh
meantime I think we might go back to uh
algorithm Dev for a little bit see if I
algorithm Dev for a little bit see if I
can figure out anything on the algorithm
can figure out anything on the algorithm
I've been working
on I'll talk about that in just a second
on I'll talk about that in just a second
um I'm going to take just a couple
um I'm going to take just a couple
minutes to go get myself a new drink and
minutes to go get myself a new drink and
uh and stuff but um for the folks
uh and stuff but um for the folks
watching this is all available puffer AI
watching this is all available puffer AI
it's all open source you want to help us
it's all open source you want to help us
out for free just start the repo really
out for free just start the repo really
helps oh look at that no time for
helps oh look at that no time for
algorithm death perfect yeah Captain all
algorithm death perfect yeah Captain all
I'm going to go get a drink and stuff
I'm going to go get a drink and stuff
and then we'll continue on impulse Wars
and then we'll continue on impulse Wars
but yeah for folks watching in the
but yeah for folks watching in the
meantime um yeah we'll continue with
meantime um yeah we'll continue with
impulse Wars and uh if you want to help
impulse Wars and uh if you want to help
us out for free start the repository
us out for free start the repository
join the Discord if you want to get
join the Discord if you want to get
involved in developing all this type of
involved in developing all this type of
crazy stuff you do not need an AI or RL
crazy stuff you do not need an AI or RL
background you just need to know how to
background you just need to know how to
program um a lot of our best
program um a lot of our best
contributors here have come in with no
contributors here have come in with no
background in Ai and like really the
background in Ai and like really the
most important thing is that you just
most important thing is that you just
have a programming background and the
have a programming background and the
rest can be learned quite
rest can be learned quite
quickly uh and yeah other than that
quickly uh and yeah other than that
follow on X for more RL content a Blog
follow on X for more RL content a Blog
we have articles and stuff like that uh
we have articles and stuff like that uh
I'll be back in a couple
I'll be back in a couple
minutes
minutes
and yeah see you see you in a second and
and yeah see you see you in a second and
we'll continue code reviewing impulse
Wars
e
e
e
e e
okay man I need a
okay man I need a
haircut like three times too much hair
here hey
here hey
Captain hey I'm the same but I also need
Captain hey I'm the same but I also need
a
a
haircut yeah this is ridiculous this is
haircut yeah this is ridiculous this is
literally like three times too much
hair you don't want to see my hair
then I just caught the uh well actually
then I just caught the uh well actually
I I just caught the end which was good
I I just caught the end which was good
timing but man that rendering looks good
timing but man that rendering looks good
is cool isn't it yeah that's
is cool isn't it yeah that's
sick
yeah we we will puffer theme some colors
yeah we we will puffer theme some colors
but other than that
but other than that
I reserve the right to puerum
Colors going to be tough to puffer theme
Colors going to be tough to puffer theme
impulse words though because the colors
impulse words though because the colors
of semantic
of semantic
meaning uh let me
see no yeah you would just change the
see no yeah you would just change the
shade of a couple things a little
shade of a couple things a little
bit
okay yeah weekend even get to
rendering I like the UI oh I didn't
rendering I like the UI oh I didn't
realize stop I
realize stop I
see I had what that you have like lives
see I had what that you have like lives
like stock oh yeah stocks I wasn't sure
like stock oh yeah stocks I wasn't sure
if you meant that because you know
if you meant that because you know
that's a smash term no one says that but
that's a smash term no one says that but
yeah I I like I said I just added that
yeah I I like I said I just added that
recently because I felt the well there
recently because I felt the well there
are a couple modes in the original
are a couple modes in the original
[Music]
[Music]
um they kind of have live so like the
um they kind of have live so like the
way it normally works it's normally just
way it normally works it's normally just
elimination and it's basically just like
elimination and it's basically just like
best of five but when some like when one
best of five but when some like when one
person wins like everyone else dies it
person wins like everyone else dies it
just resets so it's kind of like lives I
just resets so it's kind of like lives I
just thought it'd be more interesting if
just thought it'd be more interesting if
it was like actual lives they also have
it was like actual lives they also have
another mode like death mats where it's
another mode like death mats where it's
basically just who can get the most
basically just who can get the most
kills in a set amount of time yeah like
kills in a set amount of time yeah like
Limitless is if you can just do stuff
Limitless is if you can just do stuff
Limitless and
Limitless and
um it'll be easier you won't ever have
um it'll be easier you won't ever have
to destroy worlds and
to destroy worlds and
stuff oh like the episodes Never End
stuff oh like the episodes Never End
like the rounds Never End basically just
like the rounds Never End basically just
respawn weapons once in a while no
respawn weapons once in a while no
there's well yeah the way it works for
there's well yeah the way it works for
weapons now I just have a set timer
weapons now I just have a set timer
there's a set amount of them so I
there's a set amount of them so I
already account for that yeah I could
already account for that yeah I could
just respawn like unlimited it's like
just respawn like unlimited it's like
that's a tiny little change and that
that's a tiny little change and that
probably makes it
probably makes it
easier you think it makes it
easier you think it makes it
easier well to it's like yeah cuz you
easier well to it's like yeah cuz you
just Contin get data and you don't have
just Contin get data and you don't have
to worry about episodes and stuff
you just pass a done signal for an agent
you just pass a done signal for an agent
whenever it dies
whenever it dies
yeah yeah I might try that the thing now
yeah yeah I might try that the thing now
though is I don't know if this matters
though is I don't know if this matters
or not but I wonder if it if it's useful
or not but I wonder if it if it's useful
to think in terms of like uh lives like
to think in terms of like uh lives like
oh like planning like oh I have one life
oh like planning like oh I have one life
left and they have two like maybe I
left and they have two like maybe I
should do this or you know thinking like
should do this or you know thinking like
I don't know if you play any differently
I don't know if you play any differently
when you have one life maybe you play a
when you have one life maybe you play a
little more conservatively but not
little more conservatively but not
really yeah because I you still have to
really yeah because I you still have to
win yeah yeah I the one thing I'm
win yeah yeah I the one thing I'm
looking at here visually is I think you
looking at here visually is I think you
might want to play with a few different
might want to play with a few different
graphics for the Bots
graphics for the Bots
themselves like the triangles look
themselves like the triangles look
really freaking good that use for that
really freaking good that use for that
animation oh yeah the geometric stuff I
animation oh yeah the geometric stuff I
don't know if there's like something you
don't know if there's like something you
can do geometric for the ships even like
can do geometric for the ships even like
maybe their triangles or something I
maybe their triangles or something I
don't
don't
know yeah yeah uh I don't know if
know yeah yeah uh I don't know if
triangles would work just because like I
triangles would work just because like I
don't know they can go not but um I
don't know they can go not but um I
think circles was just because the
think circles was just because the
original circles and I think it makes
original circles and I think it makes
sense because you know you can a move
sense because you know you can a move
yeah just pull up a screen charge be
yeah just pull up a screen charge be
easier or there's not we can actually
easier or there's not we can actually
make it look like almost as good if we
make it look like almost as good if we
wanted to with
wanted to with
shaders yeah this it's a Shader game
shaders yeah this it's a Shader game
like they don't have any graphics this
like they don't have any graphics this
is just shaders yeah what's funny though
is just shaders yeah what's funny though
is so if you download on Steam it's free
is so if you download on Steam it's free
and like crank up the settings it
and like crank up the settings it
actually is like very visually busy get
actually is like very visually busy get
this and play it shouldn't I I kind of
this and play it shouldn't I I kind of
oh I need to get I need to order myself
oh I need to get I need to order myself
a
controller um service I will say though
controller um service I will say though
once you're used to m a little bit used
once you're used to m a little bit used
to mine the original will feel a little
to mine the original will feel a little
bit slow because the projectiles move
bit slow because the projectiles move
faster and you move faster yeah they
faster and you move faster yeah they
move to this company which mostly looks
move to this company which mostly looks
like they do like Wu
like they do like Wu
trapped mobile a lot of game places get
trapped mobile a lot of game places get
stuck in like random ass
stuck in like random ass
Contracting yeah are they
Contracting yeah are they
circles yeah well you can customize them
circles yeah well you can customize them
but they're essentially
but they're essentially
circles they don't look like circles
circles they don't look like circles
they look like they have like some
they look like they have like some
texture to them they're not just circles
texture to them they're not just circles
are they no well yeah I mean they're
are they no well yeah I mean they're
spheres I guess but
spheres I guess but
yeah I mean their game it's like it's a
yeah I mean their game it's like it's a
2d game but with like 3D graphics
2d game but with like 3D graphics
well yeah a lot of things are yeah they
well yeah a lot of things are yeah they
have this they have a we could that I be
have this they have a we could that I be
hard yeah maybe we do that um there's
hard yeah maybe we do that um there's
some stuff that's kind of hard like
some stuff that's kind of hard like
these lines here this is like they've
these lines here this is like they've
got well maybe they if it's static you
got well maybe they if it's static you
can fake it maybe we can do a lot of
can fake it maybe we can do a lot of
this without even
this without even
shaders you'd have to play it though
shaders you'd have to play it though
because there some of the stuff they do
because there some of the stuff they do
is cool some of the stuff they do is
is cool some of the stuff they do is
honestly like very busy so I mostly
honestly like very busy so I mostly
played on switch where they have to tone
played on switch where they have to tone
it down and honestly I think that's like
it down and honestly I think that's like
what they did on switch is a good
what they did on switch is a good
balance but if you max out the settings
balance but if you max out the settings
on PC you can't really tell what's going
on PC you can't really tell what's going
on like they just went oh this looks
on like they just went oh this looks
cool and just threw every effect into
cool and just threw every effect into
the I got a pretty fun pretty fun setup
the I got a pretty fun pretty fun setup
for uh
for uh
youc this is like this type of thing is
youc this is like this type of thing is
super easy to do I don't really like the
super easy to do I don't really like the
CRT monitor effect ever in games like
CRT monitor effect ever in games like
this yeah I'm not a fan of I think
this yeah I'm not a fan of I think
that's a little silly but this type of
that's a little silly but this type of
thing where they've got like the outline
thing where they've got like the outline
on the edges
on the edges
is really cool and we could do that yeah
is really cool and we could do that yeah
yeah I like that too yeah I don't know I
yeah I like that too yeah I don't know I
think we should I think we should
think we should I think we should
actually make it look good because it's
actually make it look good because it's
it is actually a pretty complex M it
it is actually a pretty complex M it
should look the
should look the
part it should look the
part it should look the
part yeah I'm down for help and ideas
part yeah I'm down for help and ideas
and stuff because like imagine like look
and stuff because like imagine like look
imagine what neuro would be
imagine what neuro would be
right okay so this thing crafter n RL oh
right okay so this thing crafter n RL oh
yeah like
yeah like
this thing looks stupid because it's
this thing looks stupid because it's
like shitty 2D Minecraft
like shitty 2D Minecraft
right but like this would have like this
right but like this would have like this
people use this just because it's like
people use this just because it's like
minecrafty because it's kind of like
minecrafty because it's kind of like
borrowing from the like the Minecraft
borrowing from the like the Minecraft
look but imagine if it weren't like
look but imagine if it weren't like
nobody would use this
nobody would use this
thing and it's already not that big of
thing and it's already not that big of
an F so I think like you do want stuff
an F so I think like you do want stuff
to look the part and I don't think it's
to look the part and I don't think it's
disingenuous to like if you make a
disingenuous to like if you make a
really project to make it look the part
really project to make it look the part
like people sometimes get pissy about
like people sometimes get pissy about
that research but I think that's only if
that research but I think that's only if
you like really Jazz up a really simple
you like really Jazz up a really simple
and if you just like treat it as the
and if you just like treat it as the
game and make it look like the game I
game and make it look like the game I
think it's good
think it's good
yeah I mean yeah if anything else we get
yeah I mean yeah if anything else we get
more people interested in it and then I
more people interested in it and then I
it's important you
it's important you
know it's not that hard I was surprised
know it's not that hard I was surprised
there are a couple things like yeah I
there are a couple things like yeah I
was really surprised at um the effect
was really surprised at um the effect
effess uh of the little yeah like
effess uh of the little yeah like
triangles that explode when you
triangles that explode when you
die it it's so much more satisfying now
die it it's so much more satisfying now
to kill enemies
to kill enemies
out kind of amazing you want to know
out kind of amazing you want to know
something crazy one of the main reasons
something crazy one of the main reasons
I'm pretty sure I always hated CS never
I'm pretty sure I always hated CS never
wanted to play that game is there's no
wanted to play that game is there's no
hit
hit
sound uh Counter Strike oh yeah there's
sound uh Counter Strike oh yeah there's
no hit sound really yeah every other
no hit sound really yeah every other
game has a hit sound yeah yeah yeah huh
game has a hit sound yeah yeah yeah huh
yeah it it does lose a little bit with
yeah it it does lose a little bit with
no audio but like I don't know if I'm
no audio but like I don't know if I'm
gonna go that
gonna go that
far it doesn't necessarily need to have
far it doesn't necessarily need to have
audio I just mean just having feedback
audio I just mean just having feedback
of some sort on stuff right no there's
of some sort on stuff right no there's
no I know you're saying yeah yeah audio
no I know you're saying yeah yeah audio
and visual feedback is really important
and visual feedback is really important
it's like huge it's why like I Lov
it's like huge it's why like I Lov
valerant I never liked CS at all even
valerant I never liked CS at all even
though like a lot of people like CS a
though like a lot of people like CS a
lot more mechanically it's like yeah
lot more mechanically it's like yeah
nope anyway yeah I understand that we
nope anyway yeah I understand that we
should review your code and we'll get to
should review your code and we'll get to
the renderer that's going to be the goal
the renderer that's going to be the goal
let's see if I can go through this at a
let's see if I can go through this at a
good enough clip to get to the
good enough clip to get to the
renderer game is going to take a bit
renderer game is going to take a bit
like all the heavy lifting is in game I
like all the heavy lifting is in game I
know uh obviously you haven't had time
know uh obviously you haven't had time
to go run a profile um in the lunching
to go run a profile um in the lunching
hour that you've been gone yeah um well
hour that you've been gone yeah um well
if I you can keep looking I can just hop
if I you can keep looking I can just hop
off the call cuz I just like to have
off the call cuz I just like to have
everything else quit and I can do it in
everything else quit and I can do it in
probably like five or so minutes quick
probably like five or so minutes quick
okay go do that real quick and I'll just
okay go do that real quick and I'll just
start looking on this in the meantime on
start looking on this in the meantime on
stream I'll be right
back
back
okay folks here x chat heavily filters
okay folks here x chat heavily filters
URLs damn yes it does uh if you have a
URLs damn yes it does uh if you have a
paper or something to link me just type
paper or something to link me just type
the name of the paper and I will Google
the name of the paper and I will Google
it I do not have any settings to filter
it I do not have any settings to filter
URLs it is purely X YouTube twitch
URLs it is purely X YouTube twitch
whatever filtering they're
doing if I don't if you don't see your
doing if I don't if you don't see your
message on the screen I'm not seeing
message on the screen I'm not seeing
your
message e
I didn't get the UR I didn't get the
I didn't get the UR I didn't get the
name of the paper if you were linking
one just post the name the paper here
one just post the name the paper here
and I will Google
it what is this
oh okay I always forget because of the
oh okay I always forget because of the
different handles this is the pulse
different handles this is the pulse
power stuff right
okay looking if it's worth exploring
um I highly doubt the
um I highly doubt the
if these are like not RL people I highly
if these are like not RL people I highly
doubt that they need a custom algorithm
doubt that they need a custom algorithm
and they can probably just run PO on
and they can probably just run PO on
it but I have to like there's a lot of
it but I have to like there's a lot of
math here i' have to actually go through
math here i' have to actually go through
this very
carefully so the thing is like you
carefully so the thing is like you
you're never going to
you're never going to
get like theoretical guarantees for zero
get like theoretical guarantees for zero
some stochastic game like forget it that
some stochastic game like forget it that
goes out the way window you're not
goes out the way window you're not
looking for like some you're not looking
looking for like some you're not looking
for something that is provably optimal
for something that is provably optimal
here it's all
here it's all
empirical
um see this is just not going to find
um see this is just not going to find
the optimal action because even if you
the optimal action because even if you
can prove that these things will
can prove that these things will
converge to the optimum um they have
converge to the optimum um they have
time like they can have exponential time
time like they can have exponential time
convergence
convergence
always because of the way that
always because of the way that
exploration doesn't work so in practice
exploration doesn't work so in practice
you just want the thing that works
you just want the thing that works
empirically which is normally just make
empirically which is normally just make
Po and like just run Po and crank it up
Po and like just run Po and crank it up
to be very
to be very
fast I'd have to look specifically what
fast I'd have to look specifically what
their motivation was for developing a
their motivation was for developing a
custom algorithm here um
say Define two variables
model is this a one-step problem
do you know is this an iterated problem
do you know is this an iterated problem
is this a one step problem or is this
is this a one step problem or is this
actually
iterated oh it's possibly iterated
is there anything that's actually um
is there anything that's actually um
difficult to code up here or anything
difficult to code up here or anything
that is
that is
slow because if these are the Dynamics
slow because if these are the Dynamics
environments and there isn't anything
environments and there isn't anything
that needs to be solved for right
that needs to be solved for right
there's like nothing expensive to solve
there's like nothing expensive to solve
you can just like code this in 10 lines
you can just like code this in 10 lines
or whatever and then run reinforcement
or whatever and then run reinforcement
learning on it
right just working with a guy
right just working with a guy
okay so yeah like this is the type of
okay so yeah like this is the type of
thing that I could look into for you but
thing that I could look into for you but
it like it will take me dramatically
it like it will take me dramatically
longer to understand the math of the
longer to understand the math of the
system itself than it will take you um
system itself than it will take you um
the question is mostly how long do the
the question is mostly how long do the
Dynamics take right can you like
Dynamics take right can you like
implement the Dynamics in a fast and
implement the Dynamics in a fast and
accurate Sim and is it an iterated
accurate Sim and is it an iterated
problem what's the OB space what's the
problem what's the OB space what's the
action space um
action space um
like if you get this into the format of
like if you get this into the format of
a fast RL
a fast RL
problem then like we can just Chuck
problem then like we can just Chuck
puffer at this and see what
happens so if you're down to do like if
happens so if you're down to do like if
you want to just like get into RL a
you want to just like get into RL a
little bit right with something initial
little bit right with something initial
this is the type of thing that you would
this is the type of thing that you would
do right you'd find something like this
do right you'd find something like this
where somebody has a physics paper or I
where somebody has a physics paper or I
in know whatever field this is uh where
in know whatever field this is uh where
there's like some fancy math that
there's like some fancy math that
defines the environment Dynamics you
defines the environment Dynamics you
would just Implement that real
would just Implement that real
quick we'd put an RL interface on it I
quick we'd put an RL interface on it I
can help make sure it's fast if that's
can help make sure it's fast if that's
needed and then we can just like run RL
needed and then we can just like run RL
on it and see what
happens okay um I sent it to you in the
happens okay um I sent it to you in the
uh General voice
uh General voice
chat I got linked a lot of math while
chat I got linked a lot of math while
you were away I see that
you were away I see that
yeah I this would take me like a month
yeah I this would take me like a month
to figure
to figure
out Electric Power Systems on critical
out Electric Power Systems on critical
infrastructure cool I cannot help you
infrastructure cool I cannot help you
with the math portion of that I can help
with the math portion of that I can help
you with uh if it works if you can set
you with uh if it works if you can set
it up as an RL
problem let's see uh oh where did my
problem let's see uh oh where did my
Discord go
oh here it is what did you just send
oh here it is what did you just send
me uh it's in the general like voice
me uh it's in the general like voice
chat it's just like the whatever file
chat it's just like the whatever file
hello hey Aon what's up you are on
hello hey Aon what's up you are on
stream at the moment just FYI okay uh
stream at the moment just FYI okay uh
first test of the online LP stuff is
first test of the online LP stuff is
running
running
awesome cool hope it
awesome cool hope it
works we're reviewing um 8,000 lines
works we're reviewing um 8,000 lines
worth of PRS
today that's a lot
ah this is exactly what I asked
ah this is exactly what I asked
for
perfect thank you Captain yeah Captain
perfect thank you Captain yeah Captain
wrote a 7,000 line environment this top
wrote a 7,000 line environment this top
down 2D physics
down 2D physics
shooter uh and also we have uh puffer
shooter uh and also we have uh puffer
implementation of GPU drive on CPU
implementation of GPU drive on CPU
prototype from Spencer
prototype from Spencer
nice when do we get you writing C is the
nice when do we get you writing C is the
[Laughter]
question I'm pretty good at getting
question I'm pretty good at getting
people into the lower level dep
people into the lower level dep
side but we can keep you on your fun
side but we can keep you on your fun
science for
science for
now
now
yeah honestly I find this stuff way
yeah honestly I find this stuff way
easier and way more chill at this point
easier and way more chill at this point
though
well I mean you have
well I mean you have
been living in it for the past little
been living in it for the past little
while that was
while that was
fun now this is super
chill okay B2 find pairs task this gets
chill okay B2 find pairs task this gets
called from I guess these are not your
called from I guess these are not your
functions yeah any so some of the B2
functions yeah any so some of the B2
stuff I call myself but
stuff I call myself but
UMX what is the total time
UMX what is the total time
here I guess like 15 seconds I don't
here I guess like 15 seconds I don't
know honestly grov is
know honestly grov is
kind yeah I have percent here okay so
kind yeah I have percent here okay so
compute OB with 3% wait 3%
compute OB with 3% wait 3%
right is that
right is that
right uh I think there's like a key at
right uh I think there's like a key at
the
the
bottom some of it's confusing because
bottom some of it's confusing because
some of the stuff is like this function
some of the stuff is like this function
and his shoulder and some of it is like
and his shoulder and some of it is like
just this function so let me explain
just this function so let me explain
that if you're not familiar
that if you're not familiar
so there is self seconds and then there
so there is self seconds and then there
is cumulative
is cumulative
seconds um so self seconds I believe is
seconds um so self seconds I believe is
just the time of His function yeah and
just the time of His function yeah and
cumulative is function and its children
cumulative is function and its children
right yeah and its children
right yeah and its children
exactly so I don't know whether this is
exactly so I don't know whether this is
this percent here
this percent here
is no this percent is clearly applied to
is no this percent is clearly applied to
self seconds right I would think you can
self seconds right I would think you can
see right because six this is bigger and
see right because six this is bigger and
this is smaller so it has to be right
this is smaller so it has to be right
you're right yeah okay so it's weird
you're right yeah okay so it's weird
though that the the most expensive thing
though that the the most expensive thing
is like 15% though no it's because it's
is like 15% though no it's because it's
just various box 2D
just various box 2D
calls
calls
yeah right I'm just saying like this
yeah right I'm just saying like this
stuff it looks like everything adds up
stuff it looks like everything adds up
to be like 30 if that but it's sorted
to be like 30 if that but it's sorted
it's sorted by self seconds not
it's sorted by self seconds not
cumulative seconds you see oh yeah yeah
cumulative seconds you see oh yeah yeah
so if you go down here look it's 23
so if you go down here look it's 23
seconds
seconds
yeah
yeah
okay and this is the correct sorting
okay and this is the correct sorting
this is how you want it by the
way so o Point what this B2 can you can
way so o Point what this B2 can you can
you move it to the other side of your
you move it to the other side of your
screen because like the chat is kind ofs
screen because like the chat is kind ofs
my
my
bad people are probably confused too
yep
yep
three percent in
three percent in
this handle body move event is this
this handle body move event is this
yours uh yeah step
yours uh yeah step
end yeah so you basically you're right
end yeah so you basically you're right
it's it's all in box 2D pretty much at
it's it's all in box 2D pretty much at
this point yeah because I've optimized a
this point yeah because I've optimized a
lot of my stuff not that it's perfect
lot of my stuff not that it's perfect
but it's a lot better than it used to be
but it's a lot better than it used to be
now the question
now the question
is uh is there any usage of box 2D that
is uh is there any usage of box 2D that
can be made better by a lot what's the
can be made better by a lot what's the
current step per second per
current step per second per
core per core uh I don't know but um I
core per core uh I don't know but um I
on my machine I get like 250 240k
on my machine I get like 250 240k
training on a puffer box I get close to
training on a puffer box I get close to
300 with just one agent with two agents
300 with just one agent with two agents
it goes up a decent amount but I'm not
it goes up a decent amount but I'm not
ready to do like selfplay
ready to do like selfplay
yet okay so I have breakdown of stuff in
yet okay so I have breakdown of stuff in
the monitor for good reason right so
the monitor for good reason right so
what you generally want to do is you
what you generally want to do is you
want to know how fast the environment
want to know how fast the environment
itself runs
itself runs
right and then if the environment is
right and then if the environment is
like substantially above a million then
like substantially above a million then
you should be able to get close to that
you should be able to get close to that
in
in
training
training
um you mean like the the breakdown of
um you mean like the the breakdown of
like the percentage of M
like the percentage of M
basically I yeah so I'm pretty sure it's
basically I yeah so I'm pretty sure it's
usually
around like actually I don't know you if
around like actually I don't know you if
you can compile this you can compile the
you can compile this you can compile the
main thing and run it like just per and
main thing and run it like just per and
that'll give you a good breakdown if you
that'll give you a good breakdown if you
want yeah so what do I just run so go
want yeah so what do I just run so go
back to the repo route yeah uh just run
make also this is I assume you don't
make also this is I assume you don't
have my nice perf optimizations in here
have my nice perf optimizations in here
yet I do not so that'll be faster I
yet I do not so that'll be faster I
tried to go like on that branch and
tried to go like on that branch and
check it out but there was stuff that
check it out but there was stuff that
was Fancy no worries fix that yeah
was Fancy no worries fix that yeah
that's what I figured but I was eager to
that's what I figured but I was eager to
try it out I was like ah going to have
try it out I was like ah going to have
to wait a little bit
longer I'm honestly so surprised that
longer I'm honestly so surprised that
people haven't like PR all sorts of like
people haven't like PR all sorts of like
little m's as much as people will PR
little m's as much as people will PR
much bigger M's um no I'm surprised
much bigger M's um no I'm surprised
nobody's done like Flappy puff by
nobody's done like Flappy puff by
now
now
right I mean if you make somebody makes
right I mean if you make somebody makes
it it's like such a simple like beginner
it it's like such a simple like beginner
project I'm surprised nobody's just
project I'm surprised nobody's just
bothered doing it yeah okay um so justce
bothered doing it yeah okay um so justce
see with Flappy
puff um all right so just run whatever
puff um all right so just run whatever
python I guess on this box just python
python I guess on this box just python
might work um tag Tac train
might work um tag Tac train
compile that train.
compile that train.
compil okay I got go take bre okay yeah
compil okay I got go take bre okay yeah
and then tac tac m. Sitting hyen Duck or
and then tac tac m. Sitting hyen Duck or
Tac duck whatever
Tac duck whatever
M just just m
M just just m
yeah Sitting
yeah Sitting
Duck because then that won't you don't
Duck because then that won't you don't
it true will work I guess it's python um
it true will work I guess it's python um
that should be all you
need yeah
okay all right I'll be right back uh oh
okay all right I'll be right back uh oh
yeah you're on the I'm on install
yeah you're on the I'm on install
this or I need other puffer yeah you
this or I need other puffer yeah you
need main puffer on 2.0 I'll be right
need main puffer on 2.0 I'll be right
back I got to take some bread out of the
oven oh it's running totally wrong
oven oh it's running totally wrong
Puffer
Puffer
we'll run this
one have you seen this m yet
one have you seen this m yet
Aaron uh no oh it's so cool I'll see if
Aaron uh no oh it's so cool I'll see if
I can run it in a second soon as this
I can run it in a second soon as this
finishes it's so
cool 7,000 line
n we got to get it to be fast enough is
n we got to get it to be fast enough is
the main thing
quarter million step per second train
quarter million step per second train
not fast enough puffer
not fast enough puffer
standards hey yeah you remember how when
standards hey yeah you remember how when
we were first talking about the lp stuff
we were first talking about the lp stuff
you were like hey make sure that your
you were like hey make sure that your
score is not just tracking the score of
score is not just tracking the score of
the sampled environments
the sampled environments
mhm that wasn't happening in the offline
mhm that wasn't happening in the offline
one but that is happening in the online
one
one
yeah um okay
yeah um okay
so I just oh I'm just tracking a
so I just oh I'm just tracking a
different metric
different metric
then yeah
then yeah
um I mean the other thing we can
um I mean the other thing we can
technically do is you can just track the
technically do is you can just track the
online like you can just like have it do
online like you can just like have it do
whatever and then the eval because there
whatever and then the eval because there
is an eval at the end right yeah like at
is an eval at the end right yeah like at
the end of training so then you can just
the end of training so then you can just
do the eval with the full distribution
do the eval with the full distribution
and then that point just gets logged
and then that point just gets logged
differently at the
differently at the
end that's also valid
uh the choice that I did here is um so
uh the choice that I did here is um so
in the running outcomes that I'm keeping
in the running outcomes that I'm keeping
track of I just and that one always
track of I just and that one always
maintains the past 25
maintains the past 25
per uh
per uh
task and that is across all
task and that is across all
tasks and so that one I just I'm just
tasks and so that one I just I'm just
tracking the mean of that value instead
tracking the mean of that value instead
the mean across all tasks yeah
the mean across all tasks yeah
okay is this for curriculum learning
okay is this for curriculum learning
yeah yep nice this is this is the end by
yeah yep nice this is this is the end by
the
the
way over to where you guys
are is this thing czy uh I suppose I
are is this thing czy uh I suppose I
have to look at where you're
have to look at where you're
streaming yeah where are you streaming
streaming yeah where are you streaming
which YouTube X
I'm streaming on X does not make it
I'm streaming on X does not make it
sound like you're doing reinforcement
sound like you're doing reinforcement
learning what just like the name X like
learning what just like the name X like
oh I'm streaming on X that makes it
oh I'm streaming on X that makes it
sounds like you're engaged in NSFW
sounds like you're engaged in NSFW
activities yeah and if you type and if
activities yeah and if you type and if
you try to find videos on X make sure
you try to find videos on X make sure
that you uh don't put a space or
that you uh don't put a space or
actually no you'll get it either way
actually no you'll get it either way
[ __ ] no make sure you do put a space
[ __ ] no make sure you do put a space
yeah way the naming to X and ditching
yeah way the naming to X and ditching
Twitter was like so
Twitter was like so
stupid kind of funny how stupid it was
stupid kind of funny how stupid it was
but you see
but you see
this yeah it's fun it's crazy right yeah
this yeah it's fun it's crazy right yeah
that's a really fun one yeah we haven't
that's a really fun one yeah we haven't
even done like I think I'm going to help
even done like I think I'm going to help
out with some graphics so it gets even
out with some graphics so it gets even
cooler it's
coolow
coolow
okay such a cool end
oh were you going to run the train
oh were you going to run the train
breakdown yes I
breakdown yes I
was
squirrel it should be in your uh reverse
squirrel it should be in your uh reverse
show oh yeah that
show oh yeah that
works myself I am a control R type
works myself I am a control R type
guy I should probably actually learn how
guy I should probably actually learn how
to use that eventually but not today
to use that eventually but not today
also is because you can it like it um
also is because you can it like it um
the history is improved so for example
the history is improved so for example
if you know youf
if you know youf
history something and then do up or down
history something and then do up or down
it'll do like a prefix search history
it'll do like a prefix search history
which is so
which is so
useful okay so you can just do SSH space
useful okay so you can just do SSH space
up and it'll give you the last SSH
up and it'll give you the last SSH
command you
command you
did
did
SSH okay yeah that's cool it's pretty
SSH okay yeah that's cool it's pretty
awesome so unless I change something in
awesome so unless I change something in
the perf is worse um this will give you
the perf is worse um this will give you
decent breakdown but at least on box two
decent breakdown but at least on box two
like a like a week or two ago I was
like a like a week or two ago I was
getting higher perf but maybe I don't
getting higher perf but maybe I don't
know if that's because of a change I
know if that's because of a change I
made or the fact you're not in recent
made or the fact you're not in recent
most recent torch version might be me
most recent torch version might be me
I'm not
I'm not
sure this is no this is my local which
sure this is no this is my local which
has uh updated torch okay maybe not
has uh updated torch okay maybe not
updated compile but you are spending 35%
updated compile but you are spending 35%
time in the end oh yeah the compiler
time in the end oh yeah the compiler
does help yeah you're spending 30 yeah a
does help yeah you're spending 30 yeah a
lot of time in the
lot of time in the
end um so that needs to be improved for
end um so that needs to be improved for
sure but then also I want to
sure but then also I want to
know
know
oops where's your
oops where's your
config what config oh right I don't have
config what config oh right I don't have
one like you guys
one like you guys
do yeah it's just I don't have
configs so this is this 256
configs so this is this 256
agents uh or how many agents is this
agents uh or how many agents is this
well right now I'm doing one per M so
well right now I'm doing one per M so
yeah it be two 256 agents per
yeah it be two 256 agents per
worker and how many
worker and how many
workers uh I think it's eight right
workers uh I think it's eight right
now you could up that in your machine
now you could up that in your machine
but on a puffer box because the puffer
but on a puffer box because the puffer
boxes have slightly more cores than my
boxes have slightly more cores than my
local but I got like a little bit of a
local but I got like a little bit of a
gain but like not
much I think of yeah increased that to
much I think of yeah increased that to
16 that's 16 if you leave batch size at
16 that's 16 if you leave batch size at
four and then you just have number of
four and then you just have number of
ends you got like a little bit of an
ends you got like a little bit of an
increase you can try eight but I didn't
increase you can try eight but I didn't
it wasn't as good as eight as at eight
it wasn't as good as eight as at eight
batch
size but yeah but the latest compiler I
size but yeah but the latest compiler I
do see some decent gains which makes
do see some decent gains which makes
sense because it's literally 10 years
sense because it's literally 10 years
gcc1
gcc1
which is kind of
crazy okay that's
crazy okay that's
significant oh yeah it it's fast at the
beginning does the slow down over
beginning does the slow down over
time oh no it's just a compile
time oh no it's just a compile
overhead I don't know the the speed can
overhead I don't know the the speed can
fluctuate a decent bit
fluctuate a decent bit
I guess it's dependent on a lot of
I guess it's dependent on a lot of
things because like I don't know I have
things because like I don't know I have
different Hardware from you though I
different Hardware from you though I
think
think
right yeah I have 16
right yeah I have 16
real oh
right you going to change the number of
right you going to change the number of
ends or leave them there internal buffer
ends or leave them there internal buffer
we ideally don't want it to be quad
we ideally don't want it to be quad
buffer by the way what do you uh buffer
buffer by the way what do you uh buffer
for why
for why
um because it's it's slower for the
um because it's it's slower for the
network even if it's faster for the
network even if it's faster for the
end
okay yeah ever since the new um torch
okay yeah ever since the new um torch
compile or Tor P torch version which
compile or Tor P torch version which
actually allowed me to compile like the
actually allowed me to compile like the
multi the puffer multis screet stuff
multi the puffer multis screet stuff
without action stuff without graph
without action stuff without graph
breakes her head has gone way down is it
breakes her head has gone way down is it
not it's not 20% M time
not it's not 20% M time
anymore no no this is pretty accurate
anymore no no this is pretty accurate
but the forward evaluate forward time
but the forward evaluate forward time
used to be like 40% and M time used to
used to be like 40% and M time used to
be like 16% or something oh I actually
be like 16% or something oh I actually
have an optimiz do you have
have an optimiz do you have
lstms I do yeah I have a major
lstms I do yeah I have a major
optimization for eval for with lstm so
optimization for eval for with lstm so
that'll get faster so yeah then my M my
that'll get faster so yeah then my M my
M should be the slowing Factor your m is
M should be the slowing Factor your m is
slow so we actually do have to care
slow so we actually do have to care
about this basically because your m is
about this basically because your m is
the slow part right now
the slow part right now
yep which it should be because I spent a
yep which it should be because I spent a
lot of time optimizing puffer yeah and I
lot of time optimizing puffer yeah and I
have spent a decent amount of time
have spent a decent amount of time
optimizing mine I'm honestly not really
optimizing mine I'm honestly not really
sure what else is there a per test I can
sure what else is there a per test I can
run in here or no yeah uh just make
Benchmark it'll
Benchmark it'll
do if you C the file will tell you I
do if you C the file will tell you I
think it's like 250 million
think it's like 250 million
steps it doesn't print anything but what
steps it doesn't print anything but what
I use I run like a benchmarking tool
I use I run like a benchmarking tool
like hyper find I'll run it like three
like hyper find I'll run it like three
times and then I'll like average the
result so I use bothered
result so I use bothered
with
with
yeah well I would do that like I would
yeah well I would do that like I would
take it a baseline make a change compile
take it a baseline make a change compile
it again and then like be basically comp
it again and then like be basically comp
like run them back to back and see if it
like run them back to back and see if it
improved or like you know made per worse
improved or like you know made per worse
basically where is it uh just Benchmark
basically where is it uh just Benchmark
benchmark
so you really want to time it or
so you really want to time it or
something because it won't do anything
something because it won't do anything
it won't print anything oh
so what how do you run this thing then
so what how do you run this thing then
like time space but I use like again I
like time space but I use like again I
use the actual benchmarking to like
use the actual benchmarking to like
hyper fine but time will work for rough
estimates I didn't even know that was a
estimates I didn't even know that was a
thing yeah so hyperfine it's basically
thing yeah so hyperfine it's basically
it no I didn't know that time was a
it no I didn't know that time was a
thing oh really yeah it's a built-in I
thing oh really yeah it's a built-in I
think the shell yeah I didn't know
think the shell yeah I didn't know
that I'm really not a power user with a
that I'm really not a power user with a
lot of the tools I have I like I use
lot of the tools I have I like I use
really like I use a very small set of
really like I use a very small set of
very simple
things yeah so this is basically just
things yeah so this is basically just
running one m on one core and this did
running one m on one core and this did
did you say this did it three times
did you say this did it three times
no that's that's something I did
no that's that's something I did
externally so is this 250 mil steps
yeah should
be that I do have two agents in there
be that I do have two agents in there
though I'm pretty sure in The
though I'm pretty sure in The
Benchmark so it should be 500 million
Benchmark so it should be 500 million
then right uh yeah I guess so
yeah so I I call step function that many
yeah so I I call step function that many
times but yeah okay so this says 17
times but yeah okay so this says 17
million
million
really am I doing something wrong you
really am I doing something wrong you
said you did you did 500 million 250
said you did you did 500 million 250
million steps times two agents divide by
million steps times two agents divide by
29 seconds uh fact go go and fact check
29 seconds uh fact go go and fact check
me it's an SRC like Source Benchmark doc
me it's an SRC like Source Benchmark doc
because yeah that doesn't seem right
because yeah that doesn't seem right
so the very bottom
yeah oh 2.5 million
yeah oh 2.5 million
yes that would be it I was like there's
yes that would be it I was like there's
something not the math ain't
something not the math ain't
math
math
so we have to take two zeros off of this
so we have to take two zeros off of this
yeah it's
yeah it's
170k yeah okay so this is kind of slow y
170k yeah okay so this is kind of slow y
yeah that would be considered kind of
yeah that would be considered kind of
slow um
there's no way it's got to be that
there's no way it's got to be that
slow it should be faster for
slow it should be faster for
sure let me
think well we'll we'll go through
think well we'll we'll go through
game yeah and uh we'll keep this thing
game yeah and uh we'll keep this thing
up on the right just in case I'll move
up on the right just in case I'll move
it so it's like not covered quite so
it so it's like not covered quite so
badly
entity
entity
transform was this where we
transform was this where we
were uh yeah I think we were like a
were uh yeah I think we were like a
little bit below but pretty much
yeah and we're looking at Circles of
yeah and we're looking at Circles of
stuff as
stuff as
well
so solve contacts
I think we go through this first and if
I think we go through this first and if
I see anything I see anything if not I
I see anything I see anything if not I
have to do first separately
have to do first separately
yeah so yeah again a lot of the Box 2D
yeah so yeah again a lot of the Box 2D
stuff the vast majority in box the Box
stuff the vast majority in box the Box
2D stuff on the profile like the grpr
2D stuff on the profile like the grpr
output is indirectly called by me but
output is indirectly called by me but
some of it is directly called by me but
some of it is directly called by me but
not a lot of
not a lot of
it well B2 World step that is called by
it well B2 World step that is called by
me yeah obviously that's like the key go
me yeah obviously that's like the key go
solve everything isn't it yes so this
solve everything isn't it yes so this
thing is uh about 30% of the time yeah
thing is uh about 30% of the time yeah
because it's a little more actually
because it's a little more actually
because this is 6.5
because this is 6.5
seconds spent in here total with
seconds spent in here total with
including
including
children and uh B2 fine pairs task this
children and uh B2 fine pairs task this
is apparently called outside of Step as
is apparently called outside of Step as
well or is this
called I guess something else that I
called I guess something else that I
call calls that I have to look that up
call calls that I have to look that up
because I don't call that directly so
because I don't call that directly so
what like what expensive box 2D stuff
what like what expensive box 2D stuff
are you calling that's not in
are you calling that's not in
Step um well that's not in step that's
Step um well that's not in step that's
not World step oh World step um because
not World step oh World step um because
this is like B2 World step this should
this is like B2 World step this should
be a bunch of stuff to like update all
be a bunch of stuff to like update all
the physics right yeah yeah okay but
the physics right yeah yeah okay but
that so that's 30% of your time
that so that's 30% of your time
right maybe 30 40% of your time is that
right maybe 30 40% of your time is that
yeah okay uh 6.5 over 24 is yeah it's
yeah okay uh 6.5 over 24 is yeah it's
like between 25 and 30% of your time um
like between 25 and 30% of your time um
where's the other
70 okay one one quick question if okay
70 okay one one quick question if okay
that math makes sense but what do the
that math makes sense but what do the
each percentage of time of the farle
each percentage of time of the farle
mean because so this percentage is
mean because so this percentage is
corresponding to self
corresponding to self
seconds oh I see so it's only 12% of
seconds oh I see so it's only 12% of
time in the step directly but including
time in the step directly but including
children you see it's a little more than
children you see it's a little more than
double yeah yeah
double yeah yeah
30% I
30% I
see okay so what I call directly um I
see okay so what I call directly um I
mean so I handle events like I handle
mean so I handle events like I handle
move events so basically like the move
move events so basically like the move
like handle body move events I'm
like handle body move events I'm
honestly kind of surprised that one's
honestly kind of surprised that one's
actually no no I'm thinking about I'm
actually no no I'm thinking about I'm
not surprised so basically you can like
not surprised so basically you can like
add
2% yeah that's only 2% okay yeah it was
2% yeah that's only 2% okay yeah it was
that small um we're looking for like
that small um we're looking for like
50% yeah I mean so nothing at the top
50% yeah I mean so nothing at the top
there partition mid sensor task execute
there partition mid sensor task execute
BL well so okay basically
everything yeah I was going to say
everything yeah I was going to say
everything above compute OBS is nothing
everything above compute OBS is nothing
I call directly like me a parent like so
I call directly like me a parent like so
maybe I call a parent function that
maybe I call a parent function that
calls them but I don't call any of that
calls them but I don't call any of that
stuff directly except World step well so
stuff directly except World step well so
here's the thing that doesn't make sense
here's the thing that doesn't make sense
to me right World step and everything in
to me right World step and everything in
it's only 6.5 seconds yeah okay but like
it's only 6.5 seconds yeah okay but like
B2 partition mid is now 16
B2 partition mid is now 16
seconds yeah I don't know it's weird so
seconds yeah I don't know it's weird so
something that you're calling that is
something that you're calling that is
not step is calling this stuff and it's
not step is calling this stuff and it's
taking a lot of time
why I'm wondering why GPR doesn't show
why I'm wondering why GPR doesn't show
that though what do you mean like why
that though what do you mean like why
doesn't I don't know why doesn't GPR
doesn't I don't know why doesn't GPR
because it's got to be one of my
because it's got to be one of my
functions I have a ton of functions in
functions I have a ton of functions in
game if my game some some function in
game if my game some some function in
game is does let's let's look for your
game is does let's let's look for your
functions what functions of yours do you
functions what functions of yours do you
see in
see in
here
here
uh drone step is near the middle but it
uh drone step is near the middle but it
doesn't look very high
doesn't look very high
down a little
down a little
bit maybe you should just download 22
bit maybe you should just download 22
seconds yeah in drone
seconds yeah in drone
step that's cumulative
step that's cumulative
right
same so cative means it and its children
same so cative means it and its children
right yeah so this doesn't call World
right yeah so this doesn't call World
Stu right no only only step M calls
Stu right no only only step M calls
World step that's the only thing it
World step that's the only thing it
calls World step
I mean it's called once for every drone
I mean it's called once for every drone
every step so but nothing I do here is
every step so but nothing I do here is
like
like
expensive I don't
think I break
what was the fix to get it to
what was the fix to get it to
build oh I just I had capital T true H
build oh I just I had capital T true H
invalid position for sudden death wall
invalid position for sudden death wall
oh yeah um that's actually prob I just
oh yeah um that's actually prob I just
introduced uh I know how to fix that so
introduced uh I know how to fix that so
basically go to settings that's not
basically go to settings that's not
that's not something you did well I just
that's not something you did well I just
I just with it yeah I did I just added
I just with it yeah I did I just added
this here this can randomly happen just
this here this can randomly happen just
I I know how to fix it though but so
I I know how to fix it though but so
just go to well I know how to stop it
just go to well I know how to stop it
from happening until I fix it myself SRC
from happening until I fix it myself SRC
settings change drone lies from three to
settings change drone lies from three to
one oh right up
one oh right up
above it's like
yeah your own it's just Capital drone
yeah your own it's just Capital drone
uncore
uncore
lives Yeah so basically what's happening
lives Yeah so basically what's happening
is is the because I now have three lives
is is the because I now have three lives
and like a timer um sometimes like when
and like a timer um sometimes like when
the sudden death walls are closing
the sudden death walls are closing
in uh they'll still be alive but I exit
in uh they'll still be alive but I exit
early if I like basically can't place
early if I like basically can't place
any more sun death wall so it kind of
any more sun death wall so it kind of
like it gets to the point where there
like it gets to the point where there
are walls everywhere and keeps trying to
are walls everywhere and keeps trying to
place them which never happened before
place them which never happened before
and so I never had to count for it is
and so I never had to count for it is
this running with sitting ducks or
this running with sitting ducks or
no uh that the agents take random
no uh that the agents take random
actions basically
actions basically
okay so they take random action so it's
okay so they take random action so it's
not a slow script that's Computing
not a slow script that's Computing
actions no no okay so I just took I just
actions no no okay so I just took I just
put return true inside of this drone
put return true inside of this drone
step and it got more than 3x
faster that's
faster that's
wild
so I just did
so I just did
this
this
okay so what's this what's Happening
okay so what's this what's Happening
Here
okay especially if you only have one
okay especially if you only have one
life so respawning is never happening
life so respawning is never happening
yep um hey hey um I mean I'm basically
yep um hey hey um I mean I'm basically
just
just
like managing B2 distance it's the only
like managing B2 distance it's the only
B2 function I
B2 function I
see yeah which is really simple it's
see yeah which is really simple it's
just like a distance function so like
just like a distance function so like
squaring squaring square root
did you remove the make true or the top
did you remove the make true or the top
I think so or return true I
mean yep
okay how do it take that long to
okay how do it take that long to
link you should really get not now but
link you should really get not now but
mold mold is a really fast
mold mold is a really fast
Linker whatever we're going to get put
Linker whatever we're going to get put
it on the puffer tank
it on the puffer tank
cool tell me me what to add to the app
cool tell me me what to add to the app
commands we will just add
commands we will just add
it but I would like to not have to have
it but I would like to not have to have
everything be a hard depth to run the
everything be a hard depth to run the
app no it's not it's just a speed up
app no it's not it's just a speed up
yes same with like ccache it's not
yes same with like ccache it's not
required but like if you have it it just
required but like if you have it it just
makes things faster so now we're still
makes things faster so now we're still
we're back to being
we're back to being
slow interesting okay this is really
slow interesting okay this is really
surprising because you can kind of see
surprising because you can kind of see
in the code nothing is there that should
in the code nothing is there that should
be that slow at least to
me maybe like the F Max and fmin stuff
me maybe like the F Max and fmin stuff
are somehow slow but that doesn't make
sense uh those can be slow depending on
sense uh those can be slow depending on
how fast how frequently they get called
how fast how frequently they get called
but if they're once per step it
but if they're once per step it
shouldn't
shouldn't
be well once per step per drone but I
be well once per step per drone but I
have like two drones so they're called
have like two drones so they're called
like you know a couple I do notice that
like you know a couple I do notice that
um uh if using conditionals is way
um uh if using conditionals is way
faster than using fmax App very often
faster than using fmax App very often
really MH
really MH
26 we're still most of
26 we're still most of
it
it
well I mean I can just write a function
well I mean I can just write a function
macro to do like Max or Min if it's like
macro to do like Max or Min if it's like
that much faster because this is
that much faster because this is
ridiculous so yeah you can put it there
ridiculous so yeah you can put it there
there but the respawning stuff should
there but the respawning stuff should
never happen because you have one life
never happen because you have one life
so we're testing yeah know I know I'm
so we're testing yeah know I know I'm
just saying my hypothesis is we're going
just saying my hypothesis is we're going
to get back to like a crazy 7even
to get back to like a crazy 7even
seconds or
whatever
whatever
yeah okay so hold on this block of code
yeah okay so hold on this block of code
right
right
here okay this block of code
drone heat drone weapon charge drone
drone heat drone weapon charge drone
cool down did we put one right after
cool down did we put one right after
like right around that assert or not
like right around that assert or not
okay it could be the assert that'd be
okay it could be the assert that'd be
really funny nah it it's it's in uh it
really funny nah it it's it's in uh it
should be compiled
out yeah it is because if we were in
out yeah it is because if we were in
release mode or debug mode I would see
release mode or debug mode I would see
debug BRS
so yeah that's that blocker
code go
slow I want another
slow I want another
window to do
this I'm going to move
and F Max and fmin potentially my new
and F Max and fmin potentially my new
greatest enemy that would be
greatest enemy that would be
hilarious honestly I mean hey I will be
hilarious honestly I mean hey I will be
very happy if I can get like a ton of
very happy if I can get like a ton of
perf from just not using them I am
perf from just not using them I am
usually pretty good at finding really
usually pretty good at finding really
stupid optimizations
that's ridiculous I mean I use FX and
that's ridiculous I mean I use FX and
fmin a lot so if I can just replace
fmin a lot so if I can just replace
those and get tons of perf that' just be
those and get tons of perf that' just be
so stupid but
amazing I mean so if you've optimized
amazing I mean so if you've optimized
stuff correctly I probably won't be able
stuff correctly I probably won't be able
to find anything because I'm not really
to find anything because I'm not really
that good at this stuff I'm just good at
that good at this stuff I'm just good at
finding really stupid optimizations that
finding really stupid optimizations that
have been
have been
missed uh let's see so weapon cool
missed uh let's see so weapon cool
down okay for
it could be though that this is spawning
it could be though that this is spawning
projectiles and that's what's taking a
projectiles and that's what's taking a
long time
long time
right no drone step doesn't spawn any
right no drone step doesn't spawn any
projectiles does it like set the cool
projectiles does it like set the cool
down so that you're allowed to or yeah
down so that you're allowed to or yeah
you can you can see the code all it's
you can you can see the code all it's
doing is like managing cooldowns and
doing is like managing cooldowns and
other timer relay stuff and then I do
other timer relay stuff and then I do
destroy the shield but rare
but mostly it's just managing cooldowns
but mostly it's just managing cooldowns
and other like related
things okay this is going to be
things okay this is going to be
unscientific because you know I've
unscientific because you know I've
Discord and your stream and blah blah
Discord and your stream and blah blah
blah but like I'm gonna try and replace
blah but like I'm gonna try and replace
fmin f with like my Min I don't know
fmin f with like my Min I don't know
what that's it is I'd be kind of
what that's it is I'd be kind of
surprised I know I'm just going to try
surprised I know I'm just going to try
it
locally wait did I do it
yeah I had like 60 instances of f Maxx
yeah I had like 60 instances of f Maxx
and 37 of f
minf h
minf h
oh this warning
suck yeah I see warnings are very not
suck yeah I see warnings are very not
they're very difficult to read I don't
they're very difficult to read I don't
think it's the maap I think it's what's
think it's the maap I think it's what's
implied by the
implied by the
maap maybe I'm giving it a try just in
maap maybe I'm giving it a try just in
case because you never
know yeah so what I do with hyperfine
know yeah so what I do with hyperfine
it's it's kind of like I don't know it's
it's it's kind of like I don't know it's
a very fancy tool you don't need this
a very fancy tool you don't need this
but it's just nice I do like a warm-up
but it's just nice I do like a warm-up
run just in case to kind of like I don't
run just in case to kind of like I don't
know get the you know cuz like a what is
know get the you know cuz like a what is
it like speculative execution all that
it like speculative execution all that
get the CPU warmed up and then it runs
get the CPU warmed up and then it runs
it does one warmup run and then I set it
it does one warmup run and then I set it
to do like three runs it takes the
to do like three runs it takes the
average and standard deviation of them
average and standard deviation of them
and then like without missing a beat
and then like without missing a beat
it'll do like my new Benchmark and then
it'll do like my new Benchmark and then
the old Benchmark or whatever it doesn't
the old Benchmark or whatever it doesn't
really matter the order
but so in drone step there this is stuck
but so in drone step there this is stuck
it's literally like it still hasn't
it's literally like it still hasn't
finished what did you change I hav't set
finished what did you change I hav't set
the cool down to zero yeah minute and
the cool down to zero yeah minute and
two seconds so it's the projectiles yeah
two seconds so it's the projectiles yeah
yeah you're because it's random action
yeah you're because it's random action
so it's gonna be shooting a lot
so it's gonna be shooting a lot
yeah okay but then where do we what do
yeah okay but then where do we what do
we do about
we do about
projectiles where do we
projectiles where do we
shoot uh drone shoot or shoot Dr I don't
shoot uh drone shoot or shoot Dr I don't
know something like that just search
know something like that just search
create
create
projectile and it's yeah Dr shoot
5.6
5.6
seconds so if we don't shoot it's fast
seconds so if we don't shoot it's fast
so these projectiles are not
optimized I mean you got to think about
optimized I mean you got to think about
it though if you're not shooting there's
it though if you're not shooting there's
like barely any physics
like barely any physics
happening well let's figure out what's
happening well let's figure out what's
going on with
going on with
these weapon needs
charge
charge
see all right I'm G head out and get
see all right I'm G head out and get
some other work done see Aon I'll uh let
some other work done see Aon I'll uh let
you know did you need something or you
you know did you need something or you
just hanging out here I just hanging out
just hanging out here I just hanging out
letting you know that the first pass at
letting you know that the first pass at
the uh online LP stuff is up and running
the uh online LP stuff is up and running
awesome yeah I let me know if you get
awesome yeah I let me know if you get
something to like actually improves over
something to like actually improves over
random or like close to the offline one
random or like close to the offline one
because that's when we're going to start
because that's when we're going to start
I have to start look at optimizing and
I have to start look at optimizing and
integrating for uh yeah
integrating for uh yeah
yep we'll do bye
yep we'll do bye
so okay let's see how slow this
is so that adds like a second to this
is so that adds like a second to this
what
what
does doing everything except spawning
does doing everything except spawning
the projectile so you like you get the
the projectile so you like you get the
impulse and The Recoil and
everything oh wait so you compute the
everything oh wait so you compute the
forces but don't actually spawn the
forces but don't actually spawn the
projectile okay so this create
projectile yeah and if you create the
projectile yeah and if you create the
projectile then it's got to
projectile then it's got to
um it's got to actually like a simulate
um it's got to actually like a simulate
it so the creation in and of itself
it so the creation in and of itself
isn't that slow it's probably just a
isn't that slow it's probably just a
simulation
I'm just double checking to make sure no
I'm just double checking to make sure no
I know I'm I'm not I'm not saying don't
I know I'm I'm not I'm not saying don't
do it I'm just going to explain it all
do it I'm just going to explain it all
right cool so the projectiles are the
right cool so the projectiles are the
slow
slow
thing let me see how you create them and
thing let me see how you create them and
what you do with them yeah but I'm also
what you do with them yeah but I'm also
very confused that like your return true
very confused that like your return true
and drone step like how that affected
and drone step like how that affected
that much because it made it so that it
that much because it made it so that it
uh it never the cool down yeah that that
uh it never the cool down yeah that that
makes yep yep yep never mind yeah yeah
makes yep yep yep never mind yeah yeah
yeah I get it projectile
entity this actually has to return
entity this actually has to return
something void uh what function I'm just
something void uh what function I'm just
trying to see oh yeah most of these
trying to see oh yeah most of these
create functions don't return anything
create functions don't return anything
does this
does this
um has it been created here already and
um has it been created here already and
added to the engine or no like PA
lovely I guess you have
lovely I guess you have
to what are you trying to
to what are you trying to
do uh just immediately destroy the
do uh just immediately destroy the
projectile oh
projectile oh
um you can just uh B2 destroy body or
um you can just uh B2 destroy body or
see this is tough cuz actual function
see this is tough cuz actual function
because I just have it like auto
because I just have it like auto
complete to yeah that should
work because it'll free the shape or
work because it'll free the shape or
it'll destroy the shape as
well do a uh make the bug demo because
well do a uh make the bug demo because
then it'll build with the address
then it'll build with the address
sanitizer and probably tell you like
sanitizer and probably tell you like
what happened
debug demo I don't have a debug
Benchmark but it'll still hit the same
Benchmark but it'll still hit the same
code
path
path
[Music]
[Music]
um I don't know I'm wondering if it's
um I don't know I'm wondering if it's
might be worth it to go through more of
might be worth it to go through more of
the game file just so you kind of
the game file just so you kind of
understand more of it before diving to
understand more of it before diving to
some stuff it's up to you we totally can
some stuff it's up to you we totally can
we give it a couple minutes just to see
we give it a couple minutes just to see
see if I immediately find anything I
see if I immediately find anything I
just want to know if like if the actual
just want to know if like if the actual
creation of the projectiles is slow that
creation of the projectiles is slow that
would kind of be funny
would kind of be funny
right because it wouldn't be surprising
right because it wouldn't be surprising
maybe there's like maybe it isn't
maybe there's like maybe it isn't
actually cashing your malx as nicely as
actually cashing your malx as nicely as
you'd
like I mean if you can see where DL
like I mean if you can see where DL
Malik is in the OR box 2D yeah but at
Malik is in the OR box 2D yeah but at
least my memory allocations well this
least my memory allocations well this
does this
does this
works but it's actually it's not it's
works but it's actually it's not it's
not deleting them is it well no B there
not deleting them is it well no B there
you don't delete them in the array so
you don't delete them in the array so
the renderer still thinks they're there
the renderer still thinks they're there
but look nothing happens when you go
but look nothing happens when you go
through
through
them so the
them so the
render
render
huh it's segs
huh it's segs
eventually yeah the thing is like some
eventually yeah the thing is like some
random thing caus it to seg
random thing caus it to seg
fault oh body is
fault oh body is
valid that's probably what
valid that's probably what
happened um do you have a quick fix this
happened um do you have a quick fix this
or not really not really all right well
or not really not really all right well
you have this to look at now right yeah
you have this to look at now right yeah
now you know it's the
now you know it's the
projectiles so um yeah you know do
projectiles so um yeah you know do
projectiles need as accurate physics as
projectiles need as accurate physics as
agents do
agents do
right so you can't really control the
right so you can't really control the
Fidelity of individual things you can
Fidelity of individual things you can
only control the physics Fidelity of
only control the physics Fidelity of
like the whole simulation that's
like the whole simulation that's
obnoxious isn't it I mean I
obnoxious isn't it I mean I
guess no like seriously I don't is isn't
guess no like seriously I don't is isn't
that a thing in game engines
that a thing in game engines
like if you have a million little thing
like if you have a million little thing
lik that don't need High Fidelity
lik that don't need High Fidelity
physics like the player needs High Fidel
physics yeah everything else needs to
physics yeah everything else needs to
not go through like walls or
not go through like walls or
whatever so what probably makes the
whatever so what probably makes the
physics slow if you pull back up the
physics slow if you pull back up the
like GPR thing so for a lot of the um
like GPR thing so for a lot of the um
projectiles I have to turn on continuous
projectiles I have to turn on continuous
Collision detection which makes it
Collision detection which makes it
slower but what that does is ensures
slower but what that does is ensures
that like when projectiles going really
that like when projectiles going really
fast they don't tunnel through other
fast they don't tunnel through other
Dynamic objects like other players well
Dynamic objects like other players well
Sol continuous this
Sol continuous this
is yeah 9%
is yeah 9%
total yeah not it's
total yeah not it's
even we're not at like this was this was
even we're not at like this was this was
uh with projectiles versus without
uh with projectiles versus without
projectiles it's like four or five times
projectiles it's like four or five times
faster yeah well I mean look
faster yeah well I mean look
cumulative seconds is it and all its
cumulative seconds is it and all its
children so solve continuous is more
children so solve continuous is more
expensive than even the step the world
expensive than even the step the world
step oh wait yep you're
step oh wait yep you're
right so yeah that is a decent chunk so
right so yeah that is a decent chunk so
I think that's mainly what it is it's
I think that's mainly what it is it's
just doing continuous Collision
just doing continuous Collision
detection Sol contacts is 10 though 10.4
detection Sol contacts is 10 though 10.4
seconds
yeah I mean there is stuff to look at
yeah I mean there is stuff to look at
here um because this is
here um because this is
not well I don't know you'd have to look
not well I don't know you'd have to look
but I I guess like the games that have a
but I I guess like the games that have a
bajillion projectiles they're they don't
bajillion projectiles they're they don't
need to run this
need to run this
fast yeah I no well I mean I could I can
fast yeah I no well I mean I could I can
run this thing that literally thousands
run this thing that literally thousands
of FPS on my machine probably like
of FPS on my machine probably like
hundreds of FPS on a normal laptop so
hundreds of FPS on a normal laptop so
it's for a normal game it's like plenty
it's for a normal game it's like plenty
fast but it's also barely doing anything
fast but it's also barely doing anything
with Graphics so that makes sense yeah
with Graphics so that makes sense yeah
but RL is different MH so I mean at
but RL is different MH so I mean at
least now we know it's the projectiles
least now we know it's the projectiles
right yeah I mean it's not like the base
right yeah I mean it's not like the base
game
game
somehow yeah so like the engine on the
somehow yeah so like the engine on the
agents running around the the
agents running around the the
environment even when they're like you
environment even when they're like you
know adding impulse and stuff like that
know adding impulse and stuff like that
is all fast yeah which makes sense if
is all fast yeah which makes sense if
there's some Corners to cut on the
there's some Corners to cut on the
projectile there's up to a 4X
projectile there's up to a 4X
Improvement if you make them virtually
Improvement if you make them virtually
free somehow yeah I don't know how you
free somehow yeah I don't know how you
do that
do that
okay well let's review the thing now at
okay well let's review the thing now at
least I've done I've done
least I've done I've done
something
yeah unfortunately it wasn't just the F
yeah unfortunately it wasn't just the F
Max
Max
F literally I have had that be the issue
F literally I have had that be the issue
in a Cuda
in a Cuda
kernel that's
funny yeah so like none of these things
funny yeah so like none of these things
have substantial time in them so we we
have substantial time in them so we we
just have to look at uh yeah what you're
just have to look at uh yeah what you're
doing here so entity transform okay
doing here so entity transform okay
closest
closest
point distance proxxy
thing position behind
wall build match
filter so this is if there is something
filter so this is if there is something
in the way
in the way
Yeah so basically you pass the filtering
Yeah so basically you pass the filtering
of like what you want to detect that is
of like what you want to detect that is
in the in the way so basically like you
in the in the way so basically like you
pass into start and end position so say
pass into start and end position so say
for example I mostly use this for
for example I mostly use this for
explosions like okay explosion goes off
explosions like okay explosion goes off
and I detect that like within the
and I detect that like within the
explosion radius like there's a player
explosion radius like there's a player
and then I pass in okay like from the
and then I pass in okay like from the
the center of the explosion to the
the center of the explosion to the
player can are there like can you hit
player can are there like can you hit
any walls and if so like yeah like
any walls and if so like yeah like
return true basically
so yeah um query query filters use a lot
so yeah um query query filters use a lot
in box TD because you tell it like when
in box TD because you tell it like when
you're doing a check like what um what
you're doing a check like what um what
shape type are you wanting to do the
shape type are you wanting to do the
check as like do you want to do this
check as like do you want to do this
check like it's a projectile like it's a
check like it's a projectile like it's a
wall whatever and then what do you want
wall whatever and then what do you want
to actually detect like do you want to
to actually detect like do you want to
detect walls players whatever so yeah
detect walls players whatever so yeah
there's it has a cool like um
there's it has a cool like um
bit masking or bit whatever bit mapping
bit masking or bit whatever bit mapping
masking it uses like bits and stuff um
masking it uses like bits and stuff um
bit Maps I think to do like Collision
bit Maps I think to do like Collision
stuff so yeah it's pretty fast in that
stuff so yeah it's pretty fast in that
sense like checking
sense like checking
stuff okay and here's the overlapping
stuff okay and here's the overlapping
circles that you use for that right use
circles that you use for that right use
this cuz the explosions a
this cuz the explosions a
circle lot yeah this is so the
circle lot yeah this is so the
overlapping circle is excl is
overlapping circle is excl is
exclusively used like I said um when you
exclusively used like I said um when you
place a mine it's detecting okay are
place a mine it's detecting okay are
there any drones in the mine's like
there any drones in the mine's like
explosion or in this proximity detection
explosion or in this proximity detection
radius so this isn't even used for like
radius so this isn't even used for like
the imploder or anything
the imploder or anything
no that one is the explode callback
no that one is the explode callback
which is very large and you'll see yeah
which is very large and you'll see yeah
a lot of
a lot of
callbacks that's kind of box 2D though
callbacks that's kind of box 2D though
not you right yeah I mean I guess like
I me it's hard to say i' I'd like really
I me it's hard to say i' I'd like really
have to be debing my own box 2 DMS to
have to be debing my own box 2 DMS to
see if that's really the same thing to
see if that's really the same thing to
be doing is to heavily use call backs
be doing is to heavily use call backs
for all this stuff um I mean it looks
for all this stuff um I mean it looks
like designed for it though yeah I don't
like designed for it though yeah I don't
I don't know how else you do it because
I don't know how else you do it because
like the way I handle explosions for
like the way I handle explosions for
instance I just tell it to do like
instance I just tell it to do like
basically I give it like um an aab so
basically I give it like um an aab so
basically like a box and tell it like
basically like a box and tell it like
okay like basically call my function for
okay like basically call my function for
everything in this box and then I just
everything in this box and then I just
do custom stuff over it so like
do custom stuff over it so like
otherwise it have to like return an
otherwise it have to like return an
array or something and have to arrate
array or something and have to arrate
over it yeah it would just return an
over it yeah it would just return an
array
array
exactly
exactly
yeah but it might be more expensive to
yeah but it might be more expensive to
keep that stuff in memory like if
keep that stuff in memory like if
there's a ton of stuff because IND or
there's a ton of stuff because IND or
whatever I it's but I guess this is the
whatever I it's but I guess this is the
way the Box 2D is designed because it
way the Box 2D is designed because it
doesn't return right or these your
doesn't return right or these your
functions no it doesn't return right so
functions no it doesn't return right so
this is box 2D then being I honestly
this is box 2D then being I honestly
this is like I hate this style of
this is like I hate this style of
programming it's it's like heavily event
programming it's it's like heavily event
driven the reason being that it takes
driven the reason being that it takes
the control flow away from you and
the control flow away from you and
sticks it into a library whereas if you
sticks it into a library whereas if you
just give me the ID over which to like
just give me the ID over which to like
iterate it you keep your own control
iterate it you keep your own control
flow rather than having it go into the
flow rather than having it go into the
library and then call your code from
library and then call your code from
there it's kind of just a gross pattern
there it's kind of just a gross pattern
at least well for my opinion but I see
at least well for my opinion but I see
you're saying but at least for box 2D
you're saying but at least for box 2D
like say for example I have a huge
like say for example I have a huge
explosion and I want to say okay give me
explosion and I want to say okay give me
everything in the explosion radius it
everything in the explosion radius it
gives me like 100 entities that's all
gives me like 100 entities that's all
like a lot and maybe like I'm only
like a lot and maybe like I'm only
actually going to like affect like five
actually going to like affect like five
of them that's like it has to you know
of them that's like it has to you know
keep getting all of them whereas I could
keep getting all of them whereas I could
tell it oh like I only want like the
tell it oh like I only want like the
first five okay you can stop now and
first five okay you can stop now and
then the same thing oh I see what you
then the same thing oh I see what you
mean yeah this is where like the you
mean yeah this is where like the you
would want
would want
this is kind of where you would like an
this is kind of where you would like an
iterator or
iterator or
something right yeah but maybe if it was
something right yeah but maybe if it was
a different language C doesn't really
a different language C doesn't really
like you could do a weird iterator thing
like you could do a weird iterator thing
but like I think callbacks are a
cleaner well the thing is you also don't
cleaner well the thing is you also don't
necessarily need an iterator for this
necessarily need an iterator for this
either what you want is this overlap
either what you want is this overlap
call like all this is doing is applying
call like all this is doing is applying
a physics check to everything in a scene
a physics check to everything in a scene
right or to like a number of things in a
right or to like a number of things in a
scene and then it's like doing something
scene and then it's like doing something
at some point in that Loop if you write
at some point in that Loop if you write
that Loop then you don't need this right
that Loop then you don't need this right
so if you did B2 World overlap Circle
so if you did B2 World overlap Circle
this is meant to just like go look at
this is meant to just like go look at
everything you could just do can you not
everything you could just do can you not
just like go over things in world and
just like go over things in world and
then do like if Circle overlap then this
then do like if Circle overlap then this
code uh maybe but like it'd be difficult
code uh maybe but like it'd be difficult
and probably slower because it's like
and probably slower because it's like
optimized it's like built to do it this
optimized it's like built to do it this
way
way
weird you you probably end up just like
weird you you probably end up just like
Reinventing like the internals of B2
Reinventing like the internals of B2
World overlap Circle which like doesn't
World overlap Circle which like doesn't
really make much
really make much
sense well I think that you end up
sense well I think that you end up
Reinventing stuff because it maybe it
Reinventing stuff because it maybe it
shouldn't be an API call like I don't
shouldn't be an API call like I don't
know I often think that stuffs that
know I often think that stuffs that
requires callbacks just shouldn't be
requires callbacks just shouldn't be
part of the
part of the
API um like you should just give me the
API um like you should just give me the
lower level primitive so that I write
lower level primitive so that I write
the loop and I write the code that
the loop and I write the code that
you're trying to take as a call back but
you're trying to take as a call back but
whatever there's no point in arguing it
whatever there's no point in arguing it
because it's like box DD is written like
because it's like box DD is written like
this so it makes sense the way you've
this so it makes sense the way you've
done it the one thing we can agree or
done it the one thing we can agree or
disagree but the one thing I will say in
disagree but the one thing I will say in
these like calls box 2D does a lot of
these like calls box 2D does a lot of
like uh what's the word for just had it
like uh what's the word for just had it
just kind of like Tiding up like doing
just kind of like Tiding up like doing
little things that are like nonobvious
little things that are like nonobvious
like it doesn't just like get an array
like it doesn't just like get an array
of things Loop over and call your call
of things Loop over and call your call
back like it does a non-trivial amount
back like it does a non-trivial amount
of things so and then calls your call
of things so and then calls your call
back like very specific conditions are
back like very specific conditions are
held if you go and look at the source so
held if you go and look at the source so
okay to me it kind of makes sense
okay to me it kind of makes sense
because I look at it more then yeah I
because I look at it more then yeah I
just don't want to have to worry about
just don't want to have to worry about
it so I don't have
it so I don't have
to
to
but but now we're
but but now we're
having all over the place H but now we
having all over the place H but now we
are still having to debug this per stuff
are still having to debug this per stuff
it's like internal to box 2D and it's
it's like internal to box 2D and it's
more opaque
more opaque
yeah you're going to get some of that no
yeah you're going to get some of that no
matter how you structure stuff though
matter how you structure stuff though
like how they structure stuff I think
like how they structure stuff I think
just because it's just physics heavy
but yeah find open pause I've optimized
but yeah find open pause I've optimized
but like it's it's it's very fast like
but like it's it's it's very fast like
it it's you don't even see it on that
it it's you don't even see it on that
thing it's not a big
deal so it just it finds random
deal so it just it finds random
tile yeah um within a given like map
tile yeah um within a given like map
quadrant if you like ask it for one what
quadrant if you like ask it for one what
is this for for spawning yeah oh yeah I
is this for for spawning yeah oh yeah I
have similar logic to this cool
have similar logic to this cool
yeah and I use the quadrants because uh
yeah and I use the quadrants because uh
just to spawn like um weapons more like
just to spawn like um weapons more like
evenly and then also um this was
evenly and then also um this was
interesting
interesting
fun so this is probably like kind of um
fun so this is probably like kind of um
um obvious to you being an RL a lot but
um obvious to you being an RL a lot but
one thing that had a huge like a massive
one thing that had a huge like a massive
learning difference was um I made one
learning difference was um I made one
change it was like a oneline change to
change it was like a oneline change to
basically say Okay instead of like
basically say Okay instead of like
spawning drones like randomly spawn them
spawning drones like randomly spawn them
if you have two drones in like opposite
if you have two drones in like opposite
quadrants from each other yeah like
quadrants from each other yeah like
diagonally and that like killed learning
diagonally and that like killed learning
just because they started farther away
just because they started farther away
so it was harder for the agents to like
so it was harder for the agents to like
learn shooting as good so initial
learn shooting as good so initial
conditions and environments like this
conditions and environments like this
are huge um unless it's you just have
are huge um unless it's you just have
the damn thing running so fast and tuned
the damn thing running so fast and tuned
well enough that they just get over that
well enough that they just get over that
initial bit quick enough but it doesn't
matter so yes I've spent a lot of time
matter so yes I've spent a lot of time
debugging initial conditions in various
debugging initial conditions in various
stages of
stages of
neuro so yeah now I do spawn drones like
neuro so yeah now I do spawn drones like
in different quadrants but only when
in different quadrants but only when
you're like just playing as a human in
you're like just playing as a human in
training I just spawn them all like
training I just spawn them all like
random places basically yeah this is
fine don't spawn them in the death walls
fine don't spawn them in the death walls
right well so I pre-compute a list of
right well so I pre-compute a list of
like spawn points that are good for
like spawn points that are good for
drones um like so I don't have to do a
drones um like so I don't have to do a
bunch of distance checks every time but
bunch of distance checks every time but
if they're walls place like they might
if they're walls place like they might
be covering the spawn point so just this
be covering the spawn point so just this
doesn't even show up in the yeah no it's
doesn't even show up in the yeah no it's
fast and it's not called that often
fast and it's not called that often
unless hang on where is
it
find I don't see it
anywhere maybe it's literally out of
anywhere maybe it's literally out of
here
maybe find open
plus 23 oh okay yeah the Cula time is 23
plus 23 oh okay yeah the Cula time is 23
I think this thing is just not accurate
I think this thing is just not accurate
yeah no because that doesn't make any
yeah no because that doesn't make any
sense but it's like self time is like
sense but it's like self time is like
literally zero it's so small it won't
literally zero it's so small it won't
even measure
even measure
it and then Cory filter
it and then Cory filter
is loading wall weapon pickup
drone so the shape type is passed in the
drone so the shape type is passed in the
beginning I think and yeah so we're
beginning I think and yeah so we're
basically saying like
basically saying like
at um is anything overlapping as like
at um is anything overlapping as like
whatever we're checking for spawn point
whatever we're checking for spawn point
like are there any floating walls weapon
like are there any floating walls weapon
pickups or other drones like as this
pickups or other drones like as this
thing within a men spawn
distance I bet you could still do like a
distance I bet you could still do like a
tile based thing where you wouldn't even
tile based thing where you wouldn't even
have to freaking deal with that
have to freaking deal with that
but I think I've actually benchmarked
but I think I've actually benchmarked
it's actually faster to use their
it's actually faster to use their
overlap stuff because they have like
overlap stuff because they have like
optimizations and stuff
optimizations and stuff
and then just the last code on my
part yeah because they use a couple
part yeah because they use a couple
different data structures to keep track
different data structures to keep track
of stuff so it's like quick to do these
of stuff so it's like quick to do these
kind of checks I forget it's like
kind of checks I forget it's like
something similar to a quad tree but not
something similar to a quad tree but not
exactly it's like specific for physics I
exactly it's like specific for physics I
can't remember I've never heard of it
can't remember I've never heard of it
before some kind of tree though and some
before some kind of tree though and some
other things something is
not but there is something in here that
not but there is something in here that
is not as fast as I would think it could
is not as fast as I would think it could
be at 100 something in this function no
be at 100 something in this function no
not in this function just generally in
not in this function just generally in
the way they're doing their checks um it
the way they're doing their checks um it
might not be anything to do with the
might not be anything to do with the
contact checks to be
contact checks to be
fair but you would think that it would
fair but you would think that it would
be because that's kind of the only thing
be because that's kind of the only thing
you have to
you have to
do right it's probably like I said just
do right it's probably like I said just
the like the CCD The Continuous
the like the CCD The Continuous
Collision detection is I think like the
Collision detection is I think like the
main slowdown and projectiles have that
so yeah Sol okay we'll go we'll fiddle
so yeah Sol okay we'll go we'll fiddle
with that after Great
Wall y each wall is a different object
Wall y each wall is a different object
yeah I asked about have to be to be fair
yeah I asked about have to be to be fair
it doesn't but easier for me and I asked
it doesn't but easier for me and I asked
like would it be faster if I just you
like would it be faster if I just you
know merged into one big wall and he's
know merged into one big wall and he's
like it shouldn't really make a
like it shouldn't really make a
difference
difference
so I should be unlog in I would think
so I should be unlog in I would think
but okay what
but okay what
would uh no it's it's log n it's log n
would uh no it's it's log n it's log n
so
so
it's each Collision check should be log
it's each Collision check should be log
n of the number of stuff in the scene
n of the number of stuff in the scene
roughly yeah I don't
roughly yeah I don't
know maybe you do a little better than
know maybe you do a little better than
that I don't know
that I don't know
you could pop on Discord and ask him or
you could pop on Discord and ask him or
I could ask on your
I could ask on your
behalf we can also Time
stuff
e e
it's so obnoxious how like every single
it's so obnoxious how like every single
thing basically every single interaction
thing basically every single interaction
with box 2D it's just this massive ass
with box 2D it's just this massive ass
thing yeah I
thing yeah I
mean yeah you need to you need to tell
mean yeah you need to you need to tell
it a bunch of stuff about shapes and
it a bunch of stuff about shapes and
bodies though so it just kind of is what
bodies though so it just kind of is what
it is it's like two separate things as
it is it's like two separate things as
well where it's
like yeah because I mean you have rigid
like yeah because I mean you have rigid
bodies that the the body and then you
bodies that the the body and then you
can have multiple shapes per body which
can have multiple shapes per body which
I almost never do for me but you can so
I almost never do for me but you can so
yeah you have to create a body which
yeah you have to create a body which
kind of like is the container for the
kind of like is the container for the
shapes and then the shapes are actually
shapes and then the shapes are actually
what collide with stuff um I don't see
what collide with stuff um I don't see
why you have multi what the hell does
why you have multi what the hell does
multiple shapes per body do they like
multiple shapes per body do they like
move together yeah like say you have
move together yeah like say you have
like a bicycle or something you could
like a bicycle or something you could
have one body and then you could have
have one body and then you could have
like multiple shapes for wheels and
like multiple shapes for wheels and
handlebars and other stuff and that's
handlebars and other stuff and that's
just like a rigid thing I guess
yeah that's so weird that they make that
yeah that's so weird that they make that
the default of like okay in order to
the default of like okay in order to
support that then everything has to go
support that then everything has to go
under a a body I mean to be fair though
under a a body I mean to be fair though
I haven't I'm not a physics huge person
I haven't I'm not a physics huge person
but like I've like to looked a little
but like I've like to looked a little
bit at a couple different physics
bit at a couple different physics
engines and I think it's a very like
engines and I think it's a very like
common thing for most
common thing for most
engines they call them different things
engines they call them different things
like fixtures or whatever but
like fixtures or whatever but
necessarily care if it's a common thing
necessarily care if it's a common thing
I care that it's 10 lines of code to
I care that it's 10 lines of code to
make a bloody
make a bloody
Square again though like there's a lot
Square again though like there's a lot
of things I like there's a lot more
of things I like there's a lot more
things I could set but I don't have to
things I could set but I don't have to
because the defaults are fine like I
because the defaults are fine like I
don't know I just set what I need
don't know I just set what I need
to I mean I don't know you're dealing
to I mean I don't know you're dealing
with physics like there's just going to
with physics like there's just going to
be more boiler
plate well I don't necessarily buy that
plate well I don't necessarily buy that
there's ever going to have to be a ton
there's ever going to have to be a ton
of boiler
of boiler
plate
um it's difficult to come up with
um it's difficult to come up with
designs for things that reduce boiler
designs for things that reduce boiler
plate but it's damn
plate but it's damn
useful I mean to be honest I feel like
useful I mean to be honest I feel like
box 2D strikes a good balance you have
box 2D strikes a good balance you have
to kind of read more and get a feel for
to kind of read more and get a feel for
yourself but yeah it does a lot of stuff
yourself but yeah it does a lot of stuff
like it handles a lot of stuff and
like it handles a lot of stuff and
allows you to do a lot of stuff and I
allows you to do a lot of stuff and I
don't know a lot of it is you just kind
don't know a lot of it is you just kind
of tell it like initial things like yeah
of tell it like initial things like yeah
there's there's a decent bit of code to
there's there's a decent bit of code to
like set up shapes and bodies but then
like set up shapes and bodies but then
it handles a lot of stuff for you just
it handles a lot of stuff for you just
pretty like
smoothly but I mean again like there's a
smoothly but I mean again like there's a
lot of different proper depending on
lot of different proper depending on
physics objects like density and size
physics objects like density and size
and Mass like friction is this a what is
and Mass like friction is this a what is
this uh yeah that's a function that a
this uh yeah that's a function that a
function returns a struct like they
function returns a struct like they
don't even give
don't even give
you they don't even like give you the
you they don't even like give you the
struct so that you can like use nice
struct so that you can like use nice
struct initializer
struct initializer
syntax yeah so this is one weird thing
syntax yeah so this is one weird thing
because it's I for because it needs an
because it's I for because it needs an
ID or something well no so the the ID is
ID or something well no so the the ID is
created below so again you could do this
created below so again you could do this
more easily if you an LSP but if you go
more easily if you an LSP but if you go
into B2 default body def they every like
into B2 default body def they every like
body and shape and basically every main
body and shape and basically every main
like death thing in box 2D has like a
like death thing in box 2D has like a
secret cookie that like it sets and the
secret cookie that like it sets and the
engine will like basically I don't know
engine will like basically I don't know
if it's an assertion check like only de
if it's an assertion check like only de
bug check or it'll basically check to
bug check or it'll basically check to
make sure you like basically got it from
make sure you like basically got it from
this function because this function sets
this function because this function sets
like safe defaults for things
like safe defaults for things
so I'm not necessarily agreeing
so I'm not necessarily agreeing
disagreeing with that that's just how it
disagreeing with that that's just how it
is so the function is nice though
is so the function is nice though
because it does set like there are a ton
because it does set like there are a ton
of different members on these trucks and
of different members on these trucks and
it sets like a whole bunch of same
it sets like a whole bunch of same
defaults and if they weren't there I
defaults and if they weren't there I
need to set like a whole bunch more
need to set like a whole bunch more
stuff myself so I don't I'm not yeah
stuff myself so I don't I'm not yeah
it's annoying because you don't have
it's annoying because you don't have
default values for stru and see right
default values for stru and see right
yeah so I think it's fine
so yeah basically yeah that's a language
so yeah basically yeah that's a language
Li that's a language limitation to be
Li that's a language limitation to be
fair yeah I mean I think I don't know C
fair yeah I mean I think I don't know C
it would be nice to have I think default
it would be nice to have I think default
I really don't want a lot of stuff in C
I really don't want a lot of stuff in C
like I really like the language but like
like I really like the language but like
stuff like defaults on structs
stuff like defaults on structs
maybe I don't
know yeah this is honestly very simple
know yeah this is honestly very simple
body and shape definition cuz like it's
body and shape definition cuz like it's
simple it's just really verbos there's a
simple it's just really verbos there's a
lot of
lot of
boiler
yeah me to be fair also there's
yeah me to be fair also there's
like that's
fine the syntax I've ever seen on this
fine the syntax I've ever seen on this
is isn't it like the C++ thing where
is isn't it like the C++ thing where
they do like position value do user data
they do like position value do user data
value whatever and they just chain
value whatever and they just chain
it uh I don't know I don't know what
it uh I don't know I don't know what
language that
language that
is
is
but could be
worse okay so we just we're going to
worse okay so we just we're going to
have weapon pickup
have weapon pickup
and
today oh okay I'm also just getting
today oh okay I'm also just getting
confused because the types are all so
confused because the types are all so
camel
camel
cased I am a camel case
cased I am a camel case
enjoyer upper camel for the types For
enjoyer upper camel for the types For
Heaven's Sake but fine what' you say oh
Heaven's Sake but fine what' you say oh
upper camel the the like the types don't
upper camel the the like the types don't
the types start
the types start
lowercase yeah I don't know
usually you at least uper camel the
usually you at least uper camel the
whatever yeah come to think of it I'm
whatever yeah come to think of it I'm
kind of surprised I don't do that
kind of surprised I don't do that
because I WR want to go because in go
because I WR want to go because in go
like the way you export or
like the way you export or
unexported or not that's horrifying oh
unexported or not that's horrifying oh
honestly people say that but it makes a
honestly people say that but it makes a
ton of sense because you don't there's
ton of sense because you don't there's
no keywords there's no public private
no keywords there's no public private
whatever you can e immediately look at
whatever you can e immediately look at
anything and know if it's public or
anything and know if it's public or
private so it's honestly kind of
private so it's honestly kind of
brilliant in my opinion you just don't
brilliant in my opinion you just don't
have public or private but
have public or private but
whatever I don't know it's useful
whatever I don't know it's useful
because you have some API and you don't
because you have some API and you don't
want people to touch internals and then
want people to touch internals and then
you can kind of enforce it with the
you can kind of enforce it with the
language because people are stupid so or
language because people are stupid so or
sometimes future you is stupid
so it's a useful programming idiom yeah
not a keyword
not a keyword
enjoyer I mean that's a thing though it
enjoyer I mean that's a thing though it
gets rid of a keyword but you can also
gets rid of a keyword but you can also
just not have the keyword in the first
just not have the keyword in the first
place and just not have the
place and just not have the
distinction you can but I mean even C
distinction you can but I mean even C
has the way like has a way to do it you
has the way like has a way to do it you
just make things
just make things
static I never use that
keyword yeah I don't really but again if
keyword yeah I don't really but again if
you're making a library I think it's
you're making a library I think it's
useful because the then you can ensure
useful because the then you can ensure
like users won't come to you like oh man
like users won't come to you like oh man
I did this thing and now it's BR I don't
I did this thing and now it's BR I don't
really care if you called some like if
really care if you called some like if
you called some random internal function
you called some random internal function
that's not in the docs right I know but
that's not in the docs right I know but
sometimes the thing is like it's not
sometimes the thing is like it's not
obvious they did that but you can kind
obvious they did that but you can kind
of prevent that by doing that unless
of prevent that by doing that unless
like they literally change the source to
like they literally change the source to
do it and then it's like more obvious
do it and then it's like more obvious
you
you
know it just eliminates a whole class of
know it just eliminates a whole class of
Errors like I don't know it's really and
Errors like I don't know it's really and
it's really simple to do so I don't
it's really simple to do so I don't
really see a downside
I guess the lack of name spacing is yeah
okay because C doesn't really have any
okay because C doesn't really have any
sort of name space so yeah no no
yeah that is kind of
yeah that is kind of
annoying whatever
why are there so many different types of
entities I mean I need different info
entities I mean I need different info
for different entities so so I guess you
for different entities so so I guess you
just have separate structs for
just have separate structs for
everything yeah oh
my normal trick is just entity and I
my normal trick is just entity and I
just you know
just you know
like unless there's a perras in like I
like unless there's a perras in like I
projectiles probably want something
projectiles probably want something
smaller because there are a lot of them
smaller because there are a lot of them
but I just like have all the fields for
but I just like have all the fields for
all the
all the
entities yeah there's enough different
entities yeah there's enough different
types that I just it just be too
types that I just it just be too
confusing and messing for my taste
confusing and messing for my taste
personally but well you avoid stuff like
personally but well you avoid stuff like
needing a per type thing like
needing a per type thing like
this I mean yeah but then you'd have to
this I mean yeah but then you'd have to
special case it because like oh I'm
special case it because like oh I'm
creating you have to pass in like an
creating you have to pass in like an
enom or something to tell it like what
enom or something to tell it like what
you're creating to set Fields
you're creating to set Fields
accordingly yeah but this just makes
accordingly yeah but this just makes
more sense to me because instead of
more sense to me because instead of
having one giant function does
having one giant function does
everything you have smaller functions
everything you have smaller functions
that do like one
that do like one
thing yeah just have a lot of
thing yeah just have a lot of
them yeah it's easier to keep in your
them yeah it's easier to keep in your
mental mind though because you want to
mental mind though because you want to
say oh I want to change the behavior
say oh I want to change the behavior
of like how you know pickups respond
of like how you know pickups respond
it's like one small function usually l
it's like one small function usually l
in my I don't know it's these are all
in my I don't know it's these are all
silly preferen things right like in my
silly preferen things right like in my
mind it's just like having less code is
mind it's just like having less code is
also
easier yeah this was kind of tough to
easier yeah this was kind of tough to
figure out how to do create drone Shield
figure out how to do create drone Shield
what's the
what's the
shield so when you first start it's this
shield so when you first start it's this
like little opaque thing that goes over
like little opaque thing that goes over
you it basically eats any shots like any
you it basically eats any shots like any
shot that hits you it doesn't affect
shot that hits you it doesn't affect
your velocity at all um for like three
your velocity at all um for like three
or so seconds after you
or so seconds after you
spawn um but it was tough to make it so
spawn um but it was tough to make it so
that it would follow you around and not
that it would follow you around and not
affect your movement but also just eat
affect your movement but also just eat
shots because if I made a dynamic body
shots because if I made a dynamic body
it would you know like it would still
it would you know like it would still
move but if I made it a dynamic body
move but if I made it a dynamic body
attached to you then would like
attached to you then would like
interfere with movement
interfere with movement
so sep object you couldn't have just
so sep object you couldn't have just
like made the entity immune to shots for
like made the entity immune to shots for
a few
a few
seconds so yeah you can't so the only
seconds so yeah you can't so the only
way you could really the only way you
way you could really the only way you
could really do that is say like don't
could really do that is say like don't
collide with shots then they would just
collide with shots then they would just
pass through
pass through
it oh I see and you want to eat them
it oh I see and you want to eat them
yeah like if you shoot a shielded player
yeah like if you shoot a shielded player
just bounces off the player the shield I
just bounces off the player the shield I
guess if I were trying to do this your
guess if I were trying to do this your
way it would be or Not Your Way box way
way it would be or Not Your Way box way
it would
it would
be wouldn't you just set you set the
be wouldn't you just set you set the
shield as a mask bit
shield as a mask bit
right and then when you're doing
right and then when you're doing
Collision checks The Shield is one of
Collision checks The Shield is one of
the Mask bits and your call back tells
the Mask bits and your call back tells
you that hey if the shield bit is set
you that hey if the shield bit is set
you eat this projectile instead of
you eat this projectile instead of
letting it pass
letting it pass
through yeah but don't have a call back
through yeah but don't have a call back
for like on collision um well yeah they
for like on collision um well yeah they
don't really have like an on collision
don't really have like an on collision
do this they just there's no on
do this they just there's no on
collision they have Collision callbacks
collision they have Collision callbacks
which I handle like events basically
which I handle like events basically
Collision events which I consume but
Collision events which I consume but
they don't have like I am in the process
they don't have like I am in the process
of like deciding what to do with the
of like deciding what to do with the
Collision like you decide what to do
Collision like you decide what to do
with
with
it you just set like you set like uh
it you just set like you set like uh
filters like here's you know what should
filters like here's you know what should
Collide here's what shouldn't Collide
Collide here's what shouldn't Collide
and then yeah they do have a call back
and then yeah they do have a call back
for like very so you can use a call back
for like very so you can use a call back
if you say you want to have like a
if you say you want to have like a
one-way platform like say you have a 2d
one-way platform like say you have a 2d
platform like Mario where you can jump
platform like Mario where you can jump
like from underneath on top of it but
like from underneath on top of it but
then like when you get on top of it it's
then like when you get on top of it it's
like Solid Ground you can have that with
like Solid Ground you can have that with
a call back but all it allows you to do
a call back but all it allows you to do
is say like should you collide with this
is say like should you collide with this
yes or no so that and still in this case
yes or no so that and still in this case
it basically just like pass through
it basically just like pass through
it so there's three main types of body
it so there's three main types of body
which never move kinematic um only move
which never move kinematic um only move
like with you like how you set the
like with you like how you set the
velocity to them they essentially have
velocity to them they essentially have
infinite mass and then dynamic or just
infinite mass and then dynamic or just
normal so um I create a separate
normal so um I create a separate
kinematic body because again that has
kinematic body because again that has
like infinite Mass essentially um and so
like infinite Mass essentially um and so
anything that's shot at it it'll just
anything that's shot at it it'll just
eat it well it won't eat it it'll just
eat it well it won't eat it it'll just
act like you know it's like a movable
act like you know it's like a movable
object but then I yeah so I I syn its
object but then I yeah so I I syn its
velocity to the Drone and I set it to
velocity to the Drone and I set it to
not collide with the parent drone um and
not collide with the parent drone um and
then but the thing is though because
then but the thing is though because
it's not attached to the Drone if the
it's not attached to the Drone if the
Drone runs into a death wall it'll just
Drone runs into a death wall it'll just
die so I create another shape on the
die so I create another shape on the
Drone that only collides with
Drone that only collides with
walls uh and other Shields I think and
walls uh and other Shields I think and
so that way like if the Drone now
so that way like if the Drone now
touches and I set it's like type as a
touches and I set it's like type as a
shield not as a drone because you know
shield not as a drone because you know
if a drone touches a wall dies so then
if a drone touches a wall dies so then
if it has a shield if it touches a death
if it has a shield if it touches a death
wall it'll be hit by that other
wall it'll be hit by that other
shape it's kind of confusing Yeah It's
shape it's kind of confusing Yeah It's
Tricky Yeah It's Tricky thing to figure
Tricky Yeah It's Tricky thing to figure
out I'm really curious how they did in
out I'm really curious how they did in
the original game but I tried to
the original game but I tried to
decompile it because it's like C and
decompile it because it's like C and
unity but it gave me all the boiler
unity but it gave me all the boiler
plate and none of the actual game logic
plate and none of the actual game logic
which is
which is
annoying yeah how long is the Box 2D
annoying yeah how long is the Box 2D
source code I don't know long long long
source code I don't know long long long
longer than this I'll tell you
longer than this I'll tell you
that
probably it seems like there should be
probably it seems like there should be
if you didn't need joints and
stuff I mean joints are pretty useful
stuff I mean joints are pretty useful
though I know maybe then you maybe you
though I know maybe then you maybe you
can I don't know it's I'm just wondering
can I don't know it's I'm just wondering
how much of this
how much of this
is fighting the thing you're trying to
is fighting the thing you're trying to
do versus fighting the physics
do versus fighting the physics
API I don't know I mean I've worked with
API I don't know I mean I've worked with
enough like third party stuff like if
enough like third party stuff like if
you do enough complex stuff eventually
you do enough complex stuff eventually
you're going to reach a point where like
you're going to reach a point where like
there are like the limitations or like
there are like the limitations or like
decisions that the library made are
decisions that the library made are
going to make it difficult for you at
going to make it difficult for you at
some point but like I don't know there's
some point but like I don't know there's
always compromises and sometimes a
always compromises and sometimes a
compromise is going to bite you but like
compromise is going to bite you but like
maybe it doesn't bite very this is very
maybe it doesn't bite very this is very
heavily called back I mean this is not
heavily called back I mean this is not
like nested call back hell but this is
like nested call back hell but this is
I this is like a very clearly an event
I this is like a very clearly an event
driven
driven
programming like implementation of this
programming like implementation of this
yeah which is
yeah which is
like I mean that's not just the way you
like I mean that's not just the way you
do things right that's a very
do things right that's a very
opinionated design
opinionated design
sure and uh it does cause stuff like
sure and uh it does cause stuff like
this because you do take control flow
this because you do take control flow
from the user uh yeah but I don't really
from the user uh yeah but I don't really
think like rearranging so changing the
think like rearranging so changing the
API to not use callbacks would solve
API to not use callbacks would solve
this problem no that's no because you
this problem no that's no because you
would just like whenever you're you
would just like whenever you're you
would just be able to write your custom
would just be able to write your custom
logic you know where you do Collision
checks I mean I I guess that's well the
checks I mean I I guess that's well the
thing is then you'd have to like really
thing is then you'd have to like really
rewrite World step because right now
rewrite World step because right now
like it doesn't it
like it doesn't it
doesn't yeah you would break it apart so
doesn't yeah you would break it apart so
like the optimizations you're talking
like the optimizations you're talking
about where it's like well it doesn't
about where it's like well it doesn't
just run the stuff in the loop you would
just run the stuff in the loop you would
put like those types of checks right
put like those types of checks right
uh that would be stuff that the user can
uh that would be stuff that the user can
call at the start and then you would
call at the start and then you would
like the individual checks would be up
like the individual checks would be up
to the user in the loop and you get to
to the user in the loop and you get to
write your custom logic so yeah you
write your custom logic so yeah you
don't give you like a world update
don't give you like a world update
function that does just does everything
function that does just does everything
but in return like whenever you actually
but in return like whenever you actually
want the world to do something specific
want the world to do something specific
with your objects you just write the
with your objects you just write the
code you don't have to write a call
code you don't have to write a call
back yeah I mean so I see what you're
back yeah I mean so I see what you're
saying you just kind of want the power
saying you just kind of want the power
user version the downside of that is
user version the downside of that is
like doing doing things in General it'd
like doing doing things in General it'd
be way harder to get started and
be way harder to get started and
probably like more error prone to do
probably like more error prone to do
certain things but you'd have like more
certain things but you'd have like more
ability to do certain
ability to do certain
things they're trying the the I like rip
things they're trying the the I like rip
right I like how RB it's not it's not
right I like how RB it's not it's not
like you it's like here if you were to
like you it's like here if you were to
do this for rayb it would be like you
do this for rayb it would be like you
attach things to the scene right and
attach things to the scene right and
then you just do rb.
then you just do rb.
draw right yeah so that's how a lot of
draw right yeah so that's how a lot of
render libraries work that's how a lot a
render libraries work that's how a lot a
lot of render libraries work and they
lot of render libraries work and they
all suck
all suck
because of it yeah so because they take
because of it yeah so because they take
the control Flow Away yeah right look
the control Flow Away yeah right look
I'm not saying it's perfect but I'm just
I'm not saying it's perfect but I'm just
saying like I can see why he did it I no
saying like I can see why he did it I no
I can see it's it's a thing that people
I can see it's it's a thing that people
do right event driven programming is
do right event driven programming is
very common in fact like every game
very common in fact like every game
engine ever this is kind of how they do
engine ever this is kind of how they do
stuff right because they make their
stuff right because they make their
module they attach it to the scene and
module they attach it to the scene and
then the game engine is the thing that
then the game engine is the thing that
actually runs the
loop but yeah I mean
yeah I'm not I'm we're not going to
yeah I'm not I'm we're not going to
change that at least today so it is what
change that at least today so it is what
it is for this like this is I see like
it is for this like this is I see like
the like given the way that the engine
the like given the way that the engine
works like the way that you've done this
works like the way that you've done this
is perfectly sensible right I'm more the
is perfectly sensible right I'm more the
reason I'm like saying all this stuff
reason I'm like saying all this stuff
out loud is because I'm looking longer
out loud is because I'm looking longer
term it's like okay um this is a thing
term it's like okay um this is a thing
where if you keep making if we keep
where if you keep making if we keep
doing more and more stuff with box 2D
doing more and more stuff with box 2D
like I don't know maybe it is worth
like I don't know maybe it is worth
looking at if we can get like access to
looking at if we can get like access to
the core Loop maybe that makes the code
the core Loop maybe that makes the code
half the length I don't
know maybe after do this whole review
know maybe after do this whole review
pop like legit pop in the Box D Discord
pop like legit pop in the Box D Discord
and I don't know talk to the talk to
and I don't know talk to the talk to
Aaron I honestly think I should do more
Aaron I honestly think I should do more
than just that I should I'd have to
than just that I should I'd have to
really like make an end and get a feel
really like make an end and get a feel
for it
for it
first yeah that's
first yeah that's
fair and like i' love want to sort of
fair and like i' love want to sort of
get a sense of like what does it feel
get a sense of like what does it feel
like to do your own Loop versus this
like to do your own Loop versus this
what is the lifting that box is actually
what is the lifting that box is actually
doing for you under the scenes right you
doing for you under the scenes right you
say it's very optimize in a number of
say it's very optimize in a number of
places but what is it actually doing I'd
places but what is it actually doing I'd
want to know
want to know
that yeah I couldn't tell you well but
that yeah I couldn't tell you well but
that's this is the thing right it's
that's this is the thing right it's
doing a lot somehow but you don't know
doing a lot somehow but you don't know
like what it is so it's like is this
like what it is so it's like is this
something that you could call yourself
something that you could call yourself
in a few functions that could just be
in a few functions that could just be
isolated is it something that has to be
isolated is it something that has to be
in an invent Loop like I don't no right
in an invent Loop like I don't no right
like could you just give me a is it like
like could you just give me a is it like
are all your implementation
are all your implementation
optimizations in a really good quad tree
optimizations in a really good quad tree
somewhere that like I can just take your
somewhere that like I can just take your
quadry and then write my own Loops over
quadry and then write my own Loops over
it right like I don't
it right like I don't
know it depends how tied together all
know it depends how tied together all
those optimizations
are here's your
drone yep okay there's your comment on
drone yep okay there's your comment on
this density
this density
okay all the different
okay all the different
properties yeah this this one's got a
properties yeah this this one's got a
lot and just setting my own like
lot and just setting my own like
defaults for my own uh entity type and
defaults for my own uh entity type and
stuff
so I I'll agree here that this doesn't
so I I'll agree here that this doesn't
really matter all that much um given
really matter all that much um given
that the physics engine is way
that the physics engine is way
slower
slower
anyways um I I'd probably still do stuff
anyways um I I'd probably still do stuff
static just because I'm used to it and I
static just because I'm used to it and I
don't think it's that
don't think it's that
hard but because like the code that you
hard but because like the code that you
add in setting it up static ends up
add in setting it up static ends up
being the same is the code that you end
being the same is the code that you end
up adding for deleting it like for
up adding for deleting it like for
destroying all the extra objects anyways
destroying all the extra objects anyways
um the thing is though I have to destroy
um the thing is though I have to destroy
the bodies anyway so it's that's true
the bodies anyway so it's that's true
okay I forgot about that that's so
okay I forgot about that that's so
that's obnoxious there's no like
that's obnoxious there's no like
destroy like just here's a like array of
destroy like just here's a like array of
bodies destroy them
bodies destroy them
all well I mean I could do that I could
all well I mean I could do that I could
store all the bodies and like get AR r
store all the bodies and like get AR r
or something but again they provide an
or something but again they provide an
easy way to do that I just don't do it
easy way to do that I just don't do it
because then it have to destroy the
because then it have to destroy the
whole world and I don't yeah no that's
whole world and I don't yeah no that's
that's not what you want you don't want
that's not what you want you don't want
the whole you just want to destroy the
the whole you just want to destroy the
exist okay yeah yeah so but normally if
exist okay yeah yeah so but normally if
you just destroy the world it takes care
you just destroy the world it takes care
of everything so it's very
of everything so it's very
nice yeah but you don't you want to keep
nice yeah but you don't you want to keep
the map you don't want to yeah I
yep I mean this is like this is good
yep I mean this is like this is good
though I mean it's like it's good that I
though I mean it's like it's good that I
basically can't find other than like the
basically can't find other than like the
RL stuff that I found so far where it's
RL stuff that I found so far where it's
like the data architecture would lend
like the data architecture would lend
itself to compressing some stuff
itself to compressing some stuff
like I can't find any short things that
like I can't find any short things that
like a you can just get rid of this and
like a you can just get rid of this and
this it's like much bigger stuff that
this it's like much bigger stuff that
would have to be changed design wise and
would have to be changed design wise and
then it's like there would be tradeoffs
then it's like there would be tradeoffs
right yeah so and you haven't really
right yeah so and you haven't really
gotten to the meat of the code yet
gotten to the meat of the code yet
because this is all like creating and
because this is all like creating and
destroying stuff like once you get past
destroying stuff like once you get past
the creation and destruction then it's
the creation and destruction then it's
actually
like yeah these are just little
like yeah these are just little
triangles you
triangles you
see these are the
see these are the
triangles yeah when someone when someone
triangles yeah when someone when someone
dies yeah okay a lot of the boiler plate
dies yeah okay a lot of the boiler plate
Point
Point
St yeah I'm not disagreeing that was
St yeah I'm not disagreeing that was
annoying when I had to write this
yeah yeah I probably would have just
yeah yeah I probably would have just
done it in screen space without Box 2
done it in screen space without Box 2
yeah I I could have but I wanted it to
yeah I I could have but I wanted it to
collide off walls that is cool how many
collide off walls that is cool how many
lines in the environment about 7,000
about half of which looks like the spxx
about half of which looks like the spxx
2 def
Falls I don't quite go that far but it
Falls I don't quite go that far but it
is a lot
oh yeah by the way um as for the respawn
oh yeah by the way um as for the respawn
timer masking will break one of the uh
timer masking will break one of the uh
the fun optimizations I came up with
the fun optimizations I came up with
just FYI oh yeah uhhuh why is
just FYI oh yeah uhhuh why is
that um because one of the optimizations
that um because one of the optimizations
is to index with slices instead of an
is to index with slices instead of an
array of integers
array of integers
M so if you have a contiguous slice it's
M so if you have a contiguous slice it's
uh you avoid a copy on the data that was
uh you avoid a copy on the data that was
one of the ones I think what I'm
one of the ones I think what I'm
planning on doing is I'm not gonna mask
planning on doing is I'm not gonna mask
when they're respawning because I think
when they're respawning because I think
like where the other drones are I don't
like where the other drones are I don't
know if you don't as long as it's not a
know if you don't as long as it's not a
very long respawn time I think that'll
very long respawn time I think that'll
be fine it's like two or three seconds I
be fine it's like two or three seconds I
don't know it steps right yeah I don't
don't know it steps right yeah I don't
know uh
know uh
yeah I don't
know okay here's the offending
know okay here's the offending
projectile yeah there's a lot of logic
projectile yeah there's a lot of logic
in here just for setting impuls outside
in here just for setting impuls outside
the Drone so they don't immediately
the Drone so they don't immediately
Collide okay yeah then I also have to
Collide okay yeah then I also have to
detect like basically if the drone's
detect like basically if the drone's
like kissing a wall essentially and it's
like kissing a wall essentially and it's
shooting into the wall like spawn it so
shooting into the wall like spawn it so
it's not like inside the wall or the
it's not like inside the wall or the
Drone that was fun to find
out fun oh I think what I do is instead
out fun oh I think what I do is instead
of if I'm going if I would have normally
of if I'm going if I would have normally
spawned it in the wall I spawn it like
spawned it in the wall I spawn it like
basically inside the Drone instead
basically inside the Drone instead
because that's like than inside the wall
because that's like than inside the wall
I guess cuz drones are Dynamic and they
I guess cuz drones are Dynamic and they
can move but walls can't they can bump
can move but walls can't they can bump
they can Boop yeah
yeah okay so this is the is physics
yeah okay so this is the is physics
bullet thing yeah and that's that
bullet thing yeah and that's that
enables continuous Collision
enables continuous Collision
detection you would think that it would
detection you would think that it would
enable some optimized thing because
enable some optimized thing because
there are a lot of bullets in games
there are a lot of bullets in games
normally so the thing is um
normally so the thing is um
yeah like when it's a bullet you have to
yeah like when it's a bullet you have to
do more expensive checks because you're
do more expensive checks because you're
well when you said it to be a bullet now
well when you said it to be a bullet now
you're instead of so normally he does he
you're instead of so normally he does he
does continuous Collision detections
does continuous Collision detections
always um Dynamic objects against static
always um Dynamic objects against static
objects so basically like ensuring that
objects so basically like ensuring that
like everything won't like tunnel
like everything won't like tunnel
through like say walls or something but
through like say walls or something but
he doesn't like the box box Duty will
he doesn't like the box box Duty will
not like do CCD against two Dynamic
not like do CCD against two Dynamic
objects so you have to explicitly tell
objects so you have to explicitly tell
it to because that is very performance
it to because that is very performance
intensive wait did the bullets don't
intensive wait did the bullets don't
have do the bullets have to collide with
have do the bullets have to collide with
each
each
other um they do but it doesn't matter
other um they do but it doesn't matter
because I have to enable this or else
because I have to enable this or else
they'd pass through drones like
they'd pass through drones like
sometimes no way to make them not
sometimes no way to make them not
collide with each other but still
collide with each other but still
collide with
collide with
DRS um cuz that's a lot of checks isn't
DRS um cuz that's a lot of checks isn't
it like everyone every other so no
it like everyone every other so no
you're right um if two like bullets do
you're right um if two like bullets do
Collide but they don't do the expensive
Collide but they don't do the expensive
CCD checks against each
CCD checks against each
other so they just do normal Collision
other so they just do normal Collision
checks but they don't do like the
checks but they don't do like the
expensive ones so they kind of do what
expensive ones so they kind of do what
you
said something is
said something is
slow it has to do with the bullets yeah
slow it has to do with the bullets yeah
it's it's CCD I think CCD is just
it's it's CCD I think CCD is just
like okay well can you can we okay we'll
like okay well can you can we okay we'll
I guess we want to get to the meat of
I guess we want to get to the meat of
this but like can we we could just turn
this but like can we we could just turn
it off and see if it's fast right you
it off and see if it's fast right you
can if you put that to false I bet it
can if you put that to false I bet it
would speed it up a lot like is bullet
would speed it up a lot like is bullet
false I bet it would speed it up a
lot all right do it get diff quick just
lot all right do it get diff quick just
to make sure it's the only main thing
to make sure it's the only main thing
you
you
Chang it is
Chang it is
right it should just be comments and
right it should just be comments and
that that that comments comments
that that that comments comments
comments live one yeah should be good
nope it took it down from like 26 to 21
nope it took it down from like 26 to 21
I mean that's a decent bit but not as
I mean that's a decent bit but not as
much as I thought
yeah that's not the thing that saves it
yeah that's not the thing that saves it
I mean yeah I think just all the bullets
I mean yeah I think just all the bullets
in general theit like the projectiles
in general theit like the projectiles
are just Prett expensive to simulate
are just Prett expensive to simulate
because there's so many of them they all
because there's so many of them they all
bouncing around at different speeds
bouncing around at different speeds
anding and
crap if you can render like 50k of these
crap if you can render like 50k of these
things in real time
things in real time
which you
which you
can like we should be able to simulate
can like we should be able to simulate
more than that
no I don't I don't know if I could
no I don't I don't know if I could
render 50k of them you can that's like a
render 50k of them you can that's like a
common test of like rendering that many
entities spr Oh you mean like with no
entities spr Oh you mean like with no
simulation just like just rendering them
simulation just like just rendering them
no they they do simulate they simulate
no they they do simulate they simulate
and render oh okay like it's like the
and render oh okay like it's like the
bunnies test or whatever oh okay
Okay add a bit of lateral drone velocity
Okay add a bit of lateral drone velocity
of the
of the
projectile yes so you can so basically
projectile yes so you can so basically
if you are moving like directly to the
if you are moving like directly to the
right and you're aiming straight down
right and you're aiming straight down
and you shoot the the projectile won't
and you shoot the the projectile won't
go straight down it'll go a little bit
go straight down it'll go a little bit
to the right but it also depends on like
to the right but it also depends on like
the um density of the projectile so it
the um density of the projectile so it
depends like weapon to weapon
sensors only on
sensors only on
mines mines and the flat
cannons get shaped projected
cannons get shaped projected
perimeter yeah that's something so they
perimeter yeah that's something so they
have an explosion callback function but
have an explosion callback function but
like I did it myself because I wanted to
like I did it myself because I wanted to
control a bunch of stuff so like yeah I
control a bunch of stuff so like yeah I
needed to copy that out cu like I think
needed to copy that out cu like I think
they made it static or something
they made it static or something
something so
something so
yeah and there was some logic in there I
yeah and there was some logic in there I
didn't
didn't
need one
sec explodes projectile ensures any
sec explodes projectile ensures any
other projectiles that are caught are
other projectiles that are caught are
also destroyed
e exploding projectiles
okay yeah this is where it gets to the
okay yeah this is where it gets to the
more comp stuffff handling like chained
explosions so you have a projectile
explosions so you have a projectile
entity MH which then has a bunch of
entity MH which then has a bunch of
entities attached a bunch
entities attached a bunch
of no I have a separate like array that
of no I have a separate like array that
holds like the number okay so this is
holds like the number okay so this is
all the exploding
all the exploding
projectiles all the projectiles that
projectiles all the projectiles that
exploded this step and like and need to
exploded this step and like and need to
be destroyed basically or are exploding
be destroyed basically or are exploding
this step
yeah okay so it just has Global access
yeah okay so it just has Global access
to all the exploding ones to chain it I
to all the exploding ones to chain it I
see
see
yeah and here is
yeah and here is
the context that actually does that yeah
the context that actually does that yeah
the explode context is one of the
the explode context is one of the
biggest functions or probably the most
biggest functions or probably the most
complex function one of the more complex
complex function one of the more complex
functions Contex next let get the
functions Contex next let get the
entity make some
pointers yeah I have to Define stuff up
pointers yeah I have to Define stuff up
there because you can't like in the
there because you can't like in the
first line of a switch case you can't
first line of a switch case you can't
like create a variable stupid C
thing that's just C
thing that's just C
scoping yeah um
scoping yeah um
projectile to The Entity
and context projectile is a projectile
and context projectile is a projectile
projectile needs to be
destroyed so if you turn to True from
destroyed so if you turn to True from
this call back it keeps going but if you
this call back it keeps going but if you
turn false it'll just exit early and it
turn false it'll just exit early and it
won't like call your function
again in general for box to be
callbacks the parent drone if this is a
callbacks the parent drone if this is a
bur
so explode call back is is um done for
so explode call back is is um done for
projectile explosion and burst because
projectile explosion and burst because
they're pretty similar I mean they're
they're pretty similar I mean they're
both explosions they're just handled a
both explosions they're just handled a
little bit differently in some
cases you count burst as a own
cases you count burst as a own
projectile no as it own
projectile no as it own
explosion its own
explosion its own
explosion yeah
first text parent for
okay
okay
text entity is hang on the shape
Yeah so basically you can attach like a
Yeah so basically you can attach like a
void pointer two shapes or bodies and
void pointer two shapes or bodies and
then you can just get whatever that
is so all the step info stuff is for
is so all the step info stuff is for
like reward purposes all somewhat for Lo
like reward purposes all somewhat for Lo
well it's for logging and
well it's for logging and
rewarding like tracking like who got hit
rewarding like tracking like who got hit
who exploded who did you hit yourself BL
blah this is a void pointer and it gets
blah this is a void pointer and it gets
made as an entity okay yeah and entity
made as an entity okay yeah and entity
it just has um a void pointer to the
it just has um a void pointer to the
actual
and then a type like an En like what
and then a type like an En like what
type it is oh man you have the the type
type it is oh man you have the the type
named the same name as the variable yeah
named the same name as the variable yeah
I mostly call it an I messed up there I
I mostly call it an I messed up there I
didn't even know that that's
didn't even know that that's
valid yeah you can do that in most
valid yeah you can do that in most
languages although it's kind of weird I
languages although it's kind of weird I
didn't mean to do that most places I
didn't mean to do that most places I
name like the variable an but I guess I
name like the variable an but I guess I
didn't
didn't
here my brain is probably shot working
here my brain is probably shot working
on this function to be fair I've this is
on this function to be fair I've this is
a function I modify a
a function I modify a
lot context
lot context
e stat
e stat
okay parent drone
index nothing if you h a
index nothing if you h a
wall normal explosions
wall normal explosions
don't why is there even a case on this
don't why is there even a case on this
death wall ENT so if you burst into a
death wall ENT so if you burst into a
static wall it pushes you away so I have
static wall it pushes you away so I have
to handle that
to handle that
if you into a static wall so remember
if you into a static wall so remember
how this is the death wall right I'm
how this is the death wall right I'm
confused any wall so they're fall
confused any wall so they're fall
through
through
they yeah okay I hate switch statements
they yeah okay I hate switch statements
whatever um
whatever um
okay so all if you hit any
okay so all if you hit any
wall it just depends if it's floating or
wall it just depends if it's floating or
not if it's floating it'll push it away
not if it's floating it'll push it away
like normal but if you if uh you burst
like normal but if you if uh you burst
into a normal wall it'll push you away
okay I see what you did MH
just spend 90 minutes on a elite C
just spend 90 minutes on a elite C
feature what are you doing
my
gosh interview
prep next time I have to take Elite code
prep next time I have to take Elite code
interview just do me a favor and just
interview just do me a favor and just
shoot me
instead not doing that [ __ ] anymore
yeah the reason I use B2 shape distance
yeah the reason I use B2 shape distance
here is because the radius of the
here is because the radius of the
explosion is plainly seen But if I used
explosion is plainly seen But if I used
like the center of um entities instead
like the center of um entities instead
it could be kind of confus because you
it could be kind of confus because you
could have like a player who's like just
could have like a player who's like just
the like a small point of them is
the like a small point of them is
but they're not affected so it like
feels and I also use a lot of this stuff
feels and I also use a lot of this stuff
can be cheated because circles are
can be cheated because circles are
really easy to do this check four right
really easy to do this check four right
yeah I mean I'm sure they special case
yeah I mean I'm sure they special case
that I don't know because you can pass
that I don't know because you can pass
it like it knows CLE
yeah I mean it's literally just like
yeah I mean it's literally just like
subtract
subtract
radius yeah
radius yeah
don't consider fall
don't consider fall
off so yeah explosion have like a radius
off so yeah explosion have like a radius
and then a fall off so like the fall off
and then a fall off so like the fall off
affects you like a lot less than a
affects you like a lot less than a
radius does don't consider fall off for
radius does don't consider fall off for
static
static
walls so basically when you burst like
walls so basically when you burst like
when you're charging it it has like this
when you're charging it it has like this
ring that goes around you to tell you
ring that goes around you to tell you
like when you release it like how big
like when you release it like how big
the explosion will be but that's the
the explosion will be but that's the
radius not the fall off so I don't
radius not the fall off so I don't
consider the fall off or static walls so
consider the fall off or static walls so
it's not suris
it's not suris
surprising if that makes sense so you
surprising if that makes sense so you
get pushed back the same amount no
get pushed back the same amount no
matter how much of the circles on the
matter how much of the circles on the
wall uh the so if you're anywhere in the
wall uh the so if you're anywhere in the
radius it's the same but if you're in
radius it's the same but if you're in
the fall off then it starts to like
the fall off then it starts to like
affect you less depending on where you
affect you less depending on where you
are in the fall off okay so there's like
are in the fall off okay so there's like
a full damage region and there's a
a full damage region and there's a
falloff region yeah
falloff region yeah
okay but the burst like helper ring
okay but the burst like helper ring
doesn't show the fall off it shows the
doesn't show the fall off it shows the
radius so it'd be confusing using if you
radius so it'd be confusing using if you
would like oh yeah I'm safe to burst
would like oh yeah I'm safe to burst
here and not get pushed back and then
here and not get pushed back and then
you're not so oh
you're not so oh
okay just it's just a special case oh
okay just it's just a special case oh
okay I see I see yeah that should
okay I see I see yeah that should
actually you know that should be handled
actually you know that should be handled
not in the code that should be handled
not in the code that should be handled
in the
visuals what do you
visuals what do you
mean well if you have like the ring you
mean well if you have like the ring you
should kind of get like a ripple or
should kind of get like a ripple or
something for the fall off
something for the fall off
range uh
maybe there's a lot you can do on
maybe there's a lot you can do on
that um the visual side yeah we got to
that um the visual side yeah we got to
get we got to get like into this as you
get we got to get like into this as you
say so we can get
say so we can get
there
there
yeah once get through this function I'll
yeah once get through this function I'll
probably have to dip for the day but we
probably have to dip for the day but we
can do more tomorrow but yeah we got
can do more tomorrow but yeah we got
like this is like almost halfway into
like this is like almost halfway into
this game
this game
code mhm but to be fair all the meat is
code mhm but to be fair all the meat is
like towards the end we also got through
like towards the end we also got through
the end file in the OBS today yeah that
the end file in the OBS today yeah that
was that's not too
was that's not too
bad yeah you haven't really like this
bad yeah you haven't really like this
right now you're like finally into the
right now you're like finally into the
actual meat a lot of the rest of it is
actual meat a lot of the rest of it is
like M stuff set up you know boiler
like M stuff set up you know boiler
plate tearing it creating tearing down
plate tearing it creating tearing down
blah blah
blah blah
blah over a thousand lmes in for all
blah over a thousand lmes in for all
that yeah it's a lot of boiler
that yeah it's a lot of boiler
well a lot of it is just helpful like
well a lot of it is just helpful like
helper functions to do certain things
helper functions to do certain things
it's not on you it's a lot of box 2D
it's not on you it's a lot of box 2D
boiler
boiler
yeah but anyway there are only a few
yeah but anyway there are only a few
small things where I'm like okay I would
small things where I'm like okay I would
have done that
have done that
differently
differently
um and they're like mostly preference
um and they're like mostly preference
like in general I like these things
like in general I like these things
always bite me so I just never use
always bite me so I just never use
switch
switch
statements oh I think for this it's it
statements oh I think for this it's it
makes sense but yeah this preference
so yeah basically if the direction is
so yeah basically if the direction is
zero like the um the entity we're
zero like the um the entity we're
considering for the explosion is
considering for the explosion is
literally like on the exact explosion
literally like on the exact explosion
Center so we have to like randomly set
Center so we have to like randomly set
like what the direction will be or else
like what the direction will be or else
like you'll have some like division by
like you'll have some like division by
zero
somewhere it's behind wall don't explode
somewhere it's behind wall don't explode
The Entity if it's behind
The Entity if it's behind
no so return true just means like you
no so return true just means like you
just exit oh so I okay so you have to
just exit oh so I okay so you have to
see oh
see oh
okay yeah cuz the radius can be bigger
okay yeah cuz the radius can be bigger
than it can go over a wall MH yeah very
than it can go over a wall MH yeah very
easily this is a damic check and you're
easily this is a damic check and you're
just doing it to the center point I
just doing it to the center point I
would
would
assume um it's just like a center check
assume um it's just like a center check
right well the center of the explosion
right well the center of the explosion
to like the closest point well so I I
to like the closest point well so I I
actually do Center of explosion to
actually do Center of explosion to
closest point on
closest point on
agent um of whatever entity but I
agent um of whatever entity but I
already find the closest point so I'm
already find the closest point so I'm
just I'm just passing those points in
just I'm just passing those points in
because like there's all sorts of stuff
because like there's all sorts of stuff
I don't think it's this sophisticated
I don't think it's this sophisticated
right if it is this sophisticated then I
right if it is this sophisticated then I
understand why it's slow but
understand why it's slow but
like if we do like
I
think hang
on I think like technically you can have
on I think like technically you can have
cases where like like you can see a
cases where like like you can see a
portion of it behind the wall but the
portion of it behind the wall but the
center point is
center point is
still right through the
wall uh what's the big circle like the
wall uh what's the big circle like the
huge circle AOE so you can have an AOE
huge circle AOE so you can have an AOE
yeah an agent so like you can have stuff
yeah an agent so like you can have stuff
technically if you're being really
technically if you're being really
pedantic with your physics you can have
pedantic with your physics you can have
stuff where like you can shoot them
stuff where like you can shoot them
because you can see a portion of them
because you can see a portion of them
behind the wall like sticking out from
behind the wall like sticking out from
the wall but if you just do the center
the wall but if you just do the center
check you won't see that I don't think
check you won't see that I don't think
it's sophisticated enough to do this
it's sophisticated enough to do this
right uh so yeah in this situation it
right uh so yeah in this situation it
would explode
would explode
it it would why would it would actually
it it would why would it would actually
get to this line yeah because it finds
get to this line yeah because it finds
the closest point oh actually no no
the closest point oh actually no no
you're right yeah the closest yeah it
you're right yeah the closest yeah it
wouldn't explode it okay so I this is
wouldn't explode it okay so I this is
where like if it's doing this I go okay
where like if it's doing this I go okay
that's complicated I don't know how it
that's complicated I don't know how it
does that fast like we'll just take our
does that fast like we'll just take our
SPS and be happy if it's this like this
SPS and be happy if it's this like this
is brain dead easy to
is brain dead easy to
write right this is just array cast from
write right this is just array cast from
Center to Center
Center to Center
MH so it it's an even smaller raid cast
MH so it it's an even smaller raid cast
because I already found the closest
because I already found the closest
point so I just do it from like instead
point so I just do it from like instead
of the center like where that like yeah
of the center like where that like yeah
right there and it hits a wall so then I
right there and it hits a wall so then I
say yeah don't
say yeah don't
explode yeah so it would have to be the
explode yeah so it would have to be the
wall would have to be shorter but
yeah but yeah you get the
idea yeah and then these Ray casts are
idea yeah and then these Ray casts are
always going to be like the sample like
always going to be like the sample like
this the amount that the number of steps
this the amount that the number of steps
that you do cuz like it's you clip it's
that you do cuz like it's you clip it's
basically how much do you care about it
basically how much do you care about it
clipping Corners
clipping Corners
right because if you do it here right
right because if you do it here right
you clip the corner a little
you clip the corner a little
it'll go
it'll go
through this happens in AAA games
through this happens in AAA games
though right yeah this does this happens
though right yeah this does this happens
in tripa
in tripa
games so I there's not a solution to it
games so I there's not a solution to it
other than just like you pick whatever
other than just like you pick whatever
tolerance you want and you deal with it
tolerance you want and you deal with it
yeah it's once I made this change I
yeah it's once I made this change I
don't really notice anything like it's
don't really notice anything like it's
it's good enough for this game I'm not
it's good enough for this game I'm not
going to make it even more expensive I'm
going to make it even more expensive I'm
wondering if we can make it cheaper yeah
wondering if we can make it cheaper yeah
maybe it's too
maybe it's too
slow I don't really think it's explosion
slow I don't really think it's explosion
though because I didn't really see that
though because I didn't really see that
in
grov I mean it does a lot of stuff but
grov I mean it does a lot of stuff but
like no I don't mean that in general I
like no I don't mean that in general I
mean I just mean the checks in general
mean I just mean the checks in general
because it's
because it's
like well I is it is it raycast I guess
like well I is it is it raycast I guess
it's not raycast that are probably the
it's not raycast that are probably the
main thing it's probably just up
main thing it's probably just up
Collision checks
yeah yeah would have to be straight up
yeah yeah would have to be straight up
Collision checks because that's all the
Collision checks because that's all the
projectiles are doing I mean thinking
projectiles are doing I mean thinking
about it though I think this is kind of
about it though I think this is kind of
like not worst case but like not a great
like not worst case but like not a great
case perf wise for Collision checks
case perf wise for Collision checks
because a lot of games like things
because a lot of games like things
aren't always moving like you know you
aren't always moving like you know you
run around you hit things they move but
run around you hit things they move but
then they like still but like when you
then they like still but like when you
shoot a projectile it moves until it
shoot a projectile it moves until it
spawns so you're checking like every
spawns so you're checking like every
step and there's like a lot of them well
step and there's like a lot of them well
yeah games do this and they have way
yeah games do this and they have way
more projectiles than you they're just
more projectiles than you they're just
not trying to run at the speed yeah yeah
not trying to run at the speed yeah yeah
that too but also gaming has like
that too but also gaming has like
horribly horribly like they will just
horribly horribly like they will just
optimize the code to the point that it
optimize the code to the point that it
runs on the hardware yeah that's it yeah
runs on the hardware yeah that's it yeah
right they don't need to do anything
right they don't need to do anything
else that's why like you have games
else that's why like you have games
being like ridiculously slow these days
being like ridiculously slow these days
right like
right like
yeah it's another whole
yeah it's another whole
thing I mean heck like they're not even
thing I mean heck like they're not even
rendering native anymore they're like
rendering native anymore they're like
they're using girl that's sample
they're using girl that's sample
[Music]
mhm and it like kind of works
so this is kind of cool like I think
so this is kind of cool like I think
it's pretty cool so this is I added down
it's pretty cool so this is I added down
there a little bit like the the um you
there a little bit like the the um you
don't have line numbers I can't really
don't have line numbers I can't really
easily tell you but like the parent
easily tell you but like the parent
velocity direction stuff so that
velocity direction stuff so that
basically means like
basically means like
uh if you are like at the center of a
uh if you are like at the center of a
screen and there's a projectile that's
screen and there's a projectile that's
passing just above you going from left
passing just above you going from left
to right it won't just knock you
to right it won't just knock you
straight down when if it explodes like
straight down when if it explodes like
right above your head it'll knock you
right above your head it'll knock you
like or shoot you like diagonally like
like or shoot you like diagonally like
down to the right because some of its
down to the right because some of its
velocity going to the right is like
velocity going to the right is like
accounted for but it's dependent if it's
accounted for but it's dependent if it's
barely moving from left to right it
barely moving from left to right it
won't really affect it's like all
won't really affect it's like all
dependent on like speeds and stuff so I
dependent on like speeds and stuff so I
thought that was cool I mean you're kind
thought that was cool I mean you're kind
of doing the physics engine at this
of doing the physics engine at this
point not really it's just like I'm
point not really it's just like I'm
using the you're just this is normal
using the you're just this is normal
like physics
stuff so if it's passing by then you get
stuff so if it's passing by then you get
some of
the
the
huh yeah this would be like a high like
huh yeah this would be like a high like
this would normally be like an
this would normally be like an
explosions like Library or something
explosions like Library or something
that you would use that would do this
that you would use that would do this
internally I would
internally I would
think maybe because this is like
think maybe because this is like
simulating that it's not actually a a
simulating that it's not actually a a
sphere or whatever it's like it's like
sphere or whatever it's like it's like
warped by this like the projectile
itself it's also nice for burst though
itself it's also nice for burst though
because when you're if you're moving
because when you're if you're moving
really fast like aggressively like
really fast like aggressively like
approaching someone and then burst it's
approaching someone and then burst it's
going to be stronger than if you just
going to be stronger than if you just
like sit there and then first on
them so I don't know it has some cool no
them so I don't know it has some cool no
that is cool it's also also
that is cool it's also also
like right this is not an expensive
like right this is not an expensive
operation at all no it's not it's it's
operation at all no it's not it's it's
it doesn't really add anything because
it doesn't really add anything because
you're just doing a couple different
you're just doing a couple different
Vector math
operations which are pretty fast yeah I
operations which are pretty fast yeah I
me as far as I can see I haven't seen a
me as far as I can see I haven't seen a
single thing that i' that you're doing
single thing that i' that you're doing
so far that's like oh that's slow yeah
so far that's like oh that's slow yeah
right I thought you meant at first it
right I thought you meant at first it
was cheap like from a game perspective
was cheap like from a game perspective
no it's cheap to simulate yeah
no it's cheap to simulate yeah
yeah yeah scale the parents how
yeah yeah scale the parents how
close if that person off a
wall does this like slide off a wall
wall does this like slide off a wall
or I'm trying to remember the comet I
or I'm trying to remember the comet I
tried to make it kind of but it was like
tried to make it kind of but it was like
a confusing things so I think games
a confusing things so I think games
literally have this stuff special case
literally have this stuff special case
like what I like I know OverWatch for
like what I like I know OverWatch for
instance they literally have like when
instance they literally have like when
you hit a wall they like look at the
you hit a wall they like look at the
angle and then they initial like the
angle and then they initial like the
based on like fixed bucket of angle they
based on like fixed bucket of angle they
will initialize like uh you bounce off
will initialize like uh you bounce off
the wall or you crash into the wall or
the wall or you crash into the wall or
you like slide on the
you like slide on the
wall and like they have just like a few
wall and like they have just like a few
cases of this and like it's kind of
cases of this and like it's kind of
funny how you only have to do it few of
funny how you only have to do it few of
these before people just stop noticing
these before people just stop noticing
stuff being weird yeah
stuff being weird yeah
right or like they'll have something
right or like they'll have something
where like hey if you hit your ankles on
where like hey if you hit your ankles on
a wall you hop up yeah yeah yeah they
a wall you hop up yeah yeah yeah they
have a lot like yeah I know like so last
have a lot like yeah I know like so last
I there was a good thread where they
I there was a good thread where they
went over all these little like MH
went over all these little like MH
mostly like hidden things they do to
mostly like hidden things they do to
kind of like help you out like if you're
kind of like help you out like if you're
like a couple pixels down below platform
like a couple pixels down below platform
to like pop you up onto yeah that's
to like pop you up onto yeah that's
super annoying to hit like on like you
super annoying to hit like on like you
like you clip your toe right yeah
like you clip your toe right yeah
exactly so yeah a lot of these things
exactly so yeah a lot of these things
are very important but you don't have to
are very important but you don't have to
do very many of them before you start
do very many of them before you start
noticing like oh okay that feels way
noticing like oh okay that feels way
better no 100% yeah most I mean all the
better no 100% yeah most I mean all the
stuff is like I was play testing I'm
stuff is like I was play testing I'm
like well this sucks and in a special
like well this sucks and in a special
case yeah know that's good that's very
case yeah know that's good that's very
good it's crazy that nobody's made just
good it's crazy that nobody's made just
like a no like really nice low-level
like a no like really nice low-level
library for some of that stuff right
library for some of that stuff right
yeah but
yeah but
to be fair it'd be hard to Jo on purpose
to be fair it'd be hard to Jo on purpose
that okay I actually have to go though
that okay I actually have to go though
so cool so we are about 1,200 lines
so cool so we are about 1,200 lines
through a little less and uh we will
through a little less and uh we will
resume this whenever you're around this
resume this whenever you're around this
is really solid though like yeah thanks
is really solid though like yeah thanks
have
have
uh I'm looking forward to playing with
uh I'm looking forward to playing with
this as well once we have it
this as well once we have it
integrated yeah and let me know when you
integrated yeah and let me know when you
get a controller because that'll be I
get a controller because that'll be I
will order I will order a controller
will order I will order a controller
okay cool
okay cool
yeah because then you can test out the
yeah because then you can test out the
original game too and see how you think
original game too and see how you think
it Compares against that yes if the next
it Compares against that yes if the next
is actually just me playing Elden ring I
is actually just me playing Elden ring I
will blame you for this yeah all right
will blame you for this yeah all right
okay so I gotta go talk to you later
okay so I gotta go talk to you later
thanks man bye you make good drawing
thanks man bye you make good drawing
easy to
understand not this I assume this isn't
understand not this I assume this isn't
mind
mind
the stuff
okay what time is it
5:29 I just did something in physics M
5:29 I just did something in physics M
with Fields very similar to what a oh
with Fields very similar to what a oh
solution might be to finding closed
solution might be to finding closed
exposed area with neat Vector stuff and
exposed area with neat Vector stuff and
integration blah blah blah yeah I it's
integration blah blah blah yeah I it's
not like essential at all for this game
not like essential at all for this game
basically the reason I was asking is um
basically the reason I was asking is um
I wanted to know how sophisticated box
I wanted to know how sophisticated box
2D was right because in my mind if
2D was right because in my mind if
you're just doing Center distance checks
you're just doing Center distance checks
and like Ray
and like Ray
casts then it shouldn't be that
casts then it shouldn't be that
expensive and I don't know why I don't
expensive and I don't know why I don't
know what is possibly inbox 2D right
know what is possibly inbox 2D right
that's so complicated that it merits
that's so complicated that it merits
putting the entire thing behind an event
putting the entire thing behind an event
based API because that just immediately
based API because that just immediately
make stuff way way way more boiler plate
make stuff way way way more boiler plate
way harder to write concise code way
way harder to write concise code way
less control for the user so I don't
less control for the user so I don't
know what's actually in there that
know what's actually in there that
justifies this or if there is anything
justifies this or if there is anything
um so that's going to be something that
um so that's going to be something that
we will look at if I get more into like
we will look at if I get more into like
lowii physics
applications I think for Hi-Fi physics
applications I think for Hi-Fi physics
applications you use what like physics
applications you use what like physics
is GPU based well you probably do want
is GPU based well you probably do want
GPU
GPU
based but then stuff gets kind of crazy
based but then stuff gets kind of crazy
very very
quickly I mean we could do it it's just
quickly I mean we could do it it's just
like it depends what like what
like it depends what like what
applications we have that actually need
applications we have that actually need
that
stuff trying to think if I want to keep
stuff trying to think if I want to keep
doing anything here now on algorithm
doing anything here now on algorithm
side or anything like
that I mean I really would like uh to
that I mean I really would like uh to
get the new
get the new
algorithm doing
something goat well thank
something goat well thank
you new
you new
chair I got it a while ago it's nice I
chair I got it a while ago it's nice I
got sick of having an office chair so
got sick of having an office chair so
this is like it's got um like a leg rest
this is like it's got um like a leg rest
in it and stuff honestly I think I work
in it and stuff honestly I think I work
longer hours because of it it's just
longer hours because of it it's just
like more comfortable in general to
here do we have this old thing I was
here do we have this old thing I was
working
working
on yeah this
thing I was trying to figure out maybe
thing I was trying to figure out maybe
I'll see if I can just make one last
I'll see if I can just make one last
little bit of progress today before I
little bit of progress today before I
head out um and then maybe I'll come
head out um and then maybe I'll come
back in the evening we'll see as
well so I spent most of today doing code
well so I spent most of today doing code
reviews right but this morning I was
reviews right but this morning I was
working on
working on
this new Advantage estimation uh
this new Advantage estimation uh
function it's supposed to replace
function it's supposed to replace
generalized Advantage
generalized Advantage
estimation
estimation
and I was trying to figure out
and I was trying to figure out
why it learned such a weird variance
why it learned such a weird variance
curve that's what I was trying to figure
curve that's what I was trying to figure
out and I think I didn't really come up
out and I think I didn't really come up
with
with
any any concrete results on why as well
yeah
um I was in kind of a tough spot for it
um I was in kind of a tough spot for it
honestly we'll just do a little bit on
honestly we'll just do a little bit on
it and see if I make any progress
I mean it could be like some weird index
I mean it could be like some weird index
bug that's making the
first entry easier to predict or
first entry easier to predict or
something like that
something like that
but I don't think that makes sense
actually I don't know if that makes
sense this is a Cuda Kel for the new
sense this is a Cuda Kel for the new
Advantage
function it's just a little piece of
function it's just a little piece of
C let's get it on the bigger
one I don't think there is anything in
one I don't think there is anything in
here that's possibly wrong
here that's possibly wrong
though maybe I look at it in a little
though maybe I look at it in a little
bit more
detail Horizon minus one
you ever use random
Forest no not really
Forest no not really
um I the only thing that I've done where
um I the only thing that I've done where
it would even be remotely applicable
it would even be remotely applicable
would be it's in like really really low
would be it's in like really really low
data settings so I've done hyper
data settings so I've done hyper
parameter sweep stuff where some people
parameter sweep stuff where some people
do that uh I use gussian processes for
do that uh I use gussian processes for
my hyper pram sweep stuff which I think
my hyper pram sweep stuff which I think
is generally
is generally
better you'd have to really compare them
though there are a bunch of these like
though there are a bunch of these like
old methods that like they work when you
old methods that like they work when you
only have a tiny amount of data and you
only have a tiny amount of data and you
just kind of need something but
what's the other
what's the other
one radiant
one radiant
boosting
yeah trying to think
here guess I can show what's going on
here guess I can show what's going on
here
do we can actually see the
behavior I'd actually I also would like
behavior I'd actually I also would like
to know how
to know how
early it converges on this
like
compile okay
so values STP
so values STP
Z okay so
Z okay so
initially it is pretty flat
initially it is pretty flat
right the last one doesn't get trained
right the last one doesn't get trained
but um the rest of them are all about
68 okay so now this has had some time to
68 okay so now this has had some time to
run
you see this is already this is
you see this is already this is
already uh diverged a
already uh diverged a
bit look at this so it caps out at 2
bit look at this so it caps out at 2
oneish oh whoops I forgot to leave the
oneish oh whoops I forgot to leave the
uh the Discord call uh hey how's it
uh the Discord call uh hey how's it
going all oh sorry I mean interrupted
going all oh sorry I mean interrupted
you're recing someone no I was just
you're recing someone no I was just
talking to the stream what's going on oh
talking to the stream what's going on oh
okay uh yeah just had a quick question
okay uh yeah just had a quick question
for you um
for you um
um given that various cars reach their
um given that various cars reach their
goal at um different points in time I
goal at um different points in time I
presume I'm supposed to mask the steps
presume I'm supposed to mask the steps
after they reach their goal do I mask
after they reach their goal do I mask
when they get their goal or the step
when they get their goal or the step
afterwards uh I think it should be the
afterwards uh I think it should be the
step
step
afterwards so I would assign the reward
afterwards so I would assign the reward
on the on the winning step and then set
on the on the winning step and then set
some type of buo in to then check to
some type of buo in to then check to
mask the next you should do that and
mask the next you should do that and
it's annoying because actually masking
it's annoying because actually masking
breaks one of our big perf
breaks one of our big perf
optimizations it's
optimizations it's
annoying um we have it's like slicing
annoying um we have it's like slicing
versus
versus
indexing but you can do that for now and
indexing but you can do that for now and
we'll see if we can find ways around it
we'll see if we can find ways around it
will that break anything right now or it
will that break anything right now or it
might if in the dev Branch it might
might if in the dev Branch it might
okay I mean what would happen if I don't
okay I mean what would happen if I don't
mask um it might work it depends how
mask um it might work it depends how
what it depends on the data density
all right well I'll I'll try not masking
all right well I'll I'll try not masking
at first and see what happens and then
at first and see what happens and then
yeah see if you can anything and then
yeah see if you can anything and then
we'll improve from there all right
we'll improve from there all right
thanks
thanks
see get out of that
see get out of that
call totally forgot it was still in
call totally forgot it was still in
there
um so if we look at this value standard
um so if we look at this value standard
deviation if I print out reward standard
deviation if I print out reward standard
deviation you see this is pretty close
deviation you see this is pretty close
to what uh this converges to here so
to what uh this converges to here so
basically what this means is because the
basically what this means is because the
predicted value standard
predicted value standard
deviation uh matches the reward standard
deviation uh matches the reward standard
deviation it means that it has no idea
deviation it means that it has no idea
what to predict here uh it's just
what to predict here uh it's just
predicting you know it's getting it's
predicting you know it's getting it's
doing as well as random guessing B well
doing as well as random guessing B well
not random guessing like random guessing
not random guessing like random guessing
based on the
distribution so it just knows hey you
distribution so it just knows hey you
get a reward 5% of the time I'm going to
get a reward 5% of the time I'm going to
predict you know 5% of the time
reward kind of that but then as you go
reward kind of that but then as you go
up right you see it's
up right you see it's
lower this means that the model actually
lower this means that the model actually
has some predictive value it is more
has some predictive value it is more
confident in its predictions than
confident in its predictions than
random which is what you'd expect and if
random which is what you'd expect and if
you look here it's kind of smooth right
you look here it's kind of smooth right
it goes from 209 uh 19 19 18 17 15 16 14
it goes from 209 uh 19 19 18 17 15 16 14
and then it jumps to 11 so for some
and then it jumps to 11 so for some
reason this first step has this big jump
reason this first step has this big jump
uh and this kind of gives you this gross
uh and this kind of gives you this gross
curve where if I look
at okay so this is the weighting that we
at okay so this is the weighting that we
assign to these various terms it's just
assign to these various terms it's just
based on inverse of this with some
based on inverse of this with some
normalization the first term gets
normalization the first term gets
weighted one 1.0 and then the second
weighted one 1.0 and then the second
terms gets weighted 6 there's this
terms gets weighted 6 there's this
massive jump and then it's smooth from
massive jump and then it's smooth from
there so I want to know what causes this
there so I want to know what causes this
jump for
DS rewards advantages
let's do that just to be
let's do that just to be
sure just zero this to be absolutely
sure just zero this to be absolutely
sure that we don't have like some
sure that we don't have like some
garbage data polluting this
okay yeah so this is
consistent no rewards here though
maybe we'll just look at the advantage a
maybe we'll just look at the advantage a
little bit
huh no rewards really
okay there's some
reports
reports
so six one 2 3
so six one 2 3
four
six not
six not
great this is .1 here and this is a
3 thinks it's going to get the reward
3 thinks it's going to get the reward
two steps earlier than it's actually
two steps earlier than it's actually
going to get
it
it
right or it thinks it's getting you a
right or it thinks it's getting you a
reward in both of these places
really three
really three
one two three
four one two three four
four one two three four
five
five
six okay hang
six okay hang
on
five oh wait this is both look at this
these three are all kind of
these three are all kind of
elevated we have slightly elevated
elevated we have slightly elevated
slightly elevated and then it decays so
slightly elevated and then it decays so
what it's kind of done is it's kind of
what it's kind of done is it's kind of
put uh put a probability distribution
put uh put a probability distribution
sort of over
sort of over
this it's kind of just like spread out
this it's kind of just like spread out
where it thinks it's going to get the
where it thinks it's going to get the
reward I mean that is
reward I mean that is
reasonable and that will give you a good
reasonable and that will give you a good
Advantage estimate
3.1
3.1
five not bad
So based on
So based on
the means of these
the means of these
values we are
good oh it's also interesting that the
good oh it's also interesting that the
first
first
one the first one is very very confident
one the first one is very very confident
it's not getting a reward
why is there such a big gap between the
why is there such a big gap between the
first one and the second
one it's because it's at a
one it's because it's at a
boundary that wouldn't make sense
Do You observe when you get a reward I
Do You observe when you get a reward I
don't think you
do that still wouldn't account for it
do that still wouldn't account for it
though I can't really think of anything
though I can't really think of anything
that would account for why the first
that would account for why the first
step would be so much more confident
step would be so much more confident
than the second step
let's block
less than equal to Z jusus right
yeah the reward block is correctly
computed nothing to do with duns
for e
I wonder is there some way that I'm
I wonder is there some way that I'm
screwing this up somehow in the policy
screwing this up somehow in the policy
loss that's then indirectly influencing
it GMA times values mean
oh that all looks correct to
me hang on wa it predicts
me hang on wa it predicts
voluming predicts reward at next time
voluming predicts reward at next time
stuff
stuff
right welcome YouTube
right welcome YouTube
folks but a you on
folks but a you on
here
here
um for the people who just got here what
um for the people who just got here what
I'm currently trying to do uh this is
I'm currently trying to do uh this is
a Advantage function Puda kernel for an
a Advantage function Puda kernel for an
advantage function for a new RL
advantage function for a new RL
algorithm that I'm working
algorithm that I'm working
on and I mostly have it doing what I
on and I mostly have it doing what I
want
want
uh there just a couple quirks and edge
uh there just a couple quirks and edge
cases with it this is essentially trying
cases with it this is essentially trying
to learn automatically learn credit
to learn automatically learn credit
assignment over the next many many steps
assignment over the next many many steps
and at the moment what it's doing is
and at the moment what it's doing is
it's paying a lot of attention to the
it's paying a lot of attention to the
first step and then substantially less
first step and then substantially less
to the second step and then a little
to the second step and then a little
less to the third a little less to the
less to the third a little less to the
fourth and so on and so forth so I'm
fourth and so on and so forth so I'm
trying to figure out now is why it's
trying to figure out now is why it's
paying so much more attention to the
paying so much more attention to the
first step than the second step and if
first step than the second step and if
it's a bug or if it's like genuine or
it's a bug or if it's like genuine or
what
um since we do have a bunch of people
um since we do have a bunch of people
watching all the stuff is on puff. it's
watching all the stuff is on puff. it's
all open source can go start the repo to
all open source can go start the repo to
help us out and uh join the Discord to
help us out and uh join the Discord to
get involved with Deb if you want other
get involved with Deb if you want other
than that back to
than that back to
code
so yeah I what I was thinking before
so yeah I what I was thinking before
right so the way that I have the value
right so the way that I have the value
function right value mean gives you the
function right value mean gives you the
prediction of the reward at The Next
prediction of the reward at The Next
Step at the second Next Step third next
Step at the second Next Step third next
step and so on and so
forth hang is that true yeah so value
forth hang is that true yeah so value
mean of zero gives you the prediction of
mean of zero gives you the prediction of
the reward at step one so one step in
the reward at step one so one step in
the
the
future then gamma is learned it's based
future then gamma is learned it's based
on the standard deviation of the
on the standard deviation of the
prediction it gives you the waiting
prediction it gives you the waiting
right
so when we get the
rewards we're always going to have a
rewards we're always going to have a
reward for the first
reward for the first
step and we're never going to have a
step and we're never going to have a
reward for the last step because we need
reward for the last step because we need
to go one over and the buffer and we
to go one over and the buffer and we
don't have
don't have
anything that explains
why so that explains why this last ter
why so that explains why this last ter
is
is
one but see this last term shouldn't
one but see this last term shouldn't
affect us I don't think
it's the first term that's
weird is there any sort of indexing bug
weird is there any sort of indexing bug
that I can think of that would cause
this what would
this what would
cause more confident predictions on the
cause more confident predictions on the
first time step
I mean accidentally
I mean accidentally
shifting if you actually see the case in
shifting if you actually see the case in
which you get the reward like if you see
which you get the reward like if you see
the block break for instance that would
the block break for instance that would
do
do
it I don't think that is the case
it I don't think that is the case
though let me think about
that because values mean
H I couldn't possibly have shifted that
H I couldn't possibly have shifted that
over one
right is there a good way to test
that could I
that could I
do t + one
I do reward t+
2 let me see if that does
anything I just want to see if I can
anything I just want to see if I can
like get something that causes this
like get something that causes this
Behavior
here's your first deoch one
oh hang
oh hang
on
on
1.27 that looks better doesn't
it let's let it keep running a little
it let's let it keep running a little
bit e
158 161 166 174 this actually cleaned it
158 161 166 174 this actually cleaned it
up
so
so
okay The Next Step then so if that makes
okay The Next Step then so if that makes
it
it
even what if I do instead of K minus one
even what if I do instead of K minus one
or k whatever we do do
this what does this
cause this is now predicting the reward
cause this is now predicting the reward
that you have already
that you have already
got so you see it break you see the
got so you see it break you see the
brick break or whatever and you're
brick break or whatever and you're
predicting that reward
ah do we have something here
will you look at that right so you get a
will you look at that right so you get a
very
very
accurate prediction for the current time
step but then you still get there is the
step but then you still get there is the
fall off starts two
fall off starts two
later I wonder if I have an off by one
later I wonder if I have an off by one
somehow with the reward
somehow with the reward
indexing use a rest real quick I'm going
indexing use a rest real quick I'm going
to be right back and then we'll see
to be right back and then we'll see
we'll investigate that I'd be kind of
we'll investigate that I'd be kind of
surprised that would be a really bad to
surprised that would be a really bad to
have but maybe I screwed up be right
back e
I just uh I saw one thing I have to
I just uh I saw one thing I have to
reply to really
reply to really
quick because
is
it
e e
like so
like so
funny oh yeah it's just easy yeah your
funny oh yeah it's just easy yeah your
llm version of it is like the easiest
llm version of it is like the easiest
possible setting of
possible setting of
RL you have a freaking one-step problem
RL you have a freaking one-step problem
you're like solving a bandit problem and
you're like solving a bandit problem and
you're saying oh yeah our lazy it's not
you're saying oh yeah our lazy it's not
even a bandit problem because the
even a bandit problem because the
returns are
predictable determinist
predictable determinist
banded take which lever to
banded take which lever to
full all
right two-step
right two-step
problem what is
wrong when I collect my data here right
wrong when I collect my data here right
let me
let me
see how we do storing
data action
data action
log CRS rewards DS right all this
log CRS rewards DS right all this
stuff
stuff
okay so you are
storing oh wait hold
storing oh wait hold
on is that bad
on is that bad
here technically it's not single step
here technically it's not single step
each token is one step no it is not each
each token is one step no it is not each
token is not an action symbolically it
token is not an action symbolically it
is multistep yeah no each to each token
is multistep yeah no each to each token
is not one step that's not analogous
is not one step that's not analogous
that's like me saying each bite of an
that's like me saying each bite of an
observation is one
step or each bite like of an action
step or each bite like of an action
output is a step or something it's not
output is a step or something it's not
how it
how it
works multi-step RL with LMS would be
works multi-step RL with LMS would be
great and uh that would actually be
great and uh that would actually be
something where some of the things I
something where some of the things I
work on may be applicable but it will
work on may be applicable but it will
also be incredibly incredibly heavy and
also be incredibly incredibly heavy and
expensive because LMS are very slow
honestly this is probably the thing
honestly this is probably the thing
where yeah I could see you solving a
where yeah I could see you solving a
whole bunch of stuff with that yeah I
whole bunch of stuff with that yeah I
could see I could see that being like
could see I could see that being like
the thing that solves everything
the thing that solves everything
honestly it massively more compute than
honestly it massively more compute than
I have available to do that type of
I have available to do that type of
stuff
stuff
um yeah I could see that being the thing
um yeah I could see that being the thing
that solves
that solves
everything like straight up
but the thing is there are so many weird
but the thing is there are so many weird
quirks with RL um my plan is not to go
quirks with RL um my plan is not to go
do that on llms my plan is to like fix
do that on llms my plan is to like fix
all the problems with RL here where I
all the problems with RL here where I
can do that just like sitting in sitting
can do that just like sitting in sitting
at my uh my desk working on these fast
ends I mean just the amount of like
ends I mean just the amount of like
compute involved in that is going to be
compute involved in that is going to be
such a pain because like your RL
such a pain because like your RL
trajectory is the process of you writing
trajectory is the process of you writing
a program for instance right so like
a program for instance right so like
your actions are the edits that you make
your actions are the edits that you make
to your code all right your reward is
to your code all right your reward is
going to be you run the code does it do
going to be you run the code does it do
what you
want and then you iterate on this
want and then you iterate on this
process for a very very long
time one bill tokens can't solve one
time one bill tokens can't solve one
bill tokens Can completely cons
bill tokens Can completely cons
consistently went on
that yeah tict Tac Toe is it like you
that yeah tict Tac Toe is it like you
can solve that problem in about five
can solve that problem in about five
seconds with a a tiny RL model from
seconds with a a tiny RL model from
scratch one bill llms well that's like a
scratch one bill llms well that's like a
failure of llms
failure of llms
right I can Sol you don't need 10
right I can Sol you don't need 10
billion parameters I can probably solve
billion parameters I can probably solve
that with like well you can solve it
that with like well you can solve it
with way less than 10,000 parameters but
with way less than 10,000 parameters but
let's say 10,000 because optimization
let's say 10,000 because optimization
gets janky when you go below
gets janky when you go below
that you can probably solve it with 10
that you can probably solve it with 10
parameters
honestly yeah you can obviously solve it
honestly yeah you can obviously solve it
deterministically with a lookup table
deterministically with a lookup table
but I mean like even if you're even if
but I mean like even if you're even if
you give it like okay you have to learn
you give it like okay you have to learn
to solve the game just by playing the
to solve the game just by playing the
game from scratch you can still solve
game from scratch you can still solve
that you know with a small handful of
that you know with a small handful of
parameters right
yeah no of course like I'm not saying oh
yeah no of course like I'm not saying oh
in order to do this you need to go have
in order to do this you need to go have
like a billion dollars worth of compute
like a billion dollars worth of compute
and probably then it's still not enough
and probably then it's still not enough
it's just uh you're in a rough spot
it's just uh you're in a rough spot
because you know your models are a
because you know your models are a
million are a billion parameters minimum
all
all
right let me uh let me think about this
right let me uh let me think about this
here because I actually think I might
here because I actually think I might
have hit on something
have hit on something
so you get your observation this is
so you get your observation this is
receive okay and on your first
receive we just give you like zero
receive we just give you like zero
rewards and stuff so it gets a padding
rewards and stuff so it gets a padding
value okay but then when you log this
value okay but then when you log this
with
action your actions are not padded
doesn't action still maps
doesn't action still maps
to the reward one in the future doesn't
it cuz you store these things together
I'm just trying to make sure I don't
I'm just trying to make sure I don't
have an off by
one actions death yet so you just make
one actions death yet so you just make
the next block of
the next block of
actions equal to
this
for
e e
wait
OBS reward for this time step
right so OBS pairs with
OBS pairs with a reward for next time
OBS pairs with a reward for next time
step so OBS this step then action then
step so OBS this step then action then
reward is there anything I'm doing here
reward is there anything I'm doing here
that like screws this
up hang
on I I do
this so
oh wait hang on what about these log
probs experience log
probs
probs
Logics action equals action
you took this
you took this
action with these
Logics this is correct isn't
that you get the
that you get the
observation you compute your
observation you compute your
action and then you get the reward on
action and then you get the reward on
the next time
step so this should not be off by
one but I'm seeing in the
one but I'm seeing in the
data it's not a clear indication of an
data it's not a clear indication of an
off by one but it looks like something
off by one but it looks like something
like that
and we get
and we get
here value me reward block new value
here value me reward block new value
variance
just increasing this to plus two already
just increasing this to plus two already
does
does
it like increasing it to look two steps
it like increasing it to look two steps
ah it already makes it
smooth e
hang
on this is kind of
is this just
shifted
no so you get
very accurate predictions of the reward
very accurate predictions of the reward
you can observe
I mean you would think that that big dip
I mean you would think that that big dip
right
right
there would be
there would be
um that you see yourself breaking the
um that you see yourself breaking the
block
block
right but then why is there still this
right but then why is there still this
dip One Step afterwards
is it just that you know you're probably
is it just that you know you're probably
not going to get another reward right
not going to get another reward right
after you've already gotten
one it's a very sharp Decay off
though and no because it's averaged over
though and no because it's averaged over
everything right this value standard
everything right this value standard
deviation
that's too
that's too
sharp something's wrong
oh wait hang on a
second so you also have to predict your
second so you also have to predict your
own actions I guess don't
own actions I guess don't
you wait wait that's a
thing so if you're in a
state is the value function learning
state is the value function learning
what the network is going to
do it shouldn't matter though because in
do it shouldn't matter though because in
breakout
breakout
specifically your action doesn't have
specifically your action doesn't have
any influence on the reward
any influence on the reward
uh like a couple time steps ahead right
uh like a couple time steps ahead right
the ball actually has to go all the way
the ball actually has to go all the way
to the
Target so that hypothesis goes out the
Target so that hypothesis goes out the
window as
well oh wait do you
well oh wait do you
know you should know the direction the
know you should know the direction the
ball is going don't you
do you know the direction the ball is
do you know the direction the ball is
going
again though it's more confident on the
again though it's more confident on the
first
first
step that would be the opposite
step that would be the opposite
Trend can't be that
either okay let's just double check that
either okay let's just double check that
it's not anything related into
this I Al state
this I Al state
two positional arguments but three
were yeah you don't need
this okay
oh oh no wait this is still the two
oh oh no wait this is still the two
Ahead version
Ahead version
right or no wait this is not hang
on this
is yeah this is the same time step
is yeah this is the same time step
version
we still see the same thing
and actually now it's less confident of
and actually now it's less confident of
the first date because it doesn't have
the first date because it doesn't have
memory
memory
anymore but there's still this
Gap e
interesting if you do it this way and
interesting if you do it this way and
I'm corrected my indexing it means you
I'm corrected my indexing it means you
can
can
predict well the reward that you just
predict well the reward that you just
got
got
duh the reward at the next time step and
duh the reward at the next time step and
then it crashes dramatically
I don't know does that mean like you
I don't know does that mean like you
could break another brick or something
could break another brick or something
in that
time why don't I just run this on pong
time why don't I just run this on pong
and see if I get the same thing
have to learn something though for me to
have to learn something though for me to
get uh any signal to
use all right there's a very very slight
use all right there's a very very slight
amount of signal
here yeah if this will uh if this gets a
here yeah if this will uh if this gets a
break point then this will be a decent
break point then this will be a decent
test
this will basically confirm it if not it
this will basically confirm it if not it
could just be n
could just be n
specific should have tried this a while
ago on hit the break point
it's just unlucky
there we
go
go
22 271 28 yeah there's still this Gap
22 271 28 yeah there's still this Gap
right
oh but interestingly now it
is no there's still this like
dip it's not anywhere near as
dip it's not anywhere near as
bad and if I undo this
we'll have to rerun this of
course maybe there is actually just a
course maybe there is actually just a
breakout specific thing right where it's
breakout specific thing right where it's
like yeah you can hit a Breck a brick
like yeah you can hit a Breck a brick
and then it takes two frames to hit the
and then it takes two frames to hit the
next one if it's like on an angle or
next one if it's like on an angle or
something I don't know could be
could just be an M specific
Quirk we'll double
check
e
e e
all
all
right interestingly that didn't score as
right interestingly that didn't score as
well though maybe it
well though maybe it
didn't that's
weird oh hang on does this work
rewards I mean that looks reasonable to
me it's basically confident
me it's basically confident
for I wouldn't be surprised if that's
for I wouldn't be surprised if that's
like the time it takes the thing to
bounce then why isn't breakout confident
bounce then why isn't breakout confident
right like most of the time the ball is
right like most of the time the ball is
going to hit
the the ball's just going to hit the uh
the the ball's just going to hit the uh
the
the
brick and then bounce back isn't it
I wonder if it's like a weird trajectory
I wonder if it's like a weird trajectory
segment length
segment length
problem let me try something real
quick 24
M what if we do 256 M that change
M what if we do 256 M that change
anything
I'll see what that
I'll see what that
does that would be kind of funny if it
does that would be kind of funny if it
were a
were a
um a horizon issue
it's still
there it's like a huge huge
gap is there something that just makes
gap is there something that just makes
it hard to predict with breakout
didn't seem to apply with
p i mean they're going to be Ms like
p i mean they're going to be Ms like
this I guess
right well what do we do about this
okay maybe like the the better question
okay maybe like the the better question
is
is
like why isn't it as confident in the
like why isn't it as confident in the
next several steps does that make sense
next several steps does that make sense
to
ask if I continue
here let's undo this before I forget as
here let's undo this before I forget as
well
this value function should be able to
this value function should be able to
see it
see it
right it's gotten all the observations
right it's gotten all the observations
previous hasn't gotten the rewards
oops did that close the gap a little
bit it did
404 6
oh wait hang
on there we go
so 16
here your rewards
here your rewards
right and
then yeah one in one right so this is
then yeah one in one right so this is
what you're
what you're
predicting on
predicting on
15 let's look at how this looks so
15 let's look at how this looks so
14 hold on values mean
okay you got zero value
okay you got zero value
in and
in and
then let's do reward
Block it's five away
okay let's get a little
closer
14 it thinks it's going to
be here here here or there's a trailing
be here here here or there's a trailing
it could take a little
longer this is point two so it still
longer this is point two so it still
thinks that there's a trailing
possibility and now it's reduced it
possibility and now it's reduced it
quite
substantially so it knows this is
substantially so it knows this is
actually a good value function
actually a good value function
it knows it's going to get a reward
it knows it's going to get a reward
here and here it puts some probability
here and here it puts some probability
math
Trail cuz it's not sure it could take an
Trail cuz it's not sure it could take an
extra step I
guess
guess
okay I mean I like this this makes sense
okay I mean I like this this makes sense
to make
let's see if we learn the value function
better what happens if we learn the
better what happens if we learn the
value
function this
this maybe this
try
this oop what's
wrong I don't know how that
happened I think it does make more sense
happened I think it does make more sense
to learn the whole distribution
clamp
clamp
received got linear hang on what what
received got linear hang on what what
happened
here
Point wait no this is
self. decoder
value log standard
deviation oh hang
on
decoder oh wait yeah you're just using
decoder oh wait yeah you're just using
that wrong one
cool
oops that's a very different story isn't
oops that's a very different story isn't
it
3.1
2 and it has no
idea 10 there's no idea this far out
idea 10 there's no idea this far out
right keep running it
see if it keeps going
up okay
that gives you that's something for
that gives you that's something for
sure oh that's a very interesting
sure oh that's a very interesting
distribution actually why is it so
distribution actually why is it so
confident about the ones later
on interesting wait 1 2 3 four five 6
on interesting wait 1 2 3 four five 6
Seven 8 9 10 11
Seven 8 9 10 11
12 six seven 8
n oh
and then it goes this far out and then
and then it goes this far out and then
it doesn't know
it doesn't know
again is it actually predicting the
again is it actually predicting the
bounce I think it is predicting the
bounce I think it is predicting the
bounce
bounce
here wait no hang on value standard
here wait no hang on value standard
deviation or rather it's predicting that
deviation or rather it's predicting that
it doesn't actually know when it's going
it doesn't actually know when it's going
to hit right
so it's pretty confident
here that it's not getting any
here that it's not getting any
reward and then it doesn't know exactly
reward and then it doesn't know exactly
when it's going to break a brick but it
when it's going to break a brick but it
knows it's going to break a
knows it's going to break a
brick and then it's pretty confident
brick and then it's pretty confident
it's not going to break a brick for a
it's not going to break a brick for a
while and then it doesn't
while and then it doesn't
know let's see if we can make sure that
know let's see if we can make sure that
that's actually happening e
okay no rewards
okay no rewards
given and
given and
it's pretty clean and confident that
it's pretty clean and confident that
it's not getting any reward until it
it's not getting any reward until it
goes too far out
it's too far so let's do
48 okay this one's nice right
wait
488 that's
488 that's
right and values mean it's a little
right and values mean it's a little
early
it's very unconfident here that it's
it's very unconfident here that it's
when it's getting the
reward that's weird isn't it
can we just have to run
this shouldn't be slow
right e 20K
let's Commit
This e
it is
it is
learning definitely is learning
276 is all I got on this
276 is all I got on this
one oh we will see
whether it is better
learnable what happened with uh with
learnable what happened with uh with
that
that
run let just check this and then I'm
run let just check this and then I'm
going to go for
dinner not this one
hey YouTube
hey YouTube
folks we just got the new version of
folks we just got the new version of
this algorithm
this algorithm
running as an initial
test so this is the previous
test so this is the previous
sweep comparison
sweep comparison
here what's wrong with
this why don't I see my dashboard oh
this why don't I see my dashboard oh
here
so this is the these are the runs and
so this is the these are the runs and
then if I look at the Fredo
then if I look at the Fredo
front five so you really don't solve the
front five so you really don't solve the
end
end
fully you get very close but you don't
fully you get very close but you don't
really fully solve it with this version
really fully solve it with this version
of the
algorithm there are a whole bunch of
algorithm there are a whole bunch of
different factors I can consider with
different factors I can consider with
that
the one I want to do for now is
the one I want to do for now is
just having the variants be adaptive per
term so we will see how this
term so we will see how this
goes I'm going to go get some
goes I'm going to go get some
dinner and we may or may not be back
dinner and we may or may not be back
after dinner with RL content I will
after dinner with RL content I will
say definitely will be back
say definitely will be back
tomorrow um for anyone who's interested
tomorrow um for anyone who's interested
in this stuff more generally it's all
in this stuff more generally it's all
free an open source it's
free an open source it's
atp. you can start the GitHub to help us
atp. you can start the GitHub to help us
out that really helps us and if you want
out that really helps us and if you want
to get involved in Dev you don't need an
to get involved in Dev you don't need an
RL back RL background some of our best
RL back RL background some of our best
contributors just came in with a good
contributors just came in with a good
programming background and they pick it
programming background and they pick it
up if you want to make M's like this or
up if you want to make M's like this or
contribute to the science join the
contribute to the science join the
Discord right here puffer Dogg or
Discord right here puffer Dogg or
discord.gg puffer you can follow me on X
discord.gg puffer you can follow me on X
for more RL content there's also a Blog
for more RL content there's also a Blog
here as well and lots of lots of fun
demos so
