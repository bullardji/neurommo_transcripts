Kind: captions
Language: en
good morning
folks what the heck is
this that's crazy that Discord has ads
this that's crazy that Discord has ads
in the
in the
freaking in the
console all right
oops that's the wrong
oops that's the wrong
one so uh we've got some stuff to do
today I think we're going to start out
today I think we're going to start out
with a little bit of hyper parameter
with a little bit of hyper parameter
work and then we're going to go on to
work and then we're going to go on to
some uh some other algorithm stuff all
some uh some other algorithm stuff all
right that is the plan for today
so we're going to start with this and
so we're going to start with this and
we're going to have to do some
we're going to have to do some
thinking
thinking
about these
experiments that appear to see to still
experiments that appear to see to still
be going
okay so here is our pong
result let's change this view over to
result let's change this view over to
this so we can do some
this so we can do some
proper analysis here um
proper analysis here um
this is looking pretty
this is looking pretty
good if we look at this parito front
here 20 score 20 seconds this is about
here 20 score 20 seconds this is about
on par with what we had
on par with what we had
before I think we had a little bit more
before I think we had a little bit more
success over here maybe like maybe we
success over here maybe like maybe we
found a point that was like 18 point
found a point that was like 18 point
something in 20 score but it's very very
something in 20 score but it's very very
close okay
and I mean we've got the nice front like
and I mean we've got the nice front like
we've got this portion of the curve so
we've got this portion of the curve so
you get 18 score and 16 seconds right
you get 18 score and 16 seconds right
it's interesting that you get this dip
it's interesting that you get this dip
here that there are you know relatively
here that there are you know relatively
way more points right here I have to
way more points right here I have to
think about why this
is but
then yeah there's 20.4
18.6
.7 yeah so the thing is these points a
.7 yeah so the thing is these points a
lot of these are
not well hold on it it's actually the
not well hold on it it's actually the
way the algorithm is designed it doesn't
way the algorithm is designed it doesn't
run experiments unless there's a a per
run experiments unless there's a a per
of optimal Point nearby so let me find
of optimal Point nearby so let me find
it this is 20 okay these are 20.8 and
it this is 20 okay these are 20.8 and
20.9
20.9
right so it must have ran this one which
right so it must have ran this one which
is
is
20.4 and then this is
20.6 and then here's
20.7 so like there there are some Paro
20.7 so like there there are some Paro
points
points
okay this is a good curve we can try to
okay this is a good curve we can try to
get this to be more cost effective a
get this to be more cost effective a
little bit because there are quite a few
little bit because there are quite a few
experiments out here but this is not bad
experiments out here but this is not bad
overall
overall
uh let's see so we have sweet progress
uh let's see so we have sweet progress
as
well oh this is a different graph this
well oh this is a different graph this
is showing
is showing
you look at that pretty much all the
you look at that pretty much all the
runs are
runs are
good yeah literally all the runs are
good yeah literally all the runs are
good runs I think we missed
good runs I think we missed
two we get optimal learning rate at
two we get optimal learning rate at
we actually get a very nice graph of the
we actually get a very nice graph of the
learning rate sensitivity
here we get the relatively stable
here we get the relatively stable
looking
looking
entropy here's your blob for Lambda very
entropy here's your blob for Lambda very
nice for
gamma Max rad Norm interesting that it
gamma Max rad Norm interesting that it
says that
says that
uh looks like some of the best results
uh looks like some of the best results
are at two
are at two
it seems pretty
it seems pretty
stable thef coefficient let me get some
stable thef coefficient let me get some
results for
results for
this one update
Epoch that's kind of
Epoch that's kind of
interesting it doesn't do multiple
interesting it doesn't do multiple
update okay
update okay
cool uh 16 BPT Horizon that's
fine and num
fine and num
Ms 256 ends
Ms 256 ends
okay and the sweep cost yeah this is the
okay and the sweep cost yeah this is the
one that's a little bit sketchy you know
one that's a little bit sketchy you know
where it spends a lot of
where it spends a lot of
these there's too much up here
essentially batch size optimal
130k and total time
steps versus
score we have
score we have
good results under 10
million
million
okay well we should be pretty happy with
okay well we should be pretty happy with
that and then mini bat size goes down as
that and then mini bat size goes down as
low
low
as ah I see how it works so instead of
as ah I see how it works so instead of
doing multiple update Epoch it just put
doing multiple update Epoch it just put
the mini badge down really
small it's actually kind of interesting
small it's actually kind of interesting
that that
works yeah there's going to be some good
works yeah there's going to be some good
data we can get out of
data we can get out of
these so the nice thing with Neptune is
these so the nice thing with Neptune is
we can literally download all this for
we can literally download all this for
analysis and do all sorts of all sorts
analysis and do all sorts of all sorts
of stats on this so this is the pong
of stats on this so this is the pong
one now we look at breakout we have this
one now we look at breakout we have this
whole other
whole other
batch this did pretty well
it's a little unfortunate that we don't
it's a little unfortunate that we don't
have um we still don't have a full saw
have um we still don't have a full saw
for this one
for this one
though still do not have a full
saw I'm GNA actually message let me
saw I'm GNA actually message let me
message
message
Spencer on this cuz uh Spencer did some
Spencer on this cuz uh Spencer did some
of the baselines
let's see if he remembers
721 is the best so
far the sweep progress over time is
far the sweep progress over time is
pretty darn good though so this
pretty darn good though so this
basically just says hey you should have
basically just says hey you should have
run more of these
got learning right
here
here
entropy this one actually does seem to
entropy this one actually does seem to
need a bit of
entropy
Lambda somewhere in
Lambda somewhere in
there GMA it's very weird that there are
there GMA it's very weird that there are
so many uh of these these experiments at
so many uh of these these experiments at
minimum gamma when the optimal is up
minimum gamma when the optimal is up
here so we'll have to look at that this
here so we'll have to look at that this
is potentially red
is potentially red
flag Max grad Norm this is pretty good
flag Max grad Norm this is pretty good
1.5 VF coefficient
1.5 VF coefficient
s uh this one does explore multiple
s uh this one does explore multiple
update Epoch you can
update Epoch you can
see looks to get better to three four
see looks to get better to three four
yeah Horizon 32
uh 512 or 256 M
uh 512 or 256 M
okay and big batch
okay and big batch
sizes do we have mini batch
sizes do we have mini batch
size okay that's bizarre that it's going
size okay that's bizarre that it's going
to do 1024 mini batch on
this am available oh cool yeah give me
this am available oh cool yeah give me
one minute and then we'll uh we'll look
one minute and then we'll uh we'll look
those masks
happen I just want to know what the heck
happen I just want to know what the heck
is wrong with the gamma it's the only
is wrong with the gamma it's the only
thing I wanted to figure out
thing I wanted to figure out
first
see oh it's actually perfectly fine it's
see oh it's actually perfectly fine it's
just
just
uh it's just like wide samples at the
uh it's just like wide samples at the
start so we can maybe adjust the sample
start so we can maybe adjust the sample
range a little bit but it's just some
range a little bit but it's just some
wide samples at the start so this is
wide samples at the start so this is
perfectly fine this is perfectly fine
perfectly fine this is perfectly fine
actually upd epox this looks
actually upd epox this looks
good yeah so everything is good the
good yeah so everything is good the
parameters it finds are pretty janky but
parameters it finds are pretty janky but
we can't argue with the score so that
we can't argue with the score so that
just means that we have more analysis to
just means that we have more analysis to
do but this is very good cool so uh
do but this is very good cool so uh
we'll look at the algorithm a little bit
we'll look at the algorithm a little bit
more and think about it after we look at
more and think about it after we look at
this thing with Captain here so
this thing with Captain here so
apparently I broke something with
apparently I broke something with
masks let's take a look
all right C what are we looking at
H VC
sure hey hey good evening yeah how's it
sure hey hey good evening yeah how's it
going good how you doing pretty good we
going good how you doing pretty good we
have
have
uh this is a simpler version of the same
uh this is a simpler version of the same
algorithm but it looks like we're
algorithm but it looks like we're
actually getting some stuff so we have a
actually getting some stuff so we have a
baseline to work off of
baseline to work off of
what was
what was
simplified so uh it turns out
simplified so uh it turns out
that the gaussian processes are really
that the gaussian processes are really
only directionally correct you can't
only directionally correct you can't
really use them to like estimate
really use them to like estimate
improvement over nearest point or stuff
improvement over nearest point or stuff
like that it's very inaccurate so we're
like that it's very inaccurate so we're
only using them to essentially rank a
only using them to essentially rank a
bunch of candidate points and uh then
bunch of candidate points and uh then
we're just we're picking the cost
we're just we're picking the cost
randomly we're essentially saying like
randomly we're essentially saying like
run an experiment of random cost and
run an experiment of random cost and
then get uh the best point that you can
then get uh the best point that you can
there so I the goal initially was to
there so I the goal initially was to
kind of like slowly increase the cost
kind of like slowly increase the cost
budget whatever but that doesn't really
budget whatever but that doesn't really
seem feasible well or maybe later this
seem feasible well or maybe later this
was a baseline right so like this this
was a baseline right so like this this
was something that I knew would work
was something that I knew would work
because it uh it removes a lot of the
because it uh it removes a lot of the
degenerate cases gotcha so and this is
degenerate cases gotcha so and this is
actually like we have this matches
actually like we have this matches
pretty much our best sweep curve
pretty much our best sweep curve
from
from
pong we get a really clean Pito
pong we get a really clean Pito
front um now the only question on it is
front um now the only question on it is
can we do it in less runtime right can
can we do it in less runtime right can
we make this spe faster uh and the
we make this spe faster uh and the
breakout one actually looks good as well
breakout one actually looks good as well
it again it just it takes a while so and
it again it just it takes a while so and
like we have multiple knobs we can tune
like we have multiple knobs we can tune
to improve that so I'll be looking at
to improve that so I'll be looking at
that uh today tomorrow
that uh today tomorrow
whatever let's fix this Mass thing you
whatever let's fix this Mass thing you
said that there's a an with this yeah so
said that there's a an with this yeah so
um we can we can look at the commit we
um we can we can look at the commit we
introduce them if you want but like it's
introduce them if you want but like it's
so simple like I I I looked over it a
so simple like I I I looked over it a
couple times I don't think I did
couple times I don't think I did
anything wrong so basically yeah I
anything wrong so basically yeah I
noticed when I was training teams like I
noticed when I was training teams like I
had two agents on one team and and two
had two agents on one team and and two
scripted bots in the other team like it
scripted bots in the other team like it
just wasn't learning and I'm like that's
just wasn't learning and I'm like that's
weird and I tried some things I'm just
weird and I tried some things I'm just
like well I don't know maybe implemented
like well I don't know maybe implemented
teams wrong tried to do another like
teams wrong tried to do another like
just one V one like drone versus Sitting
just one V one like drone versus Sitting
Duck run and it just like didn't do
Duck run and it just like didn't do
anything I was like well that's weird so
anything I was like well that's weird so
I finally I the bisected it back to the
I finally I the bisected it back to the
commit where I introduced masks I
commit where I introduced masks I
commented out like the basically setting
commented out like the basically setting
of The Masks to zero um and the Run went
of The Masks to zero um and the Run went
like I did another training run it was
like I did another training run it was
perfectly fine like normal well can I
perfectly fine like normal well can I
see how you did the masking sure
uh yeah let me pull up that exact
uh yeah let me pull up that exact
it
um I do in
um I do in
here
yes I'll send it in the uh VC chat
Channel I had a team as well but like
Channel I had a team as well but like
the overall diff is not huge
that's just my demo file or Benchmark
that's just my demo file or Benchmark
file yeah
see this is where if you go down a
see this is where if you go down a
little further as we're actually use
them so yeah I added it as a argument to
them so yeah I added it as a argument to
nit M um and then I passed it in you can
nit M um and then I passed it in you can
see I pass in to scon and the the
see I pass in to scon and the the
ordering is correct because like I
ordering is correct because like I
passed them in the correct uh as the
passed them in the correct uh as the
correct argument
correct argument
because when I stop using them
because when I stop using them
everything works fine yeah I just set
everything works fine yeah I just set
them all to one when it resets episode
them all to one when it resets episode
resets and then when an agent dies I set
resets and then when an agent dies I set
it to zero if you keep going down
further yeah right
there up a little bit where I set the
there up a little bit where I set the
mass of zero
is this setting in
is this setting in
order Yeah so basically I'm looping over
order Yeah so basically I'm looping over
all the drones uh and but they're all
all the drones uh and but they're all
the drones may not be agent so basically
the drones may not be agent so basically
if this drone is an agent and it's dead
if this drone is an agent and it's dead
then I set the mask to be zero this is
then I set the mask to be zero this is
the correct check like that like the
the correct check like that like the
index of the Drone is going to be like
index of the Drone is going to be like
the ones that are alive are going to be
the ones that are alive are going to be
in order or something well no so the way
in order or something well no so the way
I do it is so you have n number of
I do it is so you have n number of
drones right usually it's like two or
drones right usually it's like two or
four um and basically if you
four um and basically if you
have uh less agents than you do drones
have uh less agents than you do drones
then I set the first like soever many
then I set the first like soever many
say you have like two agents and you
say you have like two agents and you
have four drones right so the first two
have four drones right so the first two
drones will be agents and the last two
drones will be agents and the last two
drones will bots so I know if okay if
drones will bots so I know if okay if
yeah so if we have two agents then drone
yeah so if we have two agents then drone
one or two or zero or one are going to
one or two or zero or one are going to
be agents so I can safely set the masks
be agents so I can safely set the masks
and Terminals and all that um so have
and Terminals and all that um so have
you tried training this thing just
commenting just commenting this out yeah
commenting just commenting this out yeah
that's exactly what I did so when I
that's exactly what I did so when I
comment yeah when I do that it trains
comment yeah when I do that it trains
perfect it trains like you know what it
perfect it trains like you know what it
did before and when I don't comment that
did before and when I don't comment that
out when I set the mass to zero I can
out when I set the mass to zero I can
show you the curve it's a completely
show you the curve it's a completely
different curve that's it like it does
different curve that's it like it does
it does learn but way slower and it caps
it does learn but way slower and it caps
so against a Sitting Duck opponent after
so against a Sitting Duck opponent after
a billion steps it I think it the win
a billion steps it I think it the win
rate is like less than half and normally
rate is like less than half and normally
it trains like 90 something per over a
it trains like 90 something per over a
billion steps how many agents are there
billion steps how many agents are there
just two uh just one I was so I was just
just two uh just one I was so I was just
trying to you know figure out this
trying to you know figure out this
Behavior we're just one agent one
Behavior we're just one agent one
sitting
sitting
duck uh hang on let me just twitch is
duck uh hang on let me just twitch is
this obnoxious thing where you have to
this obnoxious thing where you have to
Bam these bxs constantly oh yeah strange
Bam these bxs constantly oh yeah strange
it's like so incredibly obnoxious I
it's like so incredibly obnoxious I
don't know how the hell they haven't
don't know how the hell they haven't
fixed this [ __ ] yet
fixed this [ __ ] yet
um I guess X hasn't fixed it either like
um I guess X hasn't fixed it either like
it used to be my DMs were flooded with
it used to be my DMs were flooded with
the sex bots and now it's the crypto
the sex bots and now it's the crypto
Bots it's just [ __ ] I don't know
Bots it's just [ __ ] I don't know
which is worse
which is worse
yeah honestly let's see
yeah honestly let's see
so yeah curve is in
so yeah curve is in
VC oh uh let me post it uh let me find
VC oh uh let me post it uh let me find
it
it
we definitely want this working and I
we definitely want this working and I
also I wanted I'd like to have a
also I wanted I'd like to have a
confirmation continuous action to work
confirmation continuous action to work
because we're going to be using that for
because we're going to be using that for
a a separate
a a separate
project like yeah pretty much now or
project like yeah pretty much now or
whenever so I think Spencer has that pa
whenever so I think Spencer has that pa
um yeah I saw you appear for
that that mask on no masks is this one
that that mask on no masks is this one
yeah it's kind of rough because in order
yeah it's kind of rough because in order
to really do like good IC on um like new
to really do like good IC on um like new
algorithms and new stuff like the hyper
algorithms and new stuff like the hyper
parameter thing I kind of have to ignore
parameter thing I kind of have to ignore
a bunch of other stuff for several
a bunch of other stuff for several
days so uh yeah I haven't looked at uh
days so uh yeah I haven't looked at uh
some of this the new merges and stuff
some of this the new merges and stuff
yet yeah it makes sense
but well I'm actually
but well I'm actually
on I'm actually on 2.0 too so I'm not
on I'm actually on 2.0 too so I'm not
like on like Dev for anything it should
like on like Dev for anything it should
you should be on 2.0 Dev is there's all
you should be on 2.0 Dev is there's all
sorts of fancy stuff on dev you will be
sorts of fancy stuff on dev you will be
pring it to Dev um yeah yeah that makes
pring it to Dev um yeah yeah that makes
most likely because I would let you to
most likely because I would let you to
PR 20 if you know we look through the M
PR 20 if you know we look through the M
code and it was good except for the
code and it was good except for the
teing stuff
teing stuff
so it's pretty much whenever you do
so it's pretty much whenever you do
something that's like that needs some
something that's like that needs some
time to see if it's good that's when you
time to see if it's good that's when you
get stuck on uh on to Dev yeah that
get stuck on uh on to Dev yeah that
makes sense like Spencer did the same
makes sense like Spencer did the same
thing had the same thing where he like
thing had the same thing where he like
messed with my setup file it's basically
messed with my setup file it's basically
if you give me a clean PR I'll put it to
if you give me a clean PR I'll put it to
um yeah don't make
sense yeah the main thing to look at the
sense yeah the main thing to look at the
main obviously yeah like the or this
main obviously yeah like the or this
what's that these are not the two curves
what's that these are not the two curves
these are this is one experiment right
these are this is one experiment right
yeah this is one so I posted both I post
yeah this is one so I posted both I post
this is the one with mass you can see
this is the one with mass you can see
the win rate kind of like never really
the win rate kind of like never really
gets above 50 and then yeah this is like
gets above 50 and then yeah this is like
a standard like run that I'd
a standard like run that I'd
expect yeah there you
go and it's weird because in this
go and it's weird because in this
scenario something is weirdly scaled
scenario something is weirdly scaled
because
because
um okay so it's one agent right yep on
um okay so it's one agent right yep on
both these it's one agent so when you're
both these it's one agent so when you're
masking something out what is like
masking something out what is like
what's even getting mask it should be
what's even getting mask it should be
resetting when the agent dies right
resetting when the agent dies right
exactly so that's what what's so strange
exactly so that's what what's so strange
about
about
this so the only thing I'm play exactly
yeah I wonder if it's terminal you would
yeah I wonder if it's terminal you would
I think you probably do lose the
I think you probably do lose the
terminals oh do
you so let me can I let me explain
you so let me can I let me explain
something to you that's like since
something to you that's like since
you're trying to get into more research
you're trying to get into more research
side as well so you want RL background
side as well so you want RL background
right so like if it's helpful I try to
right so like if it's helpful I try to
like share things when uh yeah no that's
like share things when uh yeah no that's
good so there's this weird Quirk with RL
good so there's this weird Quirk with RL
that makes a lot of infra really
that makes a lot of infra really
obnoxious right
obnoxious right
um which is just the way that it's set
um which is just the way that it's set
up so you get like
up so you get like
observation zero right
observation zero right
action uh and then you do action
action uh and then you do action
zero OBS one
one
one
one
one and then let's say the agent dies
one and then let's say the agent dies
here okay
mhm um you end up with an extra
mhm um you end up with an extra
observation compared to
observation compared to
action oh right because you're giving it
action oh right because you're giving it
like the terminal observation and it
like the terminal observation and it
can't act because it's already dead
can't act because it's already dead
right well but the thing is you kind of
right well but the thing is you kind of
have to choose because
have to choose because
like so you observe something and then
like so you observe something and then
you act and then you observe something
you act and then you observe something
and then you act and you would like to
and then you act and you would like to
have this observation because this is
have this observation because this is
what you use to like for the final
what you use to like for the final
bootstrap value but if you include this
bootstrap value but if you include this
observation then uh it screws up the
observation then uh it screws up the
length of your buffers and stuff and
length of your buffers and stuff and
then you miss the first action like you
then you miss the first action like you
can't you you miss the first action so
can't you you miss the first action so
it's it's kind of like tricky to figure
it's it's kind of like tricky to figure
out how cuz you have to reset the
out how cuz you have to reset the
environment here somewhere right cuz
environment here somewhere right cuz
then when you reset the environment it's
then when you reset the environment it's
going to give you a fresh OB zero so
going to give you a fresh OB zero so
it'll give you two in a row yeah so this
it'll give you two in a row yeah so this
is why there end up being a whole bunch
is why there end up being a whole bunch
of boundary issues in RL I have no idea
of boundary issues in RL I have no idea
how much they're actually important um
how much they're actually important um
this would actually be because we make
this would actually be because we make
some approximations in puffer lib that
some approximations in puffer lib that
could be screwing Us in places this
could be screwing Us in places this
would be a great spot to look for
would be a great spot to look for
potential
potential
BR
BR
H so you're thinking basically by
H so you're thinking basically by
including the masks like somehow maybe
including the masks like somehow maybe
the terminals are getting yeah we're
the terminals are getting yeah we're
probably cutting off a terminal or
probably cutting off a terminal or
something but I like I'd kind of be
something but I like I'd kind of be
surprised if that was the issue I mean I
surprised if that was the issue I mean I
guess I could see it if you don't know
guess I could see it if you don't know
the terminals then you compute
the terminals then you compute
generalized Advantage estimation kind of
generalized Advantage estimation kind of
over one giant
over one giant
trajectory um which can probably screw
trajectory um which can probably screw
stuff up
are you sure we're resetting the
are you sure we're resetting the
environment as soon as the agent dies
environment as soon as the agent dies
right yeah so um because there's only
right yeah so um because there's only
two agents or two drones I should say
two agents or two drones I should say
two players
two players
basically yeah um I have logic it's
basically yeah um I have logic it's
basically like the round is over when
basically like the round is over when
the amount of dead players exceed or
the amount of dead players exceed or
equal the amount of total drones minus
equal the amount of total drones minus
one so if one dies 2 - one is one and
one so if one dies 2 - one is one and
that's greater than equal to one so yeah
that's greater than equal to one so yeah
basically like yeah um if there's like
basically like yeah um if there's like
one or zero players left then the
one or zero players left then the
round's
over
okay so I was thinking if we want to
okay so I was thinking if we want to
ensure this is not like some issue with
ensure this is not like some issue with
me or something but like again like just
me or something but like again like just
by I issue with
by I issue with
puffer like I can show you right here so
puffer like I can show you right here so
the way this or
the way this or
masks yeah it's around line 400 or
masks yeah it's around line 400 or
something I was looking like it's it's
something I was looking like it's it's
like a torch. wear filters on them and
like a torch. wear filters on them and
like when when you store an experience
like when when you store an experience
buffer yeah so this is the thing it just
buffer yeah so this is the thing it just
doesn't get
doesn't get
stored yeah
so this is used for dead agents cuz
so this is used for dead agents cuz
normally what would happen is you just
normally what would happen is you just
get done and then it would reset the
get done and then it would reset the
next time step so you would actually get
next time step so you would actually get
the
done this is actually important because
done this is actually important because
this affects GPU drive and other
this affects GPU drive and other
environments as
well okay how interested are you
well okay how interested are you
in um in this particular thing in puffer
in um in this particular thing in puffer
because if you want to get into like
because if you want to get into like
trajectory bounds and if you want to
trajectory bounds and if you want to
help us like really fix trajectory
help us like really fix trajectory
bounds and like run some experiment
bounds and like run some experiment
I have some ideas if you just want to
I have some ideas if you just want to
like figure out how to patch this in the
like figure out how to patch this in the
context of your end and like we do like
context of your end and like we do like
some smaller thing to puffer I can also
some smaller thing to puffer I can also
do that as well um so option one would
do that as well um so option one would
be we find some way to make sure that we
be we find some way to make sure that we
just get the last observation or
just get the last observation or
whatever in so like we apply mask one
whatever in so like we apply mask one
step
step
later
later
right what do we do with the action then
right what do we do with the action then
do we just set like the actions to I
do we just set like the actions to I
don't know just like all zeros or
something because thing it's resetting
something because thing it's resetting
it's resetting anyways
it's resetting anyways
right so it would just be when an agent
right so it would just be when an agent
dies you get the done signal right and
dies you get the done signal right and
then the next step you set the
mask
mask
so so that that would be how I do it
so so that that would be how I do it
basically that's how I fix it in my m
basically that's how I fix it in my m
without the modify puffer right yes and
without the modify puffer right yes and
the other option is if you wanted to
the other option is if you wanted to
help with cuz I've actually had like
help with cuz I've actually had like
multiple questions about the way that we
multiple questions about the way that we
handle trajectory bounds and stuff right
handle trajectory bounds and stuff right
and I've mostly said it's probably not
and I've mostly said it's probably not
an issue most of the time but I don't
an issue most of the time but I don't
actually know um so the other option
actually know um so the other option
would be that if you seen like the ocean
would be that if you seen like the ocean
sanity Ms MH yeah yeah okay you'd make
sanity Ms MH yeah yeah okay you'd make
like a couple little sanity Ms where
like a couple little sanity Ms where
like you need the last state or whatever
like you need the last state or whatever
in order to solve the task M and uh you
in order to solve the task M and uh you
would see like if we can train these and
would see like if we can train these and
then we would
then we would
essentially
essentially
modify the mask uh the way that we do
modify the mask uh the way that we do
masks or the way that we handle you know
masks or the way that we handle you know
in the script or in
in the script or in
vectorization to make sure that this
vectorization to make sure that this
works for handling episode bounce
works for handling episode bounce
correctly so those would be the two
options I think I'm interested in
options I think I'm interested in
solving it like actually solving it um
solving it like actually solving it um
that would be a very good contribution
that would be a very good contribution
because this is like one of the more
because this is like one of the more
this is one of the approximations that
this is one of the approximations that
kind of bothers me more that I've made
kind of bothers me more that I've made
um yeah I don't know if we're we're
um yeah I don't know if we're we're
probably not correctly doing like value
probably not correctly doing like value
bootstrapping and stuff as well like
bootstrapping and stuff as well like
there's a bunch of episode bound
there's a bunch of episode bound
Shenanigans uh essentially and I don't
Shenanigans uh essentially and I don't
really have a great answer
really have a great answer
to I still don't have a great answer to
to I still don't have a great answer to
this fundamental thing which is where is
it give me one
it give me one
second I guess I closed the window but I
second I guess I closed the window but I
don't have a great answer to the extra
don't have a great answer to the extra
observation thing yet
um okay
sorry what were you saying I don't have
sorry what were you saying I don't have
a great answer to the extra observation
a great answer to the extra observation
thing at the moment I think I think
thing at the moment I think I think
Toral handles this correctly but I don't
Toral handles this correctly but I don't
know if they do it in a remotely
know if they do it in a remotely
efficient way yeah cuz like I've seen
efficient way yeah cuz like I've seen
people like smuggle last OBS into infos
people like smuggle last OBS into infos
and stuff before and frankly that's just
and stuff before and frankly that's just
moronic oh yeah I think I think I've
moronic oh yeah I think I think I've
seen some stuff in stable baselines 3 do
seen some stuff in stable baselines 3 do
that yeah it's just that's just stupid
that yeah it's just that's just stupid
that's just like [ __ ] programmers making
that's just like [ __ ] programmers making
stuff slow um yeah yeah
so you probably do want the last
so you probably do want the last
observation
observation
um it's really useful because I like
um it's really useful because I like
that's like your goal State I
that's like your goal State I
guess so basically like what's happening
guess so basically like what's happening
most of the time is if you're dropping
most of the time is if you're dropping
the last observation which is I think
the last observation which is I think
what we do by default in our
what we do by default in our
environments when we're resetting if you
environments when we're resetting if you
drop the last observation then you're
drop the last observation then you're
basically the puffer is just it's like
basically the puffer is just it's like
you're learning that you're getting a
you're learning that you're getting a
one away from the goal State then you
one away from the goal State then you
learn the back Last Action anyways
learn the back Last Action anyways
um I like I didn't think that's going to
um I like I didn't think that's going to
be too big of an issue I think probably
be too big of an issue I think probably
the bigger issue is the Mas honestly
the bigger issue is the Mas honestly
like I I'd actually be fine with keeping
like I I'd actually be fine with keeping
the OBS thing the way it is if as long
the OBS thing the way it is if as long
as we can fix the mask cuz I think the
as we can fix the mask cuz I think the
mask is actually killing the I think
mask is actually killing the I think
it's killing the second to last
it's killing the second to last
observation most likely um
observation most likely um
um and well the thing it's definitely
um and well the thing it's definitely
the thing that I think it's most likely
the thing that I think it's most likely
doing for sure is going to be uh cutting
doing for sure is going to be uh cutting
up boundaries
up boundaries
between uh between like cutting up agent
between uh between like cutting up agent
boundaries essentially M so like if an
boundaries essentially M so like if an
agent doesn't respawn
instantly yeah be a good thing to handle
instantly yeah be a good thing to handle
like so essentially if we could do this
like so essentially if we could do this
correctly then uh what we might be able
correctly then uh what we might be able
to do out of this to get give you some
to do out of this to get give you some
idea is I think we could probably handle
idea is I think we could probably handle
uh environments with like Dynamic number
uh environments with like Dynamic number
of Agents a lot more easily just by like
of Agents a lot more easily just by like
masking in yeah cuz we could like you
masking in yeah cuz we could like you
know whenever there's not an agent there
know whenever there's not an agent there
you mask right and then you just put a
you mask right and then you just put a
new agent there I think you could do it
new agent there I think you could do it
if we were to handle this stuff
correctly it's not stuff that I have as
correctly it's not stuff that I have as
top of mind because like I I will say my
top of mind because like I I will say my
interests are very much in this because
interests are very much in this because
like my longterm thing right I want to
like my longterm thing right I want to
eventually have like neural MMO 7 or
eventually have like neural MMO 7 or
something for AI what does masking mean
something for AI what does masking mean
so Tyler so masking here this is a niche
so Tyler so masking here this is a niche
thing that's probably not applicable to
thing that's probably not applicable to
your thing but in multi-agent
your thing but in multi-agent
environments if an agent dies you need
environments if an agent dies you need
to not include like padding data uh in
to not include like padding data uh in
the optimization because that'll screw
the optimization because that'll screw
stuff up so if you have 100 agents and
stuff up so if you have 100 agents and
30 of them dead are dead then you don't
30 of them dead are dead then you don't
want to include 30% buffer data in
want to include 30% buffer data in
learning so you need some way to mask
learning so you need some way to mask
that out
that out
um but yeah uh Captain
um but yeah uh Captain
so long term I want puffer to be able to
so long term I want puffer to be able to
scale to like really awesome you know
scale to like really awesome you know
multi-agent complex environments and
multi-agent complex environments and
stuff I haven't been doing that as much
stuff I haven't been doing that as much
personally because uh you know we're
personally because uh you know we're
trying to fix core RL first but yeah
trying to fix core RL first but yeah
makes sense I this would kind of handle
makes sense I this would kind of handle
both because I think this will make it
both because I think this will make it
easier in the longterm to do stuff but
easier in the longterm to do stuff but
also there's like very immediate stuff
also there's like very immediate stuff
that this would help with like if you
that this would help with like if you
find something major the uh major here
find something major the uh major here
like this could help with GPU drive and
like this could help with GPU drive and
stuff as
stuff as
well okay
well okay
um yeah I'm trying to think about how to
um yeah I'm trying to think about how to
handle this I mean you would make a
handle this I mean you would make a
couple of these test M just to for
couple of these test M just to for
checking purposes and then um The Mask
checking purposes and then um The Mask
could
be I
be I
wonder can we do it off of d
wonder can we do it off of d
somehow let me
somehow let me
think like maybe we special case if the
think like maybe we special case if the
mask like the the first
mask like the the first
um I forget what you call it the first
um I forget what you call it the first
like the the grouping of observation
like the the grouping of observation
value action and all that what's that
value action and all that what's that
called like one state I guess
called like one state I guess
yeah so basically the first state that
yeah so basically the first state that
has mask to be zero and is like done
has mask to be zero and is like done
then we special case that maybe
yeah
yeah
um I'm trying to think how we can do
um I'm trying to think how we can do
this without having to do it
this without having to do it
in in all the M's because technically
in in all the M's because technically
what we could do right is we could just
what we could do right is we could just
say that the M returns we could just
say that the M returns we could just
make our M's our puffer M's uh return
make our M's our puffer M's uh return
done like repeatedly whenever an agent
done like repeatedly whenever an agent
is done
is done
okay so like whenever an agent isn't
okay so like whenever an agent isn't
there could just it could return all
there could just it could return all
Ds so like if the if there's no agent
Ds so like if the if there's no agent
there right if the agent is dead you get
there right if the agent is dead you get
a done through and then the mask would
a done through and then the mask would
just be uh you essentially the mask is
just be uh you essentially the mask is
false on the first done and then it's
false on the first done and then it's
true all subsequent DS there after until
true all subsequent DS there after until
done is
done is
false and then we could automatically
false and then we could automatically
compute mask for most of the
MS that would work
MS that would work
right I think so um if you get two DS in
right I think so um if you get two DS in
a row essentially the second one gets
a row essentially the second one gets
masked if you get three DS in a row the
masked if you get three DS in a row the
second the third one get masked yeah
second the third one get masked yeah
yeah it's kind of like what I'm saying
yeah it's kind of like what I'm saying
you you ski the first like state that
you you ski the first like state that
has well you have to but you have to
has well you have to but you have to
actually you have to change it because
actually you have to change it because
now I don't know if we set done equal
now I don't know if we set done equal
true when agents are dead I don't think
true when agents are dead I don't think
we have any environments where agents
we have any environments where agents
are dead other than uh yours because
are dead other than uh yours because
I've specifically avoided it cuz I know
I've specifically avoided it cuz I know
it's a pain in the ass um but if so I
it's a pain in the ass um but if so I
think that yours would be the only one
think that yours would be the only one
where we even would have to mess with
where we even would have to mess with
it but we could we could say going
it but we could we could say going
forward right environments are supposed
forward right environments are supposed
to return done uh if they if the agent
to return done uh if they if the agent
is dead and then mask can just Auto be
is dead and then mask can just Auto be
uh mask can just be Auto computed for
uh mask can just be Auto computed for
you based on
you based on
that and obviously you could override it
that and obviously you could override it
right if you have some other masking
right if you have some other masking
agenda MH so when would would that be
agenda MH so when would would that be
the correct Behavior though cuz right
the correct Behavior though cuz right
now the way I'm using masking is like
now the way I'm using masking is like
I'm I'm doing stuff in like
I'm I'm doing stuff in like
uh like basically it's elimination game
uh like basically it's elimination game
mode so like if you die you're you're
mode so like if you die you're you're
dead but I'd like to maybe later have
dead but I'd like to maybe later have
like a game mode where you have multiple
like a game mode where you have multiple
lives and so then when you die like I
lives and so then when you die like I
basically just mask out while you're
basically just mask out while you're
respawning and then you know that would
respawning and then you know that would
be fine though because you would just
be fine though because you would just
have let's say that if you respawn
have let's say that if you respawn
instantly The Mask wouldn't even get
instantly The Mask wouldn't even get
applied because you get a single D
applied because you get a single D
signal or no D signal at all right if
signal or no D signal at all right if
you like you could have no D signal at
you like you could have no D signal at
all there as well it depends how you to
all there as well it depends how you to
find it um
find it um
and if there is a respawn time then
and if there is a respawn time then
you'll have the done signal and you'll
you'll have the done signal and you'll
have math during the respawn time but no
have math during the respawn time but no
but that's
but that's
it and then you can you can flip done
it and then you can you can flip done
back to back to false after you yeah but
back to back to false after you yeah but
what I'm what I'm thinking is like we're
what I'm what I'm thinking is like we're
saying done is the a or the or like
saying done is the a or the or like
basically is terminated or truncated in
basically is terminated or truncated in
this context
this context
right
right
um like we're just kind of calling that
um like we're just kind of calling that
done done yeah done is terminated or
done done yeah done is terminated or
truncated okay so but what I'm thinking
truncated okay so but what I'm thinking
is whenever you set done to be true
is whenever you set done to be true
you're signifying to like the r
you're signifying to like the r
algorithm like okay this episode is over
algorithm like okay this episode is over
for this agent but what I'm thinking is
for this agent but what I'm thinking is
if you're respawning to me it depends on
if you're respawning to me it depends on
your game but for me think of like say
your game but for me think of like say
Smash Brothers or something like if
Smash Brothers or something like if
you're playing a game where you have
you're playing a game where you have
like oneon-one opponent you both the
like oneon-one opponent you both the
three stocks I wouldn't count each
three stocks I wouldn't count each
episode as a as a or each stock as an
episode as a as a or each stock as an
episode I would count the whole round as
episode I would count the whole round as
an episode so done then you would you
an episode so done then you would you
would mask but you wouldn't set done
would mask but you wouldn't set done
right you would mask everything and you
right you would mask everything and you
wouldn't even include the first done you
wouldn't even include the first done you
would just mask
would just mask
everything right but I'm saying I'm just
everything right but I'm saying I'm just
saying like this scheme might not work
saying like this scheme might not work
in that case because if we're the auto
in that case because if we're the auto
you would override the like if we made
you would override the like if we made
an auto one for you you would override
an auto one for you you would override
the the auto mask
the the auto mask
um I mean we don't have to have an auto
um I mean we don't have to have an auto
mask we can just make the utility
mask we can just make the utility
function that does that if you want it
function that does that if you want it
um yeah I see right so but in that case
um yeah I see right so but in that case
what you would do is I think you still
what you would do is I think you still
want to mask out the respawn time if
want to mask out the respawn time if
there is one yes yes the alternative
there is one yes yes the alternative
which is what I've done with neuro
which is what I've done with neuro
because this is a pain in the ass is to
because this is a pain in the ass is to
just not have a respawn time
oh so there seems to be respawn time in
oh so there seems to be respawn time in
the game but basically like as far as
the game but basically like as far as
rl's concerned like it just pausing like
rl's concerned like it just pausing like
that's just a render
that's just a render
thing well if you're including I
thing well if you're including I
actually don't think it would be
actually don't think it would be
terrible because there there's not that
terrible because there there's not that
much of it um you're just kind of like
much of it um you're just kind of like
the RL agent can't act so you're giving
the RL agent can't act so you're giving
it useful state in the buffer right
it useful state in the buffer right
because there's nothing you can do to
because there's nothing you can do to
change the
change the
result I I guess technically it's still
result I I guess technically it's still
it's still uh getting information for
it's still uh getting information for
the value function for the respawn time
the value function for the respawn time
like that so it actually it might not be
like that so it actually it might not be
terrible to not mask the respawn because
terrible to not mask the respawn because
it's still getting information it can
it's still getting information it can
use for the value function
use for the value function
right like it is actually important to
right like it is actually important to
see what's going on while you're
see what's going on while you're
respawning
respawning
right yeah that might actually be true
right yeah that might actually be true
so I think you actually just might not
so I think you actually just might not
need to mask this stuff at all the only
need to mask this stuff at all the only
thing that you do need to mask right is
thing that you do need to mask right is
if it is like an elimination game and
if it is like an elimination game and
like the is done end round it can't do
like the is done end round it can't do
anything anymore right then you need the
anything anymore right then you need the
mask yeah and you could also so in my
mask yeah and you could also so in my
current state in my current like and
current state in my current like and
that's the way it is the mode is just
that's the way it is the mode is just
set to be elimination but in the future
set to be elimination but in the future
that might be useful yeah you're
that might be useful yeah you're
actually right to not mask out the respa
actually right to not mask out the respa
time and then I could just add some to
time and then I could just add some to
Observation to say like hey like you're
Observation to say like hey like you're
respawning you can't act So eventually
respawning you can't act So eventually
it could learn it can't do anything
it could learn it can't do anything
maybe if you want to this is how this is
maybe if you want to this is how this is
how you would go if I were building your
how you would go if I were building your
environment and I didn't want to deal
environment and I didn't want to deal
with it what I would have done is I
with it what I would have done is I
would have just made it like the game
would have just made it like the game
runs for a fixed amount of times and
runs for a fixed amount of times and
it's Max kills with instant respawn
it's Max kills with instant respawn
time
yeah
yeah
um yeah right now with the elimination
um yeah right now with the elimination
though I I kind of have to handle it
though I I kind of have to handle it
okay if I'm doing like teams and stuff
okay if I'm doing like teams and stuff
it's a useful thing for us to handle so
it's a useful thing for us to handle so
yeah if you want to uh I mean if you
yeah if you want to uh I mean if you
want to look at the masking and see if
want to look at the masking and see if
you could fix some stuff there I think
you could fix some stuff there I think
probably even like yeah for GPU drive
probably even like yeah for GPU drive
that would probably be useful as well
that would probably be useful as well
cuz we are probably missing the uh the
cuz we are probably missing the uh the
terminals now sorry to interrupt out of
terminals now sorry to interrupt out of
just curiosity is this like a single
just curiosity is this like a single
agent learning or a multi-agent learning
agent learning or a multi-agent learning
is whole reason you're discussing this
is whole reason you're discussing this
uh this only applies to
multi-agent
multi-agent
okay uh yeah I mean I've been not in and
okay uh yeah I mean I've been not in and
out of the conversation but in and out
out of the conversation but in and out
of listening to the conversation because
of listening to the conversation because
that I'm I'm working on a multi-agent
that I'm I'm working on a multi-agent
one but I don't
one but I don't
exactly how's that you actually you had
exactly how's that you actually you had
a pretty nice little environment there
a pretty nice little environment there
it's it's kind of funny that you tried
it's it's kind of funny that you tried
to like make your own neural
to like make your own neural
MMO uh yeah so I'm dubbing it gridscape
MMO uh yeah so I'm dubbing it gridscape
so it's a 2d top down representation of
so it's a 2d top down representation of
RuneScape
RuneScape
you it's D that's literally what I
you it's D that's literally what I
wanted to do with that's literally
wanted to do with that's literally
exactly what I wanted to do with nuro
exactly what I wanted to do with nuro
RuneScape is a 2d top down it's
RuneScape is a 2d top down it's
literally internally that's how the
literally internally that's how the
game's
game's
represented yeah and there are because
represented yeah and there are because
what led me down this Rabbit Hole was
what led me down this Rabbit Hole was
quite literally watching you do neural
quite literally watching you do neural
MMO and then there are project it's just
MMO and then there are project it's just
hard yeah there are just a couple of
hard yeah there are just a couple of
nuances that I'm going to handle
nuances that I'm going to handle
differently like instead of dynamically
differently like instead of dynamically
creating a map it's just going to be a
creating a map it's just going to be a
static map every time things like that
static map every time things like that
that actually makes learning harder a
that actually makes learning harder a
lot of the
lot of the
time I'm aware but it's not I'm not
time I'm aware but it's not I'm not
looking it's not like story driven it's
looking it's not like story driven it's
how like essentially how many levels can
how like essentially how many levels can
you collect across the whole thing
you collect across the whole thing
and like I'm looking at it more as of
and like I'm looking at it more as of
like a world Sim hey we're happy we're
like a world Sim hey we're happy we're
happy to have more RL environments to
happy to have more RL environments to
play with right
play with right
so yeah I'm stuck because I refuse to
so yeah I'm stuck because I refuse to
use
use
rayb
rayb
um and cs's colors andc is actually
um and cs's colors andc is actually
driving me at the wall yep I ra ra is
driving me at the wall yep I ra ra is
just good I mean it's cool to have zero
just good I mean it's cool to have zero
dependency environments right but Raab
dependency environments right but Raab
is like it's so damn good that it's like
is like it's so damn good that it's like
I Ra's worth it in my opinion it's just
I Ra's worth it in my opinion it's just
one of the best pieces of software I've
one of the best pieces of software I've
seen I agree I just don't want to deal
seen I agree I just don't want to deal
with the artwork I just want colored
with the artwork I just want colored
symbols rendered to terminal and because
symbols rendered to terminal and because
it's going to be
it's going to be
M I guess it's that's kind but
M I guess it's that's kind but
yeah well look at it this way it's
yeah well look at it this way it's
uh
uh
so evaluating this it's not going to be
so evaluating this it's not going to be
like my intentions are not to make it
like my intentions are not to make it
human playable for evalu waiting when
human playable for evalu waiting when
agents have trained it will be human
agents have trained it will be human
playable through a client but the Simple
playable through a client but the Simple
Start the world start the training it
Start the world start the training it
will render one giant map attached to no
will render one giant map attached to no
player that you can scroll around and
player that you can scroll around and
use it kind of like the Pokemon map that
use it kind of like the Pokemon map that
we do live streaming with that is the
we do live streaming with that is the
idea
idea
there yeah I did both in Earl MMO
there yeah I did both in Earl MMO
right I was wondering just because I
right I was wondering just because I
don't really I guess if am I still like
don't really I guess if am I still like
loading all agents in an array into the
loading all agents in an array into the
environment but just like putting them
environment but just like putting them
all on the same grid struct instead of
all on the same grid struct instead of
like reinitializing the struct for every
like reinitializing the struct for every
single
single
agent uh you should look at the way that
agent uh you should look at the way that
I did it in neural MMO that is the
I did it in neural MMO that is the
correct data structure for this type of
correct data structure for this type of
environment I know there's so many lines
environment I know there's so many lines
in there I have to read though this is a
in there I have to read though this is a
third of the length of neural mmo2 and
third of the length of neural mmo2 and
half
half
it's literally like it's probably lines
it's literally like it's probably lines
of actual code for all I think it's two
of actual code for all I think it's two
or two or 3,000 lines including R yeah
or two or 3,000 lines including R yeah
if you remove the rendering it's
if you remove the rendering it's
probably like 2K lines for all
probably like 2K lines for all
this I
this I
really I like I want to actually do a
really I like I want to actually do a
lot more with this in the future as well
lot more with this in the future as well
it's just like we've got to get I've got
it's just like we've got to get I've got
to get like core RL into a good spot
to get like core RL into a good spot
then we can do more of this fun
then we can do more of this fun
stuff oh you're good I mean my
stuff oh you're good I mean my
turnaround would probably be quicker but
turnaround would probably be quicker but
I'm quite literally learning
I'm quite literally learning
see no you and have both been doing
see no you and have both been doing
great on like the on the learning side
great on like the on the learning side
it's just like I get it it's really
it's just like I get it it's really
really freaking hard to like actually
really freaking hard to like actually
get good at programming at the start
get good at programming at the start
there's like this kind of this learning
there's like this kind of this learning
curve where nothing really makes sense
curve where nothing really makes sense
at the start and then you get good
at the start and then you get good
enough to the point that like you can
enough to the point that like you can
build stuff and it's really cool and you
build stuff and it's really cool and you
can do all sorts of little things and
can do all sorts of little things and
then you sort of get stuck when you try
then you sort of get stuck when you try
to start doing your first midsize
to start doing your first midsize
project cuz it's like it's really hard
project cuz it's like it's really hard
to go from building small scale to
to go from building small scale to
building midscale and you need to learn
building midscale and you need to learn
new stuff for that and then you have to
new stuff for that and then you have to
unlearn a bunch of stuff because all the
unlearn a bunch of stuff because all the
programming resources suck right yeah
programming resources suck right yeah
almost looks
almost looks
like I I mean I don't know this is my
like I I mean I don't know this is my
this is my whole like this is my thesis
this is my whole like this is my thesis
technically right this is the followup
technically right this is the followup
on my uh my PhD thesis this is quite
on my uh my PhD thesis this is quite
literally the thesis yes yeah I the idea
literally the thesis yes yeah I the idea
here and it's it kind of depends if you
here and it's it kind of depends if you
want like the very very defensible
want like the very very defensible
version of it it's we need more complex
version of it it's we need more complex
environment so that we can train and
environment so that we can train and
evaluate better RL algorithms that will
evaluate better RL algorithms that will
then be applicable to more complex
then be applicable to more complex
environments if you want the crazy
environments if you want the crazy
crackpot version of it right it's this
crackpot version of it right it's this
is an alternate path to artificial
is an alternate path to artificial
general intelligence is you just train
general intelligence is you just train
something in a massively complex
something in a massively complex
simulation and have it develop more and
simulation and have it develop more and
more reusable skills over time that can
more reusable skills over time that can
then be useful in other places um I'll
then be useful in other places um I'll
be honest my bar for my completed
be honest my bar for my completed
environment is more complex skill-wise
environment is more complex skill-wise
than neural MMO 3 I want to have like
than neural MMO 3 I want to have like
literally 27
literally 27
skills all the RuneScape skills that
skills all the RuneScape skills that
yeah you're like man the thing is I
yeah you're like man the thing is I
tried to do that exact same thing um
tried to do that exact same thing um
well you actually to be fair it's
well you actually to be fair it's
probably easier now cuz I tried to do
probably easier now cuz I tried to do
that exact same thing for like 10 years
that exact same thing for like 10 years
um and uh I I got stuck on the the thing
um and uh I I got stuck on the the thing
is I got stuck on RL infra and now I've
is I got stuck on RL infra and now I've
solved RL infra with puffer so you might
solved RL infra with puffer so you might
be able to I was gonna say because I've
be able to I was gonna say because I've
got the I've got the python project
got the I've got the python project
completed I am literally just porting it
completed I am literally just porting it
over to C so like I have like the skills
over to C so like I have like the skills
outlined and how to do it unfortunately
outlined and how to do it unfortunately
there is a lot of like boiler Cod
there is a lot of like boiler Cod
dealing with like skills and all that
dealing with like skills and all that
because like XP and leveling is just
because like XP and leveling is just
always the
always the
same um yeah Dynamic attack types based
same um yeah Dynamic attack types based
off like what you're attacking and then
off like what you're attacking and then
different like AOE and like distance
different like AOE and like distance
attacks and and things like that so
attacks and and things like that so
really it is to me right now boiling
really it is to me right now boiling
down to skill diff and not understanding
down to skill diff and not understanding
C just because I have pretty much the
C just because I have pretty much the
entire project lined out it's just
entire project lined out it's just
trying to figure out how to create a
trying to figure out how to create a
massive amount of tiles without you know
massive amount of tiles without you know
I allocate one tile I can't DIY that
I allocate one tile I can't DIY that
across everything because then when I
across everything because then when I
free that and then access that pointer
free that and then access that pointer
then all of them are just
then all of them are just
[ __ ] so okay I do need to get back to
[ __ ] so okay I do need to get back to
the algorithm stuff shortly but um I
the algorithm stuff shortly but um I
will ask you so I told I tried to tell
will ask you so I told I tried to tell
you and that at the start like I
you and that at the start like I
allocate I would allocate if I were you
allocate I would allocate if I were you
80% of your time that you're going to
80% of your time that you're going to
spend on this stuff to actually writing
spend on this stuff to actually writing
code but 20% to formal materials have
code but 20% to formal materials have
you gone through like you know intro CS
you gone through like you know intro CS
stuff yeah so I've done Stanford and MIT
stuff yeah so I've done Stanford and MIT
courses I'm currently watching let me
courses I'm currently watching let me
let me shout out this guy real quick you
let me shout out this guy real quick you
probably Academy you probably need like
probably Academy you probably need like
a portion of 107 like I'm guessing you
a portion of 107 like I'm guessing you
just don't understand like Heap and
just don't understand like Heap and
stack and really how pointers work and
stack and really how pointers work and
and stuff like
and stuff like
this
this
I I would say like I understand the not
I I would say like I understand the not
necessarily the stack and how it passes
necessarily the stack and how it passes
the variables down because right now I'm
the variables down because right now I'm
literally like initializing my grid in
literally like initializing my grid in
in Main and then I'll like create a tile
in Main and then I'll like create a tile
object and call it something like wall
object and call it something like wall
to make a perimeter around the entire
to make a perimeter around the entire
array but because I'm justifying that
array but because I'm justifying that
one wall is now my
one wall is now my
pointer if I free that one wall tile the
pointer if I free that one wall tile the
whole perimeter gets messed up because
whole perimeter gets messed up because
I'm I essentially freed what is written
I'm I essentially freed what is written
to all those tiles and it's pointing at
to all those tiles and it's pointing at
nothing Ash pointer I don't think that's
nothing Ash pointer I don't think that's
how it works yeah I think you're getting
how it works yeah I think you're getting
you're getting
you're getting
yourself yeah pointers I will pointers
yourself yeah pointers I will pointers
are my struggle right now the thing is
are my struggle right now the thing is
like okay if you yeah you're
like okay if you yeah you're
microcontrollers uh that's that might be
microcontrollers uh that's that might be
a bit too much I I think he's just
a bit too much I I think he's just
getting confused with like he probably
getting confused with like he probably
thinks that he's writing to like oh I'm
thinks that he's writing to like oh I'm
writing to this truck this is the tile
writing to this truck this is the tile
on the wall but it's not it's like you
on the wall but it's not it's like you
don't like write to the truck and then
don't like write to the truck and then
move it to the next position and write
move it to the next position and write
to it or something like you're just
to it or something like you're just
writing the same thing over over in
writing the same thing over over in
memories yeah I have a structure called
memories yeah I have a structure called
Kyle and then in Grid I essentially
Kyle and then in Grid I essentially
do pile star
do pile star
star array because I'm creating a
star array because I'm creating a
pointer to a
pointer to a
row that is a row of pointers to the
row that is a row of pointers to the
whole array you don't you don't ever
whole array you don't you don't ever
really need to deal with double pointers
really need to deal with double pointers
man like you're just confusing yourself
man like you're just confusing yourself
um I just make I yeah understand the
um I just make I yeah understand the
devil like the double star in my head
devil like the double star in my head
kind of makes more sense than you know
kind of makes more sense than you know
square bracket yeah it's also slower
square bracket yeah it's also slower
than a 1D it's also slower but
than a 1D it's also slower but
um yeah I you're probably just getting
um yeah I you're probably just getting
yourself confused with like what you're
yourself confused with like what you're
actually writing to cuz when you like
actually writing to cuz when you like
you're not freeing you shouldn't be able
you're not freeing you shouldn't be able
to free all
your I'll look at it at some point for
your I'll look at it at some point for
you but I will say it sounds like you're
you but I will say it sounds like you're
just getting basic system yeah yeah
just getting basic system yeah yeah
where like I create a singular tile and
where like I create a singular tile and
I have a pointer to that singular tile
I have a pointer to that singular tile
we'll call it wall that one wall tile is
we'll call it wall that one wall tile is
going to get applied to the whole
going to get applied to the whole
perimeter of the array and then if I do
perimeter of the array and then if I do
anything
anything
that you're copying the data from the
that you're copying the data from the
wall to the perimeter so you should not
wall to the perimeter so you should not
be freeing the perimeter if you free the
be freeing the perimeter if you free the
wall if you are you're doing something
wall if you are you're doing something
yeah I think I'm I think I'm doing like
yeah I think I'm I think I'm doing like
a poter you're probably copying the
a poter you're probably copying the
pointer the wall instead of copying the
pointer the wall instead of copying the
data like you're just getting confused
data like you're just getting confused
with basic system
with basic system
stuff I can actually tell you what I'm
stuff I can actually tell you what I'm
doing there really
doing there really
quick man I do I do need to do this
quick man I do I do need to do this
stuff because like I only like I get a
stuff because like I only like I get a
morning death session to do hyper
morning death session to do hyper
parameter stuff and then after this I
parameter stuff and then after this I
have to work on client stuff for the
have to work on client stuff for the
rest of the day so I do need to get like
rest of the day so I do need to get like
my progress in for the day on this um
my progress in for the day on this um
yeah I do RN copy and then I just copy
yeah I do RN copy and then I just copy
the pile to where it's supposed to be in
the pile to where it's supposed to be in
the
the
array okay I don't know linky I'll look
array okay I don't know linky I'll look
at that later um yeah you're do you have
at that later um yeah you're do you have
are you good on on the math stuff do you
are you good on on the math stuff do you
have like a decent planner did we not
have like a decent planner did we not
finish
finish
that uh so kind of like I I get what
that uh so kind of like I I get what
you're saying about creating like the
you're saying about creating like the
sanity ABS to you know do quick testing
sanity ABS to you know do quick testing
um but I'm just confirming so you don't
um but I'm just confirming so you don't
you don't really have then in the
you don't really have then in the
meantime just take your your current
meantime just take your your current
thing and set the math one time step
thing and set the math one time step
later and see if that fixes it like
later and see if that fixes it like
that'll at least be a quick test to see
that'll at least be a quick test to see
if this is actually the issue yeah so if
if this is actually the issue yeah so if
that actually is the issue then
that actually is the issue then
something needs to be fixed yeah so if
something needs to be fixed yeah so if
that is the issue then I'd say we add a
that is the issue then I'd say we add a
couple test Ms and then we make some
couple test Ms and then we make some
like helper thing to like to do this for
like helper thing to like to do this for
you um and then I'll just tell the GPU
you um and then I'll just tell the GPU
Drive folks hey we should probably fix
Drive folks hey we should probably fix
this okay I mean
this okay I mean
if that if that is the fix just setting
if that if that is the fix just setting
the you know the first mass to be after
the you know the first mass to be after
you know the the actually yeah what we
you know the the actually yeah what we
talked about like do we just maybe just
talked about like do we just maybe just
is it too much to ask for people to just
is it too much to ask for people to just
do that for puff Rams do you think uh
do that for puff Rams do you think uh
it's fine for now because it's it's only
it's fine for now because it's it's only
for multi-agent M with Dynamic number of
for multi-agent M with Dynamic number of
Agents it's very Niche yeah so so could
Agents it's very Niche yeah so so could
the fix just be like to document that or
the fix just be like to document that or
is that like just you know fix could
is that like just you know fix could
totally be to document that um yeah but
totally be to document that um yeah but
yeah I'll just try and see if it works I
yeah I'll just try and see if it works I
guess yeah like we don't have to go
guess yeah like we don't have to go
crazy with it so I'd say yeah just do
crazy with it so I'd say yeah just do
that for now and I will get back to to
that for now and I will get back to to
this stuff uh and yeah we from there
this stuff uh and yeah we from there
okay thanks folks I will be back later
okay thanks folks I will be back later
around but I gota I want to finish this
around but I gota I want to finish this
for the next you know hour on stream or
for the next you know hour on stream or
whatever sure thanks yep good
whatever sure thanks yep good
by okay back to stream so for YouTube
by okay back to stream so for YouTube
folks what we were doing before this we
folks what we were doing before this we
were working on this hyper parameter
were working on this hyper parameter
sweep algorithm that I've been
sweep algorithm that I've been
developing and we have some good data
developing and we have some good data
back from this
back from this
thing and now it's going to be a
thing and now it's going to be a
question of what we change on the
question of what we change on the
algorithm if we keep it this way if we
algorithm if we keep it this way if we
keep running more experiments what we
do I'm looking at breakout
here so over like close to 200
here so over like close to 200
experiments this expands out to about
experiments this expands out to about
quadruple the initial
cost you can definitely solve breakout
cost you can definitely solve breakout
in that
time it's just not finding it I
time it's just not finding it I
think let me see why not
I think it's finding some pretty screwy
I think it's finding some pretty screwy
parameters here as
parameters here as
well so the update EPO thing it is
well so the update EPO thing it is
finding
finding
this it's got like reasonable numb M's
here kind of funky mini batch sizes but
here kind of funky mini batch sizes but
okay
does something kind of funny here with
does something kind of funny here with
gamma it pushes gamma down and then it
gamma it pushes gamma down and then it
pushes gamma back
up here's our parito front
so these points are probably
so these points are probably
outliers but uh the current algorithm
outliers but uh the current algorithm
should be robust to
that oh this is still running apparently
that oh this is still running apparently
as well it'll finish running um 14 more
as well it'll finish running um 14 more
experiments I mean that's a long time
experiments I mean that's a long time
for a sweep to run on a breakout
though maybe I should go look at the
though maybe I should go look at the
previous
parameters we go look at like the
parameters we go look at like the
previous breakout parameters
previous breakout parameters
Spencer
repli the best way to
predict uh you can just build
things I think Spencer does he have it
things I think Spencer does he have it
on wany or does he have it on on
on wany or does he have it on on
Neptune I thought he'd link to me as
Neptune I thought he'd link to me as
Neptune
before he says he has new parameters
before he says he has new parameters
that solve
breakout I want to see what's different
breakout I want to see what's different
from uh what our algorithm is
discovered because we should have been
discovered because we should have been
able to get
these I mean it's probably just like
as Str
and just do
this
nope oh he'll probably link him soon um
interesting it only goes up to 400
interesting it only goes up to 400
million time
million time
steps mostly say is pretty
low it must really be driving down the
low it must really be driving down the
the
performance e
oh yeah this isn't going to happen
oh yeah this isn't going to happen
either huh did he did he add the
either huh did he did he add the
parameters
here he hasn't added them in here I
here he hasn't added them in here I
think these were based on his original
think these were based on his original
parameters weren't they
yeah okay so this
yeah okay so this
was this was an original breakout sweep
right okay yeah this is totally
right okay yeah this is totally
different
so what happened here that was so
so what happened here that was so
different
these were locked to 0
five this thing ended on
512m this is actually this is going to
512m this is actually this is going to
be great data for us cuz this is going
be great data for us cuz this is going
to show where the current algorithm is
failing
this do it like this
and I will put my screen like
this so
this so
score see
score see
cost batch size stays pretty low on
cost batch size stays pretty low on
these ones time step stays
low finds a very low learning rate way
low finds a very low learning rate way
lower than
otherwise gamma stays
otherwise gamma stays
similar their gamma is
similar their gamma is
lower and
lower and
uh also
uh also
lower mins four update Epoch
instantly m is similar
is it really the gradient
Norm that would seem weird to
me oh did it just find a a solve
point I think it did just just find a
point I think it did just just find a
solve point
seriously
just link breakout thanks so we're
just link breakout thanks so we're
having a weird issue
having a weird issue
where it's not
um your sweep looks way what algorithm
um your sweep looks way what algorithm
is this
running for this sweep
oh this is very high
cost P genetic I'm
cost P genetic I'm
okaying so the thing that I'm looking at
okaying so the thing that I'm looking at
here Spencer which is really weird
right so this is the this is my Sweep
right so this is the this is my Sweep
with uh
with uh
the new algorithm new protein
the new algorithm new protein
algorithm and we get here's the solve
algorithm and we get here's the solve
point it takes way longer because it it
point it takes way longer because it it
takes longer to go up to the cost that
takes longer to go up to the cost that
high cost I think it's pretty similar on
high cost I think it's pretty similar on
cost to
yours
yours
2000 so this is
2000 so this is
actually uh this is actually cheaper it
actually uh this is actually cheaper it
looks like or comparable
looks like or comparable
maybe but then the thing that's weird is
maybe but then the thing that's weird is
if we go to this old sweep from Neo
if we go to this old sweep from Neo
carbs we had 600 we had 600 second
sols so I don't know what happened
sols so I don't know what happened
here I know why is this so different
now this is the old parito front we had
now this is the old parito front we had
and this is the new one
I know I had faster solve times with a
I know I had faster solve times with a
kneeling oh maybe that's
kneeling oh maybe that's
it maybe that is
it really it's the
annealing
H I could try that I mean I could just
H I could try that I mean I could just
once this uh finishes I could run I
once this uh finishes I could run I
could run a new Sweep with a kneeling on
been able to find a solution
been able to find a solution
H let the tuning algorithm enable or
H let the tuning algorithm enable or
disable it that's fine Captain the one
disable it that's fine Captain the one
thing is that um I think that the way
thing is that um I think that the way
that we do stuff at the
that we do stuff at the
moment uh an neiling will mess
moment uh an neiling will mess
up I think it'll cause the algorithm to
up I think it'll cause the algorithm to
get less data because we're using the
get less data because we're using the
whole training curve at the moment and
whole training curve at the moment and
um if we use the whole training
curve I think it'll get messed up by
curve I think it'll get messed up by
having variable learning
rate nailing trips out with time steps
rate nailing trips out with time steps
up yeah
run two
sweeps yeah I will launch uh I will
sweeps yeah I will launch uh I will
launch after this one I can relaunch
launch after this one I can relaunch
this
this
with uh with an
neiling that'd be crazy if that's the
neiling that'd be crazy if that's the
difference
it actually likes particularly like it
it actually likes particularly like it
starts off with relatively High Learning
starts off with relatively High Learning
rate being best
rate being best
here I can relaunch mine with Paro
here I can relaunch mine with Paro
genetic as
genetic as
well yeah that' be
well yeah that' be
good it would be good to know if this is
good it would be good to know if this is
the actual issue for
okay so if breakout maybe that explains
okay so if breakout maybe that explains
breakout yes sper the uh the current
breakout yes sper the uh the current
result from
protein we get
this this is pretty good it's expensive
this this is pretty good it's expensive
it's more expensive than it should be
it's more expensive than it should be
but this is pretty decent
yeah
pong
discreet so 22 for 20 score is our best
I think what I would like to do um
I think what I would like to do um
um I'd like to find an environment that
um I'd like to find an environment that
has
a a better parito
a a better parito
curve actually it's kind of ironic like
curve actually it's kind of ironic like
breakout just takes too long but
breakout just takes too long but
breakout without a neiling kind of has a
breakout without a neiling kind of has a
nice parito curve to it
nice parito curve to it
right where is
it we actually kind of want environment
it we actually kind of want environment
for which the Pito curve actually looks
for which the Pito curve actually looks
like
like
this where like you do better by
this where like you do better by
spending more
compute so I think we're going to try
compute so I think we're going to try
out a bunch of them un sweeps after get
out a bunch of them un sweeps after get
back to Dallas all right
cool yeah that is good to know though
cool yeah that is good to know though
that it's the analing I'm going to
that it's the analing I'm going to
actually just start the analing sweep
actually just start the analing sweep
real backck
wait
what uh I actually don't know what's
what uh I actually don't know what's
running this
process this is my sweep isn't
it yeah for
uh
whoops hey
out okay so we're just going to change
out okay so we're just going to change
this nothing else
I don't know how the uh the driver keeps
I don't know how the uh the driver keeps
crashing like
that it's just a driver right because
that it's just a driver right because
this uh the I don't ever have to reboot
this uh the I don't ever have to reboot
the Box just the container
token one sec
Spencer five minute solve
really I'll look at that
Okay so we've got that
Okay so we've got that
running and
running and
now you're telling me we have five
now you're telling me we have five
minutes solve if we have five minutes
minutes solve if we have five minutes
solve this would actually be a really
solve this would actually be a really
nice en to play
nice en to play
with [ __ ] you do have five minute
solve is this a sweep
with yeah we don't have all the graphs
with yeah we don't have all the graphs
we'd want but
we should make sure we can replicate
we should make sure we can replicate
this run as well
five update
five update
Epoch this is the crazy value function
Epoch this is the crazy value function
coefficient one as well you
coefficient one as well you
see this is the crazy value function
see this is the crazy value function
stuff so we have to look at that if it's
stuff so we have to look at that if it's
making that much of a difference there's
making that much of a difference there's
something screwy with value
function I'd really like to understand
function I'd really like to understand
what's going on with this
yeah look all the best runs you see all
yeah look all the best runs you see all
the good runs have like this stupid low
the good runs have like this stupid low
value function coefficient so there's
value function coefficient so there's
something to
that so we'll test a kneeling and see if
that so we'll test a kneeling and see if
that makes a difference and then we'll
that makes a difference and then we'll
test uh this value function
Shenanigans I think I'm going to go get
Shenanigans I think I'm going to go get
some breakfast and let this sweep run uh
some breakfast and let this sweep run uh
I have some other work to do afterwards
I have some other work to do afterwards
so I'm going to let the plan is going to
so I'm going to let the plan is going to
be let this sweep
be let this sweep
run um and then I will come back and do
run um and then I will come back and do
some exploration work locally and then
some exploration work locally and then
we'll come back to sweeps later all
we'll come back to sweeps later all
right for the uh the folks on YouTube
right for the uh the folks on YouTube
thanks for joining me for morning
thanks for joining me for morning
session all this stuff is here it's free
session all this stuff is here it's free
it's open source you can find it on
it's open source you can find it on
puff. start the GitHub to help us out
puff. start the GitHub to help us out
join the Discord we're almost 1 th000
join the Discord we're almost 1 th000
members in there and uh follow on X for
members in there and uh follow on X for
more RL content exploration work will be
more RL content exploration work will be
on stream it will be I am going to go
on stream it will be I am going to go
get breakfast first and then we'll do
get breakfast first and then we'll do
the exploration work live on uh on
the exploration work live on uh on
stream after that uh get breakfast maybe
stream after that uh get breakfast maybe
get some exercise you know do some stuff
get some exercise you know do some stuff
and I'll be back in probably early
and I'll be back in probably early
afternoon so uh

Kind: captions
Language: en
good morning
folks what the heck is
this that's crazy that Discord has ads
this that's crazy that Discord has ads
in the
in the
freaking in the
console all right
oops that's the wrong
oops that's the wrong
one so uh we've got some stuff to do
today I think we're going to start out
today I think we're going to start out
with a little bit of hyper parameter
with a little bit of hyper parameter
work and then we're going to go on to
work and then we're going to go on to
some uh some other algorithm stuff all
some uh some other algorithm stuff all
right that is the plan for today
so we're going to start with this and
so we're going to start with this and
we're going to have to do some
we're going to have to do some
thinking
thinking
about these
experiments that appear to see to still
experiments that appear to see to still
be going
okay so here is our pong
result let's change this view over to
result let's change this view over to
this so we can do some
this so we can do some
proper analysis here um
proper analysis here um
this is looking pretty
this is looking pretty
good if we look at this parito front
here 20 score 20 seconds this is about
here 20 score 20 seconds this is about
on par with what we had
on par with what we had
before I think we had a little bit more
before I think we had a little bit more
success over here maybe like maybe we
success over here maybe like maybe we
found a point that was like 18 point
found a point that was like 18 point
something in 20 score but it's very very
something in 20 score but it's very very
close okay
and I mean we've got the nice front like
and I mean we've got the nice front like
we've got this portion of the curve so
we've got this portion of the curve so
you get 18 score and 16 seconds right
you get 18 score and 16 seconds right
it's interesting that you get this dip
it's interesting that you get this dip
here that there are you know relatively
here that there are you know relatively
way more points right here I have to
way more points right here I have to
think about why this
is but
then yeah there's 20.4
18.6
.7 yeah so the thing is these points a
.7 yeah so the thing is these points a
lot of these are
not well hold on it it's actually the
not well hold on it it's actually the
way the algorithm is designed it doesn't
way the algorithm is designed it doesn't
run experiments unless there's a a per
run experiments unless there's a a per
of optimal Point nearby so let me find
of optimal Point nearby so let me find
it this is 20 okay these are 20.8 and
it this is 20 okay these are 20.8 and
20.9
20.9
right so it must have ran this one which
right so it must have ran this one which
is
is
20.4 and then this is
20.6 and then here's
20.7 so like there there are some Paro
20.7 so like there there are some Paro
points
points
okay this is a good curve we can try to
okay this is a good curve we can try to
get this to be more cost effective a
get this to be more cost effective a
little bit because there are quite a few
little bit because there are quite a few
experiments out here but this is not bad
experiments out here but this is not bad
overall
overall
uh let's see so we have sweet progress
uh let's see so we have sweet progress
as
well oh this is a different graph this
well oh this is a different graph this
is showing
is showing
you look at that pretty much all the
you look at that pretty much all the
runs are
runs are
good yeah literally all the runs are
good yeah literally all the runs are
good runs I think we missed
good runs I think we missed
two we get optimal learning rate at
two we get optimal learning rate at
we actually get a very nice graph of the
we actually get a very nice graph of the
learning rate sensitivity
here we get the relatively stable
here we get the relatively stable
looking
looking
entropy here's your blob for Lambda very
entropy here's your blob for Lambda very
nice for
gamma Max rad Norm interesting that it
gamma Max rad Norm interesting that it
says that
says that
uh looks like some of the best results
uh looks like some of the best results
are at two
are at two
it seems pretty
it seems pretty
stable thef coefficient let me get some
stable thef coefficient let me get some
results for
results for
this one update
Epoch that's kind of
Epoch that's kind of
interesting it doesn't do multiple
interesting it doesn't do multiple
update okay
update okay
cool uh 16 BPT Horizon that's
fine and num
fine and num
Ms 256 ends
Ms 256 ends
okay and the sweep cost yeah this is the
okay and the sweep cost yeah this is the
one that's a little bit sketchy you know
one that's a little bit sketchy you know
where it spends a lot of
where it spends a lot of
these there's too much up here
essentially batch size optimal
130k and total time
steps versus
score we have
score we have
good results under 10
million
million
okay well we should be pretty happy with
okay well we should be pretty happy with
that and then mini bat size goes down as
that and then mini bat size goes down as
low
low
as ah I see how it works so instead of
as ah I see how it works so instead of
doing multiple update Epoch it just put
doing multiple update Epoch it just put
the mini badge down really
small it's actually kind of interesting
small it's actually kind of interesting
that that
works yeah there's going to be some good
works yeah there's going to be some good
data we can get out of
data we can get out of
these so the nice thing with Neptune is
these so the nice thing with Neptune is
we can literally download all this for
we can literally download all this for
analysis and do all sorts of all sorts
analysis and do all sorts of all sorts
of stats on this so this is the pong
of stats on this so this is the pong
one now we look at breakout we have this
one now we look at breakout we have this
whole other
whole other
batch this did pretty well
it's a little unfortunate that we don't
it's a little unfortunate that we don't
have um we still don't have a full saw
have um we still don't have a full saw
for this one
for this one
though still do not have a full
saw I'm GNA actually message let me
saw I'm GNA actually message let me
message
message
Spencer on this cuz uh Spencer did some
Spencer on this cuz uh Spencer did some
of the baselines
let's see if he remembers
721 is the best so
far the sweep progress over time is
far the sweep progress over time is
pretty darn good though so this
pretty darn good though so this
basically just says hey you should have
basically just says hey you should have
run more of these
got learning right
here
here
entropy this one actually does seem to
entropy this one actually does seem to
need a bit of
entropy
Lambda somewhere in
Lambda somewhere in
there GMA it's very weird that there are
there GMA it's very weird that there are
so many uh of these these experiments at
so many uh of these these experiments at
minimum gamma when the optimal is up
minimum gamma when the optimal is up
here so we'll have to look at that this
here so we'll have to look at that this
is potentially red
is potentially red
flag Max grad Norm this is pretty good
flag Max grad Norm this is pretty good
1.5 VF coefficient
1.5 VF coefficient
s uh this one does explore multiple
s uh this one does explore multiple
update Epoch you can
update Epoch you can
see looks to get better to three four
see looks to get better to three four
yeah Horizon 32
uh 512 or 256 M
uh 512 or 256 M
okay and big batch
okay and big batch
sizes do we have mini batch
sizes do we have mini batch
size okay that's bizarre that it's going
size okay that's bizarre that it's going
to do 1024 mini batch on
this am available oh cool yeah give me
this am available oh cool yeah give me
one minute and then we'll uh we'll look
one minute and then we'll uh we'll look
those masks
happen I just want to know what the heck
happen I just want to know what the heck
is wrong with the gamma it's the only
is wrong with the gamma it's the only
thing I wanted to figure out
thing I wanted to figure out
first
see oh it's actually perfectly fine it's
see oh it's actually perfectly fine it's
just
just
uh it's just like wide samples at the
uh it's just like wide samples at the
start so we can maybe adjust the sample
start so we can maybe adjust the sample
range a little bit but it's just some
range a little bit but it's just some
wide samples at the start so this is
wide samples at the start so this is
perfectly fine this is perfectly fine
perfectly fine this is perfectly fine
actually upd epox this looks
actually upd epox this looks
good yeah so everything is good the
good yeah so everything is good the
parameters it finds are pretty janky but
parameters it finds are pretty janky but
we can't argue with the score so that
we can't argue with the score so that
just means that we have more analysis to
just means that we have more analysis to
do but this is very good cool so uh
do but this is very good cool so uh
we'll look at the algorithm a little bit
we'll look at the algorithm a little bit
more and think about it after we look at
more and think about it after we look at
this thing with Captain here so
this thing with Captain here so
apparently I broke something with
apparently I broke something with
masks let's take a look
all right C what are we looking at
H VC
sure hey hey good evening yeah how's it
sure hey hey good evening yeah how's it
going good how you doing pretty good we
going good how you doing pretty good we
have
have
uh this is a simpler version of the same
uh this is a simpler version of the same
algorithm but it looks like we're
algorithm but it looks like we're
actually getting some stuff so we have a
actually getting some stuff so we have a
baseline to work off of
baseline to work off of
what was
what was
simplified so uh it turns out
simplified so uh it turns out
that the gaussian processes are really
that the gaussian processes are really
only directionally correct you can't
only directionally correct you can't
really use them to like estimate
really use them to like estimate
improvement over nearest point or stuff
improvement over nearest point or stuff
like that it's very inaccurate so we're
like that it's very inaccurate so we're
only using them to essentially rank a
only using them to essentially rank a
bunch of candidate points and uh then
bunch of candidate points and uh then
we're just we're picking the cost
we're just we're picking the cost
randomly we're essentially saying like
randomly we're essentially saying like
run an experiment of random cost and
run an experiment of random cost and
then get uh the best point that you can
then get uh the best point that you can
there so I the goal initially was to
there so I the goal initially was to
kind of like slowly increase the cost
kind of like slowly increase the cost
budget whatever but that doesn't really
budget whatever but that doesn't really
seem feasible well or maybe later this
seem feasible well or maybe later this
was a baseline right so like this this
was a baseline right so like this this
was something that I knew would work
was something that I knew would work
because it uh it removes a lot of the
because it uh it removes a lot of the
degenerate cases gotcha so and this is
degenerate cases gotcha so and this is
actually like we have this matches
actually like we have this matches
pretty much our best sweep curve
pretty much our best sweep curve
from
from
pong we get a really clean Pito
pong we get a really clean Pito
front um now the only question on it is
front um now the only question on it is
can we do it in less runtime right can
can we do it in less runtime right can
we make this spe faster uh and the
we make this spe faster uh and the
breakout one actually looks good as well
breakout one actually looks good as well
it again it just it takes a while so and
it again it just it takes a while so and
like we have multiple knobs we can tune
like we have multiple knobs we can tune
to improve that so I'll be looking at
to improve that so I'll be looking at
that uh today tomorrow
that uh today tomorrow
whatever let's fix this Mass thing you
whatever let's fix this Mass thing you
said that there's a an with this yeah so
said that there's a an with this yeah so
um we can we can look at the commit we
um we can we can look at the commit we
introduce them if you want but like it's
introduce them if you want but like it's
so simple like I I I looked over it a
so simple like I I I looked over it a
couple times I don't think I did
couple times I don't think I did
anything wrong so basically yeah I
anything wrong so basically yeah I
noticed when I was training teams like I
noticed when I was training teams like I
had two agents on one team and and two
had two agents on one team and and two
scripted bots in the other team like it
scripted bots in the other team like it
just wasn't learning and I'm like that's
just wasn't learning and I'm like that's
weird and I tried some things I'm just
weird and I tried some things I'm just
like well I don't know maybe implemented
like well I don't know maybe implemented
teams wrong tried to do another like
teams wrong tried to do another like
just one V one like drone versus Sitting
just one V one like drone versus Sitting
Duck run and it just like didn't do
Duck run and it just like didn't do
anything I was like well that's weird so
anything I was like well that's weird so
I finally I the bisected it back to the
I finally I the bisected it back to the
commit where I introduced masks I
commit where I introduced masks I
commented out like the basically setting
commented out like the basically setting
of The Masks to zero um and the Run went
of The Masks to zero um and the Run went
like I did another training run it was
like I did another training run it was
perfectly fine like normal well can I
perfectly fine like normal well can I
see how you did the masking sure
uh yeah let me pull up that exact
uh yeah let me pull up that exact
it
um I do in
um I do in
here
yes I'll send it in the uh VC chat
Channel I had a team as well but like
Channel I had a team as well but like
the overall diff is not huge
that's just my demo file or Benchmark
that's just my demo file or Benchmark
file yeah
see this is where if you go down a
see this is where if you go down a
little further as we're actually use
them so yeah I added it as a argument to
them so yeah I added it as a argument to
nit M um and then I passed it in you can
nit M um and then I passed it in you can
see I pass in to scon and the the
see I pass in to scon and the the
ordering is correct because like I
ordering is correct because like I
passed them in the correct uh as the
passed them in the correct uh as the
correct argument
correct argument
because when I stop using them
because when I stop using them
everything works fine yeah I just set
everything works fine yeah I just set
them all to one when it resets episode
them all to one when it resets episode
resets and then when an agent dies I set
resets and then when an agent dies I set
it to zero if you keep going down
further yeah right
there up a little bit where I set the
there up a little bit where I set the
mass of zero
is this setting in
is this setting in
order Yeah so basically I'm looping over
order Yeah so basically I'm looping over
all the drones uh and but they're all
all the drones uh and but they're all
the drones may not be agent so basically
the drones may not be agent so basically
if this drone is an agent and it's dead
if this drone is an agent and it's dead
then I set the mask to be zero this is
then I set the mask to be zero this is
the correct check like that like the
the correct check like that like the
index of the Drone is going to be like
index of the Drone is going to be like
the ones that are alive are going to be
the ones that are alive are going to be
in order or something well no so the way
in order or something well no so the way
I do it is so you have n number of
I do it is so you have n number of
drones right usually it's like two or
drones right usually it's like two or
four um and basically if you
four um and basically if you
have uh less agents than you do drones
have uh less agents than you do drones
then I set the first like soever many
then I set the first like soever many
say you have like two agents and you
say you have like two agents and you
have four drones right so the first two
have four drones right so the first two
drones will be agents and the last two
drones will be agents and the last two
drones will bots so I know if okay if
drones will bots so I know if okay if
yeah so if we have two agents then drone
yeah so if we have two agents then drone
one or two or zero or one are going to
one or two or zero or one are going to
be agents so I can safely set the masks
be agents so I can safely set the masks
and Terminals and all that um so have
and Terminals and all that um so have
you tried training this thing just
commenting just commenting this out yeah
commenting just commenting this out yeah
that's exactly what I did so when I
that's exactly what I did so when I
comment yeah when I do that it trains
comment yeah when I do that it trains
perfect it trains like you know what it
perfect it trains like you know what it
did before and when I don't comment that
did before and when I don't comment that
out when I set the mass to zero I can
out when I set the mass to zero I can
show you the curve it's a completely
show you the curve it's a completely
different curve that's it like it does
different curve that's it like it does
it does learn but way slower and it caps
it does learn but way slower and it caps
so against a Sitting Duck opponent after
so against a Sitting Duck opponent after
a billion steps it I think it the win
a billion steps it I think it the win
rate is like less than half and normally
rate is like less than half and normally
it trains like 90 something per over a
it trains like 90 something per over a
billion steps how many agents are there
billion steps how many agents are there
just two uh just one I was so I was just
just two uh just one I was so I was just
trying to you know figure out this
trying to you know figure out this
Behavior we're just one agent one
Behavior we're just one agent one
sitting
sitting
duck uh hang on let me just twitch is
duck uh hang on let me just twitch is
this obnoxious thing where you have to
this obnoxious thing where you have to
Bam these bxs constantly oh yeah strange
Bam these bxs constantly oh yeah strange
it's like so incredibly obnoxious I
it's like so incredibly obnoxious I
don't know how the hell they haven't
don't know how the hell they haven't
fixed this [ __ ] yet
fixed this [ __ ] yet
um I guess X hasn't fixed it either like
um I guess X hasn't fixed it either like
it used to be my DMs were flooded with
it used to be my DMs were flooded with
the sex bots and now it's the crypto
the sex bots and now it's the crypto
Bots it's just [ __ ] I don't know
Bots it's just [ __ ] I don't know
which is worse
which is worse
yeah honestly let's see
yeah honestly let's see
so yeah curve is in
so yeah curve is in
VC oh uh let me post it uh let me find
VC oh uh let me post it uh let me find
it
it
we definitely want this working and I
we definitely want this working and I
also I wanted I'd like to have a
also I wanted I'd like to have a
confirmation continuous action to work
confirmation continuous action to work
because we're going to be using that for
because we're going to be using that for
a a separate
a a separate
project like yeah pretty much now or
project like yeah pretty much now or
whenever so I think Spencer has that pa
whenever so I think Spencer has that pa
um yeah I saw you appear for
that that mask on no masks is this one
that that mask on no masks is this one
yeah it's kind of rough because in order
yeah it's kind of rough because in order
to really do like good IC on um like new
to really do like good IC on um like new
algorithms and new stuff like the hyper
algorithms and new stuff like the hyper
parameter thing I kind of have to ignore
parameter thing I kind of have to ignore
a bunch of other stuff for several
a bunch of other stuff for several
days so uh yeah I haven't looked at uh
days so uh yeah I haven't looked at uh
some of this the new merges and stuff
some of this the new merges and stuff
yet yeah it makes sense
but well I'm actually
but well I'm actually
on I'm actually on 2.0 too so I'm not
on I'm actually on 2.0 too so I'm not
like on like Dev for anything it should
like on like Dev for anything it should
you should be on 2.0 Dev is there's all
you should be on 2.0 Dev is there's all
sorts of fancy stuff on dev you will be
sorts of fancy stuff on dev you will be
pring it to Dev um yeah yeah that makes
pring it to Dev um yeah yeah that makes
most likely because I would let you to
most likely because I would let you to
PR 20 if you know we look through the M
PR 20 if you know we look through the M
code and it was good except for the
code and it was good except for the
teing stuff
teing stuff
so it's pretty much whenever you do
so it's pretty much whenever you do
something that's like that needs some
something that's like that needs some
time to see if it's good that's when you
time to see if it's good that's when you
get stuck on uh on to Dev yeah that
get stuck on uh on to Dev yeah that
makes sense like Spencer did the same
makes sense like Spencer did the same
thing had the same thing where he like
thing had the same thing where he like
messed with my setup file it's basically
messed with my setup file it's basically
if you give me a clean PR I'll put it to
if you give me a clean PR I'll put it to
um yeah don't make
sense yeah the main thing to look at the
sense yeah the main thing to look at the
main obviously yeah like the or this
main obviously yeah like the or this
what's that these are not the two curves
what's that these are not the two curves
these are this is one experiment right
these are this is one experiment right
yeah this is one so I posted both I post
yeah this is one so I posted both I post
this is the one with mass you can see
this is the one with mass you can see
the win rate kind of like never really
the win rate kind of like never really
gets above 50 and then yeah this is like
gets above 50 and then yeah this is like
a standard like run that I'd
a standard like run that I'd
expect yeah there you
go and it's weird because in this
go and it's weird because in this
scenario something is weirdly scaled
scenario something is weirdly scaled
because
because
um okay so it's one agent right yep on
um okay so it's one agent right yep on
both these it's one agent so when you're
both these it's one agent so when you're
masking something out what is like
masking something out what is like
what's even getting mask it should be
what's even getting mask it should be
resetting when the agent dies right
resetting when the agent dies right
exactly so that's what what's so strange
exactly so that's what what's so strange
about
about
this so the only thing I'm play exactly
yeah I wonder if it's terminal you would
yeah I wonder if it's terminal you would
I think you probably do lose the
I think you probably do lose the
terminals oh do
you so let me can I let me explain
you so let me can I let me explain
something to you that's like since
something to you that's like since
you're trying to get into more research
you're trying to get into more research
side as well so you want RL background
side as well so you want RL background
right so like if it's helpful I try to
right so like if it's helpful I try to
like share things when uh yeah no that's
like share things when uh yeah no that's
good so there's this weird Quirk with RL
good so there's this weird Quirk with RL
that makes a lot of infra really
that makes a lot of infra really
obnoxious right
obnoxious right
um which is just the way that it's set
um which is just the way that it's set
up so you get like
up so you get like
observation zero right
observation zero right
action uh and then you do action
action uh and then you do action
zero OBS one
one
one
one
one and then let's say the agent dies
one and then let's say the agent dies
here okay
mhm um you end up with an extra
mhm um you end up with an extra
observation compared to
observation compared to
action oh right because you're giving it
action oh right because you're giving it
like the terminal observation and it
like the terminal observation and it
can't act because it's already dead
can't act because it's already dead
right well but the thing is you kind of
right well but the thing is you kind of
have to choose because
have to choose because
like so you observe something and then
like so you observe something and then
you act and then you observe something
you act and then you observe something
and then you act and you would like to
and then you act and you would like to
have this observation because this is
have this observation because this is
what you use to like for the final
what you use to like for the final
bootstrap value but if you include this
bootstrap value but if you include this
observation then uh it screws up the
observation then uh it screws up the
length of your buffers and stuff and
length of your buffers and stuff and
then you miss the first action like you
then you miss the first action like you
can't you you miss the first action so
can't you you miss the first action so
it's it's kind of like tricky to figure
it's it's kind of like tricky to figure
out how cuz you have to reset the
out how cuz you have to reset the
environment here somewhere right cuz
environment here somewhere right cuz
then when you reset the environment it's
then when you reset the environment it's
going to give you a fresh OB zero so
going to give you a fresh OB zero so
it'll give you two in a row yeah so this
it'll give you two in a row yeah so this
is why there end up being a whole bunch
is why there end up being a whole bunch
of boundary issues in RL I have no idea
of boundary issues in RL I have no idea
how much they're actually important um
how much they're actually important um
this would actually be because we make
this would actually be because we make
some approximations in puffer lib that
some approximations in puffer lib that
could be screwing Us in places this
could be screwing Us in places this
would be a great spot to look for
would be a great spot to look for
potential
potential
BR
BR
H so you're thinking basically by
H so you're thinking basically by
including the masks like somehow maybe
including the masks like somehow maybe
the terminals are getting yeah we're
the terminals are getting yeah we're
probably cutting off a terminal or
probably cutting off a terminal or
something but I like I'd kind of be
something but I like I'd kind of be
surprised if that was the issue I mean I
surprised if that was the issue I mean I
guess I could see it if you don't know
guess I could see it if you don't know
the terminals then you compute
the terminals then you compute
generalized Advantage estimation kind of
generalized Advantage estimation kind of
over one giant
over one giant
trajectory um which can probably screw
trajectory um which can probably screw
stuff up
are you sure we're resetting the
are you sure we're resetting the
environment as soon as the agent dies
environment as soon as the agent dies
right yeah so um because there's only
right yeah so um because there's only
two agents or two drones I should say
two agents or two drones I should say
two players
two players
basically yeah um I have logic it's
basically yeah um I have logic it's
basically like the round is over when
basically like the round is over when
the amount of dead players exceed or
the amount of dead players exceed or
equal the amount of total drones minus
equal the amount of total drones minus
one so if one dies 2 - one is one and
one so if one dies 2 - one is one and
that's greater than equal to one so yeah
that's greater than equal to one so yeah
basically like yeah um if there's like
basically like yeah um if there's like
one or zero players left then the
one or zero players left then the
round's
over
okay so I was thinking if we want to
okay so I was thinking if we want to
ensure this is not like some issue with
ensure this is not like some issue with
me or something but like again like just
me or something but like again like just
by I issue with
by I issue with
puffer like I can show you right here so
puffer like I can show you right here so
the way this or
the way this or
masks yeah it's around line 400 or
masks yeah it's around line 400 or
something I was looking like it's it's
something I was looking like it's it's
like a torch. wear filters on them and
like a torch. wear filters on them and
like when when you store an experience
like when when you store an experience
buffer yeah so this is the thing it just
buffer yeah so this is the thing it just
doesn't get
doesn't get
stored yeah
so this is used for dead agents cuz
so this is used for dead agents cuz
normally what would happen is you just
normally what would happen is you just
get done and then it would reset the
get done and then it would reset the
next time step so you would actually get
next time step so you would actually get
the
done this is actually important because
done this is actually important because
this affects GPU drive and other
this affects GPU drive and other
environments as
well okay how interested are you
well okay how interested are you
in um in this particular thing in puffer
in um in this particular thing in puffer
because if you want to get into like
because if you want to get into like
trajectory bounds and if you want to
trajectory bounds and if you want to
help us like really fix trajectory
help us like really fix trajectory
bounds and like run some experiment
bounds and like run some experiment
I have some ideas if you just want to
I have some ideas if you just want to
like figure out how to patch this in the
like figure out how to patch this in the
context of your end and like we do like
context of your end and like we do like
some smaller thing to puffer I can also
some smaller thing to puffer I can also
do that as well um so option one would
do that as well um so option one would
be we find some way to make sure that we
be we find some way to make sure that we
just get the last observation or
just get the last observation or
whatever in so like we apply mask one
whatever in so like we apply mask one
step
step
later
later
right what do we do with the action then
right what do we do with the action then
do we just set like the actions to I
do we just set like the actions to I
don't know just like all zeros or
something because thing it's resetting
something because thing it's resetting
it's resetting anyways
it's resetting anyways
right so it would just be when an agent
right so it would just be when an agent
dies you get the done signal right and
dies you get the done signal right and
then the next step you set the
mask
mask
so so that that would be how I do it
so so that that would be how I do it
basically that's how I fix it in my m
basically that's how I fix it in my m
without the modify puffer right yes and
without the modify puffer right yes and
the other option is if you wanted to
the other option is if you wanted to
help with cuz I've actually had like
help with cuz I've actually had like
multiple questions about the way that we
multiple questions about the way that we
handle trajectory bounds and stuff right
handle trajectory bounds and stuff right
and I've mostly said it's probably not
and I've mostly said it's probably not
an issue most of the time but I don't
an issue most of the time but I don't
actually know um so the other option
actually know um so the other option
would be that if you seen like the ocean
would be that if you seen like the ocean
sanity Ms MH yeah yeah okay you'd make
sanity Ms MH yeah yeah okay you'd make
like a couple little sanity Ms where
like a couple little sanity Ms where
like you need the last state or whatever
like you need the last state or whatever
in order to solve the task M and uh you
in order to solve the task M and uh you
would see like if we can train these and
would see like if we can train these and
then we would
then we would
essentially
essentially
modify the mask uh the way that we do
modify the mask uh the way that we do
masks or the way that we handle you know
masks or the way that we handle you know
in the script or in
in the script or in
vectorization to make sure that this
vectorization to make sure that this
works for handling episode bounce
works for handling episode bounce
correctly so those would be the two
options I think I'm interested in
options I think I'm interested in
solving it like actually solving it um
solving it like actually solving it um
that would be a very good contribution
that would be a very good contribution
because this is like one of the more
because this is like one of the more
this is one of the approximations that
this is one of the approximations that
kind of bothers me more that I've made
kind of bothers me more that I've made
um yeah I don't know if we're we're
um yeah I don't know if we're we're
probably not correctly doing like value
probably not correctly doing like value
bootstrapping and stuff as well like
bootstrapping and stuff as well like
there's a bunch of episode bound
there's a bunch of episode bound
Shenanigans uh essentially and I don't
Shenanigans uh essentially and I don't
really have a great answer
really have a great answer
to I still don't have a great answer to
to I still don't have a great answer to
this fundamental thing which is where is
it give me one
it give me one
second I guess I closed the window but I
second I guess I closed the window but I
don't have a great answer to the extra
don't have a great answer to the extra
observation thing yet
um okay
sorry what were you saying I don't have
sorry what were you saying I don't have
a great answer to the extra observation
a great answer to the extra observation
thing at the moment I think I think
thing at the moment I think I think
Toral handles this correctly but I don't
Toral handles this correctly but I don't
know if they do it in a remotely
know if they do it in a remotely
efficient way yeah cuz like I've seen
efficient way yeah cuz like I've seen
people like smuggle last OBS into infos
people like smuggle last OBS into infos
and stuff before and frankly that's just
and stuff before and frankly that's just
moronic oh yeah I think I think I've
moronic oh yeah I think I think I've
seen some stuff in stable baselines 3 do
seen some stuff in stable baselines 3 do
that yeah it's just that's just stupid
that yeah it's just that's just stupid
that's just like [ __ ] programmers making
that's just like [ __ ] programmers making
stuff slow um yeah yeah
so you probably do want the last
so you probably do want the last
observation
observation
um it's really useful because I like
um it's really useful because I like
that's like your goal State I
that's like your goal State I
guess so basically like what's happening
guess so basically like what's happening
most of the time is if you're dropping
most of the time is if you're dropping
the last observation which is I think
the last observation which is I think
what we do by default in our
what we do by default in our
environments when we're resetting if you
environments when we're resetting if you
drop the last observation then you're
drop the last observation then you're
basically the puffer is just it's like
basically the puffer is just it's like
you're learning that you're getting a
you're learning that you're getting a
one away from the goal State then you
one away from the goal State then you
learn the back Last Action anyways
learn the back Last Action anyways
um I like I didn't think that's going to
um I like I didn't think that's going to
be too big of an issue I think probably
be too big of an issue I think probably
the bigger issue is the Mas honestly
the bigger issue is the Mas honestly
like I I'd actually be fine with keeping
like I I'd actually be fine with keeping
the OBS thing the way it is if as long
the OBS thing the way it is if as long
as we can fix the mask cuz I think the
as we can fix the mask cuz I think the
mask is actually killing the I think
mask is actually killing the I think
it's killing the second to last
it's killing the second to last
observation most likely um
observation most likely um
um and well the thing it's definitely
um and well the thing it's definitely
the thing that I think it's most likely
the thing that I think it's most likely
doing for sure is going to be uh cutting
doing for sure is going to be uh cutting
up boundaries
up boundaries
between uh between like cutting up agent
between uh between like cutting up agent
boundaries essentially M so like if an
boundaries essentially M so like if an
agent doesn't respawn
instantly yeah be a good thing to handle
instantly yeah be a good thing to handle
like so essentially if we could do this
like so essentially if we could do this
correctly then uh what we might be able
correctly then uh what we might be able
to do out of this to get give you some
to do out of this to get give you some
idea is I think we could probably handle
idea is I think we could probably handle
uh environments with like Dynamic number
uh environments with like Dynamic number
of Agents a lot more easily just by like
of Agents a lot more easily just by like
masking in yeah cuz we could like you
masking in yeah cuz we could like you
know whenever there's not an agent there
know whenever there's not an agent there
you mask right and then you just put a
you mask right and then you just put a
new agent there I think you could do it
new agent there I think you could do it
if we were to handle this stuff
correctly it's not stuff that I have as
correctly it's not stuff that I have as
top of mind because like I I will say my
top of mind because like I I will say my
interests are very much in this because
interests are very much in this because
like my longterm thing right I want to
like my longterm thing right I want to
eventually have like neural MMO 7 or
eventually have like neural MMO 7 or
something for AI what does masking mean
something for AI what does masking mean
so Tyler so masking here this is a niche
so Tyler so masking here this is a niche
thing that's probably not applicable to
thing that's probably not applicable to
your thing but in multi-agent
your thing but in multi-agent
environments if an agent dies you need
environments if an agent dies you need
to not include like padding data uh in
to not include like padding data uh in
the optimization because that'll screw
the optimization because that'll screw
stuff up so if you have 100 agents and
stuff up so if you have 100 agents and
30 of them dead are dead then you don't
30 of them dead are dead then you don't
want to include 30% buffer data in
want to include 30% buffer data in
learning so you need some way to mask
learning so you need some way to mask
that out
that out
um but yeah uh Captain
um but yeah uh Captain
so long term I want puffer to be able to
so long term I want puffer to be able to
scale to like really awesome you know
scale to like really awesome you know
multi-agent complex environments and
multi-agent complex environments and
stuff I haven't been doing that as much
stuff I haven't been doing that as much
personally because uh you know we're
personally because uh you know we're
trying to fix core RL first but yeah
trying to fix core RL first but yeah
makes sense I this would kind of handle
makes sense I this would kind of handle
both because I think this will make it
both because I think this will make it
easier in the longterm to do stuff but
easier in the longterm to do stuff but
also there's like very immediate stuff
also there's like very immediate stuff
that this would help with like if you
that this would help with like if you
find something major the uh major here
find something major the uh major here
like this could help with GPU drive and
like this could help with GPU drive and
stuff as
stuff as
well okay
well okay
um yeah I'm trying to think about how to
um yeah I'm trying to think about how to
handle this I mean you would make a
handle this I mean you would make a
couple of these test M just to for
couple of these test M just to for
checking purposes and then um The Mask
checking purposes and then um The Mask
could
be I
be I
wonder can we do it off of d
wonder can we do it off of d
somehow let me
somehow let me
think like maybe we special case if the
think like maybe we special case if the
mask like the the first
mask like the the first
um I forget what you call it the first
um I forget what you call it the first
like the the grouping of observation
like the the grouping of observation
value action and all that what's that
value action and all that what's that
called like one state I guess
called like one state I guess
yeah so basically the first state that
yeah so basically the first state that
has mask to be zero and is like done
has mask to be zero and is like done
then we special case that maybe
yeah
yeah
um I'm trying to think how we can do
um I'm trying to think how we can do
this without having to do it
this without having to do it
in in all the M's because technically
in in all the M's because technically
what we could do right is we could just
what we could do right is we could just
say that the M returns we could just
say that the M returns we could just
make our M's our puffer M's uh return
make our M's our puffer M's uh return
done like repeatedly whenever an agent
done like repeatedly whenever an agent
is done
is done
okay so like whenever an agent isn't
okay so like whenever an agent isn't
there could just it could return all
there could just it could return all
Ds so like if the if there's no agent
Ds so like if the if there's no agent
there right if the agent is dead you get
there right if the agent is dead you get
a done through and then the mask would
a done through and then the mask would
just be uh you essentially the mask is
just be uh you essentially the mask is
false on the first done and then it's
false on the first done and then it's
true all subsequent DS there after until
true all subsequent DS there after until
done is
done is
false and then we could automatically
false and then we could automatically
compute mask for most of the
MS that would work
MS that would work
right I think so um if you get two DS in
right I think so um if you get two DS in
a row essentially the second one gets
a row essentially the second one gets
masked if you get three DS in a row the
masked if you get three DS in a row the
second the third one get masked yeah
second the third one get masked yeah
yeah it's kind of like what I'm saying
yeah it's kind of like what I'm saying
you you ski the first like state that
you you ski the first like state that
has well you have to but you have to
has well you have to but you have to
actually you have to change it because
actually you have to change it because
now I don't know if we set done equal
now I don't know if we set done equal
true when agents are dead I don't think
true when agents are dead I don't think
we have any environments where agents
we have any environments where agents
are dead other than uh yours because
are dead other than uh yours because
I've specifically avoided it cuz I know
I've specifically avoided it cuz I know
it's a pain in the ass um but if so I
it's a pain in the ass um but if so I
think that yours would be the only one
think that yours would be the only one
where we even would have to mess with
where we even would have to mess with
it but we could we could say going
it but we could we could say going
forward right environments are supposed
forward right environments are supposed
to return done uh if they if the agent
to return done uh if they if the agent
is dead and then mask can just Auto be
is dead and then mask can just Auto be
uh mask can just be Auto computed for
uh mask can just be Auto computed for
you based on
you based on
that and obviously you could override it
that and obviously you could override it
right if you have some other masking
right if you have some other masking
agenda MH so when would would that be
agenda MH so when would would that be
the correct Behavior though cuz right
the correct Behavior though cuz right
now the way I'm using masking is like
now the way I'm using masking is like
I'm I'm doing stuff in like
I'm I'm doing stuff in like
uh like basically it's elimination game
uh like basically it's elimination game
mode so like if you die you're you're
mode so like if you die you're you're
dead but I'd like to maybe later have
dead but I'd like to maybe later have
like a game mode where you have multiple
like a game mode where you have multiple
lives and so then when you die like I
lives and so then when you die like I
basically just mask out while you're
basically just mask out while you're
respawning and then you know that would
respawning and then you know that would
be fine though because you would just
be fine though because you would just
have let's say that if you respawn
have let's say that if you respawn
instantly The Mask wouldn't even get
instantly The Mask wouldn't even get
applied because you get a single D
applied because you get a single D
signal or no D signal at all right if
signal or no D signal at all right if
you like you could have no D signal at
you like you could have no D signal at
all there as well it depends how you to
all there as well it depends how you to
find it um
find it um
and if there is a respawn time then
and if there is a respawn time then
you'll have the done signal and you'll
you'll have the done signal and you'll
have math during the respawn time but no
have math during the respawn time but no
but that's
but that's
it and then you can you can flip done
it and then you can you can flip done
back to back to false after you yeah but
back to back to false after you yeah but
what I'm what I'm thinking is like we're
what I'm what I'm thinking is like we're
saying done is the a or the or like
saying done is the a or the or like
basically is terminated or truncated in
basically is terminated or truncated in
this context
this context
right
right
um like we're just kind of calling that
um like we're just kind of calling that
done done yeah done is terminated or
done done yeah done is terminated or
truncated okay so but what I'm thinking
truncated okay so but what I'm thinking
is whenever you set done to be true
is whenever you set done to be true
you're signifying to like the r
you're signifying to like the r
algorithm like okay this episode is over
algorithm like okay this episode is over
for this agent but what I'm thinking is
for this agent but what I'm thinking is
if you're respawning to me it depends on
if you're respawning to me it depends on
your game but for me think of like say
your game but for me think of like say
Smash Brothers or something like if
Smash Brothers or something like if
you're playing a game where you have
you're playing a game where you have
like oneon-one opponent you both the
like oneon-one opponent you both the
three stocks I wouldn't count each
three stocks I wouldn't count each
episode as a as a or each stock as an
episode as a as a or each stock as an
episode I would count the whole round as
episode I would count the whole round as
an episode so done then you would you
an episode so done then you would you
would mask but you wouldn't set done
would mask but you wouldn't set done
right you would mask everything and you
right you would mask everything and you
wouldn't even include the first done you
wouldn't even include the first done you
would just mask
would just mask
everything right but I'm saying I'm just
everything right but I'm saying I'm just
saying like this scheme might not work
saying like this scheme might not work
in that case because if we're the auto
in that case because if we're the auto
you would override the like if we made
you would override the like if we made
an auto one for you you would override
an auto one for you you would override
the the auto mask
the the auto mask
um I mean we don't have to have an auto
um I mean we don't have to have an auto
mask we can just make the utility
mask we can just make the utility
function that does that if you want it
function that does that if you want it
um yeah I see right so but in that case
um yeah I see right so but in that case
what you would do is I think you still
what you would do is I think you still
want to mask out the respawn time if
want to mask out the respawn time if
there is one yes yes the alternative
there is one yes yes the alternative
which is what I've done with neuro
which is what I've done with neuro
because this is a pain in the ass is to
because this is a pain in the ass is to
just not have a respawn time
oh so there seems to be respawn time in
oh so there seems to be respawn time in
the game but basically like as far as
the game but basically like as far as
rl's concerned like it just pausing like
rl's concerned like it just pausing like
that's just a render
that's just a render
thing well if you're including I
thing well if you're including I
actually don't think it would be
actually don't think it would be
terrible because there there's not that
terrible because there there's not that
much of it um you're just kind of like
much of it um you're just kind of like
the RL agent can't act so you're giving
the RL agent can't act so you're giving
it useful state in the buffer right
it useful state in the buffer right
because there's nothing you can do to
because there's nothing you can do to
change the
change the
result I I guess technically it's still
result I I guess technically it's still
it's still uh getting information for
it's still uh getting information for
the value function for the respawn time
the value function for the respawn time
like that so it actually it might not be
like that so it actually it might not be
terrible to not mask the respawn because
terrible to not mask the respawn because
it's still getting information it can
it's still getting information it can
use for the value function
use for the value function
right like it is actually important to
right like it is actually important to
see what's going on while you're
see what's going on while you're
respawning
respawning
right yeah that might actually be true
right yeah that might actually be true
so I think you actually just might not
so I think you actually just might not
need to mask this stuff at all the only
need to mask this stuff at all the only
thing that you do need to mask right is
thing that you do need to mask right is
if it is like an elimination game and
if it is like an elimination game and
like the is done end round it can't do
like the is done end round it can't do
anything anymore right then you need the
anything anymore right then you need the
mask yeah and you could also so in my
mask yeah and you could also so in my
current state in my current like and
current state in my current like and
that's the way it is the mode is just
that's the way it is the mode is just
set to be elimination but in the future
set to be elimination but in the future
that might be useful yeah you're
that might be useful yeah you're
actually right to not mask out the respa
actually right to not mask out the respa
time and then I could just add some to
time and then I could just add some to
Observation to say like hey like you're
Observation to say like hey like you're
respawning you can't act So eventually
respawning you can't act So eventually
it could learn it can't do anything
it could learn it can't do anything
maybe if you want to this is how this is
maybe if you want to this is how this is
how you would go if I were building your
how you would go if I were building your
environment and I didn't want to deal
environment and I didn't want to deal
with it what I would have done is I
with it what I would have done is I
would have just made it like the game
would have just made it like the game
runs for a fixed amount of times and
runs for a fixed amount of times and
it's Max kills with instant respawn
it's Max kills with instant respawn
time
yeah
yeah
um yeah right now with the elimination
um yeah right now with the elimination
though I I kind of have to handle it
though I I kind of have to handle it
okay if I'm doing like teams and stuff
okay if I'm doing like teams and stuff
it's a useful thing for us to handle so
it's a useful thing for us to handle so
yeah if you want to uh I mean if you
yeah if you want to uh I mean if you
want to look at the masking and see if
want to look at the masking and see if
you could fix some stuff there I think
you could fix some stuff there I think
probably even like yeah for GPU drive
probably even like yeah for GPU drive
that would probably be useful as well
that would probably be useful as well
cuz we are probably missing the uh the
cuz we are probably missing the uh the
terminals now sorry to interrupt out of
terminals now sorry to interrupt out of
just curiosity is this like a single
just curiosity is this like a single
agent learning or a multi-agent learning
agent learning or a multi-agent learning
is whole reason you're discussing this
is whole reason you're discussing this
uh this only applies to
multi-agent
multi-agent
okay uh yeah I mean I've been not in and
okay uh yeah I mean I've been not in and
out of the conversation but in and out
out of the conversation but in and out
of listening to the conversation because
of listening to the conversation because
that I'm I'm working on a multi-agent
that I'm I'm working on a multi-agent
one but I don't
one but I don't
exactly how's that you actually you had
exactly how's that you actually you had
a pretty nice little environment there
a pretty nice little environment there
it's it's kind of funny that you tried
it's it's kind of funny that you tried
to like make your own neural
to like make your own neural
MMO uh yeah so I'm dubbing it gridscape
MMO uh yeah so I'm dubbing it gridscape
so it's a 2d top down representation of
so it's a 2d top down representation of
RuneScape
RuneScape
you it's D that's literally what I
you it's D that's literally what I
wanted to do with that's literally
wanted to do with that's literally
exactly what I wanted to do with nuro
exactly what I wanted to do with nuro
RuneScape is a 2d top down it's
RuneScape is a 2d top down it's
literally internally that's how the
literally internally that's how the
game's
game's
represented yeah and there are because
represented yeah and there are because
what led me down this Rabbit Hole was
what led me down this Rabbit Hole was
quite literally watching you do neural
quite literally watching you do neural
MMO and then there are project it's just
MMO and then there are project it's just
hard yeah there are just a couple of
hard yeah there are just a couple of
nuances that I'm going to handle
nuances that I'm going to handle
differently like instead of dynamically
differently like instead of dynamically
creating a map it's just going to be a
creating a map it's just going to be a
static map every time things like that
static map every time things like that
that actually makes learning harder a
that actually makes learning harder a
lot of the
lot of the
time I'm aware but it's not I'm not
time I'm aware but it's not I'm not
looking it's not like story driven it's
looking it's not like story driven it's
how like essentially how many levels can
how like essentially how many levels can
you collect across the whole thing
you collect across the whole thing
and like I'm looking at it more as of
and like I'm looking at it more as of
like a world Sim hey we're happy we're
like a world Sim hey we're happy we're
happy to have more RL environments to
happy to have more RL environments to
play with right
play with right
so yeah I'm stuck because I refuse to
so yeah I'm stuck because I refuse to
use
use
rayb
rayb
um and cs's colors andc is actually
um and cs's colors andc is actually
driving me at the wall yep I ra ra is
driving me at the wall yep I ra ra is
just good I mean it's cool to have zero
just good I mean it's cool to have zero
dependency environments right but Raab
dependency environments right but Raab
is like it's so damn good that it's like
is like it's so damn good that it's like
I Ra's worth it in my opinion it's just
I Ra's worth it in my opinion it's just
one of the best pieces of software I've
one of the best pieces of software I've
seen I agree I just don't want to deal
seen I agree I just don't want to deal
with the artwork I just want colored
with the artwork I just want colored
symbols rendered to terminal and because
symbols rendered to terminal and because
it's going to be
it's going to be
M I guess it's that's kind but
M I guess it's that's kind but
yeah well look at it this way it's
yeah well look at it this way it's
uh
uh
so evaluating this it's not going to be
so evaluating this it's not going to be
like my intentions are not to make it
like my intentions are not to make it
human playable for evalu waiting when
human playable for evalu waiting when
agents have trained it will be human
agents have trained it will be human
playable through a client but the Simple
playable through a client but the Simple
Start the world start the training it
Start the world start the training it
will render one giant map attached to no
will render one giant map attached to no
player that you can scroll around and
player that you can scroll around and
use it kind of like the Pokemon map that
use it kind of like the Pokemon map that
we do live streaming with that is the
we do live streaming with that is the
idea
idea
there yeah I did both in Earl MMO
there yeah I did both in Earl MMO
right I was wondering just because I
right I was wondering just because I
don't really I guess if am I still like
don't really I guess if am I still like
loading all agents in an array into the
loading all agents in an array into the
environment but just like putting them
environment but just like putting them
all on the same grid struct instead of
all on the same grid struct instead of
like reinitializing the struct for every
like reinitializing the struct for every
single
single
agent uh you should look at the way that
agent uh you should look at the way that
I did it in neural MMO that is the
I did it in neural MMO that is the
correct data structure for this type of
correct data structure for this type of
environment I know there's so many lines
environment I know there's so many lines
in there I have to read though this is a
in there I have to read though this is a
third of the length of neural mmo2 and
third of the length of neural mmo2 and
half
half
it's literally like it's probably lines
it's literally like it's probably lines
of actual code for all I think it's two
of actual code for all I think it's two
or two or 3,000 lines including R yeah
or two or 3,000 lines including R yeah
if you remove the rendering it's
if you remove the rendering it's
probably like 2K lines for all
probably like 2K lines for all
this I
this I
really I like I want to actually do a
really I like I want to actually do a
lot more with this in the future as well
lot more with this in the future as well
it's just like we've got to get I've got
it's just like we've got to get I've got
to get like core RL into a good spot
to get like core RL into a good spot
then we can do more of this fun
then we can do more of this fun
stuff oh you're good I mean my
stuff oh you're good I mean my
turnaround would probably be quicker but
turnaround would probably be quicker but
I'm quite literally learning
I'm quite literally learning
see no you and have both been doing
see no you and have both been doing
great on like the on the learning side
great on like the on the learning side
it's just like I get it it's really
it's just like I get it it's really
really freaking hard to like actually
really freaking hard to like actually
get good at programming at the start
get good at programming at the start
there's like this kind of this learning
there's like this kind of this learning
curve where nothing really makes sense
curve where nothing really makes sense
at the start and then you get good
at the start and then you get good
enough to the point that like you can
enough to the point that like you can
build stuff and it's really cool and you
build stuff and it's really cool and you
can do all sorts of little things and
can do all sorts of little things and
then you sort of get stuck when you try
then you sort of get stuck when you try
to start doing your first midsize
to start doing your first midsize
project cuz it's like it's really hard
project cuz it's like it's really hard
to go from building small scale to
to go from building small scale to
building midscale and you need to learn
building midscale and you need to learn
new stuff for that and then you have to
new stuff for that and then you have to
unlearn a bunch of stuff because all the
unlearn a bunch of stuff because all the
programming resources suck right yeah
programming resources suck right yeah
almost looks
almost looks
like I I mean I don't know this is my
like I I mean I don't know this is my
this is my whole like this is my thesis
this is my whole like this is my thesis
technically right this is the followup
technically right this is the followup
on my uh my PhD thesis this is quite
on my uh my PhD thesis this is quite
literally the thesis yes yeah I the idea
literally the thesis yes yeah I the idea
here and it's it kind of depends if you
here and it's it kind of depends if you
want like the very very defensible
want like the very very defensible
version of it it's we need more complex
version of it it's we need more complex
environment so that we can train and
environment so that we can train and
evaluate better RL algorithms that will
evaluate better RL algorithms that will
then be applicable to more complex
then be applicable to more complex
environments if you want the crazy
environments if you want the crazy
crackpot version of it right it's this
crackpot version of it right it's this
is an alternate path to artificial
is an alternate path to artificial
general intelligence is you just train
general intelligence is you just train
something in a massively complex
something in a massively complex
simulation and have it develop more and
simulation and have it develop more and
more reusable skills over time that can
more reusable skills over time that can
then be useful in other places um I'll
then be useful in other places um I'll
be honest my bar for my completed
be honest my bar for my completed
environment is more complex skill-wise
environment is more complex skill-wise
than neural MMO 3 I want to have like
than neural MMO 3 I want to have like
literally 27
literally 27
skills all the RuneScape skills that
skills all the RuneScape skills that
yeah you're like man the thing is I
yeah you're like man the thing is I
tried to do that exact same thing um
tried to do that exact same thing um
well you actually to be fair it's
well you actually to be fair it's
probably easier now cuz I tried to do
probably easier now cuz I tried to do
that exact same thing for like 10 years
that exact same thing for like 10 years
um and uh I I got stuck on the the thing
um and uh I I got stuck on the the thing
is I got stuck on RL infra and now I've
is I got stuck on RL infra and now I've
solved RL infra with puffer so you might
solved RL infra with puffer so you might
be able to I was gonna say because I've
be able to I was gonna say because I've
got the I've got the python project
got the I've got the python project
completed I am literally just porting it
completed I am literally just porting it
over to C so like I have like the skills
over to C so like I have like the skills
outlined and how to do it unfortunately
outlined and how to do it unfortunately
there is a lot of like boiler Cod
there is a lot of like boiler Cod
dealing with like skills and all that
dealing with like skills and all that
because like XP and leveling is just
because like XP and leveling is just
always the
always the
same um yeah Dynamic attack types based
same um yeah Dynamic attack types based
off like what you're attacking and then
off like what you're attacking and then
different like AOE and like distance
different like AOE and like distance
attacks and and things like that so
attacks and and things like that so
really it is to me right now boiling
really it is to me right now boiling
down to skill diff and not understanding
down to skill diff and not understanding
C just because I have pretty much the
C just because I have pretty much the
entire project lined out it's just
entire project lined out it's just
trying to figure out how to create a
trying to figure out how to create a
massive amount of tiles without you know
massive amount of tiles without you know
I allocate one tile I can't DIY that
I allocate one tile I can't DIY that
across everything because then when I
across everything because then when I
free that and then access that pointer
free that and then access that pointer
then all of them are just
then all of them are just
[ __ ] so okay I do need to get back to
[ __ ] so okay I do need to get back to
the algorithm stuff shortly but um I
the algorithm stuff shortly but um I
will ask you so I told I tried to tell
will ask you so I told I tried to tell
you and that at the start like I
you and that at the start like I
allocate I would allocate if I were you
allocate I would allocate if I were you
80% of your time that you're going to
80% of your time that you're going to
spend on this stuff to actually writing
spend on this stuff to actually writing
code but 20% to formal materials have
code but 20% to formal materials have
you gone through like you know intro CS
you gone through like you know intro CS
stuff yeah so I've done Stanford and MIT
stuff yeah so I've done Stanford and MIT
courses I'm currently watching let me
courses I'm currently watching let me
let me shout out this guy real quick you
let me shout out this guy real quick you
probably Academy you probably need like
probably Academy you probably need like
a portion of 107 like I'm guessing you
a portion of 107 like I'm guessing you
just don't understand like Heap and
just don't understand like Heap and
stack and really how pointers work and
stack and really how pointers work and
and stuff like
and stuff like
this
this
I I would say like I understand the not
I I would say like I understand the not
necessarily the stack and how it passes
necessarily the stack and how it passes
the variables down because right now I'm
the variables down because right now I'm
literally like initializing my grid in
literally like initializing my grid in
in Main and then I'll like create a tile
in Main and then I'll like create a tile
object and call it something like wall
object and call it something like wall
to make a perimeter around the entire
to make a perimeter around the entire
array but because I'm justifying that
array but because I'm justifying that
one wall is now my
one wall is now my
pointer if I free that one wall tile the
pointer if I free that one wall tile the
whole perimeter gets messed up because
whole perimeter gets messed up because
I'm I essentially freed what is written
I'm I essentially freed what is written
to all those tiles and it's pointing at
to all those tiles and it's pointing at
nothing Ash pointer I don't think that's
nothing Ash pointer I don't think that's
how it works yeah I think you're getting
how it works yeah I think you're getting
you're getting
you're getting
yourself yeah pointers I will pointers
yourself yeah pointers I will pointers
are my struggle right now the thing is
are my struggle right now the thing is
like okay if you yeah you're
like okay if you yeah you're
microcontrollers uh that's that might be
microcontrollers uh that's that might be
a bit too much I I think he's just
a bit too much I I think he's just
getting confused with like he probably
getting confused with like he probably
thinks that he's writing to like oh I'm
thinks that he's writing to like oh I'm
writing to this truck this is the tile
writing to this truck this is the tile
on the wall but it's not it's like you
on the wall but it's not it's like you
don't like write to the truck and then
don't like write to the truck and then
move it to the next position and write
move it to the next position and write
to it or something like you're just
to it or something like you're just
writing the same thing over over in
writing the same thing over over in
memories yeah I have a structure called
memories yeah I have a structure called
Kyle and then in Grid I essentially
Kyle and then in Grid I essentially
do pile star
do pile star
star array because I'm creating a
star array because I'm creating a
pointer to a
pointer to a
row that is a row of pointers to the
row that is a row of pointers to the
whole array you don't you don't ever
whole array you don't you don't ever
really need to deal with double pointers
really need to deal with double pointers
man like you're just confusing yourself
man like you're just confusing yourself
um I just make I yeah understand the
um I just make I yeah understand the
devil like the double star in my head
devil like the double star in my head
kind of makes more sense than you know
kind of makes more sense than you know
square bracket yeah it's also slower
square bracket yeah it's also slower
than a 1D it's also slower but
than a 1D it's also slower but
um yeah I you're probably just getting
um yeah I you're probably just getting
yourself confused with like what you're
yourself confused with like what you're
actually writing to cuz when you like
actually writing to cuz when you like
you're not freeing you shouldn't be able
you're not freeing you shouldn't be able
to free all
your I'll look at it at some point for
your I'll look at it at some point for
you but I will say it sounds like you're
you but I will say it sounds like you're
just getting basic system yeah yeah
just getting basic system yeah yeah
where like I create a singular tile and
where like I create a singular tile and
I have a pointer to that singular tile
I have a pointer to that singular tile
we'll call it wall that one wall tile is
we'll call it wall that one wall tile is
going to get applied to the whole
going to get applied to the whole
perimeter of the array and then if I do
perimeter of the array and then if I do
anything
anything
that you're copying the data from the
that you're copying the data from the
wall to the perimeter so you should not
wall to the perimeter so you should not
be freeing the perimeter if you free the
be freeing the perimeter if you free the
wall if you are you're doing something
wall if you are you're doing something
yeah I think I'm I think I'm doing like
yeah I think I'm I think I'm doing like
a poter you're probably copying the
a poter you're probably copying the
pointer the wall instead of copying the
pointer the wall instead of copying the
data like you're just getting confused
data like you're just getting confused
with basic system
with basic system
stuff I can actually tell you what I'm
stuff I can actually tell you what I'm
doing there really
doing there really
quick man I do I do need to do this
quick man I do I do need to do this
stuff because like I only like I get a
stuff because like I only like I get a
morning death session to do hyper
morning death session to do hyper
parameter stuff and then after this I
parameter stuff and then after this I
have to work on client stuff for the
have to work on client stuff for the
rest of the day so I do need to get like
rest of the day so I do need to get like
my progress in for the day on this um
my progress in for the day on this um
yeah I do RN copy and then I just copy
yeah I do RN copy and then I just copy
the pile to where it's supposed to be in
the pile to where it's supposed to be in
the
the
array okay I don't know linky I'll look
array okay I don't know linky I'll look
at that later um yeah you're do you have
at that later um yeah you're do you have
are you good on on the math stuff do you
are you good on on the math stuff do you
have like a decent planner did we not
have like a decent planner did we not
finish
finish
that uh so kind of like I I get what
that uh so kind of like I I get what
you're saying about creating like the
you're saying about creating like the
sanity ABS to you know do quick testing
sanity ABS to you know do quick testing
um but I'm just confirming so you don't
um but I'm just confirming so you don't
you don't really have then in the
you don't really have then in the
meantime just take your your current
meantime just take your your current
thing and set the math one time step
thing and set the math one time step
later and see if that fixes it like
later and see if that fixes it like
that'll at least be a quick test to see
that'll at least be a quick test to see
if this is actually the issue yeah so if
if this is actually the issue yeah so if
that actually is the issue then
that actually is the issue then
something needs to be fixed yeah so if
something needs to be fixed yeah so if
that is the issue then I'd say we add a
that is the issue then I'd say we add a
couple test Ms and then we make some
couple test Ms and then we make some
like helper thing to like to do this for
like helper thing to like to do this for
you um and then I'll just tell the GPU
you um and then I'll just tell the GPU
Drive folks hey we should probably fix
Drive folks hey we should probably fix
this okay I mean
this okay I mean
if that if that is the fix just setting
if that if that is the fix just setting
the you know the first mass to be after
the you know the first mass to be after
you know the the actually yeah what we
you know the the actually yeah what we
talked about like do we just maybe just
talked about like do we just maybe just
is it too much to ask for people to just
is it too much to ask for people to just
do that for puff Rams do you think uh
do that for puff Rams do you think uh
it's fine for now because it's it's only
it's fine for now because it's it's only
for multi-agent M with Dynamic number of
for multi-agent M with Dynamic number of
Agents it's very Niche yeah so so could
Agents it's very Niche yeah so so could
the fix just be like to document that or
the fix just be like to document that or
is that like just you know fix could
is that like just you know fix could
totally be to document that um yeah but
totally be to document that um yeah but
yeah I'll just try and see if it works I
yeah I'll just try and see if it works I
guess yeah like we don't have to go
guess yeah like we don't have to go
crazy with it so I'd say yeah just do
crazy with it so I'd say yeah just do
that for now and I will get back to to
that for now and I will get back to to
this stuff uh and yeah we from there
this stuff uh and yeah we from there
okay thanks folks I will be back later
okay thanks folks I will be back later
around but I gota I want to finish this
around but I gota I want to finish this
for the next you know hour on stream or
for the next you know hour on stream or
whatever sure thanks yep good
whatever sure thanks yep good
by okay back to stream so for YouTube
by okay back to stream so for YouTube
folks what we were doing before this we
folks what we were doing before this we
were working on this hyper parameter
were working on this hyper parameter
sweep algorithm that I've been
sweep algorithm that I've been
developing and we have some good data
developing and we have some good data
back from this
back from this
thing and now it's going to be a
thing and now it's going to be a
question of what we change on the
question of what we change on the
algorithm if we keep it this way if we
algorithm if we keep it this way if we
keep running more experiments what we
do I'm looking at breakout
here so over like close to 200
here so over like close to 200
experiments this expands out to about
experiments this expands out to about
quadruple the initial
cost you can definitely solve breakout
cost you can definitely solve breakout
in that
time it's just not finding it I
time it's just not finding it I
think let me see why not
I think it's finding some pretty screwy
I think it's finding some pretty screwy
parameters here as
parameters here as
well so the update EPO thing it is
well so the update EPO thing it is
finding
finding
this it's got like reasonable numb M's
here kind of funky mini batch sizes but
here kind of funky mini batch sizes but
okay
does something kind of funny here with
does something kind of funny here with
gamma it pushes gamma down and then it
gamma it pushes gamma down and then it
pushes gamma back
up here's our parito front
so these points are probably
so these points are probably
outliers but uh the current algorithm
outliers but uh the current algorithm
should be robust to
that oh this is still running apparently
that oh this is still running apparently
as well it'll finish running um 14 more
as well it'll finish running um 14 more
experiments I mean that's a long time
experiments I mean that's a long time
for a sweep to run on a breakout
though maybe I should go look at the
though maybe I should go look at the
previous
parameters we go look at like the
parameters we go look at like the
previous breakout parameters
previous breakout parameters
Spencer
repli the best way to
predict uh you can just build
things I think Spencer does he have it
things I think Spencer does he have it
on wany or does he have it on on
on wany or does he have it on on
Neptune I thought he'd link to me as
Neptune I thought he'd link to me as
Neptune
before he says he has new parameters
before he says he has new parameters
that solve
breakout I want to see what's different
breakout I want to see what's different
from uh what our algorithm is
discovered because we should have been
discovered because we should have been
able to get
these I mean it's probably just like
as Str
and just do
this
nope oh he'll probably link him soon um
interesting it only goes up to 400
interesting it only goes up to 400
million time
million time
steps mostly say is pretty
low it must really be driving down the
low it must really be driving down the
the
performance e
oh yeah this isn't going to happen
oh yeah this isn't going to happen
either huh did he did he add the
either huh did he did he add the
parameters
here he hasn't added them in here I
here he hasn't added them in here I
think these were based on his original
think these were based on his original
parameters weren't they
yeah okay so this
yeah okay so this
was this was an original breakout sweep
right okay yeah this is totally
right okay yeah this is totally
different
so what happened here that was so
so what happened here that was so
different
these were locked to 0
five this thing ended on
512m this is actually this is going to
512m this is actually this is going to
be great data for us cuz this is going
be great data for us cuz this is going
to show where the current algorithm is
failing
this do it like this
and I will put my screen like
this so
this so
score see
score see
cost batch size stays pretty low on
cost batch size stays pretty low on
these ones time step stays
low finds a very low learning rate way
low finds a very low learning rate way
lower than
otherwise gamma stays
otherwise gamma stays
similar their gamma is
similar their gamma is
lower and
lower and
uh also
uh also
lower mins four update Epoch
instantly m is similar
is it really the gradient
Norm that would seem weird to
me oh did it just find a a solve
point I think it did just just find a
point I think it did just just find a
solve point
seriously
just link breakout thanks so we're
just link breakout thanks so we're
having a weird issue
having a weird issue
where it's not
um your sweep looks way what algorithm
um your sweep looks way what algorithm
is this
running for this sweep
oh this is very high
cost P genetic I'm
cost P genetic I'm
okaying so the thing that I'm looking at
okaying so the thing that I'm looking at
here Spencer which is really weird
right so this is the this is my Sweep
right so this is the this is my Sweep
with uh
with uh
the new algorithm new protein
the new algorithm new protein
algorithm and we get here's the solve
algorithm and we get here's the solve
point it takes way longer because it it
point it takes way longer because it it
takes longer to go up to the cost that
takes longer to go up to the cost that
high cost I think it's pretty similar on
high cost I think it's pretty similar on
cost to
yours
yours
2000 so this is
2000 so this is
actually uh this is actually cheaper it
actually uh this is actually cheaper it
looks like or comparable
looks like or comparable
maybe but then the thing that's weird is
maybe but then the thing that's weird is
if we go to this old sweep from Neo
if we go to this old sweep from Neo
carbs we had 600 we had 600 second
sols so I don't know what happened
sols so I don't know what happened
here I know why is this so different
now this is the old parito front we had
now this is the old parito front we had
and this is the new one
I know I had faster solve times with a
I know I had faster solve times with a
kneeling oh maybe that's
kneeling oh maybe that's
it maybe that is
it really it's the
annealing
H I could try that I mean I could just
H I could try that I mean I could just
once this uh finishes I could run I
once this uh finishes I could run I
could run a new Sweep with a kneeling on
been able to find a solution
been able to find a solution
H let the tuning algorithm enable or
H let the tuning algorithm enable or
disable it that's fine Captain the one
disable it that's fine Captain the one
thing is that um I think that the way
thing is that um I think that the way
that we do stuff at the
that we do stuff at the
moment uh an neiling will mess
moment uh an neiling will mess
up I think it'll cause the algorithm to
up I think it'll cause the algorithm to
get less data because we're using the
get less data because we're using the
whole training curve at the moment and
whole training curve at the moment and
um if we use the whole training
curve I think it'll get messed up by
curve I think it'll get messed up by
having variable learning
rate nailing trips out with time steps
rate nailing trips out with time steps
up yeah
run two
sweeps yeah I will launch uh I will
sweeps yeah I will launch uh I will
launch after this one I can relaunch
launch after this one I can relaunch
this
this
with uh with an
neiling that'd be crazy if that's the
neiling that'd be crazy if that's the
difference
it actually likes particularly like it
it actually likes particularly like it
starts off with relatively High Learning
starts off with relatively High Learning
rate being best
rate being best
here I can relaunch mine with Paro
here I can relaunch mine with Paro
genetic as
genetic as
well yeah that' be
well yeah that' be
good it would be good to know if this is
good it would be good to know if this is
the actual issue for
okay so if breakout maybe that explains
okay so if breakout maybe that explains
breakout yes sper the uh the current
breakout yes sper the uh the current
result from
protein we get
this this is pretty good it's expensive
this this is pretty good it's expensive
it's more expensive than it should be
it's more expensive than it should be
but this is pretty decent
yeah
pong
discreet so 22 for 20 score is our best
I think what I would like to do um
I think what I would like to do um
um I'd like to find an environment that
um I'd like to find an environment that
has
a a better parito
a a better parito
curve actually it's kind of ironic like
curve actually it's kind of ironic like
breakout just takes too long but
breakout just takes too long but
breakout without a neiling kind of has a
breakout without a neiling kind of has a
nice parito curve to it
nice parito curve to it
right where is
it we actually kind of want environment
it we actually kind of want environment
for which the Pito curve actually looks
for which the Pito curve actually looks
like
like
this where like you do better by
this where like you do better by
spending more
compute so I think we're going to try
compute so I think we're going to try
out a bunch of them un sweeps after get
out a bunch of them un sweeps after get
back to Dallas all right
cool yeah that is good to know though
cool yeah that is good to know though
that it's the analing I'm going to
that it's the analing I'm going to
actually just start the analing sweep
actually just start the analing sweep
real backck
wait
what uh I actually don't know what's
what uh I actually don't know what's
running this
process this is my sweep isn't
it yeah for
uh
whoops hey
out okay so we're just going to change
out okay so we're just going to change
this nothing else
I don't know how the uh the driver keeps
I don't know how the uh the driver keeps
crashing like
that it's just a driver right because
that it's just a driver right because
this uh the I don't ever have to reboot
this uh the I don't ever have to reboot
the Box just the container
token one sec
Spencer five minute solve
really I'll look at that
Okay so we've got that
Okay so we've got that
running and
running and
now you're telling me we have five
now you're telling me we have five
minutes solve if we have five minutes
minutes solve if we have five minutes
solve this would actually be a really
solve this would actually be a really
nice en to play
nice en to play
with [ __ ] you do have five minute
solve is this a sweep
with yeah we don't have all the graphs
with yeah we don't have all the graphs
we'd want but
we should make sure we can replicate
we should make sure we can replicate
this run as well
five update
five update
Epoch this is the crazy value function
Epoch this is the crazy value function
coefficient one as well you
coefficient one as well you
see this is the crazy value function
see this is the crazy value function
stuff so we have to look at that if it's
stuff so we have to look at that if it's
making that much of a difference there's
making that much of a difference there's
something screwy with value
function I'd really like to understand
function I'd really like to understand
what's going on with this
yeah look all the best runs you see all
yeah look all the best runs you see all
the good runs have like this stupid low
the good runs have like this stupid low
value function coefficient so there's
value function coefficient so there's
something to
that so we'll test a kneeling and see if
that so we'll test a kneeling and see if
that makes a difference and then we'll
that makes a difference and then we'll
test uh this value function
Shenanigans I think I'm going to go get
Shenanigans I think I'm going to go get
some breakfast and let this sweep run uh
some breakfast and let this sweep run uh
I have some other work to do afterwards
I have some other work to do afterwards
so I'm going to let the plan is going to
so I'm going to let the plan is going to
be let this sweep
be let this sweep
run um and then I will come back and do
run um and then I will come back and do
some exploration work locally and then
some exploration work locally and then
we'll come back to sweeps later all
we'll come back to sweeps later all
right for the uh the folks on YouTube
right for the uh the folks on YouTube
thanks for joining me for morning
thanks for joining me for morning
session all this stuff is here it's free
session all this stuff is here it's free
it's open source you can find it on
it's open source you can find it on
puff. start the GitHub to help us out
puff. start the GitHub to help us out
join the Discord we're almost 1 th000
join the Discord we're almost 1 th000
members in there and uh follow on X for
members in there and uh follow on X for
more RL content exploration work will be
more RL content exploration work will be
on stream it will be I am going to go
on stream it will be I am going to go
get breakfast first and then we'll do
get breakfast first and then we'll do
the exploration work live on uh on
the exploration work live on uh on
stream after that uh get breakfast maybe
stream after that uh get breakfast maybe
get some exercise you know do some stuff
get some exercise you know do some stuff
and I'll be back in probably early
and I'll be back in probably early
afternoon so uh
