Kind: captions
Language: en
okay we are back live for some
okay we are back live for some
reason good
evening how do you decide
oh perfect I don't have to type all
oh perfect I don't have to type all
this so
this so
um let me show you real quick
that'll just be
that'll just be
easier can why does my keyboard
easier can why does my keyboard
backlighting not work why does this not
backlighting not work why does this not
work it's so obnoxious at night when I
work it's so obnoxious at night when I
can't freaking
can't freaking
see I should have open I tried to
see I should have open I tried to
install the open source drivers for this
install the open source drivers for this
[ __ ] but it doesn't
work can I like FN
F12 doesn't
F12 doesn't
work oh also this mic I this mic in a
work oh also this mic I this mic in a
stupid spot there we go that's
stupid spot there we go that's
better um I would love to fix that we
better um I would love to fix that we
might just do some random dumb stuff
might just do some random dumb stuff
tonight small little things I've been
tonight small little things I've been
wanting to do and fix cuz I'm exhausted
wanting to do and fix cuz I'm exhausted
let me answer your question
though okay so
right the hell is
this all right right here you see Target
this all right right here you see Target
uptime gets returned from
uptime gets returned from
train so score and then up time is the
train so score and then up time is the
time in seconds gets logged from the uh
time in seconds gets logged from the uh
the
the
trainer and then those go both to
trainer and then those go both to
Neptune and then as for how you move on
Neptune and then as for how you move on
to the next run
so this year specifies the initial
so this year specifies the initial
distribution as a log normal with a mean
distribution as a log normal with a mean
at 100 million minimum of 50 million and
at 100 million minimum of 50 million and
Max of a billion steps scale specifies
Max of a billion steps scale specifies
the width of the uh the search
the width of the uh the search
distribution that's just the initial
distribution that's just the initial
distribution carbs will then based on
distribution carbs will then based on
the results of experiments move it to be
the results of experiments move it to be
shorter or longer
runs there you go
perfect B
perfect B
size time steps and oh only like 60 mil
size time steps and oh only like 60 mil
very
nice what
Baseline uh it's kind of complicated so
Baseline uh it's kind of complicated so
the way that the original carbs does it
the way that the original carbs does it
isn't great they kind of just try push
isn't great they kind of just try push
you to longer runs over time um we do
you to longer runs over time um we do
something a little bit more complex we
something a little bit more complex we
have a conservative estimate of
have a conservative estimate of
performance and then we penalize you uh
performance and then we penalize you uh
for uncertainty in the estimate of
for uncertainty in the estimate of
performance so basically you're
performance so basically you're
encouraged to do longer runs only if
encouraged to do longer runs only if
you're confident that the results of
you're confident that the results of
those uh in the results of those
runs basically what you want is you the
runs basically what you want is you the
idea here right is that you look at this
idea here right is that you look at this
Paro front all right the goal here is
Paro front all right the goal here is
that you fill
that you fill
in this section right here you fill in
in this section right here you fill in
the cheap runs before doing longer runs
the cheap runs before doing longer runs
now if you just full solve the
now if you just full solve the
environment you don't even need longer
environment you don't even need longer
runs
runs
right but the goal is that you use the
right but the goal is that you use the
cheap runs to figure out how the longer
cheap runs to figure out how the longer
runs are going to perform and then you
runs are going to perform and then you
move to longer ones over time and again
move to longer ones over time and again
in this case we kind of just full solve
why did it run for so long
why did it run for so long
where this specific one this is just a
where this specific one this is just a
random sample the first several points
random sample the first several points
of a sweep are going to be random
samples it also takes a while to fit the
samples it also takes a while to fit the
models um so you know it's training a
models um so you know it's training a
model so you can see that this is where
model so you can see that this is where
it starts to fit
it right we can see look at this see
it right we can see look at this see
stable learning rate regime here this is
stable learning rate regime here this is
very useful right we get good learning
very useful right we get good learning
rate from here to
rate from here to
here we see entropy coefficient about
here we see entropy coefficient about
right around here is good right we see
right around here is good right we see
Lambda you see
gamma these aren't
about three update
pox 16 vpt
Horizon mm's
Horizon mm's
1024 so
yeah let's go
find a good point here
there's our
Pito 14766
uh that is not fun oh man you still got
uh that is not fun oh man you still got
those that's
those that's
rough I had him in middle school which
rough I had him in middle school which
was bad
enough oh look at these curves these
enough oh look at these curves these
curves are perfect
KL
KL
variances
variances
entropy why entropy I guess it is
entropy why entropy I guess it is
deterministic policy that's
funny why do clip frat go up then
funny why do clip frat go up then
down because RL just likes to be spicy
down because RL just likes to be spicy
that way
it doesn't Peak High Enough To Be
it doesn't Peak High Enough To Be
concerning though
70 million
steps damn it I can't see my number of
steps damn it I can't see my number of
keys I can mostly touch type but not
keys I can mostly touch type but not
fully
okay
uhhuh H
uhhuh H
Co me
Co me
this
this
Lambda my guess was pretty pretty
Lambda my guess was pretty pretty
good my gam I guess was way off though I
good my gam I guess was way off though I
guess
guess
I make sense for the the bigger
Maps this is a reasonable learning rate
Maps this is a reasonable learning rate
for
for
reference like 2 e minus
reference like 2 e minus
three mini
badge a mini
badge a mini
batches do we still have this freaking
batches do we still have this freaking
parameter
I thought that we fixed this [ __ ]
total time
total time
steps what the
steps what the
heck 55
mil I thought I saw more than that oh
mil I thought I saw more than that oh
that's including
eval so do we can bump this down to
eval so do we can bump this down to
60 and then update epox three is a
60 and then update epox three is a
little high
can you
explain so gamma is specifically for
explain so gamma is specifically for
generalized Advantage estimation that's
generalized Advantage estimation that's
on the reading list by the way that I
on the reading list by the way that I
gave you um the RL quick start
gave you um the RL quick start
guide It's a pretty short reading list
guide It's a pretty short reading list
as well um so gamma is a discount Factor
as well um so gamma is a discount Factor
it is an
it is an
exponential an exponentially decaying
exponential an exponentially decaying
window or some uh from where you start
window or some uh from where you start
now out to Future rewards so if
now out to Future rewards so if
something basically if something let's
something basically if something let's
say that in five time steps from now you
say that in five time steps from now you
get a reward of one and you have a
get a reward of one and you have a
discount factor of 0.9 it starts out as
discount factor of 0.9 it starts out as
one then you go back and it becomes 0.9
one then you go back and it becomes 0.9
and then it becomes 0.9 * .9 then it
and then it becomes 0.9 * .9 then it
becomes .9 * 9 * .9 and uh yeah so you
becomes .9 * 9 * .9 and uh yeah so you
basically the easy way to think about it
basically the easy way to think about it
is if you have a discount factor of 0.9
is if you have a discount factor of 0.9
then roughly you're looking 10 steps out
then roughly you're looking 10 steps out
if you have a discount factor of 0.99
if you have a discount factor of 0.99
you're roughly looking 100 steps
out 098 is 50 steps
roughly is this Stu it's not stuck
okay you better learn
okay you better learn
buddy better get me my full
solve I like a tradeoff yeah kind of the
solve I like a tradeoff yeah kind of the
thing is it's very obnoxious cuz it's
thing is it's very obnoxious cuz it's
kind of also just introducing an extra
kind of also just introducing an extra
assumption cuz you might have things in
assumption cuz you might have things in
your environment where you care about
your environment where you care about
like very short-term rewards and other
like very short-term rewards and other
things where you care about very
things where you care about very
long-term rewards and in that case G
long-term rewards and in that case G
kind of just
sucks no it shouldn't be
sucks no it shouldn't be
0.1 wait oh
0.1 wait oh
comma I can't see the stupid
chat oh
chat oh
comma one or two steps it would be
comma one or two steps it would be
really low it would be like
really low it would be like
like7 or something or 0.5 in the most
like7 or something or 0.5 in the most
extreme but probably like a
7 all right this is not
7 all right this is not
terrible um this is very very slightly
terrible um this is very very slightly
off of what uh you know I was expecting
off of what uh you know I was expecting
so this is
fine
fine
985 989 yeah 99
985 989 yeah 99
basically rounded in
basically rounded in
N9 and then it evaluated for 13 M
N9 and then it evaluated for 13 M
steps that's pretty good
sometimes we need to look at these
sometimes we need to look at these
parameters to understand
better well I think we should replace it
better well I think we should replace it
with something that doesn't make a hard
with something that doesn't make a hard
assumption on horiz holy
assumption on horiz holy
hell okay let's see
holy look at this maze
solver uh it's not perfect but it's
solver uh it's not perfect but it's
pretty darn
good it solved that one holy
ah cuz it it knows it's always in the
ah cuz it it knows it's always in the
bottom right so it tries to get to the
bottom right so it tries to get to the
bottom
right uh it just sees like a local 5x5
right uh it just sees like a local 5x5
window around it or like 11 by1 total
window around it or like 11 by1 total
but five in any
but five in any
direction look at this maze solver man
direction look at this maze solver man
it's a cool maze solver you know it's
it's a cool maze solver you know it's
not perfect but
not perfect but
uh boom
well can't see the whole
map
there this like 160,000 parameter model
there this like 160,000 parameter model
this thing is Tiny
we should probably just use our Baseline
we should probably just use our Baseline
models
then e
ah nobody cares about that
man it's just a freaking
maze e
what the heck is wrong with
this like to just make a gift maybe I
this like to just make a gift maybe I
can just have it save a
gift I do not have an MP4 player
Linux but also the file's weird this is
Linux but also the file's weird this is
why is it 255
why is it 255
KB that's weird
KB that's weird
right for
oh no it
works e
Linux this is the puffer profile I think
Linux this is the puffer profile I think
I have it on my personal
I don't freaking know
I don't freaking know
man it should work but it doesn't didn't
man it should work but it doesn't didn't
syn or
something e
what's the perf
what's the perf
test on
this let me just make sure it's
zero I like it's got to the point where
zero I like it's got to the point where
I hardly even bother to check if stuff
I hardly even bother to check if stuff
is a million SPS because it like it
is a million SPS because it like it
always
is I'll show
you 4% okay we have to optimize a little
you 4% okay we have to optimize a little
bit but it's like easy
enough
for e
740 so
700ish for
this
fun okay enough games
big
map how big of a training Set uh this
map how big of a training Set uh this
was only a th000 Maps it probably would
was only a th000 Maps it probably would
be better with more
I mean you can just change the parameter
I mean you can just change the parameter
in gen
more it's C so it's
more it's C so it's
fast the
heck it just gave you my API token dumb
heck it just gave you my API token dumb
thing oh I see it's the
thing oh I see it's the
uh I didn't yeah I didn't pay
attention e
stupid
thing I I gave him some suggestions holy
thing I I gave him some suggestions holy
10,000
items maybe this is the max I don't
items maybe this is the max I don't
know trying to build my training set I'm
know trying to build my training set I'm
able to vary difficulty based on M
moves yeah so just like the dumbest most
moves yeah so just like the dumbest most
basic thing to do right is you pick a
basic thing to do right is you pick a
maximum number of moves and maybe you
maximum number of moves and maybe you
pick a minimum number of moves so you
pick a minimum number of moves so you
don't get like one move level so let's
don't get like one move level so let's
say you pick five to 10 move levels and
say you pick five to 10 move levels and
then you train on those and you run a
then you train on those and you run a
hyper parameter sweep and you see if you
hyper parameter sweep and you see if you
can do that and then you move up move it
can do that and then you move up move it
up a little
up a little
bit that's the most basic thing you
do episode score
not just dump well let's show you how I
not just dump well let's show you how I
did it in fact Spencer I have a present
did it in fact Spencer I have a present
for
you a perfectly worked example of
you a perfectly worked example of
exactly the thing that you're going to
exactly the thing that you're going to
want to
do here are some levels
do here are some levels
they're stored to State
variables here I am creating a th000
variables here I am creating a th000
levels and populating them here and then
levels and populating them here and then
here I set the state to whatever level I
here I set the state to whatever level I
like on reset you can randomly sample or
like on reset you can randomly sample or
you can add a couple variables in here
you can add a couple variables in here
and do some fancy curriculum
and do some fancy curriculum
learning
yeah not bad
this whole file 700 some odd lines and
this whole file 700 some odd lines and
is brain dead
symol this is the state variable I just
symol this is the state variable I just
put some stuff in a state and that's it
look at that
new tag
new tag
name if you just sort by tag you'll see
name if you just sort by tag you'll see
it uh this one is not tag this is just a
it uh this one is not tag this is just a
single
run creating a new set with every train
yeah I mean this is the example for you
yeah I mean this is the example for you
to work
with this end took
me I want to say probably between 8 and
me I want to say probably between 8 and
12 hours to write going off of the
12 hours to write going off of the
initial minig grid code I had that was
initial minig grid code I had that was
like super old and
like super old and
janky yeah probably took like 12ish
janky yeah probably took like 12ish
hours total not bad
that oh this is so going to full
solve yeah we'll just run
uh we'll rerun the hyper pram sweep
uh we'll rerun the hyper pram sweep
overnight but this I think it just full
overnight but this I think it just full
sols in fact I'm tempted to just run
sols in fact I'm tempted to just run
this for 200 mil just to see
look at this
buffer. a that is where all our stuff is
buffer. a that is where all our stuff is
Holy it just solved that big one too
Holy it just solved that big one too
look at this this model is
look at this this model is
awesome it's not perfect see right here
awesome it's not perfect see right here
it doesn't want to move away from the
it doesn't want to move away from the
green goal oh it even solved that Holy
green goal oh it even solved that Holy
look at that
look at that
that's
nuts oh it even got there look at
nuts oh it even got there look at
that model rocks and this is not even
that model rocks and this is not even
fully let's do
uh all right we're going to give you 200
uh all right we're going to give you 200
Melly you're getting a budget let's bend
Melly you're getting a budget let's bend
it wisely
only take a few
minutes What GPU
minutes What GPU
490 we
490 we
got single
got single
490 right there and uh
then 9 950x but the thing is this is
then 9 950x but the thing is this is
literally using one CPU core the m is
literally using one CPU core the m is
just I have not even optimized the M for
just I have not even optimized the M for
perf at all yet
perf at all yet
and uh I can already train it on one CPU
and uh I can already train it on one CPU
core like I can simulate all the M's on
core like I can simulate all the M's on
One
Core this weekend I'm going to get
Core this weekend I'm going to get
character animation in very nice can
character animation in very nice can
probably deploy to puffer very
probably deploy to puffer very
good this guy needs where is he this
good this guy needs where is he this
this guy up there needs uh more
this guy up there needs uh more
animations at some point I'm going to
animations at some point I'm going to
have to commission some proper
have to commission some proper
animations that week so we can like put
animations that week so we can like put
the puffer and
the puffer and
stuff is
fun oh other hpes like gamma learning
fun oh other hpes like gamma learning
rate they
stabilize but Lambda
stabilizes to
stabilizes to
like I don't know what that
means let's take a look at our train
run oh that's weird
run oh that's weird
looks like there is some
variance let's see if it
recovers that's rlb and RL for
you wonder if more levels
helps yeah it's recovering
helps yeah it's recovering
maybe they go in a flat line whereas
maybe they go in a flat line whereas
Lambda has a
slope
slope
oh
um
like me not understanding your question
like me not understanding your question
is not the same thing as I don't
know
okay what the heck is wrong with
okay what the heck is wrong with
uh am I not logged in why can't I see
uh am I not logged in why can't I see
the
the
dashboards oh here
so there's this dashboard which shows
so there's this dashboard which shows
you this is the stable region for
you this is the stable region for
Lambda
Lambda
right and then there's this one here
right and then there's this one here
which is sweep
which is sweep
progress okay this shows you what
progress okay this shows you what
parameters C is selecting over time over
parameters C is selecting over time over
all the different
all the different
runs okay so this is just saying that
runs okay so this is just saying that
Lambda started out too high and carbs
Lambda started out too high and carbs
had to pull it down a little bit whereas
had to pull it down a little bit whereas
gamma started out roughly in the same
gamma started out roughly in the same
spot and carbs just had to get more
spot and carbs just had to get more
confident and hone in on like some very
confident and hone in on like some very
small minute adjustments to
small minute adjustments to
it see this is the default it starts up
it see this is the default it starts up
here right this is just like what we've
here right this is just like what we've
configured it to start at and then it
configured it to start at and then it
finds that the correct value is over
finds that the correct value is over
here
right but the thing is the reason that I
right but the thing is the reason that I
have this this is mostly for debugging
have this this is mostly for debugging
because like if I
because like if I
see when I see stuff like this I get
see when I see stuff like this I get
suspicious that it's like completely
suspicious that it's like completely
stopped exploring mini
batches and the large
jump uh probably it did a very it did
jump uh probably it did a very it did
some expensive
some expensive
experiments yeah see these experiments
experiments yeah see these experiments
it did some more expensive experiments
it did some more expensive experiments
that took longer so this one here this
that took longer so this one here this
this Gap is because this run took a long
this Gap is because this run took a long
time this is just wall clock time
here okay so this is interesting that
here okay so this is interesting that
this didn't
this didn't
do quite what we were expecting here it
do quite what we were expecting here it
is recovering but it looks like it got
is recovering but it looks like it got
behind a
bit which is pretty
weird uh no now it's it's getting up
there we can try more maps we can try
there we can try more maps we can try
other things but I just want to see what
other things but I just want to see what
this
does yeah now we're at 65 so we're back
does yeah now we're at 65 so we're back
up to here yeah
oh
I got to get myself a stream overlay at
I got to get myself a stream overlay at
some point just to like put all these
some point just to like put all these
different things to organize all these
different things to organize all these
things oh welcome YouTube folks we are
things oh welcome YouTube folks we are
training some agents on some
training some agents on some
mazes when do you recommend a
switch um well I think that I think this
switch um well I think that I think this
is going to help you is the thing I
is going to help you is the thing I
think doing the end to end in L like in
think doing the end to end in L like in
a way that's actually High perf so
a way that's actually High perf so
you're not sitting there debugging
you're not sitting there debugging
forever is going to help
forever is going to help
you so basically whenever you feel like
you so basically whenever you feel like
it would be interesting to
it would be interesting to
you I generally suggest new people spend
you I generally suggest new people spend
like 80% of their time building stuff
like 80% of their time building stuff
and 20% of their time on formal material
and 20% of their time on formal material
and I gave you the formal material right
and I gave you the formal material right
I gave you what was I think it was two
I gave you what was I think it was two
courses the like intermediate thing and
courses the like intermediate thing and
then my quick start guide and you know
then my quick start guide and you know
whatever order you can process
those but like you don't want to bomb
those but like you don't want to bomb
through all of that material either like
through all of that material either like
this is like the like the best material
this is like the like the best material
out there of all the bad material like
out there of all the bad material like
you actually want to process and
you actually want to process and
understand this stuff where's this
understand this stuff where's this
material um little different for him on
material um little different for him on
his background if you're just if you're
his background if you're just if you're
not new to programming or AI but you're
not new to programming or AI but you're
new to RL then there's my quick start
new to RL then there's my quick start
guide you can get it on puffer doai oops
guide you can get it on puffer doai oops
puffer doai or on
X it's on
X it's on
here uh you can see we have a lot of
here uh you can see we have a lot of
blog posts one of which is my quick
blog posts one of which is my quick
start guide or if you
start guide or if you
prefer uh I have all of my material and
prefer uh I have all of my material and
some extras that are only here on my X
some extras that are only here on my X
where I just post all this RL
where I just post all this RL
stuff and you get some fun stuff like
stuff and you get some fun stuff like
this as
well almost entirely RL RL content
well almost entirely RL RL content
occasional miscellaneous Fitness Post
occasional miscellaneous Fitness Post
but almost all
RL yeah so that specifically that link
RL yeah so that specifically that link
for is like if you're self-taught and
for is like if you're self-taught and
you're like what's a terminal how how do
you're like what's a terminal how how do
I Linux how do I find files how do I you
I Linux how do I find files how do I you
know package stuff like basic things
know package stuff like basic things
like that love your windows 11
theme
LOL that's a good
LOL that's a good
one you are joking
one you are joking
right I have to clarify because it is
right I have to clarify because it is
the internet
oh yeah this is also we've got like
oh yeah this is also we've got like
demos and stuff like this as
well very good you'd be surprised some
well very good you'd be surprised some
of the stuff I get in here
of the stuff I get in here
all right so I don't know what happened
all right so I don't know what happened
to this run I think this run just got
to this run I think this run just got
cursed
somehow I'm going to crank up the map
somehow I'm going to crank up the map
size and uh try
again for
let's see if more maps
helps maybe just we got some weird maps
helps maybe just we got some weird maps
in there I don't
know yeah 1.6k on puffer though that's
know yeah 1.6k on puffer though that's
rounded I think it's like 1550
rounded I think it's like 1550
is but folks got to Star the puffer
is but folks got to Star the puffer
puffer's got to eat and he eats stars
puffer's got to eat and he eats stars
all
all
right I mean 1 mil SPS procedural maze
right I mean 1 mil SPS procedural maze
I'm like come on start the puffer what
I'm like come on start the puffer what
are you
doing star
we'll see how this run
goes do you think I should mess with map
goes do you think I should mess with map
dimensions in training
dimensions in training
set
um it depends on your map gen
algorithm like the way I do it I have
algorithm like the way I do it I have
them variable
them variable
um and then I just I have a Max size and
um and then I just I have a Max size and
then I just use however many bytes of
then I just use however many bytes of
memory I need or
memory I need or
whatever I think technically I skip
whatever I think technically I skip
row I probably could do the memory
row I probably could do the memory
layout more efficiently come to think of
it I wonder if I'm even doing that right
okay more maps uh seems to be useful
this is the last one that we're going to
this is the last one that we're going to
sit here and watch after this we'll just
sit here and watch after this we'll just
Auto sweep and stuff but having a little
Auto sweep and stuff but having a little
fun BFS gets a little
slow to
35 you should only need to run that at
35 you should only need to run that at
generation time though you don't
generation time though you don't
generate the maps between resets you
generate the maps between resets you
generate a big set of them and then
generate a big set of them and then
sample from this
set yeah and then what you want is you
set yeah and then what you want is you
want to be able to set the state with a
want to be able to set the state with a
single mem copy as ideal or a couple of
single mem copy as ideal or a couple of
mem copies if you need them I used a
mem copies if you need them I used a
couple mem
couple mem
copies it's nice and fast
copies it's nice and fast
though for the most part this 6% bugs me
though for the most part this 6% bugs me
I would like this to be zero I can get
I would like this to be zero I can get
it to zero I'm
sure okay we'll see whether this is
sure okay we'll see whether this is
stable um let me
stable um let me
see yeah these prams all look
see yeah these prams all look
fine prams all look
fine e
opening IR released o03
mini
mini
cool good to
cool good to
know War M Copy just initial for map
know War M Copy just initial for map
yeah that's fine
you're doing it
right far as I can tell you're doing it
right far as I can tell you're doing it
right the grid code should be useful to
right the grid code should be useful to
you though honestly for a lot of folks
you though honestly for a lot of folks
like this is the first end of I've
like this is the first end of I've
written in a
written in a
while um and this should be pretty
while um and this should be pretty
useful I there's still a few things I
useful I there's still a few things I
want to clean up here and there I
want to clean up here and there I
haven't dealt with like freeing memory
haven't dealt with like freeing memory
and stuff yet at the end of training and
and stuff yet at the end of training and
you know there are a few things to clean
you know there are a few things to clean
up and I'd like to make it easier to
up and I'd like to make it easier to
load in different configurations and add
load in different configurations and add
in a couple like couple more hardcoded
in a couple like couple more hardcoded
uh Baseline tasks right but uh this
uh Baseline tasks right but uh this
should be a pretty nice base to work off
should be a pretty nice base to work off
of Cu it's pretty clean and
of Cu it's pretty clean and
simple each envirite gets to be you know
simple each envirite gets to be you know
better all right so this thing is
better all right so this thing is
stuck which is annoying because it
stuck which is annoying because it
didn't seem like it was stuck before
didn't seem like it was stuck before
we'll see if it gets unstuck you got
we'll see if it gets unstuck you got
till 200 million
buddy I mean hey good for you to have
buddy I mean hey good for you to have
better models I don't really use them
better models I don't really use them
all that
much I use them for a few things but I
much I use them for a few things but I
don't use them a ton
I mostly use them to sanity check
stuff a very common thing I'll do is
stuff a very common thing I'll do is
I'll drop like a research paper in I'll
I'll drop like a research paper in I'll
drop like an archive PDF in and I'll be
drop like an archive PDF in and I'll be
like hey am I stupid or does this
like hey am I stupid or does this
particular thing make absolutely no
particular thing make absolutely no
sense the way it's described and then
sense the way it's described and then
it'll pretty much always just be like
it'll pretty much always just be like
hey yeah this thing makes absolutely no
sense welcome YouTube
sense welcome YouTube
folks this is the last manual run we
folks this is the last manual run we
will
will
do after this I'll just set up an auto
do after this I'll just set up an auto
hyper pram
hyper pram
sweep I've got like another hour or so
sweep I've got like another hour or so
to do some stuff is beted around for
to do some stuff is beted around for
merging M's or anybody need an m
merging M's or anybody need an m
reviewed like to get some cool stuff
reviewed like to get some cool stuff
merged
in I know bet has PRS but I'm sure he'll
in I know bet has PRS but I'm sure he'll
want to see he'd prefer to have stuff
want to see he'd prefer to have stuff
reviewed
live cuz I'm sure I'm going to be super
live cuz I'm sure I'm going to be super
busy next week finishing uh client stuff
busy next week finishing uh client stuff
Python and slow as hell n you uh I mean
Python and slow as hell n you uh I mean
there's not really a point reviewing
there's not really a point reviewing
that if
that if
there's like optimizing Python's kind of
there's like optimizing Python's kind of
just
dumb and like you can write nice python
dumb and like you can write nice python
code but it's a heck of a lot
harder mhm
harder mhm
I mean it's really
I mean it's really
not Sho you don't know about like the
not Sho you don't know about like the
stack and the Heap and pointers and
stack and the Heap and pointers and
stuff yeah might take you a couple weeks
stuff yeah might take you a couple weeks
to learn some
to learn some
Basics how good my agent will get at the
Basics how good my agent will get at the
game oh yeah it should be I built this
game oh yeah it should be I built this
one as because I thought that yours
one as because I thought that yours
would be harder to Intuit it just
would be harder to Intuit it just
looking at it right cuz you kind of have
looking at it right cuz you kind of have
to like get good at solving those
to like get good at solving those
puzzles so I figured that this would be
puzzles so I figured that this would be
like an easier test environment and then
like an easier test environment and then
we'd use yours as like a harder
we'd use yours as like a harder
curriculum environment and also I made
curriculum environment and also I made
this so you'd be able to just copy
this so you'd be able to just copy
basically one for one and see how you
basically one for one and see how you
can turn yours into a curricula Ben so I
can turn yours into a curricula Ben so I
had many motivations with this right one
had many motivations with this right one
of these was to help you out with that
of these was to help you out with that
another is there's a client that's
another is there's a client that's
interested in this stuff another is
interested in this stuff another is
there's a PhD student I'm going to be
there's a PhD student I'm going to be
working with soon who is uh has you know
working with soon who is uh has you know
this is their area as well and they need
this is their area as well and they need
a fast environment to play with for it
a fast environment to play with for it
um you know so there are lots and lots
um you know so there are lots and lots
of different reasons to have this
of different reasons to have this
thing okay this didn't do terribly look
thing okay this didn't do terribly look
at this so we've
at this so we've
got
835 let's see what this policy looks
835 let's see what this policy looks
like as soon as it
saves um the course for this is CS 107
saves um the course for this is CS 107
by from Stanford the problem so the
by from Stanford the problem so the
material is good for the course but the
material is good for the course but the
lectures are not great same with 106 x
lectures are not great same with 106 x
to be
to be
honest oh yeah there's there's a lot of
honest oh yeah there's there's a lot of
interest
man and when there isn't I can usually
man and when there isn't I can usually
drum up some interest if I just you know
drum up some interest if I just you know
alter things just slightly it's like
alter things just slightly it's like
yeah we you know we'll put in a
yeah we you know we'll put in a
curriculum learning rapper on it or
curriculum learning rapper on it or
whatever and then people get interested
trying to generate lots of cool
trying to generate lots of cool
opportunities in NL
here I spent a lot of today also dealing
here I spent a lot of today also dealing
with the hardware so we now have at
with the hardware so we now have at
least six of the boxes are back up um
least six of the boxes are back up um
speaking of
which for
can you quickly summarize what we are
can you quickly summarize what we are
doing today yes indeed in fact I will
doing today yes indeed in fact I will
show
show
you I will show you what we are doing
you I will show you what we are doing
today
this is a procedurally generated maze
this is a procedurally generated maze
environment that uh randomly loads a new
environment that uh randomly loads a new
maze level every time it runs uh I just
maze level every time it runs uh I just
built this environment over the last few
built this environment over the last few
days and we are currently trying to
days and we are currently trying to
train some decent baselines on it this
train some decent baselines on it this
model is pretty good but as you can see
model is pretty good but as you can see
it does get stuck like this but this is
it does get stuck like this but this is
going to be a very nice task for
going to be a very nice task for
curriculum learning exploration and a
curriculum learning exploration and a
few other areas of research that we work
few other areas of research that we work
on uh other environments like this exist
on uh other environments like this exist
this one is better and much much faster
this one is better and much much faster
so that is why I built it it also didn't
so that is why I built it it also didn't
take particularly long this was less
take particularly long this was less
than two total days of
than two total days of
work
work
um yeah so I mean let's see you'll see
um yeah so I mean let's see you'll see
it some mazes in a second
they're randomly generated so the bigger
they're randomly generated so the bigger
ones are
ones are
harder there you go
see so it solves a lot of them very
nicely so on X casd missing semester
nicely so on X casd missing semester
page yep
would it help if I spent
would it help if I spent
more than x time or X STS on a
maze yeah that already exists it's uh
maze yeah that already exists it's uh
two times the total number of cells in
two times the total number of cells in
the maze at the moment is the number of
the maze at the moment is the number of
steps you have I could shorten it
steps you have I could shorten it
potentially but currently it's two times
potentially but currently it's two times
Horizon I mean two times numb cells
I could probably make that a hyper
I could probably make that a hyper
parameter in the
parameter in the
sweep that one actually does make a huge
sweep that one actually does make a huge
difference in Sample
difference in Sample
efficiency huge
difference but I think we'll just keep
difference but I think we'll just keep
this is a One to One Sweep for
this is a One to One Sweep for
now and what we'll do
is weep
is weep
carbs Neptune
tag
32 oops and uh one
thing uh I wanted to increase the total
thing uh I wanted to increase the total
numb time steps to mean of 2 E8
so it'll take a little longer
so it'll take a little longer
but should get some good stuff out of
this
this
okay so that seems to be nicely done
what is
that is that like the profanity finder
that is that like the profanity finder
in commits or whatever
I forgot to add
this e
uh well the one that I make all the time
uh well the one that I make all the time
which is absolutely github's fault is
which is absolutely github's fault is
the way that they do merges is
the way that they do merges is
backwards you literally will
backwards you literally will
write the hell
is this thing
committed why is this not
this is not what was
here there was an extra
here there was an extra
command was it on box 5 I'm pretty sure
command was it on box 5 I'm pretty sure
it was
that's
annoying maybe it's
annoying maybe it's
fine yeah this is
fine well so this is all set uh welcome
fine well so this is all set uh welcome
Hey we got quite a few folks tonight
Hey we got quite a few folks tonight
how's it
how's it
going this is the puffer grid
going this is the puffer grid
environment we now have much larger Maps
environment we now have much larger Maps
uh autot tuning hyper parameters with
uh autot tuning hyper parameters with
our own hyperparameter tuning algorithm
our own hyperparameter tuning algorithm
hopefully in a week or two I'm going to
hopefully in a week or two I'm going to
have some time to really dive into that
have some time to really dive into that
algorithm and do quite a bit there I
algorithm and do quite a bit there I
have some client stuff to catch up on
have some client stuff to catch up on
first I believe though made a lot of
first I believe though made a lot of
progress there so maybe not too bad
progress there so maybe not too bad
there is one other thing I'm a little
there is one other thing I'm a little
worried about that we got to finish on
worried about that we got to finish on
time um so I might get a little
time um so I might get a little
Sidetrack there I got a couple things
Sidetrack there I got a couple things
for some labs to
for some labs to
do but generally overall stuff should be
do but generally overall stuff should be
in a decent
in a decent
spot I'm surprised B isn't around for
spot I'm surprised B isn't around for
um code reviews I think he's just busy
um code reviews I think he's just busy
with work he's got a lot of uh stuff
with work he's got a lot of uh stuff
whoops let me reply to that real quick
je 50K
hi I am currently converting my gy M to
hi I am currently converting my gy M to
puffer lid plus C very good current M
puffer lid plus C very good current M
has a lot of vector Ops in
has a lot of vector Ops in
numpy what is the best way to convert
numpy what is the best way to convert
this to c can I can I can should I still
this to c can I can I can should I still
use numpy uh it depends on which way
use numpy uh it depends on which way
you're using
you're using
numpy like are you just kind of writing
numpy like are you just kind of writing
stuff like a jackm where you're trying
stuff like a jackm where you're trying
to paraliz stuff instead of writing
to paraliz stuff instead of writing
Loops cuz puff uh cuz python 4 Loops are
Loops cuz puff uh cuz python 4 Loops are
slow or you have like Matrix operations
slow or you have like Matrix operations
and
and
stuff like Matrix multiplies and
stuff also for reference any public Ms
stuff also for reference any public Ms
that would be uh pull to contribute to
that would be uh pull to contribute to
puffer lib if if that is what you're
puffer lib if if that is what you're
working on gets uh free code review and
working on gets uh free code review and
integration assistance by me
companies can get support contracts from
companies can get support contracts from
us for assistance but uh anything that's
us for assistance but uh anything that's
like open source and out there is
[Music]
free Dot and cross products for
free Dot and cross products for
Collision detection yeah you can just
Collision detection yeah you can just
write Loops for that you can just write
write Loops for that you can just write
Loops CS
Loops CS
fast you just load everything into big
fast you just load everything into big
1D arrays you compute your index offsets
1D arrays you compute your index offsets
and uh that's
it dot and cross yeah that's fine we've
it dot and cross yeah that's fine we've
used um there's captain in the Discord
used um there's captain in the Discord
has uh been using box 2D for some Ms
has uh been using box 2D for some Ms
that's probably what we're going to do
that's probably what we're going to do
for some of our physics based stuff in
for some of our physics based stuff in
the future though honestly I think you
the future though honestly I think you
box 2D is a little bit too heavy for my
box 2D is a little bit too heavy for my
liking for some of what we do um so I
liking for some of what we do um so I
think that probably we're going to try
think that probably we're going to try
to make like a Min box 2D at some point
to make like a Min box 2D at some point
so we just have like a 500 or 1,000 line
so we just have like a 500 or 1,000 line
file that you can just include and have
file that you can just include and have
a full you know all your physics stuff
a full you know all your physics stuff
that you'd want
talk with a senior
day doing something on your
day doing something on your
own is more valued than you did it from
own is more valued than you did it from
a
a
course well yeah course project are just
course well yeah course project are just
like really small scoped and half the
like really small scoped and half the
time they give you 75% of the code in
time they give you 75% of the code in
boiler
plate any examples in the repo which do
plate any examples in the repo which do
something yeah all of them man they all
something yeah all of them man they all
do I mean we've got pretty fancy
do I mean we've got pretty fancy
environments here right like yeah we got
environments here right like yeah we got
simple stuff like pong but this goes all
simple stuff like pong but this goes all
the way up to MMO with a full economy
the way up to MMO with a full economy
system and stuff right this thing is
uh what's the key there it is now this
uh what's the key there it is now this
thing's pretty
big so all of these are
big so all of these are
in Huffer lib
in Huffer lib
ocean and then they're all just here
ocean and then they're all just here
they're single. C files or single. H
they're single. C files or single. H
files rather
I believe we have like 1.1 million on
I believe we have like 1.1 million on
neural MMO 3 at the
moment the M's that I've written by the
moment the M's that I've written by the
way if you're looking for some of my
way if you're looking for some of my
code uh which most of which should be
code uh which most of which should be
fairly clean MOA neural MMO 3 Snake and
fairly clean MOA neural MMO 3 Snake and
then in the oblations branch the new
then in the oblations branch the new
grid environment that I just wrote in
grid environment that I just wrote in
the last couple of days some of these
the last couple of days some of these
other ones are my prototypes as well
other ones are my prototypes as well
that are being filled in by contributors
that are being filled in by contributors
are fairly clean and some of the
are fairly clean and some of the
contributors started writing very clean
contributors started writing very clean
code as well um a couple of these are a
code as well um a couple of these are a
little Messier but mostly pretty
good well the neural MMO 3 Model is like
good well the neural MMO 3 Model is like
pretty good it's not amazing and yes
pretty good it's not amazing and yes
thank you for the reminder link key for
thank you for the reminder link key for
folks watching if you want to support my
folks watching if you want to support my
work for free in about 5 Seconds just
work for free in about 5 Seconds just
start the repository it's all you got to
start the repository it's all you got to
do it helps me out a
do it helps me out a
ton really helps us to get the word out
ton really helps us to get the word out
on
on
puffer be the puffer star
puffer be the puffer star
indeed speaking of which I saw a good
indeed speaking of which I saw a good
number of puffers on vacation so that
number of puffers on vacation so that
was at least fun
what the hell is
what the hell is
the I'm not telling you
the I'm not telling you
that but puffers on vacation are fun
that but puffers on vacation are fun
I don't think I got any
pictures I get anything good I mean
pictures I get anything good I mean
they're underwater is the
thing I mean they're pretty lame
thing I mean they're pretty lame
pictures but literally just
like literally just off the docks let's
like literally just off the docks let's
see does this
see does this
work as the camera's not going to focus
work as the camera's not going to focus
that's a puffer there in the
water off to bed back at some point see
water off to bed back at some point see
around I'm usually streaming stuff so
around I'm usually streaming stuff so
I'm here to
help how's this going
here we always got to make sure our
here we always got to make sure our
sweeps are are
sweeps are are
stable skill
Bill where' Neptune
go yeah so
go yeah so
we can check on neoc
we can check on neoc
carbs yeah puffer gets bigger you feed
carbs yeah puffer gets bigger you feed
it you feed it starts you feed it Cod it
it you feed it starts you feed it Cod it
gets
bigger it's an open source project more
bigger it's an open source project more
people get involved the more you feed
people get involved the more you feed
them
it's a fun
it's a fun
logo I like the puffer a lot that's like
logo I like the puffer a lot that's like
one of my favorite things I've done is
one of my favorite things I've done is
like we're going to have a
mascot dude you think I I don't I do not
mascot dude you think I I don't I do not
have the ability to make this this was
have the ability to make this this was
two different artists
and the credits are there I've credited
and the credits are there I've credited
the people as well
everybody gets
credited it's
funny see we get viewers off of the uh
funny see we get viewers off of the uh
the post
pretty good with various modeling
software I mean it's more like artwork
software I mean it's more like artwork
than like 3D art than it is like
than like 3D art than it is like
engineering
design
right really it's very rare to find the
right really it's very rare to find the
uh computer scientist who's is also a
uh computer scientist who's is also a
decent
decent
artist that's a very rare
artist that's a very rare
thing though I suppose it's very rare to
thing though I suppose it's very rare to
find a computer scientist who can write
find a computer scientist who can write
and I was always uh a good
writer horrible artist good writer
though I
though I
um I don't know I did a bunch of
um I don't know I did a bunch of
creative writing when I was younger
creative writing when I was younger
around your age actually I did a whole
around your age actually I did a whole
bunch of creative writing did a little
bunch of creative writing did a little
bit of it when I got to undergrad as
bit of it when I got to undergrad as
well but really hated the way that they
well but really hated the way that they
ran the uh the courses around that so I
ran the uh the courses around that so I
didn't end up getting the minor in it it
didn't end up getting the minor in it it
was just real
stupid it was literally no matter what
stupid it was literally no matter what
you write you have some nut telling you
you write you have some nut telling you
you're
you're
sexist and also they wasted like so so
sexist and also they wasted like so so
much time um they did very little right
much time um they did very little right
for a writing
courses and the source material that
courses and the source material that
they used was just dry and boring as
they used was just dry and boring as
well it's very
mundane okay let me think what we want
mundane okay let me think what we want
to do now um I got a little bit of time
let me see if I can just get my thoughts
let me see if I can just get my thoughts
straight on what I want to do with all
straight on what I want to do with all
this next so we have a decent backlog of
this next so we have a decent backlog of
contributor code to look
contributor code to look
at Noah's got an M Captain's got an M
at Noah's got an M Captain's got an M
BET's
BET's
got at least one m I think a couple M's
got at least one m I think a couple M's
worth the
worth the
PRS I don't know where that space uh The
PRS I don't know where that space uh The
Other M went from
Other M went from
Nev uh
Nev uh
Noah Noah has TCG PRS potentially
that's
that's
funny um we got those to
funny um we got those to
merchin I've got my grid environment to
merchin I've got my grid environment to
finish polishing up I'm a little too
finish polishing up I'm a little too
tired to do more in that right now uh
tired to do more in that right now uh
I've
got fent stuff is mostly in a good spot
got fent stuff is mostly in a good spot
to be honest I got to do a a few more
to be honest I got to do a a few more
things on it but I think it's going to
things on it but I think it's going to
be mostly in a good
be mostly in a good
spot um I really want to carve out some
spot um I really want to carve out some
time to do carbs work but like a hyper
time to do carbs work but like a hyper
pram sweep work but that requires me to
pram sweep work but that requires me to
be at like 100% And I haven't been at
be at like 100% And I haven't been at
100% since I got back yet I'm going to
100% since I got back yet I'm going to
need a little rest a little RNR before
need a little rest a little RNR before
then probably a good workout or
then probably a good workout or
two my uh my plates are coming they
two my uh my plates are coming they
didn't ship my rack for some reason but
didn't ship my rack for some reason but
I'm at least getting my barbell and
I'm at least getting my barbell and
plates and a platform on Wednesday so at
plates and a platform on Wednesday so at
least I'll have some nice
least I'll have some nice
equipment um that'll be fun
equipment um that'll be fun
let's
let's
see other than
see other than
that
that
um neoc carbs it's my own algorithm it's
um neoc carbs it's my own algorithm it's
an improvement on
an improvement on
carbs uh and it's not done yet but it's
carbs uh and it's not done yet but it's
it's already pretty
it's already pretty
good uh and name is still potentially
good uh and name is still potentially
work in progress as well yeah we're like
work in progress as well yeah we're like
that's the project I really want to
that's the project I really want to
hammer on cuz that's going to be the
hammer on cuz that's going to be the
high impact
high impact
one this maze m is going to be pretty
one this maze m is going to be pretty
good for testing stuff I like the
ma I also have a couple academic collabs
ma I also have a couple academic collabs
to look
to look
through probably going to want to do
through probably going to want to do
some stuff for
some stuff for
them in fact I might even try to find
them in fact I might even try to find
somebody here to
somebody here to
uh captain or or Spencer or somebody to
uh captain or or Spencer or somebody to
do
do
uh some would have on
uh some would have on
that there was a lot I change man we've
that there was a lot I change man we've
had this conversation like three times
had this conversation like three times
uh it's it was in the math right there's
uh it's it was in the math right there's
there's some mathematical
there's some mathematical
changes
changes
um yeah so I think that's everything I
um yeah so I think that's everything I
guess since I have a little bit of time
guess since I have a little bit of time
I'm not at 100% but I might actually
I'm not at 100% but I might actually
want to look at carbs a little bit more
want to look at carbs a little bit more
just so I keep it kind of loaded into
just so I keep it kind of loaded into
memory to think about it well I'll look
memory to think about it well I'll look
at it right now so while this runs in
at it right now so while this runs in
the background let me talk a little bit
the background let me talk a little bit
about the work that
about the work that
I'm most excited about at the moment
I'm most excited about at the moment
that I'm
doing linky they're not that hard
doing linky they're not that hard
just learn
it you're probably making it too hard on
it you're probably making it too hard on
yourself if you want to link me code
so this is
so this is
carps this is an algorithm by
carps this is an algorithm by
mbui and it's a hyperparameter tuning
mbui and it's a hyperparameter tuning
algorithm all right hold on let me
algorithm all right hold on let me
answer linky's dumb question you don't
answer linky's dumb question you don't
need star star you're doing it
wrong as I told you
wrong as I told you
Malik returns a void star which is a
Malik returns a void star which is a
pointer that can be cast to anything you
pointer that can be cast to anything you
don't need a star star not a single one
don't need a star star not a single one
of my environments has a double
of my environments has a double
pointer there you
go so
go so
anyways this is INB carbs this is uh
anyways this is INB carbs this is uh
their hyperr sweep algorithm the idea of
their hyperr sweep algorithm the idea of
this it's based on Pito optimality which
this it's based on Pito optimality which
is the idea of if you have two different
is the idea of if you have two different
variabl that you want to optimize uh the
variabl that you want to optimize uh the
Pito front is defined as the set of
Pito front is defined as the set of
points for which you can't improve in
points for which you can't improve in
both directions
both directions
simultaneously so what does that mean
simultaneously so what does that mean
well if you have a score like the score
well if you have a score like the score
that you get in the game and the time
that you get in the game and the time
and seconds that it takes you to run the
and seconds that it takes you to run the
experiment then you could say that I
experiment then you could say that I
want the points for which I want the
want the points for which I want the
experiments for which you can't run
experiments for which you can't run
anything that is both a faster
anything that is both a faster
experiment uh and also get higher score
experiment uh and also get higher score
right so you can get quick experiments
right so you can get quick experiments
that do pretty well you can get longer
that do pretty well you can get longer
experiments that do really well but you
experiments that do really well but you
can't like you don't want the points
can't like you don't want the points
that you can just easily do better on
that you can just easily do better on
both so that's the idea of their
both so that's the idea of their
algorithm now whether it actually does
algorithm now whether it actually does
that so well is Up For
that so well is Up For
Debate
Debate
um it consists of three different
um it consists of three different
gaussian processes these are learned
gaussian processes these are learned
models that are fit to the outcome of
models that are fit to the outcome of
each experiment they come in you've got
each experiment they come in you've got
dpy which ignore the details of what a
dpy which ignore the details of what a
gan process is and how it exactly Works
gan process is and how it exactly Works
um
um
gpy takes in the observations and then
gpy takes in the observations and then
which are the hyper parameters that
which are the hyper parameters that
you're using for your experiment and
you're using for your experiment and
then it predicts four so given hyper
then it predicts four so given hyper
parameters it's trained to predict four
parameters it's trained to predict four
GPC does given hyper parameters predict
GPC does given hyper parameters predict
time the experiment takes cost and then
time the experiment takes cost and then
gpf is a bit more comp complicated
gpf is a bit more comp complicated
uh it takes it is trained to predict the
uh it takes it is trained to predict the
Optimal Performance that you can get for
Optimal Performance that you can get for
any specific cost so it takes in cost
any specific cost so it takes in cost
and then it predicts the Optimal
and then it predicts the Optimal
Performance uh according to that cost
Performance uh according to that cost
and it's informed by the Paro optimal
and it's informed by the Paro optimal
run so far details of that not super
important so this is the basic formula
important so this is the basic formula
the base version of the formula that
the base version of the formula that
they use for this algorithm it's got two
they use for this algorithm it's got two
terms in it uh the first term says how
terms in it uh the first term says how
much better does your gaussian process
much better does your gaussian process
think that these hyperparameters are
think that these hyperparameters are
going to do than the other gaussian
going to do than the other gaussian
process uh that thinks the uh that
process uh that thinks the uh that
thinks it knows what the optimal uh
thinks it knows what the optimal uh
parameters for a specific cost are so
parameters for a specific cost are so
how much better does this Gan process
how much better does this Gan process
think that you're going to do than the
think that you're going to do than the
other gussian process things you can
other gussian process things you can
do that's the first term this is a
do that's the first term this is a
reasonable term I have some quals with
reasonable term I have some quals with
it but I've left this one mostly alone
it but I've left this one mostly alone
the second term I don't like it all what
the second term I don't like it all what
this is is this basically says don't
this is is this basically says don't
select parameters uh that are too far
select parameters uh that are too far
away from your existing
away from your existing
experiments I don't like this term
experiments I don't like this term
because there's no reason to do this
because there's no reason to do this
right you don't actually care how far
right you don't actually care how far
away the parameters are you only care
away the parameters are you only care
whether the parameters are actually
whether the parameters are actually
something that you have a good estimate
something that you have a good estimate
of the outcome of that experiment for so
of the outcome of that experiment for so
you could have a set of parameters
you could have a set of parameters
that's very far away from what you're
that's very far away from what you're
currently doing uh but you could have a
currently doing uh but you could have a
very confident model that you know what
very confident model that you know what
that experiment is going to do so I
that experiment is going to do so I
replace this term with an absolute
replace this term with an absolute
estimate of performance which is
estimate of performance which is
basically I just took
basically I just took
gpy which says what is going to be the
gpy which says what is going to be the
performance of a candidate and then I
performance of a candidate and then I
subtracted the variance of this
subtracted the variance of this
prediction so what that gives you is a
prediction so what that gives you is a
conservative estimate of
conservative estimate of
performance meaning because you're
performance meaning because you're
subtracting the variance that you're
subtracting the variance that you're
going to try to push towards higher uh
going to try to push towards higher uh
quality Solutions even if they cost more
quality Solutions even if they cost more
but only if you're confident uh in the
but only if you're confident uh in the
you're only if you're confident that
you're only if you're confident that
you're predicting the outcome of those
you're predicting the outcome of those
experiments
experiments
correctly that's what that
means and that actually replaces a bunch
means and that actually replaces a bunch
of this other complicated stuff here
of this other complicated stuff here
because what I just said does it
because what I just said does it
better I have a few other modifications
better I have a few other modifications
as well this is currently the biggest
as well this is currently the biggest
one and this makes it do much much
one and this makes it do much much
better um now let me kind of pitch you
better um now let me kind of pitch you
the thing that I want to figure out how
the thing that I want to figure out how
to frame as a mathematical optimization
to frame as a mathematical optimization
problem and I'm really not that great
problem and I'm really not that great
I'm not a great mathematician I'm really
I'm not a great mathematician I'm really
a much stronger engineer uh than I am a
a much stronger engineer uh than I am a
mathematician I'm a good scientist
mathematician I'm a good scientist
really good engineer pretty mediocre
really good engineer pretty mediocre
mathematician
uh what I would like to do is I'd like
uh what I would like to do is I'd like
to figure out a way to frame the whole
to figure out a way to frame the whole
sweep the whole hyperparameter sweep as
sweep the whole hyperparameter sweep as
an optimization process so essentially
an optimization process so essentially
you have your budget that you have for
you have your budget that you have for
the sweep is time you're allocating time
the sweep is time you're allocating time
to each
to each
experiment and your goal should probably
experiment and your goal should probably
be something like to fill the parito
be something like to fill the parito
front with points or something like that
front with points or something like that
so like
so like
if we
if we
have let's just look at a Neptune
have let's just look at a Neptune
experim
experiment so this is a Pito front right
experiment so this is a Pito front right
this is not a particularly interesting
this is not a particularly interesting
Pito front let's try this one is this an
Pito front let's try this one is this an
interesting Pito
front still not an interesting one some
front still not an interesting one some
mems have more predi than
mems have more predi than
others let me see if I can find one that
others let me see if I can find one that
will make a good example for
you all right here's a good example
you all right here's a good example
so this is the Paro front if you draw
so this is the Paro front if you draw
this line
this line
here this is the Paro front so the goal
here this is the Paro front so the goal
of your hyper parameter sweep should
of your hyper parameter sweep should
essentially be to fill in this
essentially be to fill in this
line with uh points so you have an
line with uh points so you have an
accurate estimate of the whole Paro
front now you could just say that you
front now you could just say that you
just want a model of the predo
just want a model of the predo
front um but I think that really you
front um but I think that really you
don't don't know how good of a the model
don't don't know how good of a the model
is at each point without having the
is at each point without having the
individual
individual
points maybe that's wrong we'll
see maybe you do just want to optimize
see maybe you do just want to optimize
the model but whether it's the model or
the model but whether it's the model or
the samples regardless what you want to
the samples regardless what you want to
do is you want to draw in this
do is you want to draw in this
line you want a good estimate of the
line you want a good estimate of the
Pito
Pito
front um I want to frame that
front um I want to frame that
somehow as the goal of the whole
sweep you'll often have c c
programs you don't have to do
that that's just cuz C has a single pass
that that's just cuz C has a single pass
compiler so uh anything that's defined
compiler so uh anything that's defined
below like you can't use a function
below like you can't use a function
that's defined below your current
that's defined below your current
function but like the usual trick to
function but like the usual trick to
this is to just Define functions in the
this is to just Define functions in the
order that you use
order that you use
them that's worked for all the M's and
them that's worked for all the M's and
I've not had a problem with
it if this doesn't work you're probably
it if this doesn't work you're probably
writing very convoluted logic
you know I would really like to
visualize I'd really like to visualize
visualize I'd really like to visualize
the Paro
front it's not no it's not bad practice
and actually uh I typically what I do is
and actually uh I typically what I do is
I keep my C file very small and I kind
I keep my C file very small and I kind
of just stick everything into theh
file it's a header only that's what you
file it's a header only that's what you
call a header only library or utility
cuz the uh the Python program doesn't
cuz the uh the Python program doesn't
use the C file at all it only includes
use the C file at all it only includes
theh
file and think about how to do
this yeah you can that's actually one of
this yeah you can that's actually one of
of the nice things about Neptune is it's
of the nice things about Neptune is it's
very easy to
very easy to
download but that's not the current
question you can download it actually as
question you can download it actually as
a pandas data frame or a SQL table it's
a pandas data frame or a SQL table it's
very
nice your optimization could try to
nice your optimization could try to
minimize the distance between
minimize the distance between
point in the upper convex Hull
point in the upper convex Hull
of the point Cloud let me think if that
of the point Cloud let me think if that
makes
sense well I think by upper convex Hull
sense well I think by upper convex Hull
you just mean the parito front which
you just mean the parito front which
doesn't necessarily have to be
convex it probably should be but it's
convex it probably should be but it's
not guaranteed to
not guaranteed to
be I guess it kind of depends
minimize the distance so I had thought
minimize the distance so I had thought
of something kind of like that but I was
of something kind of like that but I was
trying to figure out how to do
trying to figure out how to do
that and also okay so you're more mathy
that and also okay so you're more mathy
so here's the question right you kind of
so here's the question right you kind of
have this model already that tells
have this model already that tells
you this draws the Pito line right like
you this draws the Pito line right like
you can just query this function and it
you can just query this function and it
will draw you the parito line as it
will draw you the parito line as it
estimates it
estimates it
currently um you could probably compute
currently um you could probably compute
some sort of error or some sort of fit
some sort of error or some sort of fit
metric between that line and your
metric between that line and your
current samples as
well though you know it well yeah you
well though you know it well yeah you
could do
could do
that
that
um and then you also have this one
um and then you also have this one
gpy where if you just generate some
gpy where if you just generate some
sample hyper parameters you can fill in
sample hyper parameters you can fill in
this parito front you can like just
this parito front you can like just
generate all the points uh and where you
generate all the points uh and where you
think that they will score to fill this
think that they will score to fill this
out but the question is do you want to
out but the question is do you want to
rely on the Learned model or do you want
rely on the Learned model or do you want
to actually run the experiments
right there are pros and cons to both of
right there are pros and cons to both of
these things so if you just learn the
these things so if you just learn the
model you can potentially run fewer
model you can potentially run fewer
experiments and then just read off the
experiments and then just read off the
good hyper parameters if your model is
accurate um on the other hand you know
accurate um on the other hand you know
it is possibly likely that your model
it is possibly likely that your model
will learn
will learn
faster from filling out the predo front
faster from filling out the predo front
and getting those actual samples for
and getting those actual samples for
training
data dude where do I download is API
okay where is
okay where is
this correlate dopy in ablations file as
this correlate dopy in ablations file as
AP signature use this
AP signature use this
file um I'm trying to do some math here
file um I'm trying to do some math here
though right now man kill him on
though right now man kill him on
Mojo
um let's let me go with what you said
um let's let me go with what you said
for now minimize the distance between
for now minimize the distance between
points in the upper convex Hull
how the heck would you even do that
right because each of those points is an
right because each of those points is an
experiment You can predict the outcome
experiment You can predict the outcome
of an experiment with a given
of an experiment with a given
uncertainty
how do you formulate this as a problem
how do you formulate this as a problem
where you can like solve an optimization
where you can like solve an optimization
problem and read out the point that you
problem and read out the point that you
should sample
also they only train
also they only train
discriminative Gan processes they don't
discriminative Gan processes they don't
train generative any sort of generative
train generative any sort of generative
process so you're restricted to sample
process so you're restricted to sample
based things where you just like you
based things where you just like you
generate a bunch of points
and then you use the GP to score
and then you use the GP to score
them do you know the front is a function
them do you know the front is a function
of the hyper parameters or could you
of the hyper parameters or could you
learn it yes you do learn the front as
learn it yes you do learn the front as
you're running the experiments you don't
you're running the experiments you don't
know it
know it
initially create the front after
initially create the front after
learning
learning
it and all the training
it and all the training
runs well the thing is that you you have
runs well the thing is that you you have
to learn it from like the data that
to learn it from like the data that
you're learning it from each point is an
you're learning it from each point is an
experiment so you're kind of learning it
experiment so you're kind of learning it
online right the idea here is
online right the idea here is
that so the idea here right each of
that so the idea here right each of
these points is an
these points is an
experiment um each experiment has a
experiment um each experiment has a
certain cost associated with it so if we
certain cost associated with it so if we
look at the Paro front
look at the Paro front
here right this is the time in seconds
here right this is the time in seconds
that the experiment took and this is the
that the experiment took and this is the
score that the experiment gets so
score that the experiment gets so
intuitively what you want the model to
intuitively what you want the model to
do is run a bunch of fast experiments in
do is run a bunch of fast experiments in
order to figure
order to figure
out how the predo front is going to look
out how the predo front is going to look
and then very quickly start running you
and then very quickly start running you
know a few experiments over here and as
know a few experiments over here and as
it gains confidence to fill out the more
it gains confidence to fill out the more
expensive areas of the
expensive areas of the
front average distance between points in
front average distance between points in
the
the
front you get a distance as a function
front you get a distance as a function
of parameters
a that gives you
midpoint doesn't
midpoint doesn't
it wait does that
work average distance between points in
work average distance between points in
the
front so you want to maximize that
front so you want to maximize that
distance
does that give you what you would
does that give you what you would
intuitively
expect I think you're right I think it
does e
but okay so that's like that assumes you
but okay so that's like that assumes you
have an existing parito front
have an existing parito front
right and existing models that are
right and existing models that are
correct which you don't
correct which you don't
have so that just captures the idea of
have so that just captures the idea of
filling in all that so what that does is
filling in all that so what that does is
that captures the idea of like you have
that captures the idea of like you have
some points on a line what's the best
some points on a line what's the best
way to fill in uh to fill in the empty
way to fill in uh to fill in the empty
spaces on the line
we're missing the overarching CU like I
we're missing the overarching CU like I
don't like how right now this is kind of
don't like how right now this is kind of
just a bunch of terms that are thrown at
just a bunch of terms that are thrown at
each
each
other and they don't really capture the
other and they don't really capture the
optimization that we care about well cuz
optimization that we care about well cuz
basically like this is a model of what
basically like this is a model of what
we care about in parito optimization
here getting the front but not for doing
here getting the front but not for doing
it fat well the thing is you can't just
it fat well the thing is you can't just
get the front because you need to like
get the front because you need to like
you need a model of you need a good
you need a model of you need a good
model of the score that you're going to
model of the score that you're going to
get for a specific set of hyper
get for a specific set of hyper
parameters right in order to fill in
parameters right in order to fill in
that
that
front and of the cost of the experiment
front and of the cost of the experiment
for that
for that
matter so it's like you need the models
matter so it's like you need the models
in order to be able to do that in the
in order to be able to do that in the
first
place
e e
are you trying to maximize the integral
are you trying to maximize the integral
of the Paro
front but I don't know how the hell you
front but I don't know how the hell you
do that
this is this is one of these occasions
this is this is one of these occasions
where um the math background would be
helpful I guess you kind of do want to
helpful I guess you kind of do want to
optimize but the thing is ypf has to
optimize but the thing is ypf has to
also be a good
model you could you know what you could
model you could you know what you could
do that I think captures both of these
do that I think captures both of these
things
things
what if you okay this is close to the
what if you okay this is close to the
integral idea but what if you
integral idea but what if you
maximize the area under the
curve so let's say that you have a
curve so let's say that you have a
parito front that looks like this this
parito front that looks like this this
is the ground proof
you get some
you get some
samples then what you do is you compute
samples then what you do is you compute
your
integral like
this you approximate your interval
this you approximate your interval
integral like this
don't you just W
don't you just W
to what do you
mean the
focus what does that mean in this
focus what does that mean in this
context
sometimes I wonder if this is a if you
sometimes I wonder if this is a if you
have a basic math term that I somehow do
have a basic math term that I somehow do
not know or if you have some art like
not know or if you have some art like
some random term that nobody
uses so I have to handle the boundaries
uses so I have to handle the boundaries
on this thing
trying many experiments but limiting
time that's a separate
optimization does not converge so that's
optimization does not converge so that's
an early stopping that's an optimization
an early stopping that's an optimization
that's orthogonal to this you can have
that's orthogonal to this you can have
early a stopping but that doesn't give
early a stopping but that doesn't give
you parito
optimal if you ENC you're only going to
optimal if you ENC you're only going to
encounter you're not going to encounter
encounter you're not going to encounter
them again
them again
if you're sampling in a continuous space
if you're sampling in a continuous space
unless you explicitly try to repeat the
unless you explicitly try to repeat the
experiment in which case you would want
experiment in which case you would want
to rerun it because you are checking for
to rerun it because you are checking for
seed
variance oh yeah sure but like what does
variance oh yeah sure but like what does
that have to do with this this isn't a
parabola this doesn't have to be a
parabola this doesn't have to be a
parabol like this is not a parabola
parabol like this is not a parabola
that's a bad assumption
that's a bad assumption
because look you can have a you can have
because look you can have a you can have
a Paro front that looks like
this
right this doesn't have to have any
right this doesn't have to have any
Define shape
n+ one point yeah it's an online
n+ one point yeah it's an online
optimization process so let me tell you
optimization process so let me tell you
what you have access to
what you have access to
right you have access to these gaussian
right you have access to these gaussian
processes you cannot assume that they're
processes you cannot assume that they're
good right but they do tell you the
good right but they do tell you the
variance of their estimates so like when
variance of their estimates so like when
this thing makes an estimate it will
this thing makes an estimate it will
give you the mean and the variance of
give you the mean and the variance of
its
its
prediction so like one thing I'm doing
prediction so like one thing I'm doing
at the moment is subtracting the
at the moment is subtracting the
variance from the prediction in one case
variance from the prediction in one case
in order to make a conservative
estimate
90 I don't know exactly the shape of the
90 I don't know exactly the shape of the
Paro front is going to be intrinsic to
Paro front is going to be intrinsic to
the problem and the architecture um
the problem and the architecture um
it's your job to discover
it's your job to discover
it okay so here's one thing I like about
it okay so here's one thing I like about
trying to do something like this if you
trying to do something like this if you
have a flat
have a flat
shape this thing doesn't have to
shape this thing doesn't have to
populate all of these points right you
populate all of these points right you
don't have to do
don't have to do
this because if your model is confident
this because if your model is confident
that hey all these points are going to
that hey all these points are going to
be the same it doesn't have to really
be the same it doesn't have to really
estimate you know it doesn't have to do
estimate you know it doesn't have to do
any of them we might want some variance
any of them we might want some variance
reduction term where maybe it runs one
reduction term where maybe it runs one
of these experiments just to double
of these experiments just to double
check you know and make sure that uh its
check you know and make sure that uh its
model is good but it doesn't have to
model is good but it doesn't have to
fill in a whole line if it's
confident on the other hand uh it does
confident on the other hand uh it does
have to fill in shapes where there's a
have to fill in shapes where there's a
lot of you know where there's a
lot of you know where there's a
curvature to be defined it does have to
curvature to be defined it does have to
fill those in because that actually like
fill those in because that actually like
look at all this area that it's
missing e
and actually I think that maybe we fix
and actually I think that maybe we fix
the bounds
the bounds
problem if we draw this this way hold
problem if we draw this this way hold
on if we draw it this way
yeah I think we eliminate the
this is the thing we want to
this is the thing we want to
optimize well this kind of just
optimize well this kind of just
incentivizes it to keep running longer
incentivizes it to keep running longer
experiments for no damn
reason you're looking for the point when
reason you're looking for the point when
the change of
the change of
slope no what you're looking to do is
slope no what you're looking to do is
you're looking to make sure that you
you're looking to make sure that you
have a good estimate of this line you
have a good estimate of this line you
want to know the shape of the line shape
want to know the shape of the line shape
doesn't mean slope shape doesn't mean
doesn't mean slope shape doesn't mean
fit like a
fit like a
specific um like this does not mean fit
specific um like this does not mean fit
a parabola this means fit like this is
a parabola this means fit like this is
going to be a model a neuron net
going to be a model a neuron net
whatever in this case a gaussian process
whatever in this case a gaussian process
that tells you this shape it can have a
that tells you this shape it can have a
weird shape as well it's allowed to have
weird shape as well it's allowed to have
a weird
shape the common ones we're kind of flat
shape the common ones we're kind of flat
and then something like this
well I can't
be well it's not going to be smooth
be well it's not going to be smooth
because it's defined by a set of Point
because it's defined by a set of Point
estimates you get the P first point of
estimates you get the P first point of
the
the
front the quick simulations then use the
front the quick simulations then use the
gradient of the front to try to land on
gradient of the front to try to land on
the next next
the next next
point you okay you do something like
point you okay you do something like
that with the new model then you allow
that with the new model then you allow
slightly faster
slightly faster
experiments slower I assume you mean and
experiments slower I assume you mean and
keep going until you get the whole
keep going until you get the whole
front yeah so that's the idea but the
front yeah so that's the idea but the
thing is you have to capture that
thing is you have to capture that
mathematically and the previous version
mathematically and the previous version
of carbs attempts to do that and does it
of carbs attempts to do that and does it
poorly and they still have a pretty good
poorly and they still have a pretty good
algorithm and then I made a little I
algorithm and then I made a little I
made a few tweaks and now I captured a
made a few tweaks and now I captured a
little better and I have a much better
little better and I have a much better
algorithm so if we can really get it
algorithm so if we can really get it
right I think we're going to have a
right I think we're going to have a
really good
algorithm we do that
already see but that's not enough cuz
already see but that's not enough cuz
there are two problem s right one is
there are two problem s right one is
allocating the
allocating the
budget right allocating the time budget
budget right allocating the time budget
uh to the experiment and then the other
uh to the experiment and then the other
is actually figuring out the thing that
is actually figuring out the thing that
you're trying to to optimize
you're trying to to optimize
here I think I almost have it with
this well they have a nice function here
maybe this is the right thing here
maybe this is the right thing here
because what this is
because what this is
is you're trying to make it so you can't
is you're trying to make it so you can't
improve at any point on the front
okay so this is the function based
okay so this is the function based
approach where you're not actually
approach where you're not actually
required to fill in the
required to fill in the
front is the slightly annoying
thing so I think that what we'll do is
thing so I think that what we'll do is
let's let's say that we go with the
let's let's say that we go with the
function based version because I think
function based version because I think
it'll be easier mathematically and then
it'll be easier mathematically and then
we'll go to the s and it'll be quicker
we'll go to the s and it'll be quicker
and then we'll go to the sample based
and then we'll go to the sample based
one if we notice that these uh these
one if we notice that these uh these
optimality fronts the function just
optimality fronts the function just
doesn't fit very
doesn't fit very
well no it doesn't have to look it can
well no it doesn't have to look it can
be a straight line it can be basically
be a straight line it can be basically
this right it can be like
this right it can be like
flat I mean your pre- can be just flat
flat I mean your pre- can be just flat
basically it can be a bunch of
basically it can be a bunch of
things it' probably be exponential for
things it' probably be exponential for
all I know if you construct your
all I know if you construct your
environment just right
h
this is what you're trying to
optimize is
it well this is what you're trying to
it well this is what you're trying to
minimize in a sense
use something similar to the variable
use something similar to the variable
time under cuta
methods front
methods front
interpolation how much bigger you can
interpolation how much bigger you can
allocate and U is
answering oh uh let me see
hang
on I don't know what none of these
on I don't know what none of these
change slope deck or
ink change of slope goes to one I don't
ink change of slope goes to one I don't
know what that
means you're looking for the whole
means you're looking for the whole
function front interpolation will tell
function front interpolation will tell
you how much bigger it's not the front
you how much bigger it's not the front
interpolation that tells you
interpolation that tells you
well it could be it
depends like there are two distinct ways
depends like there are two distinct ways
of going about it right one is that you
of going about it right one is that you
either convex hall or integral or some
either convex hall or integral or some
approximation right you have to look at
approximation right you have to look at
the the area defined by the samples that
the the area defined by the samples that
you've collected the predo
you've collected the predo
samples the other one is that you just
samples the other one is that you just
have a function right that's generated
have a function right that's generated
by like a g processor
whatever and you're optimizing based on
whatever and you're optimizing based on
that so they have the function based
that so they have the function based
approach here where they're looking at
approach here where they're looking at
this is the estimate of the performance
this is the estimate of the performance
of this set of
of this set of
hypers and this is the estimate of the
hypers and this is the estimate of the
Optimal Performance of this set of
Optimal Performance of this set of
hypers
oh I kind of see I kind of
see this is the acquisition function
okay so this actually gives you
okay so this actually gives you
something
right this is the Improvement in
right this is the Improvement in
score it really seems like you should
score it really seems like you should
just be able to divide this function by
just be able to divide this function by
cost and be done
square root log expens changes either
square root log expens changes either
always decreasing or always
increasing not
increasing not
necessarily I mean I guess technically
necessarily I mean I guess technically
it should always be increasing but this
it should always be increasing but this
based on the samples you're not always
based on the samples you're not always
going to see that
the function should always be increasing
the function should always be increasing
the slope I guess
the slope I guess
decreasing front is a
decreasing front is a
score function of
score function of
runtime if you know more or less where
runtime if you know more or less where
you will land you need you know more or
you will land you need you know more or
less how much time you
need so there are two different models
need so there are two different models
right you only know for sure you only
right you only know for sure you only
know it once you run the experiment see
know it once you run the experiment see
how long it takes and how well it scce
how long it takes and how well it scce
these two are estimates of those
these two are estimates of those
quantities so you get estimates of these
quantities so you get estimates of these
qualities
qualities
quantities no not based on yeah uh
quantities no not based on yeah uh
technically that should be
technically that should be
true
yes spending more time should always
yes spending more time should always
give you
give you
more either the same or score same score
more either the same or score same score
so it should
so it should
be either flat or
increasing it could be convex or concave
increasing it could be convex or concave
though that's not guaranteed
why can't you just divide this by the
why can't you just divide this by the
score and have the god algorithm I mean
score and have the god algorithm I mean
by the cost
9 uh okay I got to go to bed in 1520
9 uh okay I got to go to bed in 1520
minutes
um clearly you should div by the score
um clearly you should div by the score
right divide wait divide mean divide by
right divide wait divide mean divide by
the cost does it divide by the
cost yeah it's units of improvement per
cost if these functions are
cost if these functions are
perfect I think you
can well hang on if these functions are
can well hang on if these functions are
perfect
then you can't do
then you can't do
anything because it's zero
anything because it's zero
everywhere this is so janky because it
everywhere this is so janky because it
relies on these functions being
imperfect need to go very cool stream
imperfect need to go very cool stream
we'll be back first time here thank you
we'll be back first time here thank you
it's usually mostly building stuff but
it's usually mostly building stuff but
occasionally we pull out a little bit of
occasionally we pull out a little bit of
math
math
All Fun open source RL stuff so thanks
All Fun open source RL stuff so thanks
for dropping
by that's fun I should have the stream
by that's fun I should have the stream
on more
on more
often you really get a lot of cool user
often you really get a lot of cool user
engagement and people dropping by and
engagement and people dropping by and
stuff
um no it's not about balancing them
um no it's not about balancing them
right CU there's not one best point
right CU there's not one best point
that's the whole concept of Pito
that's the whole concept of Pito
optimality all the points on the Pito
optimality all the points on the Pito
front are technically best
points technically yes in some cases
points technically yes in some cases
there will be a clear
there will be a clear
elbow right there will be like a clear
elbow right there will be like a clear
the function can look like this right
the function can look like this right
where you want this point right here or
where you want this point right here or
this point right here maybe but
this point right here maybe but
sometimes it's going to look like like
sometimes it's going to look like like
this and then it's just like well just
this and then it's just like well just
pick however much compute you have and
pick however much compute you have and
that's what the point you're going to
get let me really try to understand this
you're training a scoring
you're training a scoring
function you're training this parito
function it's both start off knowing
function it's both start off knowing
nothing well that's not true you SE it
nothing well that's not true you SE it
with some random points so they start
with some random points so they start
off with very noisy
estimates e
so when you end up with very noisy
so when you end up with very noisy
estimates and you give it a ton of
estimates and you give it a ton of
samples and you then take a Max over
samples and you then take a Max over
this
well that is going to
well that is going to
produce samples that reduce noise
the thing I don't like about this
the thing I don't like about this
right is that if this function is
high if your estimate is
high if your estimate is
high then you're screwed right I don't
high then you're screwed right I don't
like this
like this
formulation I think I know why
yeah so let's say that this is
your this is your GP uh this is your
your this is your GP uh this is your
what is it g p
what is it g p
PF so this is your estimate of the Paro
front Okay and then your estimate
this estimate is going to give
you
oops and then this is your
oops and then this is your
GP
y you're if you do
y you're if you do
this then it's gpy minus pero
front oh hold on it's the other way
front oh hold on it's the other way
around
gpy minus Paro
front so like this
I'm
I'm
specific what do you
mean it's a hyperparameter tuning
mean it's a hyperparameter tuning
algorithm
you want to do one sweep
uh it's for the specific training task
uh it's for the specific training task
that you're looking
at it's One Sweep for each experiment
at it's One Sweep for each experiment
that you're running so if you're change
that you're running so if you're change
an environment variable you have to
an environment variable you have to
rerun a sweep but we're probably going
rerun a sweep but we're probably going
to be able to warm start them so that
to be able to warm start them so that
you'll have a decent model to begin with
so we have Max gpy minus
so we have Max gpy minus
gpf so if you have this you just don't
gpf so if you have this you just don't
learn you just sample right
learn you just sample right
here until the predo front goes up to
here until the predo front goes up to
this and then you don't
learn why is this re
learn why is this re
here oh this re here is technically to
here oh this re here is technically to
prevent
prevent
that because when you subtract it gets
that because when you subtract it gets
to
zero I think it should be ABS
zero I think it should be ABS
though shouldn't it be absolute value
though shouldn't it be absolute value
not
not
reu cuz this is saying prioritize
reu cuz this is saying prioritize
improving the parito
improving the parito
front but like one of your two models is
front but like one of your two models is
wrong if you get
this so if you fix ABS then ABS will be
this so if you fix ABS then ABS will be
it'll take the biggest
it'll take the biggest
magnitude this is the sample that you
magnitude this is the sample that you
want
right divide by the cost
you're trying to bring these two
you're trying to bring these two
functions together
because you're
because you're
[Music]
[Music]
sampling you will naturally get the
sampling you will naturally get the
variance as well of
variance as well of
these so
these so
like you know this orange function here
like you know this orange function here
is really going to be something like
is really going to be something like
this
if you draw like the
uncertainty so then what will actually
uncertainty so then what will actually
happen is you're going to get this point
happen is you're going to get this point
down here
do we want this point down
do we want this point down
here this really biases you towards
here this really biases you towards
regions that are heavily uncertain
oh wait you don't want this
oh wait you don't want this
experiment cuz this okay I see because
experiment cuz this okay I see because
this experiment sucks
but your parito could also be
wrong going to take some thought I
wrong going to take some thought I
really would like to just have a few
really would like to just have a few
days to just think about
this I have to carve the time out at
this I have to carve the time out at
some point because it's important
some point because it's important
technically tomorrow is Saturday I could
technically tomorrow is Saturday I could
do
that or on Sunday one of the two I'll
that or on Sunday one of the two I'll
wake up and see how I feel in the
morning it's definitely a worthwhile
Endeavor yeah so I forgot that this
Endeavor yeah so I forgot that this
point yeah this point sucks so we we
point yeah this point sucks so we we
can't do
can't do
that that's a really dumb
mistake um yeah so I'm falling asleep
here it's not always a perfect you don't
here it's not always a perfect you don't
know the shape of the parito front up
know the shape of the parito front up
front all right sometimes you get a
front all right sometimes you get a
parito front that looks like this we
parito front that looks like this we
just go great I guess we just throw more
just go great I guess we just throw more
compute at this problem and we just
compute at this problem and we just
solve it that way
solve it that way
right sometimes you get problems that
right sometimes you get problems that
look
like like
like like
this where it's like finicky and
this where it's like finicky and
probably these are like just lucky
probably these are like just lucky
points but like you don't really get a
points but like you don't really get a
ton by throwing more compute this isn't
ton by throwing more compute this isn't
even a great example because these
even a great example because these
points are pretty good um let me see
like sometimes it's this shape where
like sometimes it's this shape where
it's like a
it's like a
pretty you know it's there are lots of
pretty you know it's there are lots of
different shapes this thing can
different shapes this thing can
take how's this one going by the
take how's this one going by the
way oh look at
way oh look at
that we're starting to get some
scores see how this parites
uh I'm going to go to bed but for folks
uh I'm going to go to bed but for folks
watching I might be working on this
watching I might be working on this
tomorrow we will
tomorrow we will
see I should probably rest a little bit
see I should probably rest a little bit
this weekend though because next week is
this weekend though because next week is
going to be
going to be
crazy I do want to get some stuff done
crazy I do want to get some stuff done
here
here
though I don't know the carb stuff would
though I don't know the carb stuff would
be kind of
be kind of
cool um for folks
cool um for folks
watching all my stuff's free in open
watching all my stuff's free in open
source on GitHub please start the repo
source on GitHub please start the repo
it really helps me out it's free just do
it really helps me out it's free just do
it uh if you're interested in getting
it uh if you're interested in getting
involved with all this open source RL
involved with all this open source RL
science side engineering side whatever
science side engineering side whatever
join the Discord we got a whole bunch of
join the Discord we got a whole bunch of
people in here building stuff doesn't
people in here building stuff doesn't
matter if you're new to RL doesn't
matter if you're new to RL doesn't
matter if you're an expert just need a
matter if you're an expert just need a
decent programming background for the
decent programming background for the
engineering side is all and uh if you're
engineering side is all and uh if you're
looking to get into stuff if you want
looking to get into stuff if you want
more a mix of like Cutting Edge and
more a mix of like Cutting Edge and
tutorialz stuff we got a Blog here
tutorialz stuff we got a Blog here
this quick start guide and more if you
this quick start guide and more if you
want even more
want even more
content and check my X account where we
content and check my X account where we
have lots of RL articles and the
have lots of RL articles and the
occasional funny
occasional funny
thing that's about all so thanks folks
thing that's about all so thanks folks
and I will see you around

Kind: captions
Language: en
okay we are back live for some
okay we are back live for some
reason good
evening how do you decide
oh perfect I don't have to type all
oh perfect I don't have to type all
this so
this so
um let me show you real quick
that'll just be
that'll just be
easier can why does my keyboard
easier can why does my keyboard
backlighting not work why does this not
backlighting not work why does this not
work it's so obnoxious at night when I
work it's so obnoxious at night when I
can't freaking
can't freaking
see I should have open I tried to
see I should have open I tried to
install the open source drivers for this
install the open source drivers for this
[ __ ] but it doesn't
work can I like FN
F12 doesn't
F12 doesn't
work oh also this mic I this mic in a
work oh also this mic I this mic in a
stupid spot there we go that's
stupid spot there we go that's
better um I would love to fix that we
better um I would love to fix that we
might just do some random dumb stuff
might just do some random dumb stuff
tonight small little things I've been
tonight small little things I've been
wanting to do and fix cuz I'm exhausted
wanting to do and fix cuz I'm exhausted
let me answer your question
though okay so
right the hell is
this all right right here you see Target
this all right right here you see Target
uptime gets returned from
uptime gets returned from
train so score and then up time is the
train so score and then up time is the
time in seconds gets logged from the uh
time in seconds gets logged from the uh
the
the
trainer and then those go both to
trainer and then those go both to
Neptune and then as for how you move on
Neptune and then as for how you move on
to the next run
so this year specifies the initial
so this year specifies the initial
distribution as a log normal with a mean
distribution as a log normal with a mean
at 100 million minimum of 50 million and
at 100 million minimum of 50 million and
Max of a billion steps scale specifies
Max of a billion steps scale specifies
the width of the uh the search
the width of the uh the search
distribution that's just the initial
distribution that's just the initial
distribution carbs will then based on
distribution carbs will then based on
the results of experiments move it to be
the results of experiments move it to be
shorter or longer
runs there you go
perfect B
perfect B
size time steps and oh only like 60 mil
size time steps and oh only like 60 mil
very
nice what
Baseline uh it's kind of complicated so
Baseline uh it's kind of complicated so
the way that the original carbs does it
the way that the original carbs does it
isn't great they kind of just try push
isn't great they kind of just try push
you to longer runs over time um we do
you to longer runs over time um we do
something a little bit more complex we
something a little bit more complex we
have a conservative estimate of
have a conservative estimate of
performance and then we penalize you uh
performance and then we penalize you uh
for uncertainty in the estimate of
for uncertainty in the estimate of
performance so basically you're
performance so basically you're
encouraged to do longer runs only if
encouraged to do longer runs only if
you're confident that the results of
you're confident that the results of
those uh in the results of those
runs basically what you want is you the
runs basically what you want is you the
idea here right is that you look at this
idea here right is that you look at this
Paro front all right the goal here is
Paro front all right the goal here is
that you fill
that you fill
in this section right here you fill in
in this section right here you fill in
the cheap runs before doing longer runs
the cheap runs before doing longer runs
now if you just full solve the
now if you just full solve the
environment you don't even need longer
environment you don't even need longer
runs
runs
right but the goal is that you use the
right but the goal is that you use the
cheap runs to figure out how the longer
cheap runs to figure out how the longer
runs are going to perform and then you
runs are going to perform and then you
move to longer ones over time and again
move to longer ones over time and again
in this case we kind of just full solve
why did it run for so long
why did it run for so long
where this specific one this is just a
where this specific one this is just a
random sample the first several points
random sample the first several points
of a sweep are going to be random
samples it also takes a while to fit the
samples it also takes a while to fit the
models um so you know it's training a
models um so you know it's training a
model so you can see that this is where
model so you can see that this is where
it starts to fit
it right we can see look at this see
it right we can see look at this see
stable learning rate regime here this is
stable learning rate regime here this is
very useful right we get good learning
very useful right we get good learning
rate from here to
rate from here to
here we see entropy coefficient about
here we see entropy coefficient about
right around here is good right we see
right around here is good right we see
Lambda you see
gamma these aren't
about three update
pox 16 vpt
Horizon mm's
Horizon mm's
1024 so
yeah let's go
find a good point here
there's our
Pito 14766
uh that is not fun oh man you still got
uh that is not fun oh man you still got
those that's
those that's
rough I had him in middle school which
rough I had him in middle school which
was bad
enough oh look at these curves these
enough oh look at these curves these
curves are perfect
KL
KL
variances
variances
entropy why entropy I guess it is
entropy why entropy I guess it is
deterministic policy that's
funny why do clip frat go up then
funny why do clip frat go up then
down because RL just likes to be spicy
down because RL just likes to be spicy
that way
it doesn't Peak High Enough To Be
it doesn't Peak High Enough To Be
concerning though
70 million
steps damn it I can't see my number of
steps damn it I can't see my number of
keys I can mostly touch type but not
keys I can mostly touch type but not
fully
okay
uhhuh H
uhhuh H
Co me
Co me
this
this
Lambda my guess was pretty pretty
Lambda my guess was pretty pretty
good my gam I guess was way off though I
good my gam I guess was way off though I
guess
guess
I make sense for the the bigger
Maps this is a reasonable learning rate
Maps this is a reasonable learning rate
for
for
reference like 2 e minus
reference like 2 e minus
three mini
badge a mini
badge a mini
batches do we still have this freaking
batches do we still have this freaking
parameter
I thought that we fixed this [ __ ]
total time
total time
steps what the
steps what the
heck 55
mil I thought I saw more than that oh
mil I thought I saw more than that oh
that's including
eval so do we can bump this down to
eval so do we can bump this down to
60 and then update epox three is a
60 and then update epox three is a
little high
can you
explain so gamma is specifically for
explain so gamma is specifically for
generalized Advantage estimation that's
generalized Advantage estimation that's
on the reading list by the way that I
on the reading list by the way that I
gave you um the RL quick start
gave you um the RL quick start
guide It's a pretty short reading list
guide It's a pretty short reading list
as well um so gamma is a discount Factor
as well um so gamma is a discount Factor
it is an
it is an
exponential an exponentially decaying
exponential an exponentially decaying
window or some uh from where you start
window or some uh from where you start
now out to Future rewards so if
now out to Future rewards so if
something basically if something let's
something basically if something let's
say that in five time steps from now you
say that in five time steps from now you
get a reward of one and you have a
get a reward of one and you have a
discount factor of 0.9 it starts out as
discount factor of 0.9 it starts out as
one then you go back and it becomes 0.9
one then you go back and it becomes 0.9
and then it becomes 0.9 * .9 then it
and then it becomes 0.9 * .9 then it
becomes .9 * 9 * .9 and uh yeah so you
becomes .9 * 9 * .9 and uh yeah so you
basically the easy way to think about it
basically the easy way to think about it
is if you have a discount factor of 0.9
is if you have a discount factor of 0.9
then roughly you're looking 10 steps out
then roughly you're looking 10 steps out
if you have a discount factor of 0.99
if you have a discount factor of 0.99
you're roughly looking 100 steps
out 098 is 50 steps
roughly is this Stu it's not stuck
okay you better learn
okay you better learn
buddy better get me my full
solve I like a tradeoff yeah kind of the
solve I like a tradeoff yeah kind of the
thing is it's very obnoxious cuz it's
thing is it's very obnoxious cuz it's
kind of also just introducing an extra
kind of also just introducing an extra
assumption cuz you might have things in
assumption cuz you might have things in
your environment where you care about
your environment where you care about
like very short-term rewards and other
like very short-term rewards and other
things where you care about very
things where you care about very
long-term rewards and in that case G
long-term rewards and in that case G
kind of just
sucks no it shouldn't be
sucks no it shouldn't be
0.1 wait oh
0.1 wait oh
comma I can't see the stupid
chat oh
chat oh
comma one or two steps it would be
comma one or two steps it would be
really low it would be like
really low it would be like
like7 or something or 0.5 in the most
like7 or something or 0.5 in the most
extreme but probably like a
7 all right this is not
7 all right this is not
terrible um this is very very slightly
terrible um this is very very slightly
off of what uh you know I was expecting
off of what uh you know I was expecting
so this is
fine
fine
985 989 yeah 99
985 989 yeah 99
basically rounded in
basically rounded in
N9 and then it evaluated for 13 M
N9 and then it evaluated for 13 M
steps that's pretty good
sometimes we need to look at these
sometimes we need to look at these
parameters to understand
better well I think we should replace it
better well I think we should replace it
with something that doesn't make a hard
with something that doesn't make a hard
assumption on horiz holy
assumption on horiz holy
hell okay let's see
holy look at this maze
solver uh it's not perfect but it's
solver uh it's not perfect but it's
pretty darn
good it solved that one holy
ah cuz it it knows it's always in the
ah cuz it it knows it's always in the
bottom right so it tries to get to the
bottom right so it tries to get to the
bottom
right uh it just sees like a local 5x5
right uh it just sees like a local 5x5
window around it or like 11 by1 total
window around it or like 11 by1 total
but five in any
but five in any
direction look at this maze solver man
direction look at this maze solver man
it's a cool maze solver you know it's
it's a cool maze solver you know it's
not perfect but
not perfect but
uh boom
well can't see the whole
map
there this like 160,000 parameter model
there this like 160,000 parameter model
this thing is Tiny
we should probably just use our Baseline
we should probably just use our Baseline
models
then e
ah nobody cares about that
man it's just a freaking
maze e
what the heck is wrong with
this like to just make a gift maybe I
this like to just make a gift maybe I
can just have it save a
gift I do not have an MP4 player
Linux but also the file's weird this is
Linux but also the file's weird this is
why is it 255
why is it 255
KB that's weird
KB that's weird
right for
oh no it
works e
Linux this is the puffer profile I think
Linux this is the puffer profile I think
I have it on my personal
I don't freaking know
I don't freaking know
man it should work but it doesn't didn't
man it should work but it doesn't didn't
syn or
something e
what's the perf
what's the perf
test on
this let me just make sure it's
zero I like it's got to the point where
zero I like it's got to the point where
I hardly even bother to check if stuff
I hardly even bother to check if stuff
is a million SPS because it like it
is a million SPS because it like it
always
is I'll show
you 4% okay we have to optimize a little
you 4% okay we have to optimize a little
bit but it's like easy
enough
for e
740 so
700ish for
this
fun okay enough games
big
map how big of a training Set uh this
map how big of a training Set uh this
was only a th000 Maps it probably would
was only a th000 Maps it probably would
be better with more
I mean you can just change the parameter
I mean you can just change the parameter
in gen
more it's C so it's
more it's C so it's
fast the
heck it just gave you my API token dumb
heck it just gave you my API token dumb
thing oh I see it's the
thing oh I see it's the
uh I didn't yeah I didn't pay
attention e
stupid
thing I I gave him some suggestions holy
thing I I gave him some suggestions holy
10,000
items maybe this is the max I don't
items maybe this is the max I don't
know trying to build my training set I'm
know trying to build my training set I'm
able to vary difficulty based on M
moves yeah so just like the dumbest most
moves yeah so just like the dumbest most
basic thing to do right is you pick a
basic thing to do right is you pick a
maximum number of moves and maybe you
maximum number of moves and maybe you
pick a minimum number of moves so you
pick a minimum number of moves so you
don't get like one move level so let's
don't get like one move level so let's
say you pick five to 10 move levels and
say you pick five to 10 move levels and
then you train on those and you run a
then you train on those and you run a
hyper parameter sweep and you see if you
hyper parameter sweep and you see if you
can do that and then you move up move it
can do that and then you move up move it
up a little
up a little
bit that's the most basic thing you
do episode score
not just dump well let's show you how I
not just dump well let's show you how I
did it in fact Spencer I have a present
did it in fact Spencer I have a present
for
you a perfectly worked example of
you a perfectly worked example of
exactly the thing that you're going to
exactly the thing that you're going to
want to
do here are some levels
do here are some levels
they're stored to State
variables here I am creating a th000
variables here I am creating a th000
levels and populating them here and then
levels and populating them here and then
here I set the state to whatever level I
here I set the state to whatever level I
like on reset you can randomly sample or
like on reset you can randomly sample or
you can add a couple variables in here
you can add a couple variables in here
and do some fancy curriculum
and do some fancy curriculum
learning
yeah not bad
this whole file 700 some odd lines and
this whole file 700 some odd lines and
is brain dead
symol this is the state variable I just
symol this is the state variable I just
put some stuff in a state and that's it
look at that
new tag
new tag
name if you just sort by tag you'll see
name if you just sort by tag you'll see
it uh this one is not tag this is just a
it uh this one is not tag this is just a
single
run creating a new set with every train
yeah I mean this is the example for you
yeah I mean this is the example for you
to work
with this end took
me I want to say probably between 8 and
me I want to say probably between 8 and
12 hours to write going off of the
12 hours to write going off of the
initial minig grid code I had that was
initial minig grid code I had that was
like super old and
like super old and
janky yeah probably took like 12ish
janky yeah probably took like 12ish
hours total not bad
that oh this is so going to full
solve yeah we'll just run
uh we'll rerun the hyper pram sweep
uh we'll rerun the hyper pram sweep
overnight but this I think it just full
overnight but this I think it just full
sols in fact I'm tempted to just run
sols in fact I'm tempted to just run
this for 200 mil just to see
look at this
buffer. a that is where all our stuff is
buffer. a that is where all our stuff is
Holy it just solved that big one too
Holy it just solved that big one too
look at this this model is
look at this this model is
awesome it's not perfect see right here
awesome it's not perfect see right here
it doesn't want to move away from the
it doesn't want to move away from the
green goal oh it even solved that Holy
green goal oh it even solved that Holy
look at that
look at that
that's
nuts oh it even got there look at
nuts oh it even got there look at
that model rocks and this is not even
that model rocks and this is not even
fully let's do
uh all right we're going to give you 200
uh all right we're going to give you 200
Melly you're getting a budget let's bend
Melly you're getting a budget let's bend
it wisely
only take a few
minutes What GPU
minutes What GPU
490 we
490 we
got single
got single
490 right there and uh
then 9 950x but the thing is this is
then 9 950x but the thing is this is
literally using one CPU core the m is
literally using one CPU core the m is
just I have not even optimized the M for
just I have not even optimized the M for
perf at all yet
perf at all yet
and uh I can already train it on one CPU
and uh I can already train it on one CPU
core like I can simulate all the M's on
core like I can simulate all the M's on
One
Core this weekend I'm going to get
Core this weekend I'm going to get
character animation in very nice can
character animation in very nice can
probably deploy to puffer very
probably deploy to puffer very
good this guy needs where is he this
good this guy needs where is he this
this guy up there needs uh more
this guy up there needs uh more
animations at some point I'm going to
animations at some point I'm going to
have to commission some proper
have to commission some proper
animations that week so we can like put
animations that week so we can like put
the puffer and
the puffer and
stuff is
fun oh other hpes like gamma learning
fun oh other hpes like gamma learning
rate they
stabilize but Lambda
stabilizes to
stabilizes to
like I don't know what that
means let's take a look at our train
run oh that's weird
run oh that's weird
looks like there is some
variance let's see if it
recovers that's rlb and RL for
you wonder if more levels
helps yeah it's recovering
helps yeah it's recovering
maybe they go in a flat line whereas
maybe they go in a flat line whereas
Lambda has a
slope
slope
oh
um
like me not understanding your question
like me not understanding your question
is not the same thing as I don't
know
okay what the heck is wrong with
okay what the heck is wrong with
uh am I not logged in why can't I see
uh am I not logged in why can't I see
the
the
dashboards oh here
so there's this dashboard which shows
so there's this dashboard which shows
you this is the stable region for
you this is the stable region for
Lambda
Lambda
right and then there's this one here
right and then there's this one here
which is sweep
which is sweep
progress okay this shows you what
progress okay this shows you what
parameters C is selecting over time over
parameters C is selecting over time over
all the different
all the different
runs okay so this is just saying that
runs okay so this is just saying that
Lambda started out too high and carbs
Lambda started out too high and carbs
had to pull it down a little bit whereas
had to pull it down a little bit whereas
gamma started out roughly in the same
gamma started out roughly in the same
spot and carbs just had to get more
spot and carbs just had to get more
confident and hone in on like some very
confident and hone in on like some very
small minute adjustments to
small minute adjustments to
it see this is the default it starts up
it see this is the default it starts up
here right this is just like what we've
here right this is just like what we've
configured it to start at and then it
configured it to start at and then it
finds that the correct value is over
finds that the correct value is over
here
right but the thing is the reason that I
right but the thing is the reason that I
have this this is mostly for debugging
have this this is mostly for debugging
because like if I
because like if I
see when I see stuff like this I get
see when I see stuff like this I get
suspicious that it's like completely
suspicious that it's like completely
stopped exploring mini
batches and the large
jump uh probably it did a very it did
jump uh probably it did a very it did
some expensive
some expensive
experiments yeah see these experiments
experiments yeah see these experiments
it did some more expensive experiments
it did some more expensive experiments
that took longer so this one here this
that took longer so this one here this
this Gap is because this run took a long
this Gap is because this run took a long
time this is just wall clock time
here okay so this is interesting that
here okay so this is interesting that
this didn't
this didn't
do quite what we were expecting here it
do quite what we were expecting here it
is recovering but it looks like it got
is recovering but it looks like it got
behind a
bit which is pretty
weird uh no now it's it's getting up
there we can try more maps we can try
there we can try more maps we can try
other things but I just want to see what
other things but I just want to see what
this
does yeah now we're at 65 so we're back
does yeah now we're at 65 so we're back
up to here yeah
oh
I got to get myself a stream overlay at
I got to get myself a stream overlay at
some point just to like put all these
some point just to like put all these
different things to organize all these
different things to organize all these
things oh welcome YouTube folks we are
things oh welcome YouTube folks we are
training some agents on some
training some agents on some
mazes when do you recommend a
switch um well I think that I think this
switch um well I think that I think this
is going to help you is the thing I
is going to help you is the thing I
think doing the end to end in L like in
think doing the end to end in L like in
a way that's actually High perf so
a way that's actually High perf so
you're not sitting there debugging
you're not sitting there debugging
forever is going to help
forever is going to help
you so basically whenever you feel like
you so basically whenever you feel like
it would be interesting to
it would be interesting to
you I generally suggest new people spend
you I generally suggest new people spend
like 80% of their time building stuff
like 80% of their time building stuff
and 20% of their time on formal material
and 20% of their time on formal material
and I gave you the formal material right
and I gave you the formal material right
I gave you what was I think it was two
I gave you what was I think it was two
courses the like intermediate thing and
courses the like intermediate thing and
then my quick start guide and you know
then my quick start guide and you know
whatever order you can process
those but like you don't want to bomb
those but like you don't want to bomb
through all of that material either like
through all of that material either like
this is like the like the best material
this is like the like the best material
out there of all the bad material like
out there of all the bad material like
you actually want to process and
you actually want to process and
understand this stuff where's this
understand this stuff where's this
material um little different for him on
material um little different for him on
his background if you're just if you're
his background if you're just if you're
not new to programming or AI but you're
not new to programming or AI but you're
new to RL then there's my quick start
new to RL then there's my quick start
guide you can get it on puffer doai oops
guide you can get it on puffer doai oops
puffer doai or on
X it's on
X it's on
here uh you can see we have a lot of
here uh you can see we have a lot of
blog posts one of which is my quick
blog posts one of which is my quick
start guide or if you
start guide or if you
prefer uh I have all of my material and
prefer uh I have all of my material and
some extras that are only here on my X
some extras that are only here on my X
where I just post all this RL
where I just post all this RL
stuff and you get some fun stuff like
stuff and you get some fun stuff like
this as
well almost entirely RL RL content
well almost entirely RL RL content
occasional miscellaneous Fitness Post
occasional miscellaneous Fitness Post
but almost all
RL yeah so that specifically that link
RL yeah so that specifically that link
for is like if you're self-taught and
for is like if you're self-taught and
you're like what's a terminal how how do
you're like what's a terminal how how do
I Linux how do I find files how do I you
I Linux how do I find files how do I you
know package stuff like basic things
know package stuff like basic things
like that love your windows 11
theme
LOL that's a good
LOL that's a good
one you are joking
one you are joking
right I have to clarify because it is
right I have to clarify because it is
the internet
oh yeah this is also we've got like
oh yeah this is also we've got like
demos and stuff like this as
well very good you'd be surprised some
well very good you'd be surprised some
of the stuff I get in here
of the stuff I get in here
all right so I don't know what happened
all right so I don't know what happened
to this run I think this run just got
to this run I think this run just got
cursed
somehow I'm going to crank up the map
somehow I'm going to crank up the map
size and uh try
again for
let's see if more maps
helps maybe just we got some weird maps
helps maybe just we got some weird maps
in there I don't
know yeah 1.6k on puffer though that's
know yeah 1.6k on puffer though that's
rounded I think it's like 1550
rounded I think it's like 1550
is but folks got to Star the puffer
is but folks got to Star the puffer
puffer's got to eat and he eats stars
puffer's got to eat and he eats stars
all
all
right I mean 1 mil SPS procedural maze
right I mean 1 mil SPS procedural maze
I'm like come on start the puffer what
I'm like come on start the puffer what
are you
doing star
we'll see how this run
goes do you think I should mess with map
goes do you think I should mess with map
dimensions in training
dimensions in training
set
um it depends on your map gen
algorithm like the way I do it I have
algorithm like the way I do it I have
them variable
them variable
um and then I just I have a Max size and
um and then I just I have a Max size and
then I just use however many bytes of
then I just use however many bytes of
memory I need or
memory I need or
whatever I think technically I skip
whatever I think technically I skip
row I probably could do the memory
row I probably could do the memory
layout more efficiently come to think of
it I wonder if I'm even doing that right
okay more maps uh seems to be useful
this is the last one that we're going to
this is the last one that we're going to
sit here and watch after this we'll just
sit here and watch after this we'll just
Auto sweep and stuff but having a little
Auto sweep and stuff but having a little
fun BFS gets a little
slow to
35 you should only need to run that at
35 you should only need to run that at
generation time though you don't
generation time though you don't
generate the maps between resets you
generate the maps between resets you
generate a big set of them and then
generate a big set of them and then
sample from this
set yeah and then what you want is you
set yeah and then what you want is you
want to be able to set the state with a
want to be able to set the state with a
single mem copy as ideal or a couple of
single mem copy as ideal or a couple of
mem copies if you need them I used a
mem copies if you need them I used a
couple mem
couple mem
copies it's nice and fast
copies it's nice and fast
though for the most part this 6% bugs me
though for the most part this 6% bugs me
I would like this to be zero I can get
I would like this to be zero I can get
it to zero I'm
sure okay we'll see whether this is
sure okay we'll see whether this is
stable um let me
stable um let me
see yeah these prams all look
see yeah these prams all look
fine prams all look
fine e
opening IR released o03
mini
mini
cool good to
cool good to
know War M Copy just initial for map
know War M Copy just initial for map
yeah that's fine
you're doing it
right far as I can tell you're doing it
right far as I can tell you're doing it
right the grid code should be useful to
right the grid code should be useful to
you though honestly for a lot of folks
you though honestly for a lot of folks
like this is the first end of I've
like this is the first end of I've
written in a
written in a
while um and this should be pretty
while um and this should be pretty
useful I there's still a few things I
useful I there's still a few things I
want to clean up here and there I
want to clean up here and there I
haven't dealt with like freeing memory
haven't dealt with like freeing memory
and stuff yet at the end of training and
and stuff yet at the end of training and
you know there are a few things to clean
you know there are a few things to clean
up and I'd like to make it easier to
up and I'd like to make it easier to
load in different configurations and add
load in different configurations and add
in a couple like couple more hardcoded
in a couple like couple more hardcoded
uh Baseline tasks right but uh this
uh Baseline tasks right but uh this
should be a pretty nice base to work off
should be a pretty nice base to work off
of Cu it's pretty clean and
of Cu it's pretty clean and
simple each envirite gets to be you know
simple each envirite gets to be you know
better all right so this thing is
better all right so this thing is
stuck which is annoying because it
stuck which is annoying because it
didn't seem like it was stuck before
didn't seem like it was stuck before
we'll see if it gets unstuck you got
we'll see if it gets unstuck you got
till 200 million
buddy I mean hey good for you to have
buddy I mean hey good for you to have
better models I don't really use them
better models I don't really use them
all that
much I use them for a few things but I
much I use them for a few things but I
don't use them a ton
I mostly use them to sanity check
stuff a very common thing I'll do is
stuff a very common thing I'll do is
I'll drop like a research paper in I'll
I'll drop like a research paper in I'll
drop like an archive PDF in and I'll be
drop like an archive PDF in and I'll be
like hey am I stupid or does this
like hey am I stupid or does this
particular thing make absolutely no
particular thing make absolutely no
sense the way it's described and then
sense the way it's described and then
it'll pretty much always just be like
it'll pretty much always just be like
hey yeah this thing makes absolutely no
sense welcome YouTube
sense welcome YouTube
folks this is the last manual run we
folks this is the last manual run we
will
will
do after this I'll just set up an auto
do after this I'll just set up an auto
hyper pram
hyper pram
sweep I've got like another hour or so
sweep I've got like another hour or so
to do some stuff is beted around for
to do some stuff is beted around for
merging M's or anybody need an m
merging M's or anybody need an m
reviewed like to get some cool stuff
reviewed like to get some cool stuff
merged
in I know bet has PRS but I'm sure he'll
in I know bet has PRS but I'm sure he'll
want to see he'd prefer to have stuff
want to see he'd prefer to have stuff
reviewed
live cuz I'm sure I'm going to be super
live cuz I'm sure I'm going to be super
busy next week finishing uh client stuff
busy next week finishing uh client stuff
Python and slow as hell n you uh I mean
Python and slow as hell n you uh I mean
there's not really a point reviewing
there's not really a point reviewing
that if
that if
there's like optimizing Python's kind of
there's like optimizing Python's kind of
just
dumb and like you can write nice python
dumb and like you can write nice python
code but it's a heck of a lot
harder mhm
harder mhm
I mean it's really
I mean it's really
not Sho you don't know about like the
not Sho you don't know about like the
stack and the Heap and pointers and
stack and the Heap and pointers and
stuff yeah might take you a couple weeks
stuff yeah might take you a couple weeks
to learn some
to learn some
Basics how good my agent will get at the
Basics how good my agent will get at the
game oh yeah it should be I built this
game oh yeah it should be I built this
one as because I thought that yours
one as because I thought that yours
would be harder to Intuit it just
would be harder to Intuit it just
looking at it right cuz you kind of have
looking at it right cuz you kind of have
to like get good at solving those
to like get good at solving those
puzzles so I figured that this would be
puzzles so I figured that this would be
like an easier test environment and then
like an easier test environment and then
we'd use yours as like a harder
we'd use yours as like a harder
curriculum environment and also I made
curriculum environment and also I made
this so you'd be able to just copy
this so you'd be able to just copy
basically one for one and see how you
basically one for one and see how you
can turn yours into a curricula Ben so I
can turn yours into a curricula Ben so I
had many motivations with this right one
had many motivations with this right one
of these was to help you out with that
of these was to help you out with that
another is there's a client that's
another is there's a client that's
interested in this stuff another is
interested in this stuff another is
there's a PhD student I'm going to be
there's a PhD student I'm going to be
working with soon who is uh has you know
working with soon who is uh has you know
this is their area as well and they need
this is their area as well and they need
a fast environment to play with for it
a fast environment to play with for it
um you know so there are lots and lots
um you know so there are lots and lots
of different reasons to have this
of different reasons to have this
thing okay this didn't do terribly look
thing okay this didn't do terribly look
at this so we've
at this so we've
got
835 let's see what this policy looks
835 let's see what this policy looks
like as soon as it
saves um the course for this is CS 107
saves um the course for this is CS 107
by from Stanford the problem so the
by from Stanford the problem so the
material is good for the course but the
material is good for the course but the
lectures are not great same with 106 x
lectures are not great same with 106 x
to be
to be
honest oh yeah there's there's a lot of
honest oh yeah there's there's a lot of
interest
man and when there isn't I can usually
man and when there isn't I can usually
drum up some interest if I just you know
drum up some interest if I just you know
alter things just slightly it's like
alter things just slightly it's like
yeah we you know we'll put in a
yeah we you know we'll put in a
curriculum learning rapper on it or
curriculum learning rapper on it or
whatever and then people get interested
trying to generate lots of cool
trying to generate lots of cool
opportunities in NL
here I spent a lot of today also dealing
here I spent a lot of today also dealing
with the hardware so we now have at
with the hardware so we now have at
least six of the boxes are back up um
least six of the boxes are back up um
speaking of
which for
can you quickly summarize what we are
can you quickly summarize what we are
doing today yes indeed in fact I will
doing today yes indeed in fact I will
show
show
you I will show you what we are doing
you I will show you what we are doing
today
this is a procedurally generated maze
this is a procedurally generated maze
environment that uh randomly loads a new
environment that uh randomly loads a new
maze level every time it runs uh I just
maze level every time it runs uh I just
built this environment over the last few
built this environment over the last few
days and we are currently trying to
days and we are currently trying to
train some decent baselines on it this
train some decent baselines on it this
model is pretty good but as you can see
model is pretty good but as you can see
it does get stuck like this but this is
it does get stuck like this but this is
going to be a very nice task for
going to be a very nice task for
curriculum learning exploration and a
curriculum learning exploration and a
few other areas of research that we work
few other areas of research that we work
on uh other environments like this exist
on uh other environments like this exist
this one is better and much much faster
this one is better and much much faster
so that is why I built it it also didn't
so that is why I built it it also didn't
take particularly long this was less
take particularly long this was less
than two total days of
than two total days of
work
work
um yeah so I mean let's see you'll see
um yeah so I mean let's see you'll see
it some mazes in a second
they're randomly generated so the bigger
they're randomly generated so the bigger
ones are
ones are
harder there you go
see so it solves a lot of them very
nicely so on X casd missing semester
nicely so on X casd missing semester
page yep
would it help if I spent
would it help if I spent
more than x time or X STS on a
maze yeah that already exists it's uh
maze yeah that already exists it's uh
two times the total number of cells in
two times the total number of cells in
the maze at the moment is the number of
the maze at the moment is the number of
steps you have I could shorten it
steps you have I could shorten it
potentially but currently it's two times
potentially but currently it's two times
Horizon I mean two times numb cells
I could probably make that a hyper
I could probably make that a hyper
parameter in the
parameter in the
sweep that one actually does make a huge
sweep that one actually does make a huge
difference in Sample
difference in Sample
efficiency huge
difference but I think we'll just keep
difference but I think we'll just keep
this is a One to One Sweep for
this is a One to One Sweep for
now and what we'll do
is weep
is weep
carbs Neptune
tag
32 oops and uh one
thing uh I wanted to increase the total
thing uh I wanted to increase the total
numb time steps to mean of 2 E8
so it'll take a little longer
so it'll take a little longer
but should get some good stuff out of
this
this
okay so that seems to be nicely done
what is
that is that like the profanity finder
that is that like the profanity finder
in commits or whatever
I forgot to add
this e
uh well the one that I make all the time
uh well the one that I make all the time
which is absolutely github's fault is
which is absolutely github's fault is
the way that they do merges is
the way that they do merges is
backwards you literally will
backwards you literally will
write the hell
is this thing
committed why is this not
this is not what was
here there was an extra
here there was an extra
command was it on box 5 I'm pretty sure
command was it on box 5 I'm pretty sure
it was
that's
annoying maybe it's
annoying maybe it's
fine yeah this is
fine well so this is all set uh welcome
fine well so this is all set uh welcome
Hey we got quite a few folks tonight
Hey we got quite a few folks tonight
how's it
how's it
going this is the puffer grid
going this is the puffer grid
environment we now have much larger Maps
environment we now have much larger Maps
uh autot tuning hyper parameters with
uh autot tuning hyper parameters with
our own hyperparameter tuning algorithm
our own hyperparameter tuning algorithm
hopefully in a week or two I'm going to
hopefully in a week or two I'm going to
have some time to really dive into that
have some time to really dive into that
algorithm and do quite a bit there I
algorithm and do quite a bit there I
have some client stuff to catch up on
have some client stuff to catch up on
first I believe though made a lot of
first I believe though made a lot of
progress there so maybe not too bad
progress there so maybe not too bad
there is one other thing I'm a little
there is one other thing I'm a little
worried about that we got to finish on
worried about that we got to finish on
time um so I might get a little
time um so I might get a little
Sidetrack there I got a couple things
Sidetrack there I got a couple things
for some labs to
for some labs to
do but generally overall stuff should be
do but generally overall stuff should be
in a decent
in a decent
spot I'm surprised B isn't around for
spot I'm surprised B isn't around for
um code reviews I think he's just busy
um code reviews I think he's just busy
with work he's got a lot of uh stuff
with work he's got a lot of uh stuff
whoops let me reply to that real quick
je 50K
hi I am currently converting my gy M to
hi I am currently converting my gy M to
puffer lid plus C very good current M
puffer lid plus C very good current M
has a lot of vector Ops in
has a lot of vector Ops in
numpy what is the best way to convert
numpy what is the best way to convert
this to c can I can I can should I still
this to c can I can I can should I still
use numpy uh it depends on which way
use numpy uh it depends on which way
you're using
you're using
numpy like are you just kind of writing
numpy like are you just kind of writing
stuff like a jackm where you're trying
stuff like a jackm where you're trying
to paraliz stuff instead of writing
to paraliz stuff instead of writing
Loops cuz puff uh cuz python 4 Loops are
Loops cuz puff uh cuz python 4 Loops are
slow or you have like Matrix operations
slow or you have like Matrix operations
and
and
stuff like Matrix multiplies and
stuff also for reference any public Ms
stuff also for reference any public Ms
that would be uh pull to contribute to
that would be uh pull to contribute to
puffer lib if if that is what you're
puffer lib if if that is what you're
working on gets uh free code review and
working on gets uh free code review and
integration assistance by me
companies can get support contracts from
companies can get support contracts from
us for assistance but uh anything that's
us for assistance but uh anything that's
like open source and out there is
[Music]
free Dot and cross products for
free Dot and cross products for
Collision detection yeah you can just
Collision detection yeah you can just
write Loops for that you can just write
write Loops for that you can just write
Loops CS
Loops CS
fast you just load everything into big
fast you just load everything into big
1D arrays you compute your index offsets
1D arrays you compute your index offsets
and uh that's
it dot and cross yeah that's fine we've
it dot and cross yeah that's fine we've
used um there's captain in the Discord
used um there's captain in the Discord
has uh been using box 2D for some Ms
has uh been using box 2D for some Ms
that's probably what we're going to do
that's probably what we're going to do
for some of our physics based stuff in
for some of our physics based stuff in
the future though honestly I think you
the future though honestly I think you
box 2D is a little bit too heavy for my
box 2D is a little bit too heavy for my
liking for some of what we do um so I
liking for some of what we do um so I
think that probably we're going to try
think that probably we're going to try
to make like a Min box 2D at some point
to make like a Min box 2D at some point
so we just have like a 500 or 1,000 line
so we just have like a 500 or 1,000 line
file that you can just include and have
file that you can just include and have
a full you know all your physics stuff
a full you know all your physics stuff
that you'd want
talk with a senior
day doing something on your
day doing something on your
own is more valued than you did it from
own is more valued than you did it from
a
a
course well yeah course project are just
course well yeah course project are just
like really small scoped and half the
like really small scoped and half the
time they give you 75% of the code in
time they give you 75% of the code in
boiler
plate any examples in the repo which do
plate any examples in the repo which do
something yeah all of them man they all
something yeah all of them man they all
do I mean we've got pretty fancy
do I mean we've got pretty fancy
environments here right like yeah we got
environments here right like yeah we got
simple stuff like pong but this goes all
simple stuff like pong but this goes all
the way up to MMO with a full economy
the way up to MMO with a full economy
system and stuff right this thing is
uh what's the key there it is now this
uh what's the key there it is now this
thing's pretty
big so all of these are
big so all of these are
in Huffer lib
in Huffer lib
ocean and then they're all just here
ocean and then they're all just here
they're single. C files or single. H
they're single. C files or single. H
files rather
I believe we have like 1.1 million on
I believe we have like 1.1 million on
neural MMO 3 at the
moment the M's that I've written by the
moment the M's that I've written by the
way if you're looking for some of my
way if you're looking for some of my
code uh which most of which should be
code uh which most of which should be
fairly clean MOA neural MMO 3 Snake and
fairly clean MOA neural MMO 3 Snake and
then in the oblations branch the new
then in the oblations branch the new
grid environment that I just wrote in
grid environment that I just wrote in
the last couple of days some of these
the last couple of days some of these
other ones are my prototypes as well
other ones are my prototypes as well
that are being filled in by contributors
that are being filled in by contributors
are fairly clean and some of the
are fairly clean and some of the
contributors started writing very clean
contributors started writing very clean
code as well um a couple of these are a
code as well um a couple of these are a
little Messier but mostly pretty
good well the neural MMO 3 Model is like
good well the neural MMO 3 Model is like
pretty good it's not amazing and yes
pretty good it's not amazing and yes
thank you for the reminder link key for
thank you for the reminder link key for
folks watching if you want to support my
folks watching if you want to support my
work for free in about 5 Seconds just
work for free in about 5 Seconds just
start the repository it's all you got to
start the repository it's all you got to
do it helps me out a
do it helps me out a
ton really helps us to get the word out
ton really helps us to get the word out
on
on
puffer be the puffer star
puffer be the puffer star
indeed speaking of which I saw a good
indeed speaking of which I saw a good
number of puffers on vacation so that
number of puffers on vacation so that
was at least fun
what the hell is
what the hell is
the I'm not telling you
the I'm not telling you
that but puffers on vacation are fun
that but puffers on vacation are fun
I don't think I got any
pictures I get anything good I mean
pictures I get anything good I mean
they're underwater is the
thing I mean they're pretty lame
thing I mean they're pretty lame
pictures but literally just
like literally just off the docks let's
like literally just off the docks let's
see does this
see does this
work as the camera's not going to focus
work as the camera's not going to focus
that's a puffer there in the
water off to bed back at some point see
water off to bed back at some point see
around I'm usually streaming stuff so
around I'm usually streaming stuff so
I'm here to
help how's this going
here we always got to make sure our
here we always got to make sure our
sweeps are are
sweeps are are
stable skill
Bill where' Neptune
go yeah so
go yeah so
we can check on neoc
we can check on neoc
carbs yeah puffer gets bigger you feed
carbs yeah puffer gets bigger you feed
it you feed it starts you feed it Cod it
it you feed it starts you feed it Cod it
gets
bigger it's an open source project more
bigger it's an open source project more
people get involved the more you feed
people get involved the more you feed
them
it's a fun
it's a fun
logo I like the puffer a lot that's like
logo I like the puffer a lot that's like
one of my favorite things I've done is
one of my favorite things I've done is
like we're going to have a
mascot dude you think I I don't I do not
mascot dude you think I I don't I do not
have the ability to make this this was
have the ability to make this this was
two different artists
and the credits are there I've credited
and the credits are there I've credited
the people as well
everybody gets
credited it's
funny see we get viewers off of the uh
funny see we get viewers off of the uh
the post
pretty good with various modeling
software I mean it's more like artwork
software I mean it's more like artwork
than like 3D art than it is like
than like 3D art than it is like
engineering
design
right really it's very rare to find the
right really it's very rare to find the
uh computer scientist who's is also a
uh computer scientist who's is also a
decent
decent
artist that's a very rare
artist that's a very rare
thing though I suppose it's very rare to
thing though I suppose it's very rare to
find a computer scientist who can write
find a computer scientist who can write
and I was always uh a good
writer horrible artist good writer
though I
though I
um I don't know I did a bunch of
um I don't know I did a bunch of
creative writing when I was younger
creative writing when I was younger
around your age actually I did a whole
around your age actually I did a whole
bunch of creative writing did a little
bunch of creative writing did a little
bit of it when I got to undergrad as
bit of it when I got to undergrad as
well but really hated the way that they
well but really hated the way that they
ran the uh the courses around that so I
ran the uh the courses around that so I
didn't end up getting the minor in it it
didn't end up getting the minor in it it
was just real
stupid it was literally no matter what
stupid it was literally no matter what
you write you have some nut telling you
you write you have some nut telling you
you're
you're
sexist and also they wasted like so so
sexist and also they wasted like so so
much time um they did very little right
much time um they did very little right
for a writing
courses and the source material that
courses and the source material that
they used was just dry and boring as
they used was just dry and boring as
well it's very
mundane okay let me think what we want
mundane okay let me think what we want
to do now um I got a little bit of time
let me see if I can just get my thoughts
let me see if I can just get my thoughts
straight on what I want to do with all
straight on what I want to do with all
this next so we have a decent backlog of
this next so we have a decent backlog of
contributor code to look
contributor code to look
at Noah's got an M Captain's got an M
at Noah's got an M Captain's got an M
BET's
BET's
got at least one m I think a couple M's
got at least one m I think a couple M's
worth the
worth the
PRS I don't know where that space uh The
PRS I don't know where that space uh The
Other M went from
Other M went from
Nev uh
Nev uh
Noah Noah has TCG PRS potentially
that's
that's
funny um we got those to
funny um we got those to
merchin I've got my grid environment to
merchin I've got my grid environment to
finish polishing up I'm a little too
finish polishing up I'm a little too
tired to do more in that right now uh
tired to do more in that right now uh
I've
got fent stuff is mostly in a good spot
got fent stuff is mostly in a good spot
to be honest I got to do a a few more
to be honest I got to do a a few more
things on it but I think it's going to
things on it but I think it's going to
be mostly in a good
be mostly in a good
spot um I really want to carve out some
spot um I really want to carve out some
time to do carbs work but like a hyper
time to do carbs work but like a hyper
pram sweep work but that requires me to
pram sweep work but that requires me to
be at like 100% And I haven't been at
be at like 100% And I haven't been at
100% since I got back yet I'm going to
100% since I got back yet I'm going to
need a little rest a little RNR before
need a little rest a little RNR before
then probably a good workout or
then probably a good workout or
two my uh my plates are coming they
two my uh my plates are coming they
didn't ship my rack for some reason but
didn't ship my rack for some reason but
I'm at least getting my barbell and
I'm at least getting my barbell and
plates and a platform on Wednesday so at
plates and a platform on Wednesday so at
least I'll have some nice
least I'll have some nice
equipment um that'll be fun
equipment um that'll be fun
let's
let's
see other than
see other than
that
that
um neoc carbs it's my own algorithm it's
um neoc carbs it's my own algorithm it's
an improvement on
an improvement on
carbs uh and it's not done yet but it's
carbs uh and it's not done yet but it's
it's already pretty
it's already pretty
good uh and name is still potentially
good uh and name is still potentially
work in progress as well yeah we're like
work in progress as well yeah we're like
that's the project I really want to
that's the project I really want to
hammer on cuz that's going to be the
hammer on cuz that's going to be the
high impact
high impact
one this maze m is going to be pretty
one this maze m is going to be pretty
good for testing stuff I like the
ma I also have a couple academic collabs
ma I also have a couple academic collabs
to look
to look
through probably going to want to do
through probably going to want to do
some stuff for
some stuff for
them in fact I might even try to find
them in fact I might even try to find
somebody here to
somebody here to
uh captain or or Spencer or somebody to
uh captain or or Spencer or somebody to
do
do
uh some would have on
uh some would have on
that there was a lot I change man we've
that there was a lot I change man we've
had this conversation like three times
had this conversation like three times
uh it's it was in the math right there's
uh it's it was in the math right there's
there's some mathematical
there's some mathematical
changes
changes
um yeah so I think that's everything I
um yeah so I think that's everything I
guess since I have a little bit of time
guess since I have a little bit of time
I'm not at 100% but I might actually
I'm not at 100% but I might actually
want to look at carbs a little bit more
want to look at carbs a little bit more
just so I keep it kind of loaded into
just so I keep it kind of loaded into
memory to think about it well I'll look
memory to think about it well I'll look
at it right now so while this runs in
at it right now so while this runs in
the background let me talk a little bit
the background let me talk a little bit
about the work that
about the work that
I'm most excited about at the moment
I'm most excited about at the moment
that I'm
doing linky they're not that hard
doing linky they're not that hard
just learn
it you're probably making it too hard on
it you're probably making it too hard on
yourself if you want to link me code
so this is
so this is
carps this is an algorithm by
carps this is an algorithm by
mbui and it's a hyperparameter tuning
mbui and it's a hyperparameter tuning
algorithm all right hold on let me
algorithm all right hold on let me
answer linky's dumb question you don't
answer linky's dumb question you don't
need star star you're doing it
wrong as I told you
wrong as I told you
Malik returns a void star which is a
Malik returns a void star which is a
pointer that can be cast to anything you
pointer that can be cast to anything you
don't need a star star not a single one
don't need a star star not a single one
of my environments has a double
of my environments has a double
pointer there you
go so
go so
anyways this is INB carbs this is uh
anyways this is INB carbs this is uh
their hyperr sweep algorithm the idea of
their hyperr sweep algorithm the idea of
this it's based on Pito optimality which
this it's based on Pito optimality which
is the idea of if you have two different
is the idea of if you have two different
variabl that you want to optimize uh the
variabl that you want to optimize uh the
Pito front is defined as the set of
Pito front is defined as the set of
points for which you can't improve in
points for which you can't improve in
both directions
both directions
simultaneously so what does that mean
simultaneously so what does that mean
well if you have a score like the score
well if you have a score like the score
that you get in the game and the time
that you get in the game and the time
and seconds that it takes you to run the
and seconds that it takes you to run the
experiment then you could say that I
experiment then you could say that I
want the points for which I want the
want the points for which I want the
experiments for which you can't run
experiments for which you can't run
anything that is both a faster
anything that is both a faster
experiment uh and also get higher score
experiment uh and also get higher score
right so you can get quick experiments
right so you can get quick experiments
that do pretty well you can get longer
that do pretty well you can get longer
experiments that do really well but you
experiments that do really well but you
can't like you don't want the points
can't like you don't want the points
that you can just easily do better on
that you can just easily do better on
both so that's the idea of their
both so that's the idea of their
algorithm now whether it actually does
algorithm now whether it actually does
that so well is Up For
that so well is Up For
Debate
Debate
um it consists of three different
um it consists of three different
gaussian processes these are learned
gaussian processes these are learned
models that are fit to the outcome of
models that are fit to the outcome of
each experiment they come in you've got
each experiment they come in you've got
dpy which ignore the details of what a
dpy which ignore the details of what a
gan process is and how it exactly Works
gan process is and how it exactly Works
um
um
gpy takes in the observations and then
gpy takes in the observations and then
which are the hyper parameters that
which are the hyper parameters that
you're using for your experiment and
you're using for your experiment and
then it predicts four so given hyper
then it predicts four so given hyper
parameters it's trained to predict four
parameters it's trained to predict four
GPC does given hyper parameters predict
GPC does given hyper parameters predict
time the experiment takes cost and then
time the experiment takes cost and then
gpf is a bit more comp complicated
gpf is a bit more comp complicated
uh it takes it is trained to predict the
uh it takes it is trained to predict the
Optimal Performance that you can get for
Optimal Performance that you can get for
any specific cost so it takes in cost
any specific cost so it takes in cost
and then it predicts the Optimal
and then it predicts the Optimal
Performance uh according to that cost
Performance uh according to that cost
and it's informed by the Paro optimal
and it's informed by the Paro optimal
run so far details of that not super
important so this is the basic formula
important so this is the basic formula
the base version of the formula that
the base version of the formula that
they use for this algorithm it's got two
they use for this algorithm it's got two
terms in it uh the first term says how
terms in it uh the first term says how
much better does your gaussian process
much better does your gaussian process
think that these hyperparameters are
think that these hyperparameters are
going to do than the other gaussian
going to do than the other gaussian
process uh that thinks the uh that
process uh that thinks the uh that
thinks it knows what the optimal uh
thinks it knows what the optimal uh
parameters for a specific cost are so
parameters for a specific cost are so
how much better does this Gan process
how much better does this Gan process
think that you're going to do than the
think that you're going to do than the
other gussian process things you can
other gussian process things you can
do that's the first term this is a
do that's the first term this is a
reasonable term I have some quals with
reasonable term I have some quals with
it but I've left this one mostly alone
it but I've left this one mostly alone
the second term I don't like it all what
the second term I don't like it all what
this is is this basically says don't
this is is this basically says don't
select parameters uh that are too far
select parameters uh that are too far
away from your existing
away from your existing
experiments I don't like this term
experiments I don't like this term
because there's no reason to do this
because there's no reason to do this
right you don't actually care how far
right you don't actually care how far
away the parameters are you only care
away the parameters are you only care
whether the parameters are actually
whether the parameters are actually
something that you have a good estimate
something that you have a good estimate
of the outcome of that experiment for so
of the outcome of that experiment for so
you could have a set of parameters
you could have a set of parameters
that's very far away from what you're
that's very far away from what you're
currently doing uh but you could have a
currently doing uh but you could have a
very confident model that you know what
very confident model that you know what
that experiment is going to do so I
that experiment is going to do so I
replace this term with an absolute
replace this term with an absolute
estimate of performance which is
estimate of performance which is
basically I just took
basically I just took
gpy which says what is going to be the
gpy which says what is going to be the
performance of a candidate and then I
performance of a candidate and then I
subtracted the variance of this
subtracted the variance of this
prediction so what that gives you is a
prediction so what that gives you is a
conservative estimate of
conservative estimate of
performance meaning because you're
performance meaning because you're
subtracting the variance that you're
subtracting the variance that you're
going to try to push towards higher uh
going to try to push towards higher uh
quality Solutions even if they cost more
quality Solutions even if they cost more
but only if you're confident uh in the
but only if you're confident uh in the
you're only if you're confident that
you're only if you're confident that
you're predicting the outcome of those
you're predicting the outcome of those
experiments
experiments
correctly that's what that
means and that actually replaces a bunch
means and that actually replaces a bunch
of this other complicated stuff here
of this other complicated stuff here
because what I just said does it
because what I just said does it
better I have a few other modifications
better I have a few other modifications
as well this is currently the biggest
as well this is currently the biggest
one and this makes it do much much
one and this makes it do much much
better um now let me kind of pitch you
better um now let me kind of pitch you
the thing that I want to figure out how
the thing that I want to figure out how
to frame as a mathematical optimization
to frame as a mathematical optimization
problem and I'm really not that great
problem and I'm really not that great
I'm not a great mathematician I'm really
I'm not a great mathematician I'm really
a much stronger engineer uh than I am a
a much stronger engineer uh than I am a
mathematician I'm a good scientist
mathematician I'm a good scientist
really good engineer pretty mediocre
really good engineer pretty mediocre
mathematician
uh what I would like to do is I'd like
uh what I would like to do is I'd like
to figure out a way to frame the whole
to figure out a way to frame the whole
sweep the whole hyperparameter sweep as
sweep the whole hyperparameter sweep as
an optimization process so essentially
an optimization process so essentially
you have your budget that you have for
you have your budget that you have for
the sweep is time you're allocating time
the sweep is time you're allocating time
to each
to each
experiment and your goal should probably
experiment and your goal should probably
be something like to fill the parito
be something like to fill the parito
front with points or something like that
front with points or something like that
so like
so like
if we
if we
have let's just look at a Neptune
have let's just look at a Neptune
experim
experiment so this is a Pito front right
experiment so this is a Pito front right
this is not a particularly interesting
this is not a particularly interesting
Pito front let's try this one is this an
Pito front let's try this one is this an
interesting Pito
front still not an interesting one some
front still not an interesting one some
mems have more predi than
mems have more predi than
others let me see if I can find one that
others let me see if I can find one that
will make a good example for
you all right here's a good example
you all right here's a good example
so this is the Paro front if you draw
so this is the Paro front if you draw
this line
this line
here this is the Paro front so the goal
here this is the Paro front so the goal
of your hyper parameter sweep should
of your hyper parameter sweep should
essentially be to fill in this
essentially be to fill in this
line with uh points so you have an
line with uh points so you have an
accurate estimate of the whole Paro
front now you could just say that you
front now you could just say that you
just want a model of the predo
just want a model of the predo
front um but I think that really you
front um but I think that really you
don't don't know how good of a the model
don't don't know how good of a the model
is at each point without having the
is at each point without having the
individual
individual
points maybe that's wrong we'll
see maybe you do just want to optimize
see maybe you do just want to optimize
the model but whether it's the model or
the model but whether it's the model or
the samples regardless what you want to
the samples regardless what you want to
do is you want to draw in this
do is you want to draw in this
line you want a good estimate of the
line you want a good estimate of the
Pito
Pito
front um I want to frame that
front um I want to frame that
somehow as the goal of the whole
sweep you'll often have c c
programs you don't have to do
that that's just cuz C has a single pass
that that's just cuz C has a single pass
compiler so uh anything that's defined
compiler so uh anything that's defined
below like you can't use a function
below like you can't use a function
that's defined below your current
that's defined below your current
function but like the usual trick to
function but like the usual trick to
this is to just Define functions in the
this is to just Define functions in the
order that you use
order that you use
them that's worked for all the M's and
them that's worked for all the M's and
I've not had a problem with
it if this doesn't work you're probably
it if this doesn't work you're probably
writing very convoluted logic
you know I would really like to
visualize I'd really like to visualize
visualize I'd really like to visualize
the Paro
front it's not no it's not bad practice
and actually uh I typically what I do is
and actually uh I typically what I do is
I keep my C file very small and I kind
I keep my C file very small and I kind
of just stick everything into theh
file it's a header only that's what you
file it's a header only that's what you
call a header only library or utility
cuz the uh the Python program doesn't
cuz the uh the Python program doesn't
use the C file at all it only includes
use the C file at all it only includes
theh
file and think about how to do
this yeah you can that's actually one of
this yeah you can that's actually one of
of the nice things about Neptune is it's
of the nice things about Neptune is it's
very easy to
very easy to
download but that's not the current
question you can download it actually as
question you can download it actually as
a pandas data frame or a SQL table it's
a pandas data frame or a SQL table it's
very
nice your optimization could try to
nice your optimization could try to
minimize the distance between
minimize the distance between
point in the upper convex Hull
point in the upper convex Hull
of the point Cloud let me think if that
of the point Cloud let me think if that
makes
sense well I think by upper convex Hull
sense well I think by upper convex Hull
you just mean the parito front which
you just mean the parito front which
doesn't necessarily have to be
convex it probably should be but it's
convex it probably should be but it's
not guaranteed to
not guaranteed to
be I guess it kind of depends
minimize the distance so I had thought
minimize the distance so I had thought
of something kind of like that but I was
of something kind of like that but I was
trying to figure out how to do
trying to figure out how to do
that and also okay so you're more mathy
that and also okay so you're more mathy
so here's the question right you kind of
so here's the question right you kind of
have this model already that tells
have this model already that tells
you this draws the Pito line right like
you this draws the Pito line right like
you can just query this function and it
you can just query this function and it
will draw you the parito line as it
will draw you the parito line as it
estimates it
estimates it
currently um you could probably compute
currently um you could probably compute
some sort of error or some sort of fit
some sort of error or some sort of fit
metric between that line and your
metric between that line and your
current samples as
well though you know it well yeah you
well though you know it well yeah you
could do
could do
that
that
um and then you also have this one
um and then you also have this one
gpy where if you just generate some
gpy where if you just generate some
sample hyper parameters you can fill in
sample hyper parameters you can fill in
this parito front you can like just
this parito front you can like just
generate all the points uh and where you
generate all the points uh and where you
think that they will score to fill this
think that they will score to fill this
out but the question is do you want to
out but the question is do you want to
rely on the Learned model or do you want
rely on the Learned model or do you want
to actually run the experiments
right there are pros and cons to both of
right there are pros and cons to both of
these things so if you just learn the
these things so if you just learn the
model you can potentially run fewer
model you can potentially run fewer
experiments and then just read off the
experiments and then just read off the
good hyper parameters if your model is
accurate um on the other hand you know
accurate um on the other hand you know
it is possibly likely that your model
it is possibly likely that your model
will learn
will learn
faster from filling out the predo front
faster from filling out the predo front
and getting those actual samples for
and getting those actual samples for
training
data dude where do I download is API
okay where is
okay where is
this correlate dopy in ablations file as
this correlate dopy in ablations file as
AP signature use this
AP signature use this
file um I'm trying to do some math here
file um I'm trying to do some math here
though right now man kill him on
though right now man kill him on
Mojo
um let's let me go with what you said
um let's let me go with what you said
for now minimize the distance between
for now minimize the distance between
points in the upper convex Hull
how the heck would you even do that
right because each of those points is an
right because each of those points is an
experiment You can predict the outcome
experiment You can predict the outcome
of an experiment with a given
of an experiment with a given
uncertainty
how do you formulate this as a problem
how do you formulate this as a problem
where you can like solve an optimization
where you can like solve an optimization
problem and read out the point that you
problem and read out the point that you
should sample
also they only train
also they only train
discriminative Gan processes they don't
discriminative Gan processes they don't
train generative any sort of generative
train generative any sort of generative
process so you're restricted to sample
process so you're restricted to sample
based things where you just like you
based things where you just like you
generate a bunch of points
and then you use the GP to score
and then you use the GP to score
them do you know the front is a function
them do you know the front is a function
of the hyper parameters or could you
of the hyper parameters or could you
learn it yes you do learn the front as
learn it yes you do learn the front as
you're running the experiments you don't
you're running the experiments you don't
know it
know it
initially create the front after
initially create the front after
learning
learning
it and all the training
it and all the training
runs well the thing is that you you have
runs well the thing is that you you have
to learn it from like the data that
to learn it from like the data that
you're learning it from each point is an
you're learning it from each point is an
experiment so you're kind of learning it
experiment so you're kind of learning it
online right the idea here is
online right the idea here is
that so the idea here right each of
that so the idea here right each of
these points is an
these points is an
experiment um each experiment has a
experiment um each experiment has a
certain cost associated with it so if we
certain cost associated with it so if we
look at the Paro front
look at the Paro front
here right this is the time in seconds
here right this is the time in seconds
that the experiment took and this is the
that the experiment took and this is the
score that the experiment gets so
score that the experiment gets so
intuitively what you want the model to
intuitively what you want the model to
do is run a bunch of fast experiments in
do is run a bunch of fast experiments in
order to figure
order to figure
out how the predo front is going to look
out how the predo front is going to look
and then very quickly start running you
and then very quickly start running you
know a few experiments over here and as
know a few experiments over here and as
it gains confidence to fill out the more
it gains confidence to fill out the more
expensive areas of the
expensive areas of the
front average distance between points in
front average distance between points in
the
the
front you get a distance as a function
front you get a distance as a function
of parameters
a that gives you
midpoint doesn't
midpoint doesn't
it wait does that
work average distance between points in
work average distance between points in
the
front so you want to maximize that
front so you want to maximize that
distance
does that give you what you would
does that give you what you would
intuitively
expect I think you're right I think it
does e
but okay so that's like that assumes you
but okay so that's like that assumes you
have an existing parito front
have an existing parito front
right and existing models that are
right and existing models that are
correct which you don't
correct which you don't
have so that just captures the idea of
have so that just captures the idea of
filling in all that so what that does is
filling in all that so what that does is
that captures the idea of like you have
that captures the idea of like you have
some points on a line what's the best
some points on a line what's the best
way to fill in uh to fill in the empty
way to fill in uh to fill in the empty
spaces on the line
we're missing the overarching CU like I
we're missing the overarching CU like I
don't like how right now this is kind of
don't like how right now this is kind of
just a bunch of terms that are thrown at
just a bunch of terms that are thrown at
each
each
other and they don't really capture the
other and they don't really capture the
optimization that we care about well cuz
optimization that we care about well cuz
basically like this is a model of what
basically like this is a model of what
we care about in parito optimization
here getting the front but not for doing
here getting the front but not for doing
it fat well the thing is you can't just
it fat well the thing is you can't just
get the front because you need to like
get the front because you need to like
you need a model of you need a good
you need a model of you need a good
model of the score that you're going to
model of the score that you're going to
get for a specific set of hyper
get for a specific set of hyper
parameters right in order to fill in
parameters right in order to fill in
that
that
front and of the cost of the experiment
front and of the cost of the experiment
for that
for that
matter so it's like you need the models
matter so it's like you need the models
in order to be able to do that in the
in order to be able to do that in the
first
place
e e
are you trying to maximize the integral
are you trying to maximize the integral
of the Paro
front but I don't know how the hell you
front but I don't know how the hell you
do that
this is this is one of these occasions
this is this is one of these occasions
where um the math background would be
helpful I guess you kind of do want to
helpful I guess you kind of do want to
optimize but the thing is ypf has to
optimize but the thing is ypf has to
also be a good
model you could you know what you could
model you could you know what you could
do that I think captures both of these
do that I think captures both of these
things
things
what if you okay this is close to the
what if you okay this is close to the
integral idea but what if you
integral idea but what if you
maximize the area under the
curve so let's say that you have a
curve so let's say that you have a
parito front that looks like this this
parito front that looks like this this
is the ground proof
you get some
you get some
samples then what you do is you compute
samples then what you do is you compute
your
integral like
this you approximate your interval
this you approximate your interval
integral like this
don't you just W
don't you just W
to what do you
mean the
focus what does that mean in this
focus what does that mean in this
context
sometimes I wonder if this is a if you
sometimes I wonder if this is a if you
have a basic math term that I somehow do
have a basic math term that I somehow do
not know or if you have some art like
not know or if you have some art like
some random term that nobody
uses so I have to handle the boundaries
uses so I have to handle the boundaries
on this thing
trying many experiments but limiting
time that's a separate
optimization does not converge so that's
optimization does not converge so that's
an early stopping that's an optimization
an early stopping that's an optimization
that's orthogonal to this you can have
that's orthogonal to this you can have
early a stopping but that doesn't give
early a stopping but that doesn't give
you parito
optimal if you ENC you're only going to
optimal if you ENC you're only going to
encounter you're not going to encounter
encounter you're not going to encounter
them again
them again
if you're sampling in a continuous space
if you're sampling in a continuous space
unless you explicitly try to repeat the
unless you explicitly try to repeat the
experiment in which case you would want
experiment in which case you would want
to rerun it because you are checking for
to rerun it because you are checking for
seed
variance oh yeah sure but like what does
variance oh yeah sure but like what does
that have to do with this this isn't a
parabola this doesn't have to be a
parabola this doesn't have to be a
parabol like this is not a parabola
parabol like this is not a parabola
that's a bad assumption
that's a bad assumption
because look you can have a you can have
because look you can have a you can have
a Paro front that looks like
this
right this doesn't have to have any
right this doesn't have to have any
Define shape
n+ one point yeah it's an online
n+ one point yeah it's an online
optimization process so let me tell you
optimization process so let me tell you
what you have access to
what you have access to
right you have access to these gaussian
right you have access to these gaussian
processes you cannot assume that they're
processes you cannot assume that they're
good right but they do tell you the
good right but they do tell you the
variance of their estimates so like when
variance of their estimates so like when
this thing makes an estimate it will
this thing makes an estimate it will
give you the mean and the variance of
give you the mean and the variance of
its
its
prediction so like one thing I'm doing
prediction so like one thing I'm doing
at the moment is subtracting the
at the moment is subtracting the
variance from the prediction in one case
variance from the prediction in one case
in order to make a conservative
estimate
90 I don't know exactly the shape of the
90 I don't know exactly the shape of the
Paro front is going to be intrinsic to
Paro front is going to be intrinsic to
the problem and the architecture um
the problem and the architecture um
it's your job to discover
it's your job to discover
it okay so here's one thing I like about
it okay so here's one thing I like about
trying to do something like this if you
trying to do something like this if you
have a flat
have a flat
shape this thing doesn't have to
shape this thing doesn't have to
populate all of these points right you
populate all of these points right you
don't have to do
don't have to do
this because if your model is confident
this because if your model is confident
that hey all these points are going to
that hey all these points are going to
be the same it doesn't have to really
be the same it doesn't have to really
estimate you know it doesn't have to do
estimate you know it doesn't have to do
any of them we might want some variance
any of them we might want some variance
reduction term where maybe it runs one
reduction term where maybe it runs one
of these experiments just to double
of these experiments just to double
check you know and make sure that uh its
check you know and make sure that uh its
model is good but it doesn't have to
model is good but it doesn't have to
fill in a whole line if it's
confident on the other hand uh it does
confident on the other hand uh it does
have to fill in shapes where there's a
have to fill in shapes where there's a
lot of you know where there's a
lot of you know where there's a
curvature to be defined it does have to
curvature to be defined it does have to
fill those in because that actually like
fill those in because that actually like
look at all this area that it's
missing e
and actually I think that maybe we fix
and actually I think that maybe we fix
the bounds
the bounds
problem if we draw this this way hold
problem if we draw this this way hold
on if we draw it this way
yeah I think we eliminate the
this is the thing we want to
this is the thing we want to
optimize well this kind of just
optimize well this kind of just
incentivizes it to keep running longer
incentivizes it to keep running longer
experiments for no damn
reason you're looking for the point when
reason you're looking for the point when
the change of
the change of
slope no what you're looking to do is
slope no what you're looking to do is
you're looking to make sure that you
you're looking to make sure that you
have a good estimate of this line you
have a good estimate of this line you
want to know the shape of the line shape
want to know the shape of the line shape
doesn't mean slope shape doesn't mean
doesn't mean slope shape doesn't mean
fit like a
fit like a
specific um like this does not mean fit
specific um like this does not mean fit
a parabola this means fit like this is
a parabola this means fit like this is
going to be a model a neuron net
going to be a model a neuron net
whatever in this case a gaussian process
whatever in this case a gaussian process
that tells you this shape it can have a
that tells you this shape it can have a
weird shape as well it's allowed to have
weird shape as well it's allowed to have
a weird
shape the common ones we're kind of flat
shape the common ones we're kind of flat
and then something like this
well I can't
be well it's not going to be smooth
be well it's not going to be smooth
because it's defined by a set of Point
because it's defined by a set of Point
estimates you get the P first point of
estimates you get the P first point of
the
the
front the quick simulations then use the
front the quick simulations then use the
gradient of the front to try to land on
gradient of the front to try to land on
the next next
the next next
point you okay you do something like
point you okay you do something like
that with the new model then you allow
that with the new model then you allow
slightly faster
slightly faster
experiments slower I assume you mean and
experiments slower I assume you mean and
keep going until you get the whole
keep going until you get the whole
front yeah so that's the idea but the
front yeah so that's the idea but the
thing is you have to capture that
thing is you have to capture that
mathematically and the previous version
mathematically and the previous version
of carbs attempts to do that and does it
of carbs attempts to do that and does it
poorly and they still have a pretty good
poorly and they still have a pretty good
algorithm and then I made a little I
algorithm and then I made a little I
made a few tweaks and now I captured a
made a few tweaks and now I captured a
little better and I have a much better
little better and I have a much better
algorithm so if we can really get it
algorithm so if we can really get it
right I think we're going to have a
right I think we're going to have a
really good
algorithm we do that
already see but that's not enough cuz
already see but that's not enough cuz
there are two problem s right one is
there are two problem s right one is
allocating the
allocating the
budget right allocating the time budget
budget right allocating the time budget
uh to the experiment and then the other
uh to the experiment and then the other
is actually figuring out the thing that
is actually figuring out the thing that
you're trying to to optimize
you're trying to to optimize
here I think I almost have it with
this well they have a nice function here
maybe this is the right thing here
maybe this is the right thing here
because what this is
because what this is
is you're trying to make it so you can't
is you're trying to make it so you can't
improve at any point on the front
okay so this is the function based
okay so this is the function based
approach where you're not actually
approach where you're not actually
required to fill in the
required to fill in the
front is the slightly annoying
thing so I think that what we'll do is
thing so I think that what we'll do is
let's let's say that we go with the
let's let's say that we go with the
function based version because I think
function based version because I think
it'll be easier mathematically and then
it'll be easier mathematically and then
we'll go to the s and it'll be quicker
we'll go to the s and it'll be quicker
and then we'll go to the sample based
and then we'll go to the sample based
one if we notice that these uh these
one if we notice that these uh these
optimality fronts the function just
optimality fronts the function just
doesn't fit very
doesn't fit very
well no it doesn't have to look it can
well no it doesn't have to look it can
be a straight line it can be basically
be a straight line it can be basically
this right it can be like
this right it can be like
flat I mean your pre- can be just flat
flat I mean your pre- can be just flat
basically it can be a bunch of
basically it can be a bunch of
things it' probably be exponential for
things it' probably be exponential for
all I know if you construct your
all I know if you construct your
environment just right
h
this is what you're trying to
optimize is
it well this is what you're trying to
it well this is what you're trying to
minimize in a sense
use something similar to the variable
use something similar to the variable
time under cuta
methods front
methods front
interpolation how much bigger you can
interpolation how much bigger you can
allocate and U is
answering oh uh let me see
hang
on I don't know what none of these
on I don't know what none of these
change slope deck or
ink change of slope goes to one I don't
ink change of slope goes to one I don't
know what that
means you're looking for the whole
means you're looking for the whole
function front interpolation will tell
function front interpolation will tell
you how much bigger it's not the front
you how much bigger it's not the front
interpolation that tells you
interpolation that tells you
well it could be it
depends like there are two distinct ways
depends like there are two distinct ways
of going about it right one is that you
of going about it right one is that you
either convex hall or integral or some
either convex hall or integral or some
approximation right you have to look at
approximation right you have to look at
the the area defined by the samples that
the the area defined by the samples that
you've collected the predo
you've collected the predo
samples the other one is that you just
samples the other one is that you just
have a function right that's generated
have a function right that's generated
by like a g processor
whatever and you're optimizing based on
whatever and you're optimizing based on
that so they have the function based
that so they have the function based
approach here where they're looking at
approach here where they're looking at
this is the estimate of the performance
this is the estimate of the performance
of this set of
of this set of
hypers and this is the estimate of the
hypers and this is the estimate of the
Optimal Performance of this set of
Optimal Performance of this set of
hypers
oh I kind of see I kind of
see this is the acquisition function
okay so this actually gives you
okay so this actually gives you
something
right this is the Improvement in
right this is the Improvement in
score it really seems like you should
score it really seems like you should
just be able to divide this function by
just be able to divide this function by
cost and be done
square root log expens changes either
square root log expens changes either
always decreasing or always
increasing not
increasing not
necessarily I mean I guess technically
necessarily I mean I guess technically
it should always be increasing but this
it should always be increasing but this
based on the samples you're not always
based on the samples you're not always
going to see that
the function should always be increasing
the function should always be increasing
the slope I guess
the slope I guess
decreasing front is a
decreasing front is a
score function of
score function of
runtime if you know more or less where
runtime if you know more or less where
you will land you need you know more or
you will land you need you know more or
less how much time you
need so there are two different models
need so there are two different models
right you only know for sure you only
right you only know for sure you only
know it once you run the experiment see
know it once you run the experiment see
how long it takes and how well it scce
how long it takes and how well it scce
these two are estimates of those
these two are estimates of those
quantities so you get estimates of these
quantities so you get estimates of these
qualities
qualities
quantities no not based on yeah uh
quantities no not based on yeah uh
technically that should be
technically that should be
true
yes spending more time should always
yes spending more time should always
give you
give you
more either the same or score same score
more either the same or score same score
so it should
so it should
be either flat or
increasing it could be convex or concave
increasing it could be convex or concave
though that's not guaranteed
why can't you just divide this by the
why can't you just divide this by the
score and have the god algorithm I mean
score and have the god algorithm I mean
by the cost
9 uh okay I got to go to bed in 1520
9 uh okay I got to go to bed in 1520
minutes
um clearly you should div by the score
um clearly you should div by the score
right divide wait divide mean divide by
right divide wait divide mean divide by
the cost does it divide by the
cost yeah it's units of improvement per
cost if these functions are
cost if these functions are
perfect I think you
can well hang on if these functions are
can well hang on if these functions are
perfect
then you can't do
then you can't do
anything because it's zero
anything because it's zero
everywhere this is so janky because it
everywhere this is so janky because it
relies on these functions being
imperfect need to go very cool stream
imperfect need to go very cool stream
we'll be back first time here thank you
we'll be back first time here thank you
it's usually mostly building stuff but
it's usually mostly building stuff but
occasionally we pull out a little bit of
occasionally we pull out a little bit of
math
math
All Fun open source RL stuff so thanks
All Fun open source RL stuff so thanks
for dropping
by that's fun I should have the stream
by that's fun I should have the stream
on more
on more
often you really get a lot of cool user
often you really get a lot of cool user
engagement and people dropping by and
engagement and people dropping by and
stuff
um no it's not about balancing them
um no it's not about balancing them
right CU there's not one best point
right CU there's not one best point
that's the whole concept of Pito
that's the whole concept of Pito
optimality all the points on the Pito
optimality all the points on the Pito
front are technically best
points technically yes in some cases
points technically yes in some cases
there will be a clear
there will be a clear
elbow right there will be like a clear
elbow right there will be like a clear
the function can look like this right
the function can look like this right
where you want this point right here or
where you want this point right here or
this point right here maybe but
this point right here maybe but
sometimes it's going to look like like
sometimes it's going to look like like
this and then it's just like well just
this and then it's just like well just
pick however much compute you have and
pick however much compute you have and
that's what the point you're going to
get let me really try to understand this
you're training a scoring
you're training a scoring
function you're training this parito
function it's both start off knowing
function it's both start off knowing
nothing well that's not true you SE it
nothing well that's not true you SE it
with some random points so they start
with some random points so they start
off with very noisy
estimates e
so when you end up with very noisy
so when you end up with very noisy
estimates and you give it a ton of
estimates and you give it a ton of
samples and you then take a Max over
samples and you then take a Max over
this
well that is going to
well that is going to
produce samples that reduce noise
the thing I don't like about this
the thing I don't like about this
right is that if this function is
high if your estimate is
high if your estimate is
high then you're screwed right I don't
high then you're screwed right I don't
like this
like this
formulation I think I know why
yeah so let's say that this is
your this is your GP uh this is your
your this is your GP uh this is your
what is it g p
what is it g p
PF so this is your estimate of the Paro
front Okay and then your estimate
this estimate is going to give
you
oops and then this is your
oops and then this is your
GP
y you're if you do
y you're if you do
this then it's gpy minus pero
front oh hold on it's the other way
front oh hold on it's the other way
around
gpy minus Paro
front so like this
I'm
I'm
specific what do you
mean it's a hyperparameter tuning
mean it's a hyperparameter tuning
algorithm
you want to do one sweep
uh it's for the specific training task
uh it's for the specific training task
that you're looking
at it's One Sweep for each experiment
at it's One Sweep for each experiment
that you're running so if you're change
that you're running so if you're change
an environment variable you have to
an environment variable you have to
rerun a sweep but we're probably going
rerun a sweep but we're probably going
to be able to warm start them so that
to be able to warm start them so that
you'll have a decent model to begin with
so we have Max gpy minus
so we have Max gpy minus
gpf so if you have this you just don't
gpf so if you have this you just don't
learn you just sample right
learn you just sample right
here until the predo front goes up to
here until the predo front goes up to
this and then you don't
learn why is this re
learn why is this re
here oh this re here is technically to
here oh this re here is technically to
prevent
prevent
that because when you subtract it gets
that because when you subtract it gets
to
zero I think it should be ABS
zero I think it should be ABS
though shouldn't it be absolute value
though shouldn't it be absolute value
not
not
reu cuz this is saying prioritize
reu cuz this is saying prioritize
improving the parito
improving the parito
front but like one of your two models is
front but like one of your two models is
wrong if you get
this so if you fix ABS then ABS will be
this so if you fix ABS then ABS will be
it'll take the biggest
it'll take the biggest
magnitude this is the sample that you
magnitude this is the sample that you
want
right divide by the cost
you're trying to bring these two
you're trying to bring these two
functions together
because you're
because you're
[Music]
[Music]
sampling you will naturally get the
sampling you will naturally get the
variance as well of
variance as well of
these so
these so
like you know this orange function here
like you know this orange function here
is really going to be something like
is really going to be something like
this
if you draw like the
uncertainty so then what will actually
uncertainty so then what will actually
happen is you're going to get this point
happen is you're going to get this point
down here
do we want this point down
do we want this point down
here this really biases you towards
here this really biases you towards
regions that are heavily uncertain
oh wait you don't want this
oh wait you don't want this
experiment cuz this okay I see because
experiment cuz this okay I see because
this experiment sucks
but your parito could also be
wrong going to take some thought I
wrong going to take some thought I
really would like to just have a few
really would like to just have a few
days to just think about
this I have to carve the time out at
this I have to carve the time out at
some point because it's important
some point because it's important
technically tomorrow is Saturday I could
technically tomorrow is Saturday I could
do
that or on Sunday one of the two I'll
that or on Sunday one of the two I'll
wake up and see how I feel in the
morning it's definitely a worthwhile
Endeavor yeah so I forgot that this
Endeavor yeah so I forgot that this
point yeah this point sucks so we we
point yeah this point sucks so we we
can't do
can't do
that that's a really dumb
mistake um yeah so I'm falling asleep
here it's not always a perfect you don't
here it's not always a perfect you don't
know the shape of the parito front up
know the shape of the parito front up
front all right sometimes you get a
front all right sometimes you get a
parito front that looks like this we
parito front that looks like this we
just go great I guess we just throw more
just go great I guess we just throw more
compute at this problem and we just
compute at this problem and we just
solve it that way
solve it that way
right sometimes you get problems that
right sometimes you get problems that
look
like like
like like
this where it's like finicky and
this where it's like finicky and
probably these are like just lucky
probably these are like just lucky
points but like you don't really get a
points but like you don't really get a
ton by throwing more compute this isn't
ton by throwing more compute this isn't
even a great example because these
even a great example because these
points are pretty good um let me see
like sometimes it's this shape where
like sometimes it's this shape where
it's like a
it's like a
pretty you know it's there are lots of
pretty you know it's there are lots of
different shapes this thing can
different shapes this thing can
take how's this one going by the
take how's this one going by the
way oh look at
way oh look at
that we're starting to get some
scores see how this parites
uh I'm going to go to bed but for folks
uh I'm going to go to bed but for folks
watching I might be working on this
watching I might be working on this
tomorrow we will
tomorrow we will
see I should probably rest a little bit
see I should probably rest a little bit
this weekend though because next week is
this weekend though because next week is
going to be
going to be
crazy I do want to get some stuff done
crazy I do want to get some stuff done
here
here
though I don't know the carb stuff would
though I don't know the carb stuff would
be kind of
be kind of
cool um for folks
cool um for folks
watching all my stuff's free in open
watching all my stuff's free in open
source on GitHub please start the repo
source on GitHub please start the repo
it really helps me out it's free just do
it really helps me out it's free just do
it uh if you're interested in getting
it uh if you're interested in getting
involved with all this open source RL
involved with all this open source RL
science side engineering side whatever
science side engineering side whatever
join the Discord we got a whole bunch of
join the Discord we got a whole bunch of
people in here building stuff doesn't
people in here building stuff doesn't
matter if you're new to RL doesn't
matter if you're new to RL doesn't
matter if you're an expert just need a
matter if you're an expert just need a
decent programming background for the
decent programming background for the
engineering side is all and uh if you're
engineering side is all and uh if you're
looking to get into stuff if you want
looking to get into stuff if you want
more a mix of like Cutting Edge and
more a mix of like Cutting Edge and
tutorialz stuff we got a Blog here
tutorialz stuff we got a Blog here
this quick start guide and more if you
this quick start guide and more if you
want even more
want even more
content and check my X account where we
content and check my X account where we
have lots of RL articles and the
have lots of RL articles and the
occasional funny
occasional funny
thing that's about all so thanks folks
thing that's about all so thanks folks
and I will see you around
