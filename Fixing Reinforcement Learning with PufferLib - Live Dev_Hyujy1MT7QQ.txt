Kind: captions
Language: en
cool um carbs hyper pram sweep
cool um carbs hyper pram sweep
stuff make sure I missed anything real
quick up for
Discord the
heck I are you [ __ ]
heck I are you [ __ ]
me the
me the
[ __ ]
[ __ ]
no that a
no that a
ridiculous
any whatever
the [ __ ] I I don't know what the hell's
the [ __ ] I I don't know what the hell's
going on in this Discord I don't
care
care
um let's see
so right
so right
we got to figure out a couple things
we got to figure out a couple things
with these Transformations
um when the mean is when you're just
um when the mean is when you're just
sampling around the mean it makes a lot
sampling around the mean it makes a lot
of sense it's really not that
hard so I think for that case I know how
hard so I think for that case I know how
to do
it you basically you map into to log or
it you basically you map into to log or
linear space whatever and then you
linear space whatever and then you
rescale so it's- 1 to one then new
rescale so it's- 1 to one then new
sample we'd say a uh 0.3 standard
sample we'd say a uh 0.3 standard
deviation that will nicely cover the
deviation that will nicely cover the
whole space and then you transform back
whole space and then you transform back
into the original
space alternativ you can set a custom
space alternativ you can set a custom
scale per
parameter what happens when it's like
I have a sweep that I want to start at
I have a sweep that I want to start at
100 million
100 million
steps that I want to potentially get up
steps that I want to potentially get up
to 10 billion
steps does it just
work you get ne1
so it kind of
works the scale parameter is a little
screwy let me think about the scale
screwy let me think about the scale
prame so
if you have like one standard deviation
if you have like one standard deviation
on each
side the scale frame actually kind of
side the scale frame actually kind of
does just work doesn't
it so
like let's say
with let's say with this entropy
with let's say with this entropy
coefficient this is from
coefficient this is from
0.05 to
0.005 when we rescale this it's going to
0.005 when we rescale this it's going to
be from netive 1 to one and the center
be from netive 1 to one and the center
is at
is at
zero so with a scale of 0. five
that actually perfectly corresponds to
that actually perfectly corresponds to
what you would
want so I think that we are going to
want so I think that we are going to
keep the scale
par the scale pram is pretty much always
par the scale pram is pretty much always
going to
going to
be from 0 to
be from 0 to
one 2 to one something like that
in log space it'll correspond nicely to
in log space it'll correspond nicely to
orders of
magnitude okay I kind of like this
so let's add some stuff to this
and now the
scale right so 128 256
524 just I think we'll do 256 is
524 just I think we'll do 256 is
min for
min for
now so this is a standard
distribution scale is going to be
05 and Max me
scale one E8
28 I something like this
I'll make a little tool as well to plot
I'll make a little tool as well to plot
these so you can see your distributions
now batch size
we'll do
mean I'll uh I'll make a tool to like
mean I'll uh I'll make a tool to like
show all the distributions I think
show all the distributions I think
that'll be the
best for
seven
I'm try this
so this is it for this uh
so this is it for this uh
men 16
so this is
so this is
good just right this is
good e
okay
okay
um now we're going to load these prams
in I'm tempted to make my own like
in I'm tempted to make my own like
Puffer s thing
here I'm very tempted to make my own
here I'm very tempted to make my own
sweep thing
here but then I have to pass it to
pass the
pass the
carbs I guess what I'll do is I'll do it
carbs I guess what I'll do is I'll do it
in carbs first and then we'll make our
in carbs first and then we'll make our
own
thing just
hydrated it
hydrated it
7 in a couple hours
maybe we just get this done today that'd
maybe we just get this done today that'd
be
awesome okay so what we're going to do
awesome okay so what we're going to do
is offer carbs
is offer carbs
okay we're going to do
okay we're going to do
Min and then
scale I think we will use the scale
scale I think we will use the scale
pram but we're going to change the way
pram but we're going to change the way
that they
that they
use the scale foram let me just make
sure okay good they don't use it in
sure okay good they don't use it in
there they only use it in
utils let's just do it like this
right yeah
we'll just put this up
here and we can just do
quars for
so that's way
easier
easier
and now we have min max scale and Sear
and now we have min max scale and Sear
Center
okay min max
scale search center so you don't
scale search center so you don't
actually get search center
actually get search center
in the pamc space which I don't
like I think Pam space should have
should have a
should have a
mean or should have search
center so I think I'm going to add
this okay
okay so now we have all this stuff
so much garbage in
here linear
space okay
so value minus Min over this so this is
so value minus Min over this so this is
0 to 1 * 2 - 1
0 to 1 * 2 - 1
perfect then param from basic
perfect then param from basic
do
this and then you can
this and then you can
round it's
fine and power two
space now we have mean to work
space now we have mean to work
with so we don't need this
okay
so this
so this
is this is 0 to one scaled right
just minus
just minus
one
okay uh and again we're going to
okay uh and again we're going to
do I'm going to use jity for this
do I'm going to use jity for this
because I'm half
because I'm half
asleep I will check it but I'm not
asleep I will check it but I'm not
thinking through this at this
hour uh where is
hour uh where is
it log space
right
here
oops how is this different from
uh hold on how is this
different oh I haven't done log space
different oh I haven't done log space
yet
we'll leave him like this for now but
we'll leave him like this for now but
this can get simplified a
lot it's going to take a little time
yeah so this is just
yeah so this is just
uh basically the same thing
uh basically the same thing
thing I just had to just had to adjust
thing I just had to just had to adjust
the
the
two yeah but whatever
okay I'm going to remove all these round
okay I'm going to remove all these round
tensor and basic
functions because it's literally just
this for all of them
this for all of them
so that's going to be
nice okay so now we have the PW two
nice okay so now we have the PW two
space
space
x no
clip so now what it would do it's almost
clip so now what it would do it's almost
the same isn't
it does the log base even matter
it does the log base even matter
does the wait does the log base even
matter it's getting scaled either way
matter it's getting scaled either way
isn't
that I think this is the exact same
that I think this is the exact same
thing but we'll leave it like this for
thing but we'll leave it like this for
now
oh you actually do have to round hold
on yeah hold on so this is actually
on yeah hold on so this is actually
correct for
uh yeah this is actually correct for
yeah maybe we will make this a little
yeah maybe we will make this a little
bit more
reasonable
for e
yeah we'll
do e
Jesus it's I don't know why this is so
Jesus it's I don't know why this is so
hard
hard
to uh for the
to uh for the
llm
llm
so make sure this is
so make sure this is
right do
right do
this Z one you multiply
by to
by to
Max to
Min and then you add the mean
this is like two to the power of
this rounded
equals it's not bad
okay next log
okay next log
space a little
space a little
simpler equals
okay e
loog baced
and then we also got to apply Clips to
and then we also got to apply Clips to
everything don't
we Ram from
basic maybe it does flip
basic maybe it does flip
whoos we'll look at it in a
whoos we'll look at it in a
bit let's do logic space
first for
okay so here here are our
spaces we're going have to test them
test carb spaces
maybe yeah we can just write a quick
maybe yeah we can just write a quick
test on this
so
tired the thing is I don't want to write
tired the thing is I don't want to write
the test because I know I want to redo
the test because I know I want to redo
it in puffer
it in puffer
anyways like I'd like to Port this to be
anyways like I'd like to Port this to be
better and in
puffer let's see what happens if I run
puffer let's see what happens if I run
this
now through the
now through the
test we're going to do a couple like ual
checks long week a lot of work huge
checks long week a lot of work huge
amount of progress
though okay so
um oh blade
[Music]
[Music]
um this is not what this line
is there's nothing
is there's nothing
there excuse me
there excuse me
oh this is why wrong freaking
terminal wait a
terminal wait a
second now this is the old functions
second now this is the old functions
[ __ ] so hold on I screwed this up I do
[ __ ] so hold on I screwed this up I do
need to test this on the
box but I have to commit this stuff up
going have to emerge some stuff cuz I
going have to emerge some stuff cuz I
screwed
up
e e
let to merge
very
nice log in space
me okay
so here we
are origin samples
search distribution in basic.
Sample is this origins in
basic
categorical
sample origin
sample origin
index okay origins in basic is passed
index okay origins in basic is passed
in doesn't look to be in basic to
me basic space to param space
sample around origin and
basic
446 sample search
space Origins and basic
okay so this
okay so this
is some
Insanity s
where the hell's this come
from I set search Center
oh okay I think I get
oh okay I think I get
this so hold
on
and okay so you actually you get all
and okay so you actually you get all
these these variables here
right and these give you the
right and these give you the
means the search
means the search
centers and then you do
Pam space wheel basic space
real basic from Pam
okay very nice so
we got something
here so first one is po two
scale of
-
508 I do not like
that okay so we
do two
zero
zero
perfect what we expect
perfect what we expect
right
mean
perfect okay
that's not correct
though that gives you
zero subtract the
mean you shouldn't be subtracting the
mean you shouldn't be subtracting the
mean you should be subtracting the
mean you should be subtracting the
men
right man
now you get
zero okay
this is what we're going to do anyways
this is what we're going to do anyways
right
perfect total time
perfect total time
steps does get reconstructed but the
steps does get reconstructed but the
intermediate is
trash we can see why right
here log so
here log so
Min
Min
base
here
.33
.33
Max okay so this should not be
Max okay so this should not be
.33 um
.33 um
um this should be at
um this should be at
-1 I would
-1 I would
say oh wait no hold on the zeros are
say oh wait no hold on the zeros are
different maybe this is
correct three
six8
mean yeah so
mean yeah so
this is potentially
correct 27 yeah is
correct 27 yeah is
this 29
this 29
and Okay cool so this is actually
and Okay cool so this is actually
looking
correct batch
correct batch
size also
reasonable mini
batches
reasonable learning
rate Five
yeah that's
reasonable
entropy gamma gamma's no
entropy gamma gamma's no
good so let's go look at the logic space
good so let's go look at the logic space
I bet it's the same thing yeah right
I bet it's the same thing yeah right
there
turns must
turns must
be
be
entropy and then okay
hey YouTube
hey YouTube
folks we are currently very
folks we are currently very
sleepily uh doing some hyperparameter
sleepily uh doing some hyperparameter
space
space
transformations in order to make this
transformations in order to make this
carbs hyper pram sweep algorithm way way
carbs hyper pram sweep algorithm way way
way
better this would be rather exciting
better this would be rather exciting
work if it did not come at the end of a
work if it did not come at the end of a
very long week
this week started with me half dead in
this week started with me half dead in
the
the
hospital and ended with a me like coding
hospital and ended with a me like coding
12 to 14 hours a
day [ __ ] tons of progress though
all
right what did I mess
up math
log this looks fine to me so let's see
log this looks fine to me so let's see
what wrong
return
arrays
oh yeah there we go I'll fix it
still
still
no oh hold
no oh hold
on same
on same
thing got
thing got
it
boom lamb and Gamma are still messed
boom lamb and Gamma are still messed
up so this loged space is still wrong
up so this loged space is still wrong
let me see if I can see why
so you
so you
[Music]
[Music]
do value + one over
do value + one over
two and then you're going to do 0
[Music]
[Music]
times minus
times minus
men yeah and then you're going to add
men yeah and then you're going to add
on log Min yeah
on log Min yeah
and then you're going to
do
X is this
wrong wait this is the Reconstruction is
correct it's just the scaling is wrong
correct it's just the scaling is wrong
somehow let me
think Pam from basic from
Pam let's
see
see
oh you have to do one minus self Min one
oh you have to do one minus self Min one
minus self
right minus
there we
there we
go so now everything is
go so now everything is
scaled -1 to
scaled -1 to
one you see
that um
I'm actually going to put an assert in
I'm actually going to put an assert in
there or a breakpoint
rather
okay basic from Pam
going to do
this where's my break point oh
this negative one there you go it's one
this negative one there you go it's one
skill
perfect now we get Neptune here
T let's see about
this there's still things to improve
so let's take a look at this
here so
here so
before we had this
this plot
here let's see what this
does and we should actually be able to
does and we should actually be able to
debug this
debug this
now so the
now so the
goal is that what was what was happening
goal is that what was what was happening
before is they were transforming for
before is they were transforming for
parameters but they weren't transforming
parameters but they weren't transforming
them to like 0 1 or-1 to 1 they were
them to like 0 1 or-1 to 1 they were
transforming them into like some weird
transforming them into like some weird
arbitrary
arbitrary
space now they're from - 1 to
space now they're from - 1 to
one and when you sample with a standard
one and when you sample with a standard
deviation of
deviation of
3 which is what they use you should
3 which is what they use you should
actually get good
actually get good
coverage now we're going to introduce
coverage now we're going to introduce
variable uh variable scale soon
variable uh variable scale soon
but for the time
but for the time
being that should be pretty
decent ah it looks like we have issue
decent ah it looks like we have issue
here so I'll look at
that 133
SC e
no
breako we had it
before round tensor and basic
ah perhaps
ah perhaps
um it passes tensors
occasionally
occasionally
round maybe this is
better let's just re
like to select all
uh there's no I don't know where the
uh there's no I don't know where the
select all is on these here we'll just
select all is on these here we'll just
do this for
now cleaned out
okay let's see about this
and we'll see if we still get the
and we'll see if we still get the
warnings and we'll see if we get better
per technically if I did this out of
per technically if I did this out of
Neptune it would be much faster has to
Neptune it would be much faster has to
like reopen a connection every
like reopen a connection every
time wonder if there's a way to do like
time wonder if there's a way to do like
multiple runs without reopening it
multiple runs without reopening it
this is kind of
annoying it's faster than W to be at
least there's no reason that this should
least there's no reason that this should
take like multiple seconds though should
take like multiple seconds though should
be done in like a quarter of a
second okay
so we can start looking at these a
so we can start looking at these a
little bit
this is getting good
samples from what
samples from what
32 down to eight so it's getting some
32 down to eight so it's getting some
samples update EPO up to two it gets
samples update EPO up to two it gets
some samples
some samples
there and is
there and is
good num M I think I forgot to
good num M I think I forgot to
configure doesn't really matter though
configure doesn't really matter though
mini batches not really getting any
samples ah is total time steps going up
samples ah is total time steps going up
we'll
see ah hold
see ah hold
on doesn't Define round
on doesn't Define round
method okay
what's an easy way to
what's an easy way to
round a tensor that'll also work on the
round a tensor that'll also work on the
other stuff
what's a good way to do
that and I see this
that and I see this
Round
Here tensor doesn't Define
around let me look at what the original
around let me look at what the original
did
how' they do their
rounding they do
round oh I see is integer and is rounded
oh I see round tensor in
basic yeah
basic yeah
okay so this is torch dot
round this is why they did this that's
round this is why they did this that's
obnoxious
though for
okay we'll think about that later that's
okay we'll think about that later that's
super obnoxious for now I'm going to do
for now I'm going to do
this let's hope that that does it
see see if this is enough
I'm
I'm
tired this is going to be I think I got
tired this is going to be I think I got
maybe an hour left in me
tops seems like this is running
maybe that was
maybe that was
enough it's a stupid for Loop
enough it's a stupid for Loop
but I'm gonna end up rewriting most of
but I'm gonna end up rewriting most of
carbs once I get it like once I'm like
carbs once I get it like once I'm like
really happy with the performance of
really happy with the performance of
carbs I'll put some effort in to make
carbs I'll put some effort in to make
sure that it's nice and clean like
sure that it's nice and clean like
really easy to understand and
really easy to understand and
use ah God damn it I thought that this
use ah God damn it I thought that this
was
was
good let me see
round tensor and
basic that
sucks you know what we're going to
do I'll tell you what we're going to do
do I'll tell you what we're going to do
something
something
silly we'll just do if is instant
log spaced
in okay we're going to just do that
and the rest of it doesn't have
rounding I guess this one does
we don't use this thing at all so
if I think this is good enough
I just want to get this thing working
I just want to get this thing working
today and see the graph actually do what
today and see the graph actually do what
I expected to do you
know come on Neptune for
okay
okay
so we'll see in a bit if this is uh
so we'll see in a bit if this is uh
correct or
not that's said 9 is better than any of
not that's said 9 is better than any of
the runs we had before
already that's
promising the cod's just really janked
promising the cod's just really janked
the way they do their
spaces I think probably what we're going
spaces I think probably what we're going
to do is I'm going to design like a
to do is I'm going to design like a
puffer spaces
puffer spaces
thing it's going to be pretty similar
thing it's going to be pretty similar
it's just going to be cleaner and then
it's just going to be cleaner and then
I'll like make carbs use those or
I'll like make carbs use those or
something
seriously assertion
seriously assertion
error
okay oh yeah
okay oh yeah
because it's a temper right
these asserts are
like I don't know why it passes tensors
like I don't know why it passes tensors
to be
honest we'll catch the values being
honest we'll catch the values being
screwy from other
things
things
man good work
man good work
week this is one of the more productive
week this is one of the more productive
work weeks I've had on the
books did like major stuff for two
books did like major stuff for two
different Labs two different clients
different Labs two different clients
science side here reviewed several
science side here reviewed several
thousand lines of code for
puffer good
progress I just do this every week or
progress I just do this every week or
I'll be solved in like six
I'll be solved in like six
months it's crazy
pace e
that
oh cool update
heck
seriously still are you kidding me
I guess this actually needs to have a
I guess this actually needs to have a
freaking uh
freaking uh
um round tenser room
basic fine I'll just implement it
doesn't get rounded
let's see if this is actually needed
I don't know if you actually need to
I don't know if you actually need to
round it like that that seems
round it like that that seems
weird let's try this as a quick as a
weird let's try this as a quick as a
quick
thing okay how do you just highlight
thing okay how do you just highlight
all the boxes I know I can do
this but then it always it doesn't
this but then it always it doesn't
always go
immediately going to do this
so hopefully this one
works so what I've done
works so what I've done
here I've
here I've
rescaled the hyper
rescaled the hyper
parameters into a - one: one space
parameters into a - one: one space
either linear logarithmic depending on
either linear logarithmic depending on
the parameter and then sampling and
the parameter and then sampling and
prediction is done in that space so not
prediction is done in that space so not
only should it be easier to learn a
only should it be easier to learn a
model in that space But now the sampling
model in that space But now the sampling
should correctly
should correctly
be it should be sampling values on a
be it should be sampling values on a
reasonable scale which should make it
reasonable scale which should make it
easier for carbs to learn to uh shift
easier for carbs to learn to uh shift
over to better parameters over time
over to better parameters over time
originally the algorithm it made it like
originally the algorithm it made it like
if you had good initial parameters it
if you had good initial parameters it
could find stuff nearby but I think this
could find stuff nearby but I think this
will make it able to drift over to the
will make it able to drift over to the
better parameters more
effectively if I have it
effectively if I have it
correct we will
see this is actually going to be
see this is actually going to be
incredibly big for RL once I get this
incredibly big for RL once I get this
working this is a synthetic Benchmark
working this is a synthetic Benchmark
that I have at the moment I know exactly
that I have at the moment I know exactly
how well it should do on this
how well it should do on this
Benchmark and pretty much as soon as we
Benchmark and pretty much as soon as we
hit the
hit the
number um I will be confident in this
number um I will be confident in this
implementation and this should just
implementation and this should just
shred any and all RL environments and
shred any and all RL environments and
basically it will be so good that we'll
basically it will be so good that we'll
be confident that if it doesn't solve
be confident that if it doesn't solve
the environment something else is
the environment something else is
wrong and we'll actually be able to do
wrong and we'll actually be able to do
really nice
really nice
analysis um off of
that okay so here
is it should start improving over time
is it should start improving over time
it doesn't fail right
here okay good so but no longer is
failing oh look at that
great figuring out bat
great figuring out bat
size not figuring out total time steps
size not figuring out total time steps
is a bit
is a bit
concerning mini batch has figured
out big Gam
Lambda hasn't figured out update EPO
yet few other
things we shall
see oh perfect so this is already better
see oh perfect so this is already better
way better than
way better than
before now whether this is actually
before now whether this is actually
going to full solve we'll
see this is
progress there you go
so it's figured out this batch size
so it's figured out this batch size
parameter already I'm a little concerned
parameter already I'm a little concerned
with the total time steps it doesn't
with the total time steps it doesn't
seem it's figured this out
yet I don't think I have the cost
yet I don't think I have the cost
component in so I should just figure
component in so I should just figure
this out learning rate as well oh no
this out learning rate as well oh no
it's figuring out learning
it's figuring out learning
rate 9 yeah
rate 9 yeah
five okay it's figuring that out update
five okay it's figuring that out update
EPO for some reason it's not figuring
EPO for some reason it's not figuring
out
out
yet could be a sampling
issue okay so it's gotten up to
issue okay so it's gotten up to
95 it's better than
before definitely better than before
I think there's still going to be some
I think there's still going to be some
space issues that we're going to have to
space issues that we're going to have to
fix under
generated okay that's fine I generated
generated okay that's fine I generated
816 samples
I wonder if I could just
I wonder if I could just
rewrite most of the carbs code
tomorrow at least like the sampling
portion it's very confusing the way it
portion it's very confusing the way it
is at the
moment the only thing I'm not positive
moment the only thing I'm not positive
is like
intuitively it seems like carbs really
intuitively it seems like carbs really
should be the algorithm to go
should be the algorithm to go
to it has everything you'd
to it has everything you'd
want paper at
least I'm pretty sure I could solve this
least I'm pretty sure I could solve this
Benchmark with the genetic algorithm
Benchmark with the genetic algorithm
though right
though right
here like
better by assume the carbs just isn't
better by assume the carbs just isn't
properly set up yet because the carbs
properly set up yet because the carbs
really should be
really should be
better okay so this is getting better
better okay so this is getting better
look at this um maybe it's starting to
look at this um maybe it's starting to
figure out the time
figure out the time
steps a batch size many batches learning
steps a batch size many batches learning
rate is now almost figured
rate is now almost figured
out G I believe is supposed to be 0.99
out G I believe is supposed to be 0.99
it's around that
it's around that
area 9 five for Lambda yeah it's
area 9 five for Lambda yeah it's
good oh look it even it just sampled
good oh look it even it just sampled
update
update
Epoch so this is probably a sample issue
Epoch so this is probably a sample issue
with this
with this
basing let's figure this out I don't
basing let's figure this out I don't
know why it hasn't figured out um BPT
know why it hasn't figured out um BPT
Horizon this should be
Horizon this should be
16 also possible a sample
16 also possible a sample
thing and num M doesn't matter so this
thing and num M doesn't matter so this
is allowed to drift
yeah this is way better than before
yeah this is way better than before
already though you can actually see
already though you can actually see
total time step starting to recover I
total time step starting to recover I
don't know why it went down this far in
don't know why it went down this far in
the first place the anything um there
the first place the anything um there
should have been a pretty darn clear
should have been a pretty darn clear
signal for
this it's only gotten 40 runs though and
this it's only gotten 40 runs though and
it's already to 150 I believe 250 or so
it's already to 150 I believe 250 or so
is the max that requires you to Max out
is the max that requires you to Max out
all the scale parameters and then
all the scale parameters and then
tightly fit the um remaining hyper
parameters but this is the type of curve
parameters but this is the type of curve
that we
that we
want right the algorithm should clearly
want right the algorithm should clearly
just get better over
time oh yeah there you go so there's
time oh yeah there you go so there's
that SI is starting to get
that SI is starting to get
sampled um
sampled um
[Music]
150 update epox is still at
150 update epox is still at
two I guess it's just a big
two I guess it's just a big
jump is
all it's a big jump
could be similar over here with these
could be similar over here with these
power
ones I mean this is a massive
ones I mean this is a massive
improvement though over what was what we
improvement though over what was what we
had before to give you an idea
had before to give you an idea
like I think we have
like I think we have
this yeah so this is 140 runs
this yeah so this is 140 runs
same exact
same exact
task you can see how slowly it was
task you can see how slowly it was
starting to like get the time steps back
starting to like get the time steps back
this because the sample spaces were
this because the sample spaces were
screwed
screwed
up sample space screwed up couldn't find
up sample space screwed up couldn't find
a better batch
a better batch
size you know it would fit like these
size you know it would fit like these
parameters pretty
parameters pretty
nicely but that was about
nicely but that was about
it so this is a massive massive
it so this is a massive massive
Improvement and this should translate to
Improvement and this should translate to
real tasks as well
okay up to 180 and you can see I don't
okay up to 180 and you can see I don't
know why total time steps went down here
know why total time steps went down here
to begin with it really should have
to begin with it really should have
latched on to these points
latched on to these points
here but it did it does
recover bad size is fixed May bat is
recover bad size is fixed May bat is
fixed learning rate is basically to
fixed learning rate is basically to
where it should be 01 I believe is the
where it should be 01 I believe is the
optimal so it's getting pretty M
optimal so it's getting pretty M
there it's not really tightly fitting
there it's not really tightly fitting
them is the only thing it's not tightly
them is the only thing it's not tightly
fitting these parameters quite yet I
fitting these parameters quite yet I
would like it to have a tighter
fit I guess technically it won't have a
fit I guess technically it won't have a
tighter fit though
tighter fit though
because yeah an artifact of the sampling
because yeah an artifact of the sampling
at the moment
at the moment
is it samples pretty widely around the
is it samples pretty widely around the
parito bounds
parito bounds
because it's generating candidates and
because it's generating candidates and
then scoring
then scoring
them I might have to look at
them I might have to look at
that I might have to look at
that this is why this is so noisy okay
that this is why this is so noisy okay
ah and there you go update Epoch so the
ah and there you go update Epoch so the
bounds are not amazing here but you can
bounds are not amazing here but you can
see it is getting there eventually BPT
see it is getting there eventually BPT
Horizon seems stuck but whatever
Horizon seems stuck but whatever
for the most part these are actually
for the most part these are actually
they're getting it
now and there we're up to 180
now and there we're up to 180
something 57
runs okay this is a good
runs okay this is a good
result this is a good result
it's not quite perfect yet we're going
it's not quite perfect yet we're going
to still have to tune some things but uh
to still have to tune some things but uh
it is definitely getting
there I think realistically you should
there I think realistically you should
be able to get you know within 50 runs
be able to get you know within 50 runs
you should be able to have it mostly
you should be able to have it mostly
solved because so all these parameters
solved because so all these parameters
are independent you should be able to
are independent you should be able to
tease that out of the model very quickly
tease that out of the model very quickly
you shouldn't waste time doing
you shouldn't waste time doing
this with better sampling uh you should
this with better sampling uh you should
get this more
get this more
quickly this is pretty good already mini
quickly this is pretty good already mini
batch has kind of worked you should get
batch has kind of worked you should get
tighter bounds on these parameters more
tighter bounds on these parameters more
quickly with more sample
quickly with more sample
gen these as well and then this like
gen these as well and then this like
update EPO and BPT Horizon this is like
update EPO and BPT Horizon this is like
scale issue and see that it does get up
scale issue and see that it does get up
to four here so it's good and then num M
to four here so it's good and then num M
doesn't matter for this
test this is pretty much doing what I
test this is pretty much doing what I
would want the only thing
would want the only thing
is I guess the total time steps can't
is I guess the total time steps can't
really move as quickly as you'd want it
to we'll have to look at
to we'll have to look at
um we'll have to look at some stuff with
um we'll have to look at some stuff with
that
yeah okay
yeah okay
180 not like just full solving it's
180 not like just full solving it's
still not full solving it but we're
still not full solving it but we're
starting to get these like time steps
starting to get these like time steps
way up
here
here
yeah okay I'm satisfied with
yeah okay I'm satisfied with
this it's a good result it's not perfect
this it's a good result it's not perfect
we'll finish uh the rest of
we'll finish uh the rest of
this I think
this I think
tomorrow pretty tired just like to get
tomorrow pretty tired just like to get
some
sleep carb stuff will be good soon let
sleep carb stuff will be good soon let
me just make sure that's not anything
important no
important no
nothing okay
I think tomorrow is going to be the day
I think tomorrow is going to be the day
we have like a solid hyper pram
we have like a solid hyper pram
algorithm for RL
algorithm for RL
finally it'll be really
nice some kind of plateaued
here it needs to be able to be make more
here it needs to be able to be make more
aggressive steps on like stuff like this
aggressive steps on like stuff like this
like it has
like it has
60 something data points it should be
60 something data points it should be
very confident that there is a clear
very confident that there is a clear
correlation between more time steps and
correlation between more time steps and
more perf based on this
test I might also take this out of
test I might also take this out of
Neptune so we can run these way faster
Neptune so we can run these way faster
this is kind of silly how long this is
this is kind of silly how long this is
taking for these
I mean that's more than double the perf
I mean that's more than double the perf
from before so that's a good start just
from before so that's a good start just
from fixing some space
transforms right I'm kind of dallying
transforms right I'm kind of dallying
here um I should just go get some
here um I should just go get some
sleep and then start nice and uh nice
sleep and then start nice and uh nice
and reasonable in the
and reasonable in the
morning get a good full day in tomorrow
morning get a good full day in tomorrow
on
on
this there are a bunch of other projects
this there are a bunch of other projects
to work on but I think that this one is
to work on but I think that this one is
going to be worth
going to be worth
investing tomorrow into um if we can
investing tomorrow into um if we can
really get a nice solid carbs thing
really get a nice solid carbs thing
packaged up for puffer this will just
packaged up for puffer this will just
like I mean this will be like a
like I mean this will be like a
severalfold Improvement to puffer lip
severalfold Improvement to puffer lip
just
just
overnight because if you think about it
overnight because if you think about it
this just makes all your experiments
this just makes all your experiments
better and
faster I mean heck I don't even think
faster I mean heck I don't even think
we'll have to do early stopping if we
we'll have to do early stopping if we
get this to work well enough because
get this to work well enough because
carbs will just do that for
you yeah okay
you yeah okay
well um all this stuff is free and open
well um all this stuff is free and open
source
source
so if you want to learn more about any
so if you want to learn more about any
of this stuff it is on buffer.
of this stuff it is on buffer.
a you can start the repository on GitHub
a you can start the repository on GitHub
that really helps me out a
that really helps me out a
ton it's free to do you can join 900
ton it's free to do you can join 900
people in our Discord building RL
people in our Discord building RL
environments and doing cool stuff and
environments and doing cool stuff and
follow me on X where I post a bunch of
follow me on X where I post a bunch of
RL things a lot of articles on here as
RL things a lot of articles on here as
well there's a Blog with lots of nice RL
well there's a Blog with lots of nice RL
resources
resources
here uh and we've got docs we've got
here uh and we've got docs we've got
demos of all of our environments we've
demos of all of our environments we've
got all sorts of fun goodies here so
got all sorts of fun goodies here so
join up if you're
join up if you're
interested uh I review contributed
interested uh I review contributed
environments live on stream if you're
environments live on stream if you're
interested in building some of those
interested in building some of those
other than that I'm going to call
other than that I'm going to call
theight

Kind: captions
Language: en
cool um carbs hyper pram sweep
cool um carbs hyper pram sweep
stuff make sure I missed anything real
quick up for
Discord the
heck I are you [ __ ]
heck I are you [ __ ]
me the
me the
[ __ ]
[ __ ]
no that a
no that a
ridiculous
any whatever
the [ __ ] I I don't know what the hell's
the [ __ ] I I don't know what the hell's
going on in this Discord I don't
care
care
um let's see
so right
so right
we got to figure out a couple things
we got to figure out a couple things
with these Transformations
um when the mean is when you're just
um when the mean is when you're just
sampling around the mean it makes a lot
sampling around the mean it makes a lot
of sense it's really not that
hard so I think for that case I know how
hard so I think for that case I know how
to do
it you basically you map into to log or
it you basically you map into to log or
linear space whatever and then you
linear space whatever and then you
rescale so it's- 1 to one then new
rescale so it's- 1 to one then new
sample we'd say a uh 0.3 standard
sample we'd say a uh 0.3 standard
deviation that will nicely cover the
deviation that will nicely cover the
whole space and then you transform back
whole space and then you transform back
into the original
space alternativ you can set a custom
space alternativ you can set a custom
scale per
parameter what happens when it's like
I have a sweep that I want to start at
I have a sweep that I want to start at
100 million
100 million
steps that I want to potentially get up
steps that I want to potentially get up
to 10 billion
steps does it just
work you get ne1
so it kind of
works the scale parameter is a little
screwy let me think about the scale
screwy let me think about the scale
prame so
if you have like one standard deviation
if you have like one standard deviation
on each
side the scale frame actually kind of
side the scale frame actually kind of
does just work doesn't
it so
like let's say
with let's say with this entropy
with let's say with this entropy
coefficient this is from
coefficient this is from
0.05 to
0.005 when we rescale this it's going to
0.005 when we rescale this it's going to
be from netive 1 to one and the center
be from netive 1 to one and the center
is at
is at
zero so with a scale of 0. five
that actually perfectly corresponds to
that actually perfectly corresponds to
what you would
want so I think that we are going to
want so I think that we are going to
keep the scale
par the scale pram is pretty much always
par the scale pram is pretty much always
going to
going to
be from 0 to
be from 0 to
one 2 to one something like that
in log space it'll correspond nicely to
in log space it'll correspond nicely to
orders of
magnitude okay I kind of like this
so let's add some stuff to this
and now the
scale right so 128 256
524 just I think we'll do 256 is
524 just I think we'll do 256 is
min for
min for
now so this is a standard
distribution scale is going to be
05 and Max me
scale one E8
28 I something like this
I'll make a little tool as well to plot
I'll make a little tool as well to plot
these so you can see your distributions
now batch size
we'll do
mean I'll uh I'll make a tool to like
mean I'll uh I'll make a tool to like
show all the distributions I think
show all the distributions I think
that'll be the
best for
seven
I'm try this
so this is it for this uh
so this is it for this uh
men 16
so this is
so this is
good just right this is
good e
okay
okay
um now we're going to load these prams
in I'm tempted to make my own like
in I'm tempted to make my own like
Puffer s thing
here I'm very tempted to make my own
here I'm very tempted to make my own
sweep thing
here but then I have to pass it to
pass the
pass the
carbs I guess what I'll do is I'll do it
carbs I guess what I'll do is I'll do it
in carbs first and then we'll make our
in carbs first and then we'll make our
own
thing just
hydrated it
hydrated it
7 in a couple hours
maybe we just get this done today that'd
maybe we just get this done today that'd
be
awesome okay so what we're going to do
awesome okay so what we're going to do
is offer carbs
is offer carbs
okay we're going to do
okay we're going to do
Min and then
scale I think we will use the scale
scale I think we will use the scale
pram but we're going to change the way
pram but we're going to change the way
that they
that they
use the scale foram let me just make
sure okay good they don't use it in
sure okay good they don't use it in
there they only use it in
utils let's just do it like this
right yeah
we'll just put this up
here and we can just do
quars for
so that's way
easier
easier
and now we have min max scale and Sear
and now we have min max scale and Sear
Center
okay min max
scale search center so you don't
scale search center so you don't
actually get search center
actually get search center
in the pamc space which I don't
like I think Pam space should have
should have a
should have a
mean or should have search
center so I think I'm going to add
this okay
okay so now we have all this stuff
so much garbage in
here linear
space okay
so value minus Min over this so this is
so value minus Min over this so this is
0 to 1 * 2 - 1
0 to 1 * 2 - 1
perfect then param from basic
perfect then param from basic
do
this and then you can
this and then you can
round it's
fine and power two
space now we have mean to work
space now we have mean to work
with so we don't need this
okay
so this
so this
is this is 0 to one scaled right
just minus
just minus
one
okay uh and again we're going to
okay uh and again we're going to
do I'm going to use jity for this
do I'm going to use jity for this
because I'm half
because I'm half
asleep I will check it but I'm not
asleep I will check it but I'm not
thinking through this at this
hour uh where is
hour uh where is
it log space
right
here
oops how is this different from
uh hold on how is this
different oh I haven't done log space
different oh I haven't done log space
yet
we'll leave him like this for now but
we'll leave him like this for now but
this can get simplified a
lot it's going to take a little time
yeah so this is just
yeah so this is just
uh basically the same thing
uh basically the same thing
thing I just had to just had to adjust
thing I just had to just had to adjust
the
the
two yeah but whatever
okay I'm going to remove all these round
okay I'm going to remove all these round
tensor and basic
functions because it's literally just
this for all of them
this for all of them
so that's going to be
nice okay so now we have the PW two
nice okay so now we have the PW two
space
space
x no
clip so now what it would do it's almost
clip so now what it would do it's almost
the same isn't
it does the log base even matter
it does the log base even matter
does the wait does the log base even
matter it's getting scaled either way
matter it's getting scaled either way
isn't
that I think this is the exact same
that I think this is the exact same
thing but we'll leave it like this for
thing but we'll leave it like this for
now
oh you actually do have to round hold
on yeah hold on so this is actually
on yeah hold on so this is actually
correct for
uh yeah this is actually correct for
yeah maybe we will make this a little
yeah maybe we will make this a little
bit more
reasonable
for e
yeah we'll
do e
Jesus it's I don't know why this is so
Jesus it's I don't know why this is so
hard
hard
to uh for the
to uh for the
llm
llm
so make sure this is
so make sure this is
right do
right do
this Z one you multiply
by to
by to
Max to
Min and then you add the mean
this is like two to the power of
this rounded
equals it's not bad
okay next log
okay next log
space a little
space a little
simpler equals
okay e
loog baced
and then we also got to apply Clips to
and then we also got to apply Clips to
everything don't
we Ram from
basic maybe it does flip
basic maybe it does flip
whoos we'll look at it in a
whoos we'll look at it in a
bit let's do logic space
first for
okay so here here are our
spaces we're going have to test them
test carb spaces
maybe yeah we can just write a quick
maybe yeah we can just write a quick
test on this
so
tired the thing is I don't want to write
tired the thing is I don't want to write
the test because I know I want to redo
the test because I know I want to redo
it in puffer
it in puffer
anyways like I'd like to Port this to be
anyways like I'd like to Port this to be
better and in
puffer let's see what happens if I run
puffer let's see what happens if I run
this
now through the
now through the
test we're going to do a couple like ual
checks long week a lot of work huge
checks long week a lot of work huge
amount of progress
though okay so
um oh blade
[Music]
[Music]
um this is not what this line
is there's nothing
is there's nothing
there excuse me
there excuse me
oh this is why wrong freaking
terminal wait a
terminal wait a
second now this is the old functions
second now this is the old functions
[ __ ] so hold on I screwed this up I do
[ __ ] so hold on I screwed this up I do
need to test this on the
box but I have to commit this stuff up
going have to emerge some stuff cuz I
going have to emerge some stuff cuz I
screwed
up
e e
let to merge
very
nice log in space
me okay
so here we
are origin samples
search distribution in basic.
Sample is this origins in
basic
categorical
sample origin
sample origin
index okay origins in basic is passed
index okay origins in basic is passed
in doesn't look to be in basic to
me basic space to param space
sample around origin and
basic
446 sample search
space Origins and basic
okay so this
okay so this
is some
Insanity s
where the hell's this come
from I set search Center
oh okay I think I get
oh okay I think I get
this so hold
on
and okay so you actually you get all
and okay so you actually you get all
these these variables here
right and these give you the
right and these give you the
means the search
means the search
centers and then you do
Pam space wheel basic space
real basic from Pam
okay very nice so
we got something
here so first one is po two
scale of
-
508 I do not like
that okay so we
do two
zero
zero
perfect what we expect
perfect what we expect
right
mean
perfect okay
that's not correct
though that gives you
zero subtract the
mean you shouldn't be subtracting the
mean you shouldn't be subtracting the
mean you should be subtracting the
mean you should be subtracting the
men
right man
now you get
zero okay
this is what we're going to do anyways
this is what we're going to do anyways
right
perfect total time
perfect total time
steps does get reconstructed but the
steps does get reconstructed but the
intermediate is
trash we can see why right
here log so
here log so
Min
Min
base
here
.33
.33
Max okay so this should not be
Max okay so this should not be
.33 um
.33 um
um this should be at
um this should be at
-1 I would
-1 I would
say oh wait no hold on the zeros are
say oh wait no hold on the zeros are
different maybe this is
correct three
six8
mean yeah so
mean yeah so
this is potentially
correct 27 yeah is
correct 27 yeah is
this 29
this 29
and Okay cool so this is actually
and Okay cool so this is actually
looking
correct batch
correct batch
size also
reasonable mini
batches
reasonable learning
rate Five
yeah that's
reasonable
entropy gamma gamma's no
entropy gamma gamma's no
good so let's go look at the logic space
good so let's go look at the logic space
I bet it's the same thing yeah right
I bet it's the same thing yeah right
there
turns must
turns must
be
be
entropy and then okay
hey YouTube
hey YouTube
folks we are currently very
folks we are currently very
sleepily uh doing some hyperparameter
sleepily uh doing some hyperparameter
space
space
transformations in order to make this
transformations in order to make this
carbs hyper pram sweep algorithm way way
carbs hyper pram sweep algorithm way way
way
better this would be rather exciting
better this would be rather exciting
work if it did not come at the end of a
work if it did not come at the end of a
very long week
this week started with me half dead in
this week started with me half dead in
the
the
hospital and ended with a me like coding
hospital and ended with a me like coding
12 to 14 hours a
day [ __ ] tons of progress though
all
right what did I mess
up math
log this looks fine to me so let's see
log this looks fine to me so let's see
what wrong
return
arrays
oh yeah there we go I'll fix it
still
still
no oh hold
no oh hold
on same
on same
thing got
thing got
it
boom lamb and Gamma are still messed
boom lamb and Gamma are still messed
up so this loged space is still wrong
up so this loged space is still wrong
let me see if I can see why
so you
so you
[Music]
[Music]
do value + one over
do value + one over
two and then you're going to do 0
[Music]
[Music]
times minus
times minus
men yeah and then you're going to add
men yeah and then you're going to add
on log Min yeah
on log Min yeah
and then you're going to
do
X is this
wrong wait this is the Reconstruction is
correct it's just the scaling is wrong
correct it's just the scaling is wrong
somehow let me
think Pam from basic from
Pam let's
see
see
oh you have to do one minus self Min one
oh you have to do one minus self Min one
minus self
right minus
there we
there we
go so now everything is
go so now everything is
scaled -1 to
scaled -1 to
one you see
that um
I'm actually going to put an assert in
I'm actually going to put an assert in
there or a breakpoint
rather
okay basic from Pam
going to do
this where's my break point oh
this negative one there you go it's one
this negative one there you go it's one
skill
perfect now we get Neptune here
T let's see about
this there's still things to improve
so let's take a look at this
here so
here so
before we had this
this plot
here let's see what this
does and we should actually be able to
does and we should actually be able to
debug this
debug this
now so the
now so the
goal is that what was what was happening
goal is that what was what was happening
before is they were transforming for
before is they were transforming for
parameters but they weren't transforming
parameters but they weren't transforming
them to like 0 1 or-1 to 1 they were
them to like 0 1 or-1 to 1 they were
transforming them into like some weird
transforming them into like some weird
arbitrary
arbitrary
space now they're from - 1 to
space now they're from - 1 to
one and when you sample with a standard
one and when you sample with a standard
deviation of
deviation of
3 which is what they use you should
3 which is what they use you should
actually get good
actually get good
coverage now we're going to introduce
coverage now we're going to introduce
variable uh variable scale soon
variable uh variable scale soon
but for the time
but for the time
being that should be pretty
decent ah it looks like we have issue
decent ah it looks like we have issue
here so I'll look at
that 133
SC e
no
breako we had it
before round tensor and basic
ah perhaps
ah perhaps
um it passes tensors
occasionally
occasionally
round maybe this is
better let's just re
like to select all
uh there's no I don't know where the
uh there's no I don't know where the
select all is on these here we'll just
select all is on these here we'll just
do this for
now cleaned out
okay let's see about this
and we'll see if we still get the
and we'll see if we still get the
warnings and we'll see if we get better
per technically if I did this out of
per technically if I did this out of
Neptune it would be much faster has to
Neptune it would be much faster has to
like reopen a connection every
like reopen a connection every
time wonder if there's a way to do like
time wonder if there's a way to do like
multiple runs without reopening it
multiple runs without reopening it
this is kind of
annoying it's faster than W to be at
least there's no reason that this should
least there's no reason that this should
take like multiple seconds though should
take like multiple seconds though should
be done in like a quarter of a
second okay
so we can start looking at these a
so we can start looking at these a
little bit
this is getting good
samples from what
samples from what
32 down to eight so it's getting some
32 down to eight so it's getting some
samples update EPO up to two it gets
samples update EPO up to two it gets
some samples
some samples
there and is
there and is
good num M I think I forgot to
good num M I think I forgot to
configure doesn't really matter though
configure doesn't really matter though
mini batches not really getting any
samples ah is total time steps going up
samples ah is total time steps going up
we'll
see ah hold
see ah hold
on doesn't Define round
on doesn't Define round
method okay
what's an easy way to
what's an easy way to
round a tensor that'll also work on the
round a tensor that'll also work on the
other stuff
what's a good way to do
that and I see this
that and I see this
Round
Here tensor doesn't Define
around let me look at what the original
around let me look at what the original
did
how' they do their
rounding they do
round oh I see is integer and is rounded
oh I see round tensor in
basic yeah
basic yeah
okay so this is torch dot
round this is why they did this that's
round this is why they did this that's
obnoxious
though for
okay we'll think about that later that's
okay we'll think about that later that's
super obnoxious for now I'm going to do
for now I'm going to do
this let's hope that that does it
see see if this is enough
I'm
I'm
tired this is going to be I think I got
tired this is going to be I think I got
maybe an hour left in me
tops seems like this is running
maybe that was
maybe that was
enough it's a stupid for Loop
enough it's a stupid for Loop
but I'm gonna end up rewriting most of
but I'm gonna end up rewriting most of
carbs once I get it like once I'm like
carbs once I get it like once I'm like
really happy with the performance of
really happy with the performance of
carbs I'll put some effort in to make
carbs I'll put some effort in to make
sure that it's nice and clean like
sure that it's nice and clean like
really easy to understand and
really easy to understand and
use ah God damn it I thought that this
use ah God damn it I thought that this
was
was
good let me see
round tensor and
basic that
sucks you know what we're going to
do I'll tell you what we're going to do
do I'll tell you what we're going to do
something
something
silly we'll just do if is instant
log spaced
in okay we're going to just do that
and the rest of it doesn't have
rounding I guess this one does
we don't use this thing at all so
if I think this is good enough
I just want to get this thing working
I just want to get this thing working
today and see the graph actually do what
today and see the graph actually do what
I expected to do you
know come on Neptune for
okay
okay
so we'll see in a bit if this is uh
so we'll see in a bit if this is uh
correct or
not that's said 9 is better than any of
not that's said 9 is better than any of
the runs we had before
already that's
promising the cod's just really janked
promising the cod's just really janked
the way they do their
spaces I think probably what we're going
spaces I think probably what we're going
to do is I'm going to design like a
to do is I'm going to design like a
puffer spaces
puffer spaces
thing it's going to be pretty similar
thing it's going to be pretty similar
it's just going to be cleaner and then
it's just going to be cleaner and then
I'll like make carbs use those or
I'll like make carbs use those or
something
seriously assertion
seriously assertion
error
okay oh yeah
okay oh yeah
because it's a temper right
these asserts are
like I don't know why it passes tensors
like I don't know why it passes tensors
to be
honest we'll catch the values being
honest we'll catch the values being
screwy from other
things
things
man good work
man good work
week this is one of the more productive
week this is one of the more productive
work weeks I've had on the
books did like major stuff for two
books did like major stuff for two
different Labs two different clients
different Labs two different clients
science side here reviewed several
science side here reviewed several
thousand lines of code for
puffer good
progress I just do this every week or
progress I just do this every week or
I'll be solved in like six
I'll be solved in like six
months it's crazy
pace e
that
oh cool update
heck
seriously still are you kidding me
I guess this actually needs to have a
I guess this actually needs to have a
freaking uh
freaking uh
um round tenser room
basic fine I'll just implement it
doesn't get rounded
let's see if this is actually needed
I don't know if you actually need to
I don't know if you actually need to
round it like that that seems
round it like that that seems
weird let's try this as a quick as a
weird let's try this as a quick as a
quick
thing okay how do you just highlight
thing okay how do you just highlight
all the boxes I know I can do
this but then it always it doesn't
this but then it always it doesn't
always go
immediately going to do this
so hopefully this one
works so what I've done
works so what I've done
here I've
here I've
rescaled the hyper
rescaled the hyper
parameters into a - one: one space
parameters into a - one: one space
either linear logarithmic depending on
either linear logarithmic depending on
the parameter and then sampling and
the parameter and then sampling and
prediction is done in that space so not
prediction is done in that space so not
only should it be easier to learn a
only should it be easier to learn a
model in that space But now the sampling
model in that space But now the sampling
should correctly
should correctly
be it should be sampling values on a
be it should be sampling values on a
reasonable scale which should make it
reasonable scale which should make it
easier for carbs to learn to uh shift
easier for carbs to learn to uh shift
over to better parameters over time
over to better parameters over time
originally the algorithm it made it like
originally the algorithm it made it like
if you had good initial parameters it
if you had good initial parameters it
could find stuff nearby but I think this
could find stuff nearby but I think this
will make it able to drift over to the
will make it able to drift over to the
better parameters more
effectively if I have it
effectively if I have it
correct we will
see this is actually going to be
see this is actually going to be
incredibly big for RL once I get this
incredibly big for RL once I get this
working this is a synthetic Benchmark
working this is a synthetic Benchmark
that I have at the moment I know exactly
that I have at the moment I know exactly
how well it should do on this
how well it should do on this
Benchmark and pretty much as soon as we
Benchmark and pretty much as soon as we
hit the
hit the
number um I will be confident in this
number um I will be confident in this
implementation and this should just
implementation and this should just
shred any and all RL environments and
shred any and all RL environments and
basically it will be so good that we'll
basically it will be so good that we'll
be confident that if it doesn't solve
be confident that if it doesn't solve
the environment something else is
the environment something else is
wrong and we'll actually be able to do
wrong and we'll actually be able to do
really nice
really nice
analysis um off of
that okay so here
is it should start improving over time
is it should start improving over time
it doesn't fail right
here okay good so but no longer is
failing oh look at that
great figuring out bat
great figuring out bat
size not figuring out total time steps
size not figuring out total time steps
is a bit
is a bit
concerning mini batch has figured
out big Gam
Lambda hasn't figured out update EPO
yet few other
things we shall
see oh perfect so this is already better
see oh perfect so this is already better
way better than
way better than
before now whether this is actually
before now whether this is actually
going to full solve we'll
see this is
progress there you go
so it's figured out this batch size
so it's figured out this batch size
parameter already I'm a little concerned
parameter already I'm a little concerned
with the total time steps it doesn't
with the total time steps it doesn't
seem it's figured this out
yet I don't think I have the cost
yet I don't think I have the cost
component in so I should just figure
component in so I should just figure
this out learning rate as well oh no
this out learning rate as well oh no
it's figuring out learning
it's figuring out learning
rate 9 yeah
rate 9 yeah
five okay it's figuring that out update
five okay it's figuring that out update
EPO for some reason it's not figuring
EPO for some reason it's not figuring
out
out
yet could be a sampling
issue okay so it's gotten up to
issue okay so it's gotten up to
95 it's better than
before definitely better than before
I think there's still going to be some
I think there's still going to be some
space issues that we're going to have to
space issues that we're going to have to
fix under
generated okay that's fine I generated
generated okay that's fine I generated
816 samples
I wonder if I could just
I wonder if I could just
rewrite most of the carbs code
tomorrow at least like the sampling
portion it's very confusing the way it
portion it's very confusing the way it
is at the
moment the only thing I'm not positive
moment the only thing I'm not positive
is like
intuitively it seems like carbs really
intuitively it seems like carbs really
should be the algorithm to go
should be the algorithm to go
to it has everything you'd
to it has everything you'd
want paper at
least I'm pretty sure I could solve this
least I'm pretty sure I could solve this
Benchmark with the genetic algorithm
Benchmark with the genetic algorithm
though right
though right
here like
better by assume the carbs just isn't
better by assume the carbs just isn't
properly set up yet because the carbs
properly set up yet because the carbs
really should be
really should be
better okay so this is getting better
better okay so this is getting better
look at this um maybe it's starting to
look at this um maybe it's starting to
figure out the time
figure out the time
steps a batch size many batches learning
steps a batch size many batches learning
rate is now almost figured
rate is now almost figured
out G I believe is supposed to be 0.99
out G I believe is supposed to be 0.99
it's around that
it's around that
area 9 five for Lambda yeah it's
area 9 five for Lambda yeah it's
good oh look it even it just sampled
good oh look it even it just sampled
update
update
Epoch so this is probably a sample issue
Epoch so this is probably a sample issue
with this
with this
basing let's figure this out I don't
basing let's figure this out I don't
know why it hasn't figured out um BPT
know why it hasn't figured out um BPT
Horizon this should be
Horizon this should be
16 also possible a sample
16 also possible a sample
thing and num M doesn't matter so this
thing and num M doesn't matter so this
is allowed to drift
yeah this is way better than before
yeah this is way better than before
already though you can actually see
already though you can actually see
total time step starting to recover I
total time step starting to recover I
don't know why it went down this far in
don't know why it went down this far in
the first place the anything um there
the first place the anything um there
should have been a pretty darn clear
should have been a pretty darn clear
signal for
this it's only gotten 40 runs though and
this it's only gotten 40 runs though and
it's already to 150 I believe 250 or so
it's already to 150 I believe 250 or so
is the max that requires you to Max out
is the max that requires you to Max out
all the scale parameters and then
all the scale parameters and then
tightly fit the um remaining hyper
parameters but this is the type of curve
parameters but this is the type of curve
that we
that we
want right the algorithm should clearly
want right the algorithm should clearly
just get better over
time oh yeah there you go so there's
time oh yeah there you go so there's
that SI is starting to get
that SI is starting to get
sampled um
sampled um
[Music]
150 update epox is still at
150 update epox is still at
two I guess it's just a big
two I guess it's just a big
jump is
all it's a big jump
could be similar over here with these
could be similar over here with these
power
ones I mean this is a massive
ones I mean this is a massive
improvement though over what was what we
improvement though over what was what we
had before to give you an idea
had before to give you an idea
like I think we have
like I think we have
this yeah so this is 140 runs
this yeah so this is 140 runs
same exact
same exact
task you can see how slowly it was
task you can see how slowly it was
starting to like get the time steps back
starting to like get the time steps back
this because the sample spaces were
this because the sample spaces were
screwed
screwed
up sample space screwed up couldn't find
up sample space screwed up couldn't find
a better batch
a better batch
size you know it would fit like these
size you know it would fit like these
parameters pretty
parameters pretty
nicely but that was about
nicely but that was about
it so this is a massive massive
it so this is a massive massive
Improvement and this should translate to
Improvement and this should translate to
real tasks as well
okay up to 180 and you can see I don't
okay up to 180 and you can see I don't
know why total time steps went down here
know why total time steps went down here
to begin with it really should have
to begin with it really should have
latched on to these points
latched on to these points
here but it did it does
recover bad size is fixed May bat is
recover bad size is fixed May bat is
fixed learning rate is basically to
fixed learning rate is basically to
where it should be 01 I believe is the
where it should be 01 I believe is the
optimal so it's getting pretty M
optimal so it's getting pretty M
there it's not really tightly fitting
there it's not really tightly fitting
them is the only thing it's not tightly
them is the only thing it's not tightly
fitting these parameters quite yet I
fitting these parameters quite yet I
would like it to have a tighter
fit I guess technically it won't have a
fit I guess technically it won't have a
tighter fit though
tighter fit though
because yeah an artifact of the sampling
because yeah an artifact of the sampling
at the moment
at the moment
is it samples pretty widely around the
is it samples pretty widely around the
parito bounds
parito bounds
because it's generating candidates and
because it's generating candidates and
then scoring
then scoring
them I might have to look at
them I might have to look at
that I might have to look at
that this is why this is so noisy okay
that this is why this is so noisy okay
ah and there you go update Epoch so the
ah and there you go update Epoch so the
bounds are not amazing here but you can
bounds are not amazing here but you can
see it is getting there eventually BPT
see it is getting there eventually BPT
Horizon seems stuck but whatever
Horizon seems stuck but whatever
for the most part these are actually
for the most part these are actually
they're getting it
now and there we're up to 180
now and there we're up to 180
something 57
runs okay this is a good
runs okay this is a good
result this is a good result
it's not quite perfect yet we're going
it's not quite perfect yet we're going
to still have to tune some things but uh
to still have to tune some things but uh
it is definitely getting
there I think realistically you should
there I think realistically you should
be able to get you know within 50 runs
be able to get you know within 50 runs
you should be able to have it mostly
you should be able to have it mostly
solved because so all these parameters
solved because so all these parameters
are independent you should be able to
are independent you should be able to
tease that out of the model very quickly
tease that out of the model very quickly
you shouldn't waste time doing
you shouldn't waste time doing
this with better sampling uh you should
this with better sampling uh you should
get this more
get this more
quickly this is pretty good already mini
quickly this is pretty good already mini
batch has kind of worked you should get
batch has kind of worked you should get
tighter bounds on these parameters more
tighter bounds on these parameters more
quickly with more sample
quickly with more sample
gen these as well and then this like
gen these as well and then this like
update EPO and BPT Horizon this is like
update EPO and BPT Horizon this is like
scale issue and see that it does get up
scale issue and see that it does get up
to four here so it's good and then num M
to four here so it's good and then num M
doesn't matter for this
test this is pretty much doing what I
test this is pretty much doing what I
would want the only thing
would want the only thing
is I guess the total time steps can't
is I guess the total time steps can't
really move as quickly as you'd want it
to we'll have to look at
to we'll have to look at
um we'll have to look at some stuff with
um we'll have to look at some stuff with
that
yeah okay
yeah okay
180 not like just full solving it's
180 not like just full solving it's
still not full solving it but we're
still not full solving it but we're
starting to get these like time steps
starting to get these like time steps
way up
here
here
yeah okay I'm satisfied with
yeah okay I'm satisfied with
this it's a good result it's not perfect
this it's a good result it's not perfect
we'll finish uh the rest of
we'll finish uh the rest of
this I think
this I think
tomorrow pretty tired just like to get
tomorrow pretty tired just like to get
some
sleep carb stuff will be good soon let
sleep carb stuff will be good soon let
me just make sure that's not anything
important no
important no
nothing okay
I think tomorrow is going to be the day
I think tomorrow is going to be the day
we have like a solid hyper pram
we have like a solid hyper pram
algorithm for RL
algorithm for RL
finally it'll be really
nice some kind of plateaued
here it needs to be able to be make more
here it needs to be able to be make more
aggressive steps on like stuff like this
aggressive steps on like stuff like this
like it has
like it has
60 something data points it should be
60 something data points it should be
very confident that there is a clear
very confident that there is a clear
correlation between more time steps and
correlation between more time steps and
more perf based on this
test I might also take this out of
test I might also take this out of
Neptune so we can run these way faster
Neptune so we can run these way faster
this is kind of silly how long this is
this is kind of silly how long this is
taking for these
I mean that's more than double the perf
I mean that's more than double the perf
from before so that's a good start just
from before so that's a good start just
from fixing some space
transforms right I'm kind of dallying
transforms right I'm kind of dallying
here um I should just go get some
here um I should just go get some
sleep and then start nice and uh nice
sleep and then start nice and uh nice
and reasonable in the
and reasonable in the
morning get a good full day in tomorrow
morning get a good full day in tomorrow
on
on
this there are a bunch of other projects
this there are a bunch of other projects
to work on but I think that this one is
to work on but I think that this one is
going to be worth
going to be worth
investing tomorrow into um if we can
investing tomorrow into um if we can
really get a nice solid carbs thing
really get a nice solid carbs thing
packaged up for puffer this will just
packaged up for puffer this will just
like I mean this will be like a
like I mean this will be like a
severalfold Improvement to puffer lip
severalfold Improvement to puffer lip
just
just
overnight because if you think about it
overnight because if you think about it
this just makes all your experiments
this just makes all your experiments
better and
faster I mean heck I don't even think
faster I mean heck I don't even think
we'll have to do early stopping if we
we'll have to do early stopping if we
get this to work well enough because
get this to work well enough because
carbs will just do that for
you yeah okay
you yeah okay
well um all this stuff is free and open
well um all this stuff is free and open
source
source
so if you want to learn more about any
so if you want to learn more about any
of this stuff it is on buffer.
of this stuff it is on buffer.
a you can start the repository on GitHub
a you can start the repository on GitHub
that really helps me out a
that really helps me out a
ton it's free to do you can join 900
ton it's free to do you can join 900
people in our Discord building RL
people in our Discord building RL
environments and doing cool stuff and
environments and doing cool stuff and
follow me on X where I post a bunch of
follow me on X where I post a bunch of
RL things a lot of articles on here as
RL things a lot of articles on here as
well there's a Blog with lots of nice RL
well there's a Blog with lots of nice RL
resources
resources
here uh and we've got docs we've got
here uh and we've got docs we've got
demos of all of our environments we've
demos of all of our environments we've
got all sorts of fun goodies here so
got all sorts of fun goodies here so
join up if you're
join up if you're
interested uh I review contributed
interested uh I review contributed
environments live on stream if you're
environments live on stream if you're
interested in building some of those
interested in building some of those
other than that I'm going to call
other than that I'm going to call
theight
