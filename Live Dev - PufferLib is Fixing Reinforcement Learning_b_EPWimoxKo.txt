Kind: captions
Language: en
okay should be
live make sure this is using the right
live make sure this is using the right
device no
okay now the one thing I got to do
okay now the one thing I got to do
before we get started is I have to
before we get started is I have to
remember to
cancel it's 10 10 I got to remember to
cancel it's 10 10 I got to remember to
cancel a
thing all right
been slacking on the monthly meets but
been slacking on the monthly meets but
uh I've been busy doing other
uh I've been busy doing other
stuff well this is
interesting so this result
is about on par with what we have before
let's add so this is the result
no wrong
no wrong
way it should
be score
ah most of these have very low
ah most of these have very low
coefficient
here what other params did I add
morning working on improved po uh I will
morning working on improved po uh I will
be for a lot of
be for a lot of
today I'm just checking
on this is a exploration method that we
on this is a exploration method that we
implemented on
Saturday I'm seeing if it did anything
archive got to get the graph for it
archive got to get the graph for it
though
what's the exploration method it's a old
what's the exploration method it's a old
paper from Serge's group diversity is
paper from Serge's group diversity is
all you need the idea is to train
all you need the idea is to train
policies that are conditioned on a
policies that are conditioned on a
little extra observation that's varied
little extra observation that's varied
per
per
episode
episode
um and then that
um and then that
observation uh is it's supposed to be
observation uh is it's supposed to be
discernable from a discriminator so
discernable from a discriminator so
basically you're trying to learn uh
basically you're trying to learn uh
conditional policies that behave
conditional policies that behave
visually
differently e
are you happy with Neptune over
W it's been good so far for
it would look to me that this doesn't
it would look to me that this doesn't
actually have much of an
effect yeah it's weird that this loss is
effect yeah it's weird that this loss is
so
so
low I mean looking at these right
it doesn't seem like there's much of an
it doesn't seem like there's much of an
effect at
effect at
all okay so that's something to keep in
all okay so that's something to keep in
mind
I'm just going to go grab uh one of
I'm just going to go grab uh one of
these for a tweet real quick
the Pokemon
stuff wake out isn't great test assum
stuff wake out isn't great test assum
you yes I just ran a sweep to see if it
you yes I just ran a sweep to see if it
works at all
works at all
basically it doesn't crash performance
basically it doesn't crash performance
but um it doesn't really seem to have
but um it doesn't really seem to have
much for corelation at all with
perf on with Twitter
hello internet's
working is something broken with with X
working is something broken with with X
right now
like yeah it doesn't load
huh yeah X just doesn't load okay as
huh yeah X just doesn't load okay as
we'll come back to
we'll come back to
that solve Pokemon don't they do a lot
that solve Pokemon don't they do a lot
of hacky stuff like super
of hacky stuff like super
specific reward shaping yes but you have
specific reward shaping yes but you have
to keep in mind something here uh we had
to keep in mind something here uh we had
four gpus for this
four gpus for this
so a lot of the time these reward
so a lot of the time these reward
shaping objectives you end up blading
shaping objectives you end up blading
out a lot of them and you just don't
out a lot of them and you just don't
have compute for that
have compute for that
so it's like ironically the bigger Labs
so it's like ironically the bigger Labs
with the bigger projects often have the
with the bigger projects often have the
simpler Solutions just because they have
simpler Solutions just because they have
compute to run like all the experiments
compute to run like all the experiments
they want uh here it's harder to do that
they want uh here it's harder to do that
so I think that we wouldn't be able to
so I think that we wouldn't be able to
get rid of all of them but I think we'd
get rid of all of them but I think we'd
be able to get rid of some of them
and also you got to keep in mind as well
and also you got to keep in mind as well
this is I mean this is a huge result for
this is I mean this is a huge result for
RL this is a qualitatively new type of
RL this is a qualitatively new type of
success it's a 25h hour game
yeah I mean literally if
um I'm like if it just worked with no
um I'm like if it just worked with no
reward shaping
reward shaping
like if it just works super cleanly with
like if it just works super cleanly with
no reward shaping like and it was a
no reward shaping like and it was a
fully General method I would consider it
fully General method I would consider it
to be the top result in the
to be the top result in the
field it's not so I
field it's not so I
mean it's harder to place now I think if
mean it's harder to place now I think if
we get rid of most of the scripting it
we get rid of most of the scripting it
would be like a top five
would be like a top five
result SPS they get with P boy it trains
result SPS they get with P boy it trains
around 10K and it's bottleneck by the
around 10K and it's bottleneck by the
end I think it's like 6 to 10K training
end I think it's like 6 to 10K training
steps per second depending for
no there isn't
that's the
that's the
problem 10K was with the was with um
problem 10K was with the was with um
puffer optimizations it was much slower
puffer optimizations it was much slower
without
them and you see that this is kind of
them and you see that this is kind of
the default in RL as well like most
the default in RL as well like most
stuff in RL is slower than
that so when you say 10K is
that so when you say 10K is
limiting like probably 80% plus of RL
limiting like probably 80% plus of RL
projects train slower than that maybe
projects train slower than that maybe
it's 90 plus percent I mean I you see
it's 90 plus percent I mean I you see
papers published consistently like very
papers published consistently like very
very often papers will be published and
very often papers will be published and
the training speed will be between like
the training speed will be between like
500 and 2,000 steps per second for dead
500 and 2,000 steps per second for dead
simple problems
see there you
go so it's easy to take for granted the
go so it's easy to take for granted the
stuff puffer does oops easy to take for
stuff puffer does oops easy to take for
granted the stuff puffer does but I mean
granted the stuff puffer does but I mean
like literally the field is a different
like literally the field is a different
field now because of puffer because of
field now because of puffer because of
that speed
difference people just haven't realized
difference people just haven't realized
it
yet Hey sir how are things going today
yet Hey sir how are things going today
things are going
well little bit of a slow start to
well little bit of a slow start to
Monday but that's
Monday but that's
fine clock's changed in
fine clock's changed in
all 20 100K for some robotics M yeah
all 20 100K for some robotics M yeah
that stuff is also all pretty new like
that stuff is also all pretty new like
we were dealing with Isaac Jim code
we were dealing with Isaac Jim code
recently where it was I believe around
recently where it was I believe around
20K with like 10,000 lines of God awful
20K with like 10,000 lines of God awful
cursed rappers and like redundant
cursed rappers and like redundant
useless
useless
stuff
so also it's not this it's not exactly
so also it's not this it's not exactly
comparable either Noah
comparable either Noah
because if you want to get really
because if you want to get really
technical here um it's not so much the
technical here um it's not so much the
steps per second that matters it's the
steps per second that matters it's the
real time amount of experience collected
real time amount of experience collected
uh per second of CPU or GPU time so if
uh per second of CPU or GPU time so if
you have to run like 60 frames per
you have to run like 60 frames per
second uh of a robotic Sim like you're
second uh of a robotic Sim like you're
not really getting more data than a game
not really getting more data than a game
where you only have to run it one time
where you only have to run it one time
per second cuz typically we care about
per second cuz typically we care about
the Horizon on which humans look at
the Horizon on which humans look at
stuff so it's more useful to take uh it
stuff so it's more useful to take uh it
is more useful to look at wall clock
is more useful to look at wall clock
equivalents of samples
equivalents of samples
collected working now and can't even
collected working now and can't even
access our olama models jeez that's
access our olama models jeez that's
company bloat for you that is company
company bloat for you that is company
blo for
you for
what hang
on is everything broken today did
on is everything broken today did
everybody just decide today is uh Tech
everybody just decide today is uh Tech
vacation
all right presumably my tokens expired
all right presumably my tokens expired
it's
weird uh yep
just needs a new
token do you know if poke RL people are
token do you know if poke RL people are
looking for
looking for
contributors I mean we kind of run the
contributors I mean we kind of run the
project from within puffer so yeah like
project from within puffer so yeah like
anybody can contribute stuff it's the
anybody can contribute stuff it's the
same it runs the same way as everything
same it runs the same way as everything
else with puffer right it's like if
else with puffer right it's like if
you if you stick around and do stuff
you if you stick around and do stuff
then that's great
I'd love to merge your um your card game
I'd love to merge your um your card game
stuff at some point though cuz that was
stuff at some point though cuz that was
going really well you had a really nice
going really well you had a really nice
PR
there e
now
now
fixed is X working again it
is
e
e e
I think after exams I'll finish TCG then
I think after exams I'll finish TCG then
look at Pokemon stuff awesome yeah no
look at Pokemon stuff awesome yeah no
the Pokemon stuff is good it's just it's
the Pokemon stuff is good it's just it's
very heavy uh it's very heavy because
very heavy uh it's very heavy because
it's slow right a lot of the other stuff
it's slow right a lot of the other stuff
in puffer is just way easier to work on
in puffer is just way easier to work on
cuz it's
fast we train up to 2.5 million steps
fast we train up to 2.5 million steps
per second
now you see this is already this random
now you see this is already this random
experiment is running over a million
experiment is running over a million
steps per
steps per
second right
exams are no
fun are a lot of pack being used to get
fun are a lot of pack being used to get
the policy to beat Pokemon uh in reward
the policy to beat Pokemon uh in reward
space yes if you read the blog post
space yes if you read the blog post
you'll get a full detail of it um there
you'll get a full detail of it um there
are a couple of them I really wish we
are a couple of them I really wish we
didn't have most of them are pretty
didn't have most of them are pretty
benign but the other thing that I keep
benign but the other thing that I keep
saying right you have to realize that
saying right you have to realize that
when you have if you have 10,000 gpus or
when you have if you have 10,000 gpus or
if your experiments run as fast the as
if your experiments run as fast the as
the experiments that we have in puffer
the experiments that we have in puffer
you can run full hyper parameter sweeps
you can run full hyper parameter sweeps
uh on every ablation that you want and
uh on every ablation that you want and
you can just get rid of most of the
you can just get rid of most of the
hacks right but because Pokemon is slow
hacks right but because Pokemon is slow
we can't do that so ironically if you
we can't do that so ironically if you
have a slower environment you're going
have a slower environment you're going
to have a a uh more complicated solution
to have a a uh more complicated solution
right a lot of the rest of the stuff in
right a lot of the rest of the stuff in
puffer is very very clean even though
puffer is very very clean even though
we're using the same implementation the
we're using the same implementation the
same everything else just because it's
same everything else just because it's
easier for us to tune and iterate with
easier for us to tune and iterate with
what we have here now my hope is that
what we have here now my hope is that
we're going to be able to build better
we're going to be able to build better
algorithms better general purpose tools
algorithms better general purpose tools
and stuff such that we'll be able to
and stuff such that we'll be able to
clean stuff like that up in Pokemon and
clean stuff like that up in Pokemon and
other projects without having to run
other projects without having to run
thousands of experiments um but for now
thousands of experiments um but for now
this is the state of
this is the state of
RL what are all the new M we should have
RL what are all the new M we should have
in the next release uh Tower climb and
in the next release uh Tower climb and
impulse Wars are the two big ones and
impulse Wars are the two big ones and
then there's uh we merg blastar as like
then there's uh we merg blastar as like
the little one
the little one
uh GPU Drive Spencer's working on I
uh GPU Drive Spencer's working on I
don't know if like the timeline on that
don't know if like the timeline on that
I guess it's no longer GPU Drive uh then
I guess it's no longer GPU Drive uh then
there
there
is uh it depends if tosen finishes Robo
is uh it depends if tosen finishes Robo
code or you know if Noah gets uh the TCG
code or you know if Noah gets uh the TCG
into a state where you can actually
into a state where you can actually
train on it and do something right but
train on it and do something right but
the core ones that I see is like the big
the core ones that I see is like the big
ones are going to be the tower climb M
ones are going to be the tower climb M
and of course your big impulse Wars M so
and of course your big impulse Wars M so
bottom neck for RL is the speed at which
bottom neck for RL is the speed at which
the environments run the bottleneck for
the environments run the bottleneck for
RL is that nothing makes sense and
RL is that nothing makes sense and
everything is incredibly janky and
everything is incredibly janky and
nobody knows why because nobody's
nobody knows why because nobody's
bothered to do proper science because
bothered to do proper science because
the M's are too slow so it's a kind of a
the M's are too slow so it's a kind of a
roundabout problem uh we're fixing all
roundabout problem uh we're fixing all
of it though in puffer the plan is quite
of it though in puffer the plan is quite
simple right make everything fast run
simple right make everything fast run
exhaustive experiments on everything
exhaustive experiments on everything
that doesn't make sense in his janky so
that doesn't make sense in his janky so
that we understand why it's janky and
that we understand why it's janky and
how we can fix it then use that to build
how we can fix it then use that to build
methods that don't have those problems
methods that don't have those problems
and then we can run those methods on
and then we can run those methods on
whatever we want and not have to have
whatever we want and not have to have
everything be so
everything be so
fiddly that's kind of my rough plan for
fiddly that's kind of my rough plan for
the
year
e e
are you planning to work on some new
are you planning to work on some new
exploration methods feel something that
exploration methods feel something that
could clearly improve a lot of rlms uh
could clearly improve a lot of rlms uh
I'm trying to see if there's anything
I'm trying to see if there's anything
remotely good in the current ones at the
remotely good in the current ones at the
moment moment my my current impression
moment moment my my current impression
is that a lot of exploration work in RL
is that a lot of exploration work in RL
is just very poorly motivated and like
is just very poorly motivated and like
they kind of lose at the problem
they kind of lose at the problem
definition the way that they Define
definition the way that they Define
stuff doesn't even really make
stuff doesn't even really make
sense um so I'm seeing if we can get
sense um so I'm seeing if we can get
anything out of exploration at all first
anything out of exploration at all first
and then from there maybe we'll see if
and then from there maybe we'll see if
we can do something
we can do something
better but like I'm not going to try to
better but like I'm not going to try to
make a better version of
make a better version of
of uh some one of the existing methods
of uh some one of the existing methods
if the existing methods just don't make
if the existing methods just don't make
any sense like I don't think that
any sense like I don't think that
anything noise based like R&D is a good
anything noise based like R&D is a good
idea I think that all those methods are
idea I think that all those methods are
just bad and then I think all the counts
just bad and then I think all the counts
based methods are also bad so that's
based methods are also bad so that's
like 80% of the research right there
this thing I think has a lot more
this thing I think has a lot more
potential right here the um P30
stuff though I'm realizing since it's
stuff though I'm realizing since it's
really a modification to GAE
I could also go with GGA ggae which
I could also go with GGA ggae which
would be
would be
funny offer GG presents GG
you pass new value
you pass new value
mean reward block and new value variance
mean reward block and new value variance
is this
correct GG well I mean the new algorithm
correct GG well I mean the new algorithm
right it's really
right it's really
a it is really a um modification of
a it is really a um modification of
generalized advantage
estimation for
confused
confused
here Mass block values mean value
here Mass block values mean value
standard deviation
buff yeah okay this is all very very
buff yeah okay this is all very very
confused I think
experience B
returns let me see
you weird
yeah there we are
ah I see the
issue there we go
go down to here
okay so now this is pointing at the
okay so now this is pointing at the
correct thing I believe
and these are some crazy values
right yeah
he here you're just adding in you're
he here you're just adding in you're
just adding up all the rewards
right I don't know about
right I don't know about
this
e e
I'm trying to think like what's a quick
I'm trying to think like what's a quick
normalization I could throw on this
normalization I could throw on this
thing
actually why is it even why does it end
actually why is it even why does it end
up being this
much oh because of the reward standard
much oh because of the reward standard
deviation okay
yeah
e e
okay this is
fine itally Cuda Colonel as
fine itally Cuda Colonel as
all very fiddly Cuda
colonel e
it's still going to be ridiculously
it's still going to be ridiculously
unnormalized is the problem here
gra the break point
okay there we go that's
something and why did this
get that's
bizarre yeah that's
bizarre yeah that's
bizarre for
yeah there's something weird here where
yeah there's something weird here where
the first element's not getting set
why is value standard deviation
why is value standard deviation
one oh this might just be a a bounde
one oh this might just be a a bounde
thing that's fine
I think how we normalized this
oh we have mask block
then actually this is not that hard
then actually this is not that hard
right
subtract the in
I don't know how to get standard
I don't know how to get standard
deviation
though that's going to be a
problem for
I don't know what the hell with this
reshape for
all right so that's fine
see if this thing has a keep dims
and you need to
and you need to
[Music]
[Music]
do +8
maybe this will be enough we'll see
I think Advantage is probably just zero
I think Advantage is probably just zero
here
right yeah this buffer is never more
right yeah this buffer is never more
than zero
very
weird why is this first element
weird why is this first element
always just not getting
always just not getting
updated that's probably what's killing
yet so with zero
now something's very weird there
though yeah it's
capped yeah that's not where the
capped yeah that's not where the
boundary should be right
m
K minus 2 J less than J greater than Zer
K minus 2 J less than J greater than Zer
J minus
J minus
minus e
going to start working on getting their
going to start working on getting their
onet code working in C any tips I should
onet code working in C any tips I should
know before I
know before I
start should probably just try to get
start should probably just try to get
the uh MMO code working and the easiest
the uh MMO code working and the easiest
thing to do is to write a explicit test
thing to do is to write a explicit test
just explicitly test the outputs of um
just explicitly test the outputs of um
the pie torch code exactly match
the pie torch code exactly match
the uh the C code that's what I would
the uh the C code that's what I would
suggest like I have this test that I use
suggest like I have this test that I use
for all the pie torch layers you just do
for all the pie torch layers you just do
that you just build the same network and
that you just build the same network and
make sure they match exactly
okay at least that fixes
this
e e
M okay so this is not
happy e
how does this still not
trigger right
here okay here's your value standard
here okay here's your value standard
deviation right
ah
ah
okay so we have some negatives
well this is
good why is there data at the end
there for
a really weird
cramp don't know what that was
throat just totally cramped
your
reward yeah I don't know how this would
reward yeah I don't know how this would
be
be
getting any data on it
I'm actually thinking it might be worth
I'm actually thinking it might be worth
um making
um making
a a separate test for this
it's just a little tricky to do that
because uh this is running through let
because uh this is running through let
me see yeah this is running with torch
me see yeah this is running with torch
tensor here torch
extension so I might have to fiddle with
that but I think that's what we will
that but I think that's what we will
have to
have to
do I'm fiddle with it a little more
do I'm fiddle with it a little more
first
cuz I'd really like to be able to have a
cuz I'd really like to be able to have a
debugger
here
e e
am I zeroing it I thought I was
am I zeroing it I thought I was
right yeah I am zeroing
it K minus 2
hang on k
equals in regardless
like it looks like it does start the
like it looks like it does start the
second to last
one gamma is going to
be this times this but then it gets
be this times this but then it gets
multiplied by
r no
oh but you
subtracted yeah you subtracted out the
subtracted yeah you subtracted out the
mean and stuff so that's
mean and stuff so that's
why that's fine
why that's fine
then okay
and now you have advantages
right yeah now you have
advantages
e e
Val you lost all over the
place e
let's see what we're trying to hit
here value
here value
mean turn
yeah oh this is tough this is
tough I think I probably still have not
tough I think I probably still have not
thought enough about how to do this
CU these are going to just make crazy
CU these are going to just make crazy
large coefficients
right okay well we'll have to think more
right okay well we'll have to think more
about this um let's see it's
about this um let's see it's
11:19 I think I got to get going I have
11:19 I think I got to get going I have
a doctor's appointment today and then
a doctor's appointment today and then
I'll be back in the afternoon
an error
an error
occurred huh this hasn't been live on X
occurred huh this hasn't been live on X
that's weird all right but I'll be back
that's weird all right but I'll be back
in the afternoon so thanks folks and

Kind: captions
Language: en
okay should be
live make sure this is using the right
live make sure this is using the right
device no
okay now the one thing I got to do
okay now the one thing I got to do
before we get started is I have to
before we get started is I have to
remember to
cancel it's 10 10 I got to remember to
cancel it's 10 10 I got to remember to
cancel a
thing all right
been slacking on the monthly meets but
been slacking on the monthly meets but
uh I've been busy doing other
uh I've been busy doing other
stuff well this is
interesting so this result
is about on par with what we have before
let's add so this is the result
no wrong
no wrong
way it should
be score
ah most of these have very low
ah most of these have very low
coefficient
here what other params did I add
morning working on improved po uh I will
morning working on improved po uh I will
be for a lot of
be for a lot of
today I'm just checking
on this is a exploration method that we
on this is a exploration method that we
implemented on
Saturday I'm seeing if it did anything
archive got to get the graph for it
archive got to get the graph for it
though
what's the exploration method it's a old
what's the exploration method it's a old
paper from Serge's group diversity is
paper from Serge's group diversity is
all you need the idea is to train
all you need the idea is to train
policies that are conditioned on a
policies that are conditioned on a
little extra observation that's varied
little extra observation that's varied
per
per
episode
episode
um and then that
um and then that
observation uh is it's supposed to be
observation uh is it's supposed to be
discernable from a discriminator so
discernable from a discriminator so
basically you're trying to learn uh
basically you're trying to learn uh
conditional policies that behave
conditional policies that behave
visually
differently e
are you happy with Neptune over
W it's been good so far for
it would look to me that this doesn't
it would look to me that this doesn't
actually have much of an
effect yeah it's weird that this loss is
effect yeah it's weird that this loss is
so
so
low I mean looking at these right
it doesn't seem like there's much of an
it doesn't seem like there's much of an
effect at
effect at
all okay so that's something to keep in
all okay so that's something to keep in
mind
I'm just going to go grab uh one of
I'm just going to go grab uh one of
these for a tweet real quick
the Pokemon
stuff wake out isn't great test assum
stuff wake out isn't great test assum
you yes I just ran a sweep to see if it
you yes I just ran a sweep to see if it
works at all
works at all
basically it doesn't crash performance
basically it doesn't crash performance
but um it doesn't really seem to have
but um it doesn't really seem to have
much for corelation at all with
perf on with Twitter
hello internet's
working is something broken with with X
working is something broken with with X
right now
like yeah it doesn't load
huh yeah X just doesn't load okay as
huh yeah X just doesn't load okay as
we'll come back to
we'll come back to
that solve Pokemon don't they do a lot
that solve Pokemon don't they do a lot
of hacky stuff like super
of hacky stuff like super
specific reward shaping yes but you have
specific reward shaping yes but you have
to keep in mind something here uh we had
to keep in mind something here uh we had
four gpus for this
four gpus for this
so a lot of the time these reward
so a lot of the time these reward
shaping objectives you end up blading
shaping objectives you end up blading
out a lot of them and you just don't
out a lot of them and you just don't
have compute for that
have compute for that
so it's like ironically the bigger Labs
so it's like ironically the bigger Labs
with the bigger projects often have the
with the bigger projects often have the
simpler Solutions just because they have
simpler Solutions just because they have
compute to run like all the experiments
compute to run like all the experiments
they want uh here it's harder to do that
they want uh here it's harder to do that
so I think that we wouldn't be able to
so I think that we wouldn't be able to
get rid of all of them but I think we'd
get rid of all of them but I think we'd
be able to get rid of some of them
and also you got to keep in mind as well
and also you got to keep in mind as well
this is I mean this is a huge result for
this is I mean this is a huge result for
RL this is a qualitatively new type of
RL this is a qualitatively new type of
success it's a 25h hour game
yeah I mean literally if
um I'm like if it just worked with no
um I'm like if it just worked with no
reward shaping
reward shaping
like if it just works super cleanly with
like if it just works super cleanly with
no reward shaping like and it was a
no reward shaping like and it was a
fully General method I would consider it
fully General method I would consider it
to be the top result in the
to be the top result in the
field it's not so I
field it's not so I
mean it's harder to place now I think if
mean it's harder to place now I think if
we get rid of most of the scripting it
we get rid of most of the scripting it
would be like a top five
would be like a top five
result SPS they get with P boy it trains
result SPS they get with P boy it trains
around 10K and it's bottleneck by the
around 10K and it's bottleneck by the
end I think it's like 6 to 10K training
end I think it's like 6 to 10K training
steps per second depending for
no there isn't
that's the
that's the
problem 10K was with the was with um
problem 10K was with the was with um
puffer optimizations it was much slower
puffer optimizations it was much slower
without
them and you see that this is kind of
them and you see that this is kind of
the default in RL as well like most
the default in RL as well like most
stuff in RL is slower than
that so when you say 10K is
that so when you say 10K is
limiting like probably 80% plus of RL
limiting like probably 80% plus of RL
projects train slower than that maybe
projects train slower than that maybe
it's 90 plus percent I mean I you see
it's 90 plus percent I mean I you see
papers published consistently like very
papers published consistently like very
very often papers will be published and
very often papers will be published and
the training speed will be between like
the training speed will be between like
500 and 2,000 steps per second for dead
500 and 2,000 steps per second for dead
simple problems
see there you
go so it's easy to take for granted the
go so it's easy to take for granted the
stuff puffer does oops easy to take for
stuff puffer does oops easy to take for
granted the stuff puffer does but I mean
granted the stuff puffer does but I mean
like literally the field is a different
like literally the field is a different
field now because of puffer because of
field now because of puffer because of
that speed
difference people just haven't realized
difference people just haven't realized
it
yet Hey sir how are things going today
yet Hey sir how are things going today
things are going
well little bit of a slow start to
well little bit of a slow start to
Monday but that's
Monday but that's
fine clock's changed in
fine clock's changed in
all 20 100K for some robotics M yeah
all 20 100K for some robotics M yeah
that stuff is also all pretty new like
that stuff is also all pretty new like
we were dealing with Isaac Jim code
we were dealing with Isaac Jim code
recently where it was I believe around
recently where it was I believe around
20K with like 10,000 lines of God awful
20K with like 10,000 lines of God awful
cursed rappers and like redundant
cursed rappers and like redundant
useless
useless
stuff
so also it's not this it's not exactly
so also it's not this it's not exactly
comparable either Noah
comparable either Noah
because if you want to get really
because if you want to get really
technical here um it's not so much the
technical here um it's not so much the
steps per second that matters it's the
steps per second that matters it's the
real time amount of experience collected
real time amount of experience collected
uh per second of CPU or GPU time so if
uh per second of CPU or GPU time so if
you have to run like 60 frames per
you have to run like 60 frames per
second uh of a robotic Sim like you're
second uh of a robotic Sim like you're
not really getting more data than a game
not really getting more data than a game
where you only have to run it one time
where you only have to run it one time
per second cuz typically we care about
per second cuz typically we care about
the Horizon on which humans look at
the Horizon on which humans look at
stuff so it's more useful to take uh it
stuff so it's more useful to take uh it
is more useful to look at wall clock
is more useful to look at wall clock
equivalents of samples
equivalents of samples
collected working now and can't even
collected working now and can't even
access our olama models jeez that's
access our olama models jeez that's
company bloat for you that is company
company bloat for you that is company
blo for
you for
what hang
on is everything broken today did
on is everything broken today did
everybody just decide today is uh Tech
everybody just decide today is uh Tech
vacation
all right presumably my tokens expired
all right presumably my tokens expired
it's
weird uh yep
just needs a new
token do you know if poke RL people are
token do you know if poke RL people are
looking for
looking for
contributors I mean we kind of run the
contributors I mean we kind of run the
project from within puffer so yeah like
project from within puffer so yeah like
anybody can contribute stuff it's the
anybody can contribute stuff it's the
same it runs the same way as everything
same it runs the same way as everything
else with puffer right it's like if
else with puffer right it's like if
you if you stick around and do stuff
you if you stick around and do stuff
then that's great
I'd love to merge your um your card game
I'd love to merge your um your card game
stuff at some point though cuz that was
stuff at some point though cuz that was
going really well you had a really nice
going really well you had a really nice
PR
there e
now
now
fixed is X working again it
is
e
e e
I think after exams I'll finish TCG then
I think after exams I'll finish TCG then
look at Pokemon stuff awesome yeah no
look at Pokemon stuff awesome yeah no
the Pokemon stuff is good it's just it's
the Pokemon stuff is good it's just it's
very heavy uh it's very heavy because
very heavy uh it's very heavy because
it's slow right a lot of the other stuff
it's slow right a lot of the other stuff
in puffer is just way easier to work on
in puffer is just way easier to work on
cuz it's
fast we train up to 2.5 million steps
fast we train up to 2.5 million steps
per second
now you see this is already this random
now you see this is already this random
experiment is running over a million
experiment is running over a million
steps per
steps per
second right
exams are no
fun are a lot of pack being used to get
fun are a lot of pack being used to get
the policy to beat Pokemon uh in reward
the policy to beat Pokemon uh in reward
space yes if you read the blog post
space yes if you read the blog post
you'll get a full detail of it um there
you'll get a full detail of it um there
are a couple of them I really wish we
are a couple of them I really wish we
didn't have most of them are pretty
didn't have most of them are pretty
benign but the other thing that I keep
benign but the other thing that I keep
saying right you have to realize that
saying right you have to realize that
when you have if you have 10,000 gpus or
when you have if you have 10,000 gpus or
if your experiments run as fast the as
if your experiments run as fast the as
the experiments that we have in puffer
the experiments that we have in puffer
you can run full hyper parameter sweeps
you can run full hyper parameter sweeps
uh on every ablation that you want and
uh on every ablation that you want and
you can just get rid of most of the
you can just get rid of most of the
hacks right but because Pokemon is slow
hacks right but because Pokemon is slow
we can't do that so ironically if you
we can't do that so ironically if you
have a slower environment you're going
have a slower environment you're going
to have a a uh more complicated solution
to have a a uh more complicated solution
right a lot of the rest of the stuff in
right a lot of the rest of the stuff in
puffer is very very clean even though
puffer is very very clean even though
we're using the same implementation the
we're using the same implementation the
same everything else just because it's
same everything else just because it's
easier for us to tune and iterate with
easier for us to tune and iterate with
what we have here now my hope is that
what we have here now my hope is that
we're going to be able to build better
we're going to be able to build better
algorithms better general purpose tools
algorithms better general purpose tools
and stuff such that we'll be able to
and stuff such that we'll be able to
clean stuff like that up in Pokemon and
clean stuff like that up in Pokemon and
other projects without having to run
other projects without having to run
thousands of experiments um but for now
thousands of experiments um but for now
this is the state of
this is the state of
RL what are all the new M we should have
RL what are all the new M we should have
in the next release uh Tower climb and
in the next release uh Tower climb and
impulse Wars are the two big ones and
impulse Wars are the two big ones and
then there's uh we merg blastar as like
then there's uh we merg blastar as like
the little one
the little one
uh GPU Drive Spencer's working on I
uh GPU Drive Spencer's working on I
don't know if like the timeline on that
don't know if like the timeline on that
I guess it's no longer GPU Drive uh then
I guess it's no longer GPU Drive uh then
there
there
is uh it depends if tosen finishes Robo
is uh it depends if tosen finishes Robo
code or you know if Noah gets uh the TCG
code or you know if Noah gets uh the TCG
into a state where you can actually
into a state where you can actually
train on it and do something right but
train on it and do something right but
the core ones that I see is like the big
the core ones that I see is like the big
ones are going to be the tower climb M
ones are going to be the tower climb M
and of course your big impulse Wars M so
and of course your big impulse Wars M so
bottom neck for RL is the speed at which
bottom neck for RL is the speed at which
the environments run the bottleneck for
the environments run the bottleneck for
RL is that nothing makes sense and
RL is that nothing makes sense and
everything is incredibly janky and
everything is incredibly janky and
nobody knows why because nobody's
nobody knows why because nobody's
bothered to do proper science because
bothered to do proper science because
the M's are too slow so it's a kind of a
the M's are too slow so it's a kind of a
roundabout problem uh we're fixing all
roundabout problem uh we're fixing all
of it though in puffer the plan is quite
of it though in puffer the plan is quite
simple right make everything fast run
simple right make everything fast run
exhaustive experiments on everything
exhaustive experiments on everything
that doesn't make sense in his janky so
that doesn't make sense in his janky so
that we understand why it's janky and
that we understand why it's janky and
how we can fix it then use that to build
how we can fix it then use that to build
methods that don't have those problems
methods that don't have those problems
and then we can run those methods on
and then we can run those methods on
whatever we want and not have to have
whatever we want and not have to have
everything be so
everything be so
fiddly that's kind of my rough plan for
fiddly that's kind of my rough plan for
the
year
e e
are you planning to work on some new
are you planning to work on some new
exploration methods feel something that
exploration methods feel something that
could clearly improve a lot of rlms uh
could clearly improve a lot of rlms uh
I'm trying to see if there's anything
I'm trying to see if there's anything
remotely good in the current ones at the
remotely good in the current ones at the
moment moment my my current impression
moment moment my my current impression
is that a lot of exploration work in RL
is that a lot of exploration work in RL
is just very poorly motivated and like
is just very poorly motivated and like
they kind of lose at the problem
they kind of lose at the problem
definition the way that they Define
definition the way that they Define
stuff doesn't even really make
stuff doesn't even really make
sense um so I'm seeing if we can get
sense um so I'm seeing if we can get
anything out of exploration at all first
anything out of exploration at all first
and then from there maybe we'll see if
and then from there maybe we'll see if
we can do something
we can do something
better but like I'm not going to try to
better but like I'm not going to try to
make a better version of
make a better version of
of uh some one of the existing methods
of uh some one of the existing methods
if the existing methods just don't make
if the existing methods just don't make
any sense like I don't think that
any sense like I don't think that
anything noise based like R&D is a good
anything noise based like R&D is a good
idea I think that all those methods are
idea I think that all those methods are
just bad and then I think all the counts
just bad and then I think all the counts
based methods are also bad so that's
based methods are also bad so that's
like 80% of the research right there
this thing I think has a lot more
this thing I think has a lot more
potential right here the um P30
stuff though I'm realizing since it's
stuff though I'm realizing since it's
really a modification to GAE
I could also go with GGA ggae which
I could also go with GGA ggae which
would be
would be
funny offer GG presents GG
you pass new value
you pass new value
mean reward block and new value variance
mean reward block and new value variance
is this
correct GG well I mean the new algorithm
correct GG well I mean the new algorithm
right it's really
right it's really
a it is really a um modification of
a it is really a um modification of
generalized advantage
estimation for
confused
confused
here Mass block values mean value
here Mass block values mean value
standard deviation
buff yeah okay this is all very very
buff yeah okay this is all very very
confused I think
experience B
returns let me see
you weird
yeah there we are
ah I see the
issue there we go
go down to here
okay so now this is pointing at the
okay so now this is pointing at the
correct thing I believe
and these are some crazy values
right yeah
he here you're just adding in you're
he here you're just adding in you're
just adding up all the rewards
right I don't know about
right I don't know about
this
e e
I'm trying to think like what's a quick
I'm trying to think like what's a quick
normalization I could throw on this
normalization I could throw on this
thing
actually why is it even why does it end
actually why is it even why does it end
up being this
much oh because of the reward standard
much oh because of the reward standard
deviation okay
yeah
e e
okay this is
fine itally Cuda Colonel as
fine itally Cuda Colonel as
all very fiddly Cuda
colonel e
it's still going to be ridiculously
it's still going to be ridiculously
unnormalized is the problem here
gra the break point
okay there we go that's
something and why did this
get that's
bizarre yeah that's
bizarre yeah that's
bizarre for
yeah there's something weird here where
yeah there's something weird here where
the first element's not getting set
why is value standard deviation
why is value standard deviation
one oh this might just be a a bounde
one oh this might just be a a bounde
thing that's fine
I think how we normalized this
oh we have mask block
then actually this is not that hard
then actually this is not that hard
right
subtract the in
I don't know how to get standard
I don't know how to get standard
deviation
though that's going to be a
problem for
I don't know what the hell with this
reshape for
all right so that's fine
see if this thing has a keep dims
and you need to
and you need to
[Music]
[Music]
do +8
maybe this will be enough we'll see
I think Advantage is probably just zero
I think Advantage is probably just zero
here
right yeah this buffer is never more
right yeah this buffer is never more
than zero
very
weird why is this first element
weird why is this first element
always just not getting
always just not getting
updated that's probably what's killing
yet so with zero
now something's very weird there
though yeah it's
capped yeah that's not where the
capped yeah that's not where the
boundary should be right
m
K minus 2 J less than J greater than Zer
K minus 2 J less than J greater than Zer
J minus
J minus
minus e
going to start working on getting their
going to start working on getting their
onet code working in C any tips I should
onet code working in C any tips I should
know before I
know before I
start should probably just try to get
start should probably just try to get
the uh MMO code working and the easiest
the uh MMO code working and the easiest
thing to do is to write a explicit test
thing to do is to write a explicit test
just explicitly test the outputs of um
just explicitly test the outputs of um
the pie torch code exactly match
the pie torch code exactly match
the uh the C code that's what I would
the uh the C code that's what I would
suggest like I have this test that I use
suggest like I have this test that I use
for all the pie torch layers you just do
for all the pie torch layers you just do
that you just build the same network and
that you just build the same network and
make sure they match exactly
okay at least that fixes
this
e e
M okay so this is not
happy e
how does this still not
trigger right
here okay here's your value standard
here okay here's your value standard
deviation right
ah
ah
okay so we have some negatives
well this is
good why is there data at the end
there for
a really weird
cramp don't know what that was
throat just totally cramped
your
reward yeah I don't know how this would
reward yeah I don't know how this would
be
be
getting any data on it
I'm actually thinking it might be worth
I'm actually thinking it might be worth
um making
um making
a a separate test for this
it's just a little tricky to do that
because uh this is running through let
because uh this is running through let
me see yeah this is running with torch
me see yeah this is running with torch
tensor here torch
extension so I might have to fiddle with
that but I think that's what we will
that but I think that's what we will
have to
have to
do I'm fiddle with it a little more
do I'm fiddle with it a little more
first
cuz I'd really like to be able to have a
cuz I'd really like to be able to have a
debugger
here
e e
am I zeroing it I thought I was
am I zeroing it I thought I was
right yeah I am zeroing
it K minus 2
hang on k
equals in regardless
like it looks like it does start the
like it looks like it does start the
second to last
one gamma is going to
be this times this but then it gets
be this times this but then it gets
multiplied by
r no
oh but you
subtracted yeah you subtracted out the
subtracted yeah you subtracted out the
mean and stuff so that's
mean and stuff so that's
why that's fine
why that's fine
then okay
and now you have advantages
right yeah now you have
advantages
e e
Val you lost all over the
place e
let's see what we're trying to hit
here value
here value
mean turn
yeah oh this is tough this is
tough I think I probably still have not
tough I think I probably still have not
thought enough about how to do this
CU these are going to just make crazy
CU these are going to just make crazy
large coefficients
right okay well we'll have to think more
right okay well we'll have to think more
about this um let's see it's
about this um let's see it's
11:19 I think I got to get going I have
11:19 I think I got to get going I have
a doctor's appointment today and then
a doctor's appointment today and then
I'll be back in the afternoon
an error
an error
occurred huh this hasn't been live on X
occurred huh this hasn't been live on X
that's weird all right but I'll be back
that's weird all right but I'll be back
in the afternoon so thanks folks and
